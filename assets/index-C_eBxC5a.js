var _M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var p8=_M((T8,Au)=>{function EM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SS={exports:{}},uh={},CS={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),TM=Symbol.for("react.portal"),xM=Symbol.for("react.fragment"),SM=Symbol.for("react.strict_mode"),CM=Symbol.for("react.profiler"),IM=Symbol.for("react.provider"),AM=Symbol.for("react.context"),RM=Symbol.for("react.forward_ref"),PM=Symbol.for("react.suspense"),bM=Symbol.for("react.memo"),kM=Symbol.for("react.lazy"),W_=Symbol.iterator;function MM(t){return t===null||typeof t!="object"?null:(t=W_&&t[W_]||t["@@iterator"],typeof t=="function"?t:null)}var IS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AS=Object.assign,RS={};function jo(t,e,n){this.props=t,this.context=e,this.refs=RS,this.updater=n||IS}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PS(){}PS.prototype=jo.prototype;function Xg(t,e,n){this.props=t,this.context=e,this.refs=RS,this.updater=n||IS}var Jg=Xg.prototype=new PS;Jg.constructor=Xg;AS(Jg,jo.prototype);Jg.isPureReactComponent=!0;var H_=Array.isArray,bS=Object.prototype.hasOwnProperty,Zg={current:null},kS={key:!0,ref:!0,__self:!0,__source:!0};function MS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bS.call(e,r)&&!kS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ql,type:t,key:s,ref:o,props:i,_owner:Zg.current}}function DM(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ey(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function NM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G_=/\/+/g;function kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NM(""+t.key):e.toString(36)}function Rc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case TM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kf(o,0):r,H_(i)?(n="",t!=null&&(n=t.replace(G_,"$&/")+"/"),Rc(i,e,n,"",function(u){return u})):i!=null&&(ey(i)&&(i=DM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(G_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",H_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kf(s,a);o+=Rc(s,e,n,l,i)}else if(l=MM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kf(s,a++),o+=Rc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gu(t,e,n){if(t==null)return t;var r=[],i=0;return Rc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},Pc={transition:null},OM={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Pc,ReactCurrentOwner:Zg};function DS(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Gu,forEach:function(t,e,n){Gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gu(t,function(){e++}),e},toArray:function(t){return Gu(t,function(e){return e})||[]},only:function(t){if(!ey(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=jo;we.Fragment=xM;we.Profiler=CM;we.PureComponent=Xg;we.StrictMode=SM;we.Suspense=PM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OM;we.act=DS;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bS.call(e,l)&&!kS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ql,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:AM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IM,_context:t},t.Consumer=t};we.createElement=MS;we.createFactory=function(t){var e=MS.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:RM,render:t}};we.isValidElement=ey;we.lazy=function(t){return{$$typeof:kM,_payload:{_status:-1,_result:t},_init:VM}};we.memo=function(t,e){return{$$typeof:bM,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Pc.transition;Pc.transition={};try{t()}finally{Pc.transition=e}};we.unstable_act=DS;we.useCallback=function(t,e){return Wt.current.useCallback(t,e)};we.useContext=function(t){return Wt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Wt.current.useEffect(t,e)};we.useId=function(){return Wt.current.useId()};we.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Wt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};we.useRef=function(t){return Wt.current.useRef(t)};we.useState=function(t){return Wt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Wt.current.useTransition()};we.version="18.3.1";CS.exports=we;var v=CS.exports;const dr=Yg(v),NS=EM({__proto__:null,default:dr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LM=v,FM=Symbol.for("react.element"),jM=Symbol.for("react.fragment"),UM=Object.prototype.hasOwnProperty,BM=LM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zM={key:!0,ref:!0,__self:!0,__source:!0};function VS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UM.call(e,r)&&!zM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FM,type:t,key:s,ref:o,props:i,_owner:BM.current}}uh.Fragment=jM;uh.jsx=VS;uh.jsxs=VS;SS.exports=uh;var C=SS.exports,OS={exports:{}},gn={},LS={exports:{}},FS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var V=F.length;F.push(B);e:for(;0<V;){var N=V-1>>>1,W=F[N];if(0<i(W,B))F[N]=B,F[V]=W,V=N;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],V=F.pop();if(V!==B){F[0]=V;e:for(var N=0,W=F.length,G=W>>>1;N<G;){var Y=2*(N+1)-1,ne=F[Y],re=Y+1,K=F[re];if(0>i(ne,V))re<W&&0>i(K,ne)?(F[N]=K,F[re]=V,N=re):(F[N]=ne,F[Y]=V,N=Y);else if(re<W&&0>i(K,V))F[N]=K,F[re]=V,N=re;else break e}}return B}function i(F,B){var V=F.sortIndex-B.sortIndex;return V!==0?V:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,w=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=F)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function P(F){if(_=!1,T(F),!w)if(n(l)!==null)w=!0,ae(M);else{var B=n(u);B!==null&&te(P,B.startTime-F)}}function M(F,B){w=!1,_&&(_=!1,g(x),x=-1),m=!0;var V=f;try{for(T(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!D());){var N=h.callback;if(typeof N=="function"){h.callback=null,f=h.priorityLevel;var W=N(h.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?h.callback=W:h===n(l)&&r(l),T(B)}else r(l);h=n(l)}if(h!==null)var G=!0;else{var Y=n(u);Y!==null&&te(P,Y.startTime-B),G=!1}return G}finally{h=null,f=V,m=!1}}var L=!1,I=null,x=-1,A=5,b=-1;function D(){return!(t.unstable_now()-b<A)}function O(){if(I!==null){var F=t.unstable_now();b=F;var B=!0;try{B=I(!0,F)}finally{B?k():(L=!1,I=null)}}else L=!1}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=O,k=function(){me.postMessage(null)}}else k=function(){S(O,0)};function ae(F){I=F,L||(L=!0,k())}function te(F,B){x=S(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ae(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var V=f;f=B;try{return F()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=f;f=F;try{return B()}finally{f=V}},t.unstable_scheduleCallback=function(F,B,V){var N=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?N+V:N):V=N,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,F={id:d++,callback:B,priorityLevel:F,startTime:V,expirationTime:W,sortIndex:-1},V>N?(F.sortIndex=V,e(u,F),n(l)===null&&F===n(u)&&(_?(g(x),x=-1):_=!0,te(P,V-N))):(F.sortIndex=W,e(l,F),w||m||(w=!0,ae(M))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var B=f;return function(){var V=f;f=B;try{return F.apply(this,arguments)}finally{f=V}}}})(FS);LS.exports=FS;var $M=LS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM=v,mn=$M;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jS=new Set,ul={};function ws(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(ul[t]=e,t=0;t<e.length;t++)jS.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,HM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K_={},q_={};function GM(t){return Wp.call(q_,t)?!0:Wp.call(K_,t)?!1:HM.test(t)?q_[t]=!0:(K_[t]=!0,!1)}function KM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qM(t,e,n,r){if(e===null||typeof e>"u"||KM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var ty=/[\-:]([a-z])/g;function ny(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ty,ny);Tt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ty,ny);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ty,ny);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function ry(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qM(e,n,i,r)&&(n=null),r||i===null?GM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jr=WM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),BS=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Kp=Symbol.for("react.suspense_list"),oy=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),zS=Symbol.for("react.offscreen"),Q_=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=Q_&&t[Q_]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Mf;function Na(t){if(Mf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mf=e&&e[1]||""}return`
`+Mf+t}var Df=!1;function Nf(t,e){if(!t||Df)return"";Df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Df=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function QM(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Nf(t.type,!1),t;case 11:return t=Nf(t.type.render,!1),t;case 1:return t=Nf(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Us:return"Portal";case Hp:return"Profiler";case iy:return"StrictMode";case Gp:return"Suspense";case Kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BS:return(t.displayName||"Context")+".Consumer";case US:return(t._context.displayName||"Context")+".Provider";case sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oy:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function YM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $S(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XM(t){var e=$S(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qu(t){t._valueTracker||(t._valueTracker=XM(t))}function WS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$S(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qp(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HS(t,e){e=e.checked,e!=null&&ry(t,"checked",e,!1)}function Yp(t,e){HS(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xp(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function X_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xp(t,e,n){(e!=="number"||ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Va(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function GS(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Z_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,qS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JM=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(t){JM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$a[e]=$a[t]})});function QS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$a.hasOwnProperty(t)&&$a[t]?(""+e).trim():e+"px"}function YS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZM=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function em(t,e){if(e){if(ZM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=null;function ay(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rm=null,oo=null,ao=null;function e0(t){if(t=Xl(t)){if(typeof rm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=ph(e),rm(t.stateNode,t.type,e))}}function XS(t){oo?ao?ao.push(t):ao=[t]:oo=t}function JS(){if(oo){var t=oo,e=ao;if(ao=oo=null,e0(t),e)for(t=0;t<e.length;t++)e0(e[t])}}function ZS(t,e){return t(e)}function eC(){}var Vf=!1;function tC(t,e,n){if(Vf)return t(e,n);Vf=!0;try{return ZS(t,e,n)}finally{Vf=!1,(oo!==null||ao!==null)&&(eC(),JS())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=ph(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var im=!1;if(Sr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){im=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{im=!1}function eD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Wa=!1,ld=null,ud=!1,sm=null,tD={onError:function(t){Wa=!0,ld=t}};function nD(t,e,n,r,i,s,o,a,l){Wa=!1,ld=null,eD.apply(tD,arguments)}function rD(t,e,n,r,i,s,o,a,l){if(nD.apply(this,arguments),Wa){if(Wa){var u=ld;Wa=!1,ld=null}else throw Error(H(198));ud||(ud=!0,sm=u)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t0(t){if(_s(t)!==t)throw Error(H(188))}function iD(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t0(i),t;if(s===r)return t0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function rC(t){return t=iD(t),t!==null?iC(t):null}function iC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iC(t);if(e!==null)return e;t=t.sibling}return null}var sC=mn.unstable_scheduleCallback,n0=mn.unstable_cancelCallback,sD=mn.unstable_shouldYield,oD=mn.unstable_requestPaint,Xe=mn.unstable_now,aD=mn.unstable_getCurrentPriorityLevel,ly=mn.unstable_ImmediatePriority,oC=mn.unstable_UserBlockingPriority,cd=mn.unstable_NormalPriority,lD=mn.unstable_LowPriority,aC=mn.unstable_IdlePriority,ch=null,Yn=null;function uD(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(ch,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:hD,cD=Math.log,dD=Math.LN2;function hD(t){return t>>>=0,t===0?32:31-(cD(t)/dD|0)|0}var Yu=64,Xu=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Oa(a):(s&=o,s!==0&&(r=Oa(s)))}else o=n&~i,o!==0?r=Oa(o):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function fD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lC(){var t=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function mD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function uC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cC,cy,dC,hC,fC,am=!1,Ju=[],li=null,ui=null,ci=null,hl=new Map,fl=new Map,ei=[],gD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r0(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function Ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&cy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yD(t,e,n,r,i){switch(e){case"focusin":return li=Ta(li,t,e,n,r,i),!0;case"dragenter":return ui=Ta(ui,t,e,n,r,i),!0;case"mouseover":return ci=Ta(ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hl.set(s,Ta(hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fl.set(s,Ta(fl.get(s)||null,t,e,n,r,i)),!0}return!1}function pC(t){var e=qi(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=nC(n),e!==null){t.blockedOn=e,fC(t.priority,function(){dC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nm=r,n.target.dispatchEvent(r),nm=null}else return e=Xl(n),e!==null&&cy(e),t.blockedOn=n,!1;e.shift()}return!0}function i0(t,e,n){bc(t)&&n.delete(e)}function vD(){am=!1,li!==null&&bc(li)&&(li=null),ui!==null&&bc(ui)&&(ui=null),ci!==null&&bc(ci)&&(ci=null),hl.forEach(i0),fl.forEach(i0)}function xa(t,e){t.blockedOn===e&&(t.blockedOn=null,am||(am=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,vD)))}function pl(t){function e(i){return xa(i,t)}if(0<Ju.length){xa(Ju[0],t);for(var n=1;n<Ju.length;n++){var r=Ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(li!==null&&xa(li,t),ui!==null&&xa(ui,t),ci!==null&&xa(ci,t),hl.forEach(e),fl.forEach(e),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)pC(n),n.blockedOn===null&&ei.shift()}var lo=jr.ReactCurrentBatchConfig,hd=!0;function wD(t,e,n,r){var i=Pe,s=lo.transition;lo.transition=null;try{Pe=1,dy(t,e,n,r)}finally{Pe=i,lo.transition=s}}function _D(t,e,n,r){var i=Pe,s=lo.transition;lo.transition=null;try{Pe=4,dy(t,e,n,r)}finally{Pe=i,lo.transition=s}}function dy(t,e,n,r){if(hd){var i=lm(t,e,n,r);if(i===null)Gf(t,e,r,fd,n),r0(t,r);else if(yD(i,t,e,n,r))r.stopPropagation();else if(r0(t,r),e&4&&-1<gD.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&cC(s),s=lm(t,e,n,r),s===null&&Gf(t,e,r,fd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gf(t,e,r,null,n)}}var fd=null;function lm(t,e,n,r){if(fd=null,t=ay(r),t=qi(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fd=t,null}function mC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aD()){case ly:return 1;case oC:return 4;case cd:case lD:return 16;case aC:return 536870912;default:return 16}default:return 16}}var si=null,hy=null,kc=null;function gC(){if(kc)return kc;var t,e=hy,n=e.length,r,i="value"in si?si.value:si.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return kc=i.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zu(){return!0}function s0(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zu:s0,this.isPropagationStopped=s0,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fy=yn(Uo),Yl=We({},Uo,{view:0,detail:0}),ED=yn(Yl),Lf,Ff,Sa,dh=We({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(Lf=t.screenX-Sa.screenX,Ff=t.screenY-Sa.screenY):Ff=Lf=0,Sa=t),Lf)},movementY:function(t){return"movementY"in t?t.movementY:Ff}}),o0=yn(dh),TD=We({},dh,{dataTransfer:0}),xD=yn(TD),SD=We({},Yl,{relatedTarget:0}),jf=yn(SD),CD=We({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),ID=yn(CD),AD=We({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RD=yn(AD),PD=We({},Uo,{data:0}),a0=yn(PD),bD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MD[t])?!!e[t]:!1}function py(){return DD}var ND=We({},Yl,{key:function(t){if(t.key){var e=bD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:py,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VD=yn(ND),OD=We({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=yn(OD),LD=We({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:py}),FD=yn(LD),jD=We({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),UD=yn(jD),BD=We({},dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zD=yn(BD),$D=[9,13,27,32],my=Sr&&"CompositionEvent"in window,Ha=null;Sr&&"documentMode"in document&&(Ha=document.documentMode);var WD=Sr&&"TextEvent"in window&&!Ha,yC=Sr&&(!my||Ha&&8<Ha&&11>=Ha),u0=" ",c0=!1;function vC(t,e){switch(t){case"keyup":return $D.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function HD(t,e){switch(t){case"compositionend":return wC(e);case"keypress":return e.which!==32?null:(c0=!0,u0);case"textInput":return t=e.data,t===u0&&c0?null:t;default:return null}}function GD(t,e){if(zs)return t==="compositionend"||!my&&vC(t,e)?(t=gC(),kc=hy=si=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yC&&e.locale!=="ko"?null:e.data;default:return null}}var KD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KD[t.type]:e==="textarea"}function _C(t,e,n,r){XS(r),e=pd(e,"onChange"),0<e.length&&(n=new fy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,ml=null;function qD(t){kC(t,0)}function hh(t){var e=Hs(t);if(WS(e))return t}function QD(t,e){if(t==="change")return e}var EC=!1;if(Sr){var Uf;if(Sr){var Bf="oninput"in document;if(!Bf){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),Bf=typeof h0.oninput=="function"}Uf=Bf}else Uf=!1;EC=Uf&&(!document.documentMode||9<document.documentMode)}function f0(){Ga&&(Ga.detachEvent("onpropertychange",TC),ml=Ga=null)}function TC(t){if(t.propertyName==="value"&&hh(ml)){var e=[];_C(e,ml,t,ay(t)),tC(qD,e)}}function YD(t,e,n){t==="focusin"?(f0(),Ga=e,ml=n,Ga.attachEvent("onpropertychange",TC)):t==="focusout"&&f0()}function XD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hh(ml)}function JD(t,e){if(t==="click")return hh(e)}function ZD(t,e){if(t==="input"||t==="change")return hh(e)}function eN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:eN;function gl(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wp.call(e,i)||!jn(t[i],e[i]))return!1}return!0}function p0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m0(t,e){var n=p0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p0(n)}}function xC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var t=window,e=ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ad(t.document)}return e}function gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tN(t){var e=SC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xC(n.ownerDocument.documentElement,n)){if(r!==null&&gy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m0(n,s);var o=m0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nN=Sr&&"documentMode"in document&&11>=document.documentMode,$s=null,um=null,Ka=null,cm=!1;function g0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cm||$s==null||$s!==ad(r)||(r=$s,"selectionStart"in r&&gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&gl(Ka,r)||(Ka=r,r=pd(um,"onSelect"),0<r.length&&(e=new fy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$s)))}function ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},zf={},CC={};Sr&&(CC=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function fh(t){if(zf[t])return zf[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CC)return zf[t]=e[n];return t}var IC=fh("animationend"),AC=fh("animationiteration"),RC=fh("animationstart"),PC=fh("transitionend"),bC=new Map,y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){bC.set(t,e),ws(e,[t])}for(var $f=0;$f<y0.length;$f++){var Wf=y0[$f],rN=Wf.toLowerCase(),iN=Wf[0].toUpperCase()+Wf.slice(1);bi(rN,"on"+iN)}bi(IC,"onAnimationEnd");bi(AC,"onAnimationIteration");bi(RC,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(PC,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sN=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function v0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rD(r,e,void 0,t),t.currentTarget=null}function kC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;v0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;v0(i,a,u),s=l}}}if(ud)throw t=sm,ud=!1,sm=null,t}function Oe(t,e){var n=e[mm];n===void 0&&(n=e[mm]=new Set);var r=t+"__bubble";n.has(r)||(MC(e,t,2,!1),n.add(r))}function Hf(t,e,n){var r=0;e&&(r|=4),MC(n,t,r,e)}var tc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[tc]){t[tc]=!0,jS.forEach(function(n){n!=="selectionchange"&&(sN.has(n)||Hf(n,!1,t),Hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tc]||(e[tc]=!0,Hf("selectionchange",!1,e))}}function MC(t,e,n,r){switch(mC(e)){case 1:var i=wD;break;case 4:i=_D;break;default:i=dy}n=i.bind(null,e,n,t),i=void 0,!im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tC(function(){var u=s,d=ay(n),h=[];e:{var f=bC.get(t);if(f!==void 0){var m=fy,w=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":m=VD;break;case"focusin":w="focus",m=jf;break;case"focusout":w="blur",m=jf;break;case"beforeblur":case"afterblur":m=jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FD;break;case IC:case AC:case RC:m=ID;break;case PC:m=UD;break;case"scroll":m=ED;break;case"wheel":m=zD;break;case"copy":case"cut":case"paste":m=RD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=l0}var _=(e&4)!==0,S=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var E=u,T;E!==null;){T=E;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,g!==null&&(P=dl(E,g),P!=null&&_.push(vl(E,P,T)))),S)break;E=E.return}0<_.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==nm&&(w=n.relatedTarget||n.fromElement)&&(qi(w)||w[Cr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?qi(w):null,w!==null&&(S=_s(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(_=o0,P="onMouseLeave",g="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=l0,P="onPointerLeave",g="onPointerEnter",E="pointer"),S=m==null?f:Hs(m),T=w==null?f:Hs(w),f=new _(P,E+"leave",m,n,d),f.target=S,f.relatedTarget=T,P=null,qi(d)===u&&(_=new _(g,E+"enter",w,n,d),_.target=T,_.relatedTarget=S,P=_),S=P,m&&w)t:{for(_=m,g=w,E=0,T=_;T;T=Ms(T))E++;for(T=0,P=g;P;P=Ms(P))T++;for(;0<E-T;)_=Ms(_),E--;for(;0<T-E;)g=Ms(g),T--;for(;E--;){if(_===g||g!==null&&_===g.alternate)break t;_=Ms(_),g=Ms(g)}_=null}else _=null;m!==null&&w0(h,f,m,_,!1),w!==null&&S!==null&&w0(h,S,w,_,!0)}}e:{if(f=u?Hs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var M=QD;else if(d0(f))if(EC)M=ZD;else{M=XD;var L=YD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=JD);if(M&&(M=M(t,u))){_C(h,M,n,d);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Xp(f,"number",f.value)}switch(L=u?Hs(u):window,t){case"focusin":(d0(L)||L.contentEditable==="true")&&($s=L,um=u,Ka=null);break;case"focusout":Ka=um=$s=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,g0(h,n,d);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":g0(h,n,d)}var I;if(my)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zs?vC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(yC&&n.locale!=="ko"&&(zs||x!=="onCompositionStart"?x==="onCompositionEnd"&&zs&&(I=gC()):(si=d,hy="value"in si?si.value:si.textContent,zs=!0)),L=pd(u,x),0<L.length&&(x=new a0(x,t,null,n,d),h.push({event:x,listeners:L}),I?x.data=I:(I=wC(n),I!==null&&(x.data=I)))),(I=WD?HD(t,n):GD(t,n))&&(u=pd(u,"onBeforeInput"),0<u.length&&(d=new a0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}kC(h,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(vl(t,s,i)),s=dl(t,e),s!=null&&r.push(vl(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=dl(n,s),l!=null&&o.unshift(vl(n,l,a))):i||(l=dl(n,s),l!=null&&o.push(vl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oN=/\r\n?/g,aN=/\u0000|\uFFFD/g;function _0(t){return(typeof t=="string"?t:""+t).replace(oN,`
`).replace(aN,"")}function nc(t,e,n){if(e=_0(e),_0(t)!==e&&n)throw Error(H(425))}function md(){}var dm=null,hm=null;function fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,lN=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,uN=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(cN)}:pm;function cN(t){setTimeout(function(){throw t})}function Kf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Bo,wl="__reactProps$"+Bo,Cr="__reactContainer$"+Bo,mm="__reactEvents$"+Bo,dN="__reactListeners$"+Bo,hN="__reactHandles$"+Bo;function qi(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T0(t);t!==null;){if(n=t[qn])return n;t=T0(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[qn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function ph(t){return t[wl]||null}var gm=[],Gs=-1;function ki(t){return{current:t}}function Le(t){0>Gs||(t.current=gm[Gs],gm[Gs]=null,Gs--)}function Ne(t,e){Gs++,gm[Gs]=t.current,t.current=e}var Ei={},Vt=ki(Ei),en=ki(!1),as=Ei;function _o(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function gd(){Le(en),Le(Vt)}function x0(t,e,n){if(Vt.current!==Ei)throw Error(H(168));Ne(Vt,e),Ne(en,n)}function DC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,YM(t)||"Unknown",i));return We({},n,r)}function yd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,as=Vt.current,Ne(Vt,t),Ne(en,en.current),!0}function S0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=DC(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,Le(en),Le(Vt),Ne(Vt,t)):Le(en),Ne(en,n)}var fr=null,mh=!1,qf=!1;function NC(t){fr===null?fr=[t]:fr.push(t)}function fN(t){mh=!0,NC(t)}function Mi(){if(!qf&&fr!==null){qf=!0;var t=0,e=Pe;try{var n=fr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,mh=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),sC(ly,Mi),i}finally{Pe=e,qf=!1}}return null}var Ks=[],qs=0,vd=null,wd=0,_n=[],En=0,ls=null,mr=1,gr="";function $i(t,e){Ks[qs++]=wd,Ks[qs++]=vd,vd=t,wd=e}function VC(t,e,n){_n[En++]=mr,_n[En++]=gr,_n[En++]=ls,ls=t;var r=mr;t=gr;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mr=1<<32-On(e)+i|n<<i|r,gr=s+t}else mr=1<<s|n<<i|r,gr=t}function yy(t){t.return!==null&&($i(t,1),VC(t,1,0))}function vy(t){for(;t===vd;)vd=Ks[--qs],Ks[qs]=null,wd=Ks[--qs],Ks[qs]=null;for(;t===ls;)ls=_n[--En],_n[En]=null,gr=_n[--En],_n[En]=null,mr=_n[--En],_n[En]=null}var dn=null,un=null,Fe=!1,Nn=null;function OC(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,un=di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,un=null,!0):!1;default:return!1}}function ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vm(t){if(Fe){var e=un;if(e){var n=e;if(!C0(t,e)){if(ym(t))throw Error(H(418));e=di(n.nextSibling);var r=dn;e&&C0(t,e)?OC(r,n):(t.flags=t.flags&-4097|2,Fe=!1,dn=t)}}else{if(ym(t))throw Error(H(418));t.flags=t.flags&-4097|2,Fe=!1,dn=t}}}function I0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function rc(t){if(t!==dn)return!1;if(!Fe)return I0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fm(t.type,t.memoizedProps)),e&&(e=un)){if(ym(t))throw LC(),Error(H(418));for(;e;)OC(t,e),e=di(e.nextSibling)}if(I0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=dn?di(t.stateNode.nextSibling):null;return!0}function LC(){for(var t=un;t;)t=di(t.nextSibling)}function Eo(){un=dn=null,Fe=!1}function wy(t){Nn===null?Nn=[t]:Nn.push(t)}var pN=jr.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ic(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A0(t){var e=t._init;return e(t._payload)}function FC(t){function e(g,E){if(t){var T=g.deletions;T===null?(g.deletions=[E],g.flags|=16):T.push(E)}}function n(g,E){if(!t)return null;for(;E!==null;)e(g,E),E=E.sibling;return null}function r(g,E){for(g=new Map;E!==null;)E.key!==null?g.set(E.key,E):g.set(E.index,E),E=E.sibling;return g}function i(g,E){return g=mi(g,E),g.index=0,g.sibling=null,g}function s(g,E,T){return g.index=T,t?(T=g.alternate,T!==null?(T=T.index,T<E?(g.flags|=2,E):T):(g.flags|=2,E)):(g.flags|=1048576,E)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,E,T,P){return E===null||E.tag!==6?(E=tp(T,g.mode,P),E.return=g,E):(E=i(E,T),E.return=g,E)}function l(g,E,T,P){var M=T.type;return M===Bs?d(g,E,T.props.children,P,T.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Jr&&A0(M)===E.type)?(P=i(E,T.props),P.ref=Ca(g,E,T),P.return=g,P):(P=jc(T.type,T.key,T.props,null,g.mode,P),P.ref=Ca(g,E,T),P.return=g,P)}function u(g,E,T,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=np(T,g.mode,P),E.return=g,E):(E=i(E,T.children||[]),E.return=g,E)}function d(g,E,T,P,M){return E===null||E.tag!==7?(E=ns(T,g.mode,P,M),E.return=g,E):(E=i(E,T),E.return=g,E)}function h(g,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=tp(""+E,g.mode,T),E.return=g,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ku:return T=jc(E.type,E.key,E.props,null,g.mode,T),T.ref=Ca(g,null,E),T.return=g,T;case Us:return E=np(E,g.mode,T),E.return=g,E;case Jr:var P=E._init;return h(g,P(E._payload),T)}if(Va(E)||_a(E))return E=ns(E,g.mode,T,null),E.return=g,E;ic(g,E)}return null}function f(g,E,T,P){var M=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(g,E,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ku:return T.key===M?l(g,E,T,P):null;case Us:return T.key===M?u(g,E,T,P):null;case Jr:return M=T._init,f(g,E,M(T._payload),P)}if(Va(T)||_a(T))return M!==null?null:d(g,E,T,P,null);ic(g,T)}return null}function m(g,E,T,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return g=g.get(T)||null,a(E,g,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ku:return g=g.get(P.key===null?T:P.key)||null,l(E,g,P,M);case Us:return g=g.get(P.key===null?T:P.key)||null,u(E,g,P,M);case Jr:var L=P._init;return m(g,E,T,L(P._payload),M)}if(Va(P)||_a(P))return g=g.get(T)||null,d(E,g,P,M,null);ic(E,P)}return null}function w(g,E,T,P){for(var M=null,L=null,I=E,x=E=0,A=null;I!==null&&x<T.length;x++){I.index>x?(A=I,I=null):A=I.sibling;var b=f(g,I,T[x],P);if(b===null){I===null&&(I=A);break}t&&I&&b.alternate===null&&e(g,I),E=s(b,E,x),L===null?M=b:L.sibling=b,L=b,I=A}if(x===T.length)return n(g,I),Fe&&$i(g,x),M;if(I===null){for(;x<T.length;x++)I=h(g,T[x],P),I!==null&&(E=s(I,E,x),L===null?M=I:L.sibling=I,L=I);return Fe&&$i(g,x),M}for(I=r(g,I);x<T.length;x++)A=m(I,g,x,T[x],P),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?x:A.key),E=s(A,E,x),L===null?M=A:L.sibling=A,L=A);return t&&I.forEach(function(D){return e(g,D)}),Fe&&$i(g,x),M}function _(g,E,T,P){var M=_a(T);if(typeof M!="function")throw Error(H(150));if(T=M.call(T),T==null)throw Error(H(151));for(var L=M=null,I=E,x=E=0,A=null,b=T.next();I!==null&&!b.done;x++,b=T.next()){I.index>x?(A=I,I=null):A=I.sibling;var D=f(g,I,b.value,P);if(D===null){I===null&&(I=A);break}t&&I&&D.alternate===null&&e(g,I),E=s(D,E,x),L===null?M=D:L.sibling=D,L=D,I=A}if(b.done)return n(g,I),Fe&&$i(g,x),M;if(I===null){for(;!b.done;x++,b=T.next())b=h(g,b.value,P),b!==null&&(E=s(b,E,x),L===null?M=b:L.sibling=b,L=b);return Fe&&$i(g,x),M}for(I=r(g,I);!b.done;x++,b=T.next())b=m(I,g,x,b.value,P),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?x:b.key),E=s(b,E,x),L===null?M=b:L.sibling=b,L=b);return t&&I.forEach(function(O){return e(g,O)}),Fe&&$i(g,x),M}function S(g,E,T,P){if(typeof T=="object"&&T!==null&&T.type===Bs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ku:e:{for(var M=T.key,L=E;L!==null;){if(L.key===M){if(M=T.type,M===Bs){if(L.tag===7){n(g,L.sibling),E=i(L,T.props.children),E.return=g,g=E;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Jr&&A0(M)===L.type){n(g,L.sibling),E=i(L,T.props),E.ref=Ca(g,L,T),E.return=g,g=E;break e}n(g,L);break}else e(g,L);L=L.sibling}T.type===Bs?(E=ns(T.props.children,g.mode,P,T.key),E.return=g,g=E):(P=jc(T.type,T.key,T.props,null,g.mode,P),P.ref=Ca(g,E,T),P.return=g,g=P)}return o(g);case Us:e:{for(L=T.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(g,E.sibling),E=i(E,T.children||[]),E.return=g,g=E;break e}else{n(g,E);break}else e(g,E);E=E.sibling}E=np(T,g.mode,P),E.return=g,g=E}return o(g);case Jr:return L=T._init,S(g,E,L(T._payload),P)}if(Va(T))return w(g,E,T,P);if(_a(T))return _(g,E,T,P);ic(g,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(g,E.sibling),E=i(E,T),E.return=g,g=E):(n(g,E),E=tp(T,g.mode,P),E.return=g,g=E),o(g)):n(g,E)}return S}var To=FC(!0),jC=FC(!1),_d=ki(null),Ed=null,Qs=null,_y=null;function Ey(){_y=Qs=Ed=null}function Ty(t){var e=_d.current;Le(_d),t._currentValue=e}function wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){Ed=t,_y=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(_y!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(Ed===null)throw Error(H(308));Qs=t,Ed.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var Qi=null;function xy(t){Qi===null?Qi=[t]:Qi.push(t)}function UC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Sy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,xy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uy(t,n)}}function R0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Td(t,e,n,r){var i=t.updateQueue;Zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(f=e,m=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=We({},h,f);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cs|=o,t.lanes=o,t.memoizedState=h}}function P0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Jl={},Xn=ki(Jl),_l=ki(Jl),El=ki(Jl);function Yi(t){if(t===Jl)throw Error(H(174));return t}function Cy(t,e){switch(Ne(El,e),Ne(_l,t),Ne(Xn,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zp(e,t)}Le(Xn),Ne(Xn,e)}function xo(){Le(Xn),Le(_l),Le(El)}function zC(t){Yi(El.current);var e=Yi(Xn.current),n=Zp(e,t.type);e!==n&&(Ne(_l,t),Ne(Xn,n))}function Iy(t){_l.current===t&&(Le(Xn),Le(_l))}var Be=ki(0);function xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qf=[];function Ay(){for(var t=0;t<Qf.length;t++)Qf[t]._workInProgressVersionPrimary=null;Qf.length=0}var Nc=jr.ReactCurrentDispatcher,Yf=jr.ReactCurrentBatchConfig,us=0,$e=null,st=null,dt=null,Sd=!1,qa=!1,Tl=0,mN=0;function At(){throw Error(H(321))}function Ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function Py(t,e,n,r,i,s){if(us=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?wN:_N,t=n(r,i),qa){s=0;do{if(qa=!1,Tl=0,25<=s)throw Error(H(301));s+=1,dt=st=null,e.updateQueue=null,Nc.current=EN,t=n(r,i)}while(qa)}if(Nc.current=Cd,e=st!==null&&st.next!==null,us=0,dt=st=$e=null,Sd=!1,e)throw Error(H(300));return t}function by(){var t=Tl!==0;return Tl=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?$e.memoizedState=dt=t:dt=dt.next=t,dt}function Rn(){if(st===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=dt===null?$e.memoizedState:dt.next;if(e!==null)dt=e,st=t;else{if(t===null)throw Error(H(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?$e.memoizedState=dt=t:dt=dt.next=t}return dt}function xl(t,e){return typeof e=="function"?e(t):e}function Xf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((us&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,cs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);jn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $C(){}function WC(t,e){var n=$e,r=Rn(),i=e(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,ky(KC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Sl(9,GC.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(H(349));us&30||HC(n,e,i)}return i}function HC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GC(t,e,n,r){e.value=n,e.getSnapshot=r,qC(e)&&QC(t)}function KC(t,e,n){return n(function(){qC(e)&&QC(t)})}function qC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function QC(t){var e=Ir(t,1);e!==null&&Ln(e,t,1,-1)}function b0(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:t},e.queue=t,t=t.dispatch=vN.bind(null,$e,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YC(){return Rn().memoizedState}function Vc(t,e,n,r){var i=Kn();$e.flags|=t,i.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function gh(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Ry(r,o.deps)){i.memoizedState=Sl(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Sl(1|e,n,s,r)}function k0(t,e){return Vc(8390656,8,t,e)}function ky(t,e){return gh(2048,8,t,e)}function XC(t,e){return gh(4,2,t,e)}function JC(t,e){return gh(4,4,t,e)}function ZC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eI(t,e,n){return n=n!=null?n.concat([t]):null,gh(4,4,ZC.bind(null,e,t),n)}function My(){}function tI(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nI(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rI(t,e,n){return us&21?(jn(n,e)||(n=lC(),$e.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function gN(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Yf.transition;Yf.transition={};try{t(!1),e()}finally{Pe=n,Yf.transition=r}}function iI(){return Rn().memoizedState}function yN(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sI(t))oI(e,n);else if(n=UC(t,e,n,r),n!==null){var i=$t();Ln(n,t,r,i),aI(n,e,r)}}function vN(t,e,n){var r=pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sI(t))oI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(i.next=i,xy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UC(t,e,i,r),n!==null&&(i=$t(),Ln(n,t,r,i),aI(n,e,r))}}function sI(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function oI(t,e){qa=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uy(t,n)}}var Cd={readContext:An,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},wN={readContext:An,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:k0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4194308,4,ZC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yN.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:b0,useDebugValue:My,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=b0(!1),e=t[0];return t=gN.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Kn();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ft===null)throw Error(H(349));us&30||HC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,k0(KC.bind(null,r,s,t),[t]),r.flags|=2048,Sl(9,GC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kn(),e=ft.identifierPrefix;if(Fe){var n=gr,r=mr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_N={readContext:An,useCallback:tI,useContext:An,useEffect:ky,useImperativeHandle:eI,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:nI,useReducer:Xf,useRef:YC,useState:function(){return Xf(xl)},useDebugValue:My,useDeferredValue:function(t){var e=Rn();return rI(e,st.memoizedState,t)},useTransition:function(){var t=Xf(xl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:$C,useSyncExternalStore:WC,useId:iI,unstable_isNewReconciler:!1},EN={readContext:An,useCallback:tI,useContext:An,useEffect:ky,useImperativeHandle:eI,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:nI,useReducer:Jf,useRef:YC,useState:function(){return Jf(xl)},useDebugValue:My,useDeferredValue:function(t){var e=Rn();return st===null?e.memoizedState=t:rI(e,st.memoizedState,t)},useTransition:function(){var t=Jf(xl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:$C,useSyncExternalStore:WC,useId:iI,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _m(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),i=pi(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(Ln(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),i=pi(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(Ln(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=pi(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=hi(t,i,r),e!==null&&(Ln(e,t,r,n),Dc(e,t,r))}};function M0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,s):!0}function lI(t,e,n){var r=!1,i=Ei,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=tn(e)?as:Vt.current,r=e.contextTypes,s=(r=r!=null)?_o(t,i):Ei),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function D0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=tn(e)?as:Vt.current,i.context=_o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_m(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yh.enqueueReplaceState(i,i.state,null),Td(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=QM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TN=typeof WeakMap=="function"?WeakMap:Map;function uI(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ad||(Ad=!0,Mm=r),Tm(t,e)},n}function cI(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tm(t,e),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function N0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ON.bind(null,t,e,n),e.then(t,t))}function V0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var xN=jr.ReactCurrentOwner,Jt=!1;function Ut(t,e,n,r){e.child=t===null?jC(e,null,n,r):To(e,t.child,n,r)}function L0(t,e,n,r,i){n=n.render;var s=e.ref;return uo(e,i),r=Py(t,e,n,r,s,i),n=by(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Fe&&n&&yy(e),e.flags|=1,Ut(t,e,r,i),e.child)}function F0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Uy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dI(t,e,s,r,i)):(t=jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(o,r)&&t.ref===e.ref)return Ar(t,e,i)}return e.flags|=1,t=mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function dI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gl(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Ar(t,e,i)}return xm(t,e,n,r,i)}function hI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Xs,an),an|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Xs,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(Xs,an),an|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(Xs,an),an|=r;return Ut(t,e,i,n),e.child}function fI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xm(t,e,n,r,i){var s=tn(n)?as:Vt.current;return s=_o(e,s),uo(e,i),n=Py(t,e,n,r,s,i),r=by(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Fe&&r&&yy(e),e.flags|=1,Ut(t,e,n,i),e.child)}function j0(t,e,n,r,i){if(tn(n)){var s=!0;yd(e)}else s=!1;if(uo(e,i),e.stateNode===null)Oc(t,e),lI(e,n,r),Em(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=tn(n)?as:Vt.current,u=_o(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&D0(e,o,r,u),Zr=!1;var f=e.memoizedState;o.state=f,Td(e,r,o,i),l=e.memoizedState,a!==r||f!==l||en.current||Zr?(typeof d=="function"&&(_m(e,n,d,r),l=e.memoizedState),(a=Zr||M0(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=tn(n)?as:Vt.current,l=_o(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&D0(e,o,r,l),Zr=!1,f=e.memoizedState,o.state=f,Td(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||en.current||Zr?(typeof m=="function"&&(_m(e,n,m,r),w=e.memoizedState),(u=Zr||M0(e,n,u,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,s,i)}function Sm(t,e,n,r,i,s){fI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&S0(e,n,!1),Ar(t,e,s);r=e.stateNode,xN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):Ut(t,e,a,s),e.memoizedState=r.state,i&&S0(e,n,!0),e.child}function pI(t){var e=t.stateNode;e.pendingContext?x0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&x0(t,e.context,!1),Cy(t,e.containerInfo)}function U0(t,e,n,r,i){return Eo(),wy(i),e.flags|=256,Ut(t,e,n,r),e.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Im(t){return{baseLanes:t,cachePool:null,transitions:null}}function mI(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(Be,i&1),t===null)return vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_h(o,r,0,null),t=ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Im(n),e.memoizedState=Cm,t):Dy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=mi(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Im(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cm,r}return s=t.child,t=s.sibling,r=mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dy(t,e){return e=_h({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sc(t,e,n,r){return r!==null&&wy(r),To(e,t.child,null,n),t=Dy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zf(Error(H(422))),sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_h({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=Im(o),e.memoizedState=Cm,s);if(!(e.mode&1))return sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Zf(s,r,void 0),sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Ln(r,t,i,-1))}return jy(),r=Zf(Error(H(421))),sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=di(i.nextSibling),dn=e,Fe=!0,Nn=null,t!==null&&(_n[En++]=mr,_n[En++]=gr,_n[En++]=ls,mr=t.id,gr=t.overflow,ls=e),e=Dy(e,r.children),e.flags|=4096,e)}function B0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wm(t.return,e,n)}function ep(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ut(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,n,e);else if(t.tag===19)B0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ep(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ep(e,!0,n,null,s);break;case"together":ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CN(t,e,n){switch(e.tag){case 3:pI(e),Eo();break;case 5:zC(e);break;case 1:tn(e.type)&&yd(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(_d,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?mI(t,e,n):(Ne(Be,Be.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);Ne(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,hI(t,e,n)}return Ar(t,e,n)}var yI,Am,vI,wI;yI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};vI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yi(Xn.current);var s=null;switch(n){case"input":i=Qp(t,i),r=Qp(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=Jp(t,i),r=Jp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=md)}em(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ul.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ul.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ia(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IN(t,e,n){var r=e.pendingProps;switch(vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return tn(e.type)&&gd(),Rt(e),null;case 3:return r=e.stateNode,xo(),Le(en),Le(Vt),Ay(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Vm(Nn),Nn=null))),Am(t,e),Rt(e),null;case 5:Iy(e);var i=Yi(El.current);if(n=e.type,t!==null&&e.stateNode!=null)vI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Rt(e),null}if(t=Yi(Xn.current),rc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Oe(La[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Y_(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":J_(r,s),Oe("invalid",r)}em(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&nc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nc(r.textContent,a,t),i=["children",""+a]):ul.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":qu(r),X_(r,s,!0);break;case"textarea":qu(r),Z_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=md)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[wl]=r,yI(t,e,!1,!1),e.stateNode=t;e:{switch(o=tm(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Oe(La[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":Y_(t,r),i=Qp(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":J_(t,r),i=Jp(t,r),Oe("invalid",t);break;default:i=r}em(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cl(t,l):typeof l=="number"&&cl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ul.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&ry(t,s,l,o))}switch(n){case"input":qu(t),X_(t,r,!1);break;case"textarea":qu(t),Z_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?so(t,!!r.multiple,s,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)wI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Yi(El.current),Yi(Xn.current),rc(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Rt(e),null;case 13:if(Le(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&un!==null&&e.mode&1&&!(e.flags&128))LC(),Eo(),e.flags|=98560,s=!1;else if(s=rc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[qn]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),s=!1}else Nn!==null&&(Vm(Nn),Nn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):jy())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return xo(),Am(t,e),t===null&&yl(e.stateNode.containerInfo),Rt(e),null;case 10:return Ty(e.type._context),Rt(e),null;case 17:return tn(e.type)&&gd(),Rt(e),null;case 19:if(Le(Be),s=e.memoizedState,s===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ia(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xd(t),o!==null){for(e.flags|=128,Ia(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Co&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304)}else{if(!r)if(t=xd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Rt(e),null}else 2*Xe()-s.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=Be.current,Ne(Be,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return Fy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function AN(t,e){switch(vy(e),e.tag){case 1:return tn(e.type)&&gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),Le(en),Le(Vt),Ay(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iy(e),null;case 13:if(Le(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Be),null;case 4:return xo(),null;case 10:return Ty(e.type._context),null;case 22:case 23:return Fy(),null;case 24:return null;default:return null}}var oc=!1,kt=!1,RN=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Rm(t,e,n){try{n()}catch(r){qe(t,e,r)}}var z0=!1;function PN(t,e){if(dm=hd,t=SC(),gy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hm={focusedElem:t,selectionRange:n},hd=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,S=w.memoizedState,g=e.stateNode,E=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Mn(e.type,_),S);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){qe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=z0,z0=!1,w}function Qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rm(e,n,s)}i=i.next}while(i!==r)}}function vh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _I(t){var e=t.alternate;e!==null&&(t.alternate=null,_I(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[wl],delete e[mm],delete e[dN],delete e[hN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EI(t){return t.tag===5||t.tag===3||t.tag===4}function $0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=md));else if(r!==4&&(t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}var gt=null,Dn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)TI(t,e,n),n=n.sibling}function TI(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(ch,n)}catch{}switch(n.tag){case 5:kt||Ys(n,e);case 6:var r=gt,i=Dn;gt=null,Gr(t,e,n),gt=r,Dn=i,gt!==null&&(Dn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Dn?(t=gt,n=n.stateNode,t.nodeType===8?Kf(t.parentNode,n):t.nodeType===1&&Kf(t,n),pl(t)):Kf(gt,n.stateNode));break;case 4:r=gt,i=Dn,gt=n.stateNode.containerInfo,Dn=!0,Gr(t,e,n),gt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rm(n,e,o),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!kt&&(Ys(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Gr(t,e,n),kt=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function W0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RN),e.forEach(function(r){var i=FN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Dn=!1;break e;case 3:gt=a.stateNode.containerInfo,Dn=!0;break e;case 4:gt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(gt===null)throw Error(H(160));TI(s,o,i),gt=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xI(e,t),e=e.sibling}function xI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Gn(t),r&4){try{Qa(3,t,t.return),vh(3,t)}catch(_){qe(t,t.return,_)}try{Qa(5,t,t.return)}catch(_){qe(t,t.return,_)}}break;case 1:bn(e,t),Gn(t),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(bn(e,t),Gn(t),r&512&&n!==null&&Ys(n,n.return),t.flags&32){var i=t.stateNode;try{cl(i,"")}catch(_){qe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HS(i,s),tm(a,o);var u=tm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?YS(i,h):d==="dangerouslySetInnerHTML"?qS(i,h):d==="children"?cl(i,h):ry(i,d,h,u)}switch(a){case"input":Yp(i,s);break;case"textarea":GS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?so(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?so(i,!!s.multiple,s.defaultValue,!0):so(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(_){qe(t,t.return,_)}}break;case 6:if(bn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){qe(t,t.return,_)}}break;case 3:if(bn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(_){qe(t,t.return,_)}break;case 4:bn(e,t),Gn(t);break;case 13:bn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Oy=Xe())),r&4&&W0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(u=kt)||d,bn(e,t),kt=u):bn(e,t),Gn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Qa(4,f,f.return);break;case 1:Ys(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){qe(r,n,_)}}break;case 5:Ys(f,f.return);break;case 22:if(f.memoizedState!==null){G0(h);continue}}m!==null?(m.return=f,X=m):G0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QS("display",o))}catch(_){qe(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){qe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),Gn(t),r&4&&W0(t);break;case 21:break;default:bn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EI(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cl(i,""),r.flags&=-33);var s=$0(t);km(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$0(t);bm(t,a,o);break;default:throw Error(H(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bN(t,e,n){X=t,SI(t)}function SI(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=oc;var u=kt;if(oc=o,(kt=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?K0(i):l!==null?(l.return=o,X=l):K0(i);for(;s!==null;)X=s,SI(s),s=s.sibling;X=i,oc=a,kt=u}H0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):H0(t)}}function H0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||vh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&P0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}P0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&pl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}kt||e.flags&512&&Pm(e)}catch(f){qe(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function G0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function K0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vh(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{Pm(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{Pm(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var kN=Math.ceil,Id=jr.ReactCurrentDispatcher,Ny=jr.ReactCurrentOwner,Sn=jr.ReactCurrentBatchConfig,Ce=0,ft=null,tt=null,_t=0,an=0,Xs=ki(0),at=0,Cl=null,cs=0,wh=0,Vy=0,Ya=null,Xt=null,Oy=0,Co=1/0,hr=null,Ad=!1,Mm=null,fi=null,ac=!1,oi=null,Rd=0,Xa=0,Dm=null,Lc=-1,Fc=0;function $t(){return Ce&6?Xe():Lc!==-1?Lc:Lc=Xe()}function pi(t){return t.mode&1?Ce&2&&_t!==0?_t&-_t:pN.transition!==null?(Fc===0&&(Fc=lC()),Fc):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:mC(t.type)),t):1}function Ln(t,e,n,r){if(50<Xa)throw Xa=0,Dm=null,Error(H(185));Ql(t,n,r),(!(Ce&2)||t!==ft)&&(t===ft&&(!(Ce&2)&&(wh|=n),at===4&&ti(t,_t)),nn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Co=Xe()+500,mh&&Mi()))}function nn(t,e){var n=t.callbackNode;pD(t,e);var r=dd(t,t===ft?_t:0);if(r===0)n!==null&&n0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n0(n),e===1)t.tag===0?fN(q0.bind(null,t)):NC(q0.bind(null,t)),uN(function(){!(Ce&6)&&Mi()}),n=null;else{switch(uC(r)){case 1:n=ly;break;case 4:n=oC;break;case 16:n=cd;break;case 536870912:n=aC;break;default:n=cd}n=MI(n,CI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CI(t,e){if(Lc=-1,Fc=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=dd(t,t===ft?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pd(t,r);else{e=r;var i=Ce;Ce|=2;var s=AI();(ft!==t||_t!==e)&&(hr=null,Co=Xe()+500,ts(t,e));do try{NN();break}catch(a){II(t,a)}while(!0);Ey(),Id.current=s,Ce=i,tt!==null?e=0:(ft=null,_t=0,e=at)}if(e!==0){if(e===2&&(i=om(t),i!==0&&(r=i,e=Nm(t,i))),e===1)throw n=Cl,ts(t,0),ti(t,r),nn(t,Xe()),n;if(e===6)ti(t,r);else{if(i=t.current.alternate,!(r&30)&&!MN(i)&&(e=Pd(t,r),e===2&&(s=om(t),s!==0&&(r=s,e=Nm(t,s))),e===1))throw n=Cl,ts(t,0),ti(t,r),nn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Wi(t,Xt,hr);break;case 3:if(ti(t,r),(r&130023424)===r&&(e=Oy+500-Xe(),10<e)){if(dd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pm(Wi.bind(null,t,Xt,hr),e);break}Wi(t,Xt,hr);break;case 4:if(ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kN(r/1960))-r,10<r){t.timeoutHandle=pm(Wi.bind(null,t,Xt,hr),r);break}Wi(t,Xt,hr);break;case 5:Wi(t,Xt,hr);break;default:throw Error(H(329))}}}return nn(t,Xe()),t.callbackNode===n?CI.bind(null,t):null}function Nm(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=Pd(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Vm(e)),t}function Vm(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function MN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ti(t,e){for(e&=~Vy,e&=~wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function q0(t){if(Ce&6)throw Error(H(327));co();var e=dd(t,0);if(!(e&1))return nn(t,Xe()),null;var n=Pd(t,e);if(t.tag!==0&&n===2){var r=om(t);r!==0&&(e=r,n=Nm(t,r))}if(n===1)throw n=Cl,ts(t,0),ti(t,e),nn(t,Xe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,Xt,hr),nn(t,Xe()),null}function Ly(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Co=Xe()+500,mh&&Mi())}}function ds(t){oi!==null&&oi.tag===0&&!(Ce&6)&&co();var e=Ce;Ce|=1;var n=Sn.transition,r=Pe;try{if(Sn.transition=null,Pe=1,t)return t()}finally{Pe=r,Sn.transition=n,Ce=e,!(Ce&6)&&Mi()}}function Fy(){an=Xs.current,Le(Xs)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gd();break;case 3:xo(),Le(en),Le(Vt),Ay();break;case 5:Iy(r);break;case 4:xo();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:Ty(r.type._context);break;case 22:case 23:Fy()}n=n.return}if(ft=t,tt=t=mi(t.current,null),_t=an=e,at=0,Cl=null,Vy=wh=cs=0,Xt=Ya=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qi=null}return t}function II(t,e){do{var n=tt;try{if(Ey(),Nc.current=Cd,Sd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sd=!1}if(us=0,dt=st=$e=null,qa=!1,Tl=0,Ny.current=null,n===null||n.return===null){at=1,Cl=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=V0(o);if(m!==null){m.flags&=-257,O0(m,o,a,s,e),m.mode&1&&N0(s,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){N0(s,u,e),jy();break e}l=Error(H(426))}}else if(Fe&&a.mode&1){var S=V0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),O0(S,o,a,s,e),wy(So(l,a));break e}}s=l=So(l,a),at!==4&&(at=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=uI(s,l,e);R0(s,g);break e;case 1:a=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(fi===null||!fi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=cI(s,a,e);R0(s,P);break e}}s=s.return}while(s!==null)}PI(n)}catch(M){e=M,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function AI(){var t=Id.current;return Id.current=Cd,t===null?Cd:t}function jy(){(at===0||at===3||at===2)&&(at=4),ft===null||!(cs&268435455)&&!(wh&268435455)||ti(ft,_t)}function Pd(t,e){var n=Ce;Ce|=2;var r=AI();(ft!==t||_t!==e)&&(hr=null,ts(t,e));do try{DN();break}catch(i){II(t,i)}while(!0);if(Ey(),Ce=n,Id.current=r,tt!==null)throw Error(H(261));return ft=null,_t=0,at}function DN(){for(;tt!==null;)RI(tt)}function NN(){for(;tt!==null&&!sD();)RI(tt)}function RI(t){var e=kI(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?PI(t):tt=e,Ny.current=null}function PI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AN(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,tt=null;return}}else if(n=IN(n,e,an),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);at===0&&(at=5)}function Wi(t,e,n){var r=Pe,i=Sn.transition;try{Sn.transition=null,Pe=1,VN(t,e,n,r)}finally{Sn.transition=i,Pe=r}return null}function VN(t,e,n,r){do co();while(oi!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mD(t,s),t===ft&&(tt=ft=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ac||(ac=!0,MI(cd,function(){return co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Pe;Pe=1;var a=Ce;Ce|=4,Ny.current=null,PN(t,n),xI(n,t),tN(hm),hd=!!dm,hm=dm=null,t.current=n,bN(n),oD(),Ce=a,Pe=o,Sn.transition=s}else t.current=n;if(ac&&(ac=!1,oi=t,Rd=i),s=t.pendingLanes,s===0&&(fi=null),uD(n.stateNode),nn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,t=Mm,Mm=null,t;return Rd&1&&t.tag!==0&&co(),s=t.pendingLanes,s&1?t===Dm?Xa++:(Xa=0,Dm=t):Xa=0,Mi(),null}function co(){if(oi!==null){var t=uC(Rd),e=Sn.transition,n=Pe;try{if(Sn.transition=null,Pe=16>t?16:t,oi===null)var r=!1;else{if(t=oi,oi=null,Rd=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Qa(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(_I(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qa(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,X=g;break e}X=s.return}}var E=t.current;for(X=E;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vh(9,a)}}catch(M){qe(a,a.return,M)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(Ce=i,Mi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(ch,t)}catch{}r=!0}return r}finally{Pe=n,Sn.transition=e}}return!1}function Q0(t,e,n){e=So(n,e),e=uI(t,e,1),t=hi(t,e,1),e=$t(),t!==null&&(Ql(t,1,e),nn(t,e))}function qe(t,e,n){if(t.tag===3)Q0(t,t,n);else for(;e!==null;){if(e.tag===3){Q0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){t=So(n,t),t=cI(e,t,1),e=hi(e,t,1),t=$t(),e!==null&&(Ql(e,1,t),nn(e,t));break}}e=e.return}}function ON(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(_t&n)===n&&(at===4||at===3&&(_t&130023424)===_t&&500>Xe()-Oy?ts(t,0):Vy|=n),nn(t,e)}function bI(t,e){e===0&&(t.mode&1?(e=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):e=1);var n=$t();t=Ir(t,e),t!==null&&(Ql(t,e,n),nn(t,n))}function LN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bI(t,n)}function FN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),bI(t,n)}var kI;kI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,CN(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Fe&&e.flags&1048576&&VC(e,wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oc(t,e),t=e.pendingProps;var i=_o(e,Vt.current);uo(e,n),i=Py(null,e,r,t,i,n);var s=by();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,yd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sy(e),i.updater=yh,e.stateNode=i,i._reactInternals=e,Em(e,r,t,n),e=Sm(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&yy(e),Ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UN(r),t=Mn(r,t),i){case 0:e=xm(null,e,r,t,n);break e;case 1:e=j0(null,e,r,t,n);break e;case 11:e=L0(null,e,r,t,n);break e;case 14:e=F0(null,e,r,Mn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),xm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),j0(t,e,r,i,n);case 3:e:{if(pI(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,BC(t,e),Td(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=So(Error(H(423)),e),e=U0(t,e,r,n,i);break e}else if(r!==i){i=So(Error(H(424)),e),e=U0(t,e,r,n,i);break e}else for(un=di(e.stateNode.containerInfo.firstChild),dn=e,Fe=!0,Nn=null,n=jC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===i){e=Ar(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return zC(e),t===null&&vm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fm(r,i)?o=null:s!==null&&fm(r,s)&&(e.flags|=32),fI(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&vm(e),null;case 13:return mI(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),L0(t,e,r,i,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(_d,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!en.current){e=Ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Er(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=An(i),r=r(i),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),F0(t,e,r,i,n);case 15:return dI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Oc(t,e),e.tag=1,tn(r)?(t=!0,yd(e)):t=!1,uo(e,n),lI(e,r,i),Em(e,r,i,n),Sm(null,e,r,!0,t,n);case 19:return gI(t,e,n);case 22:return hI(t,e,n)}throw Error(H(156,e.tag))};function MI(t,e){return sC(t,e)}function jN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new jN(t,e,n,r)}function Uy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UN(t){if(typeof t=="function")return Uy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sy)return 11;if(t===oy)return 14}return 2}function mi(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Uy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return ns(n.children,i,s,e);case iy:o=8,i|=8;break;case Hp:return t=Tn(12,n,e,i|2),t.elementType=Hp,t.lanes=s,t;case Gp:return t=Tn(13,n,e,i),t.elementType=Gp,t.lanes=s,t;case Kp:return t=Tn(19,n,e,i),t.elementType=Kp,t.lanes=s,t;case zS:return _h(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case US:o=10;break e;case BS:o=9;break e;case sy:o=11;break e;case oy:o=14;break e;case Jr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ns(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function _h(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=zS,t.lanes=n,t.stateNode={isHidden:!1},t}function tp(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function np(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function By(t,e,n,r,i,s,o,a,l){return t=new BN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(s),t}function zN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DI(t){if(!t)return Ei;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(tn(n))return DC(t,n,e)}return e}function NI(t,e,n,r,i,s,o,a,l){return t=By(n,r,!0,t,i,s,o,a,l),t.context=DI(null),n=t.current,r=$t(),i=pi(n),s=Er(r,i),s.callback=e??null,hi(n,s,i),t.current.lanes=i,Ql(t,i,r),nn(t,r),t}function Eh(t,e,n,r){var i=e.current,s=$t(),o=pi(i);return n=DI(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(i,e,o),t!==null&&(Ln(t,i,o,s),Dc(t,i,o)),o}function bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zy(t,e){Y0(t,e),(t=t.alternate)&&Y0(t,e)}function $N(){return null}var VI=typeof reportError=="function"?reportError:function(t){console.error(t)};function $y(t){this._internalRoot=t}Th.prototype.render=$y.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Eh(t,e,null,null)};Th.prototype.unmount=$y.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){Eh(null,t,null,null)}),e[Cr]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=hC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&pC(t)}};function Wy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X0(){}function WN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bd(o);s.call(u)}}var o=NI(e,r,t,0,null,!1,!1,"",X0);return t._reactRootContainer=o,t[Cr]=o.current,yl(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bd(l);a.call(u)}}var l=By(t,0,!1,null,null,!1,!1,"",X0);return t._reactRootContainer=l,t[Cr]=l.current,yl(t.nodeType===8?t.parentNode:t),ds(function(){Eh(e,l,n,r)}),l}function Sh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bd(o);a.call(l)}}Eh(e,o,t,i)}else o=WN(n,e,t,i,r);return bd(o)}cC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(uy(e,n|1),nn(e,Xe()),!(Ce&6)&&(Co=Xe()+500,Mi()))}break;case 13:ds(function(){var r=Ir(t,1);if(r!==null){var i=$t();Ln(r,t,1,i)}}),zy(t,1)}};cy=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=$t();Ln(e,t,134217728,n)}zy(t,134217728)}};dC=function(t){if(t.tag===13){var e=pi(t),n=Ir(t,e);if(n!==null){var r=$t();Ln(n,t,e,r)}zy(t,e)}};hC=function(){return Pe};fC=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};rm=function(t,e,n){switch(e){case"input":if(Yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ph(r);if(!i)throw Error(H(90));WS(r),Yp(r,i)}}}break;case"textarea":GS(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};ZS=Ly;eC=ds;var HN={usingClientEntryPoint:!1,Events:[Xl,Hs,ph,XS,JS,Ly]},Aa={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GN={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rC(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||$N,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{ch=lc.inject(GN),Yn=lc}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wy(e))throw Error(H(200));return zN(t,e,null,n)};gn.createRoot=function(t,e){if(!Wy(t))throw Error(H(299));var n=!1,r="",i=VI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=By(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,yl(t.nodeType===8?t.parentNode:t),new $y(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=rC(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return ds(t)};gn.hydrate=function(t,e,n){if(!xh(e))throw Error(H(200));return Sh(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Wy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NI(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Th(e)};gn.render=function(t,e,n){if(!xh(e))throw Error(H(200));return Sh(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!xh(t))throw Error(H(40));return t._reactRootContainer?(ds(function(){Sh(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};gn.unstable_batchedUpdates=Ly;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Sh(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function OI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OI)}catch(t){console.error(t)}}OI(),OS.exports=gn;var Ch=OS.exports;const KN=Yg(Ch);var LI,J0=Ch;LI=J0.createRoot,J0.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z0="popstate";function qN(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Om("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Il(i)}return YN(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QN(){return Math.random().toString(36).substring(2,10)}function eE(t,e){return{usr:t.state,key:t.key,idx:e}}function Om(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:n,key:e&&e.key||r||QN()}}function Il({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=d(),g=S==null?null:S-u;u=S,l&&l({action:a,location:_.location,delta:g})}function f(S,g){a="PUSH";let E=Om(_.location,S,g);u=d()+1;let T=eE(E,u),P=_.createHref(E);try{o.pushState(T,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&l&&l({action:a,location:_.location,delta:1})}function m(S,g){a="REPLACE";let E=Om(_.location,S,g);u=d();let T=eE(E,u),P=_.createHref(E);o.replaceState(T,"",P),s&&l&&l({action:a,location:_.location,delta:0})}function w(S){return XN(S)}let _={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Z0,h),l=S,()=>{i.removeEventListener(Z0,h),l=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let g=w(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(S){return o.go(S)}};return _}function XN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Il(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FI(t,e,n="/"){return JN(t,e,n,!1)}function JN(t,e,n,r){let i=typeof e=="string"?zo(e):e,s=Rr(i.pathname||"/",n);if(s==null)return null;let o=jI(t);ZN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=cV(s);a=lV(o[l],u,r)}return a}function jI(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Tr([r,d.relativePath]),f=n.concat(d);o.children&&o.children.length>0&&(Ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),jI(o.children,e,f,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:oV(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of UI(o.path))s(o,a,!0,u)}),e}function UI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=UI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eV=/^:[\w-]+$/,tV=3,nV=2,rV=1,iV=10,sV=-2,tE=t=>t==="*";function oV(t,e){let n=t.split("/"),r=n.length;return n.some(tE)&&(r+=sV),e&&(r+=nV),n.filter(i=>!tE(i)).reduce((i,s)=>i+(eV.test(s)?tV:s===""?rV:iV),r)}function aV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lV(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=kd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=kd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Tr([s,h.pathname]),pathnameBase:pV(Tr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Tr([s,h.pathnameBase]))}return o}function kd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function uV(t,e=!1,n=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zo(t):t;return{pathname:n?n.startsWith("/")?n:hV(n,e):e,search:mV(r),hash:gV(i)}}function hV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t){let e=fV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Gy(t,e,n,r=!1){let i;typeof t=="string"?i=zo(t):(i={...t},Ue(!i.pathname||!i.pathname.includes("?"),rp("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),rp("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),rp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=dV(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Tr=t=>t.join("/").replace(/\/\/+/g,"/"),pV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BI=["POST","PUT","PATCH","DELETE"];new Set(BI);var vV=["GET",...BI];new Set(vV);var $o=v.createContext(null);$o.displayName="DataRouter";var Ih=v.createContext(null);Ih.displayName="DataRouterState";v.createContext(!1);var zI=v.createContext({isTransitioning:!1});zI.displayName="ViewTransition";var wV=v.createContext(new Map);wV.displayName="Fetchers";var _V=v.createContext(null);_V.displayName="Await";var Wn=v.createContext(null);Wn.displayName="Navigation";var Zl=v.createContext(null);Zl.displayName="Location";var Hn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Ky=v.createContext(null);Ky.displayName="RouteError";function EV(t,{relative:e}={}){Ue(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Wn),{hash:i,pathname:s,search:o}=eu(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Tr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Wo(){return v.useContext(Zl)!=null}function Ur(){return Ue(Wo(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Zl).location}var $I="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WI(t){v.useContext(Wn).static||v.useLayoutEffect(t)}function Es(){let{isDataRoute:t}=v.useContext(Hn);return t?VV():TV()}function TV(){Ue(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext($o),{basename:e,navigator:n}=v.useContext(Wn),{matches:r}=v.useContext(Hn),{pathname:i}=Ur(),s=JSON.stringify(Hy(r)),o=v.useRef(!1);return WI(()=>{o.current=!0}),v.useCallback((l,u={})=>{if(Un(o.current,$I),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Gy(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Tr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}v.createContext(null);function xV(){let{matches:t}=v.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function eu(t,{relative:e}={}){let{matches:n}=v.useContext(Hn),{pathname:r}=Ur(),i=JSON.stringify(Hy(n));return v.useMemo(()=>Gy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function SV(t,e){return HI(t,e)}function HI(t,e,n,r,i){var E;Ue(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(Wn),{matches:o}=v.useContext(Hn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let T=h&&h.path||"";GI(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let f=Ur(),m;if(e){let T=typeof e=="string"?zo(e):e;Ue(d==="/"||((E=T.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),m=T}else m=f;let w=m.pathname||"/",_=w;if(d!=="/"){let T=d.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=FI(t,{pathname:_});Un(h||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Un(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=PV(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Tr([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Tr([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,n,r,i);return e&&g?v.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function CV(){let t=NV(),e=yV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,o)}var IV=v.createElement(CV,null),AV=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(Hn.Provider,{value:this.props.routeContext},v.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RV({routeContext:t,match:e,children:n}){let r=v.useContext($o);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(Hn.Provider,{value:t},n)}function PV(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ue(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let f,m=!1,w=null,_=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||IV,a&&(l<0&&h===0?(GI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):l===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,h+1)),g=()=>{let E;return f?E=w:m?E=_:d.route.Component?E=v.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,v.createElement(RV,{match:d,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(AV,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:g(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):g()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bV(t){let e=v.useContext($o);return Ue(e,qy(t)),e}function kV(t){let e=v.useContext(Ih);return Ue(e,qy(t)),e}function MV(t){let e=v.useContext(Hn);return Ue(e,qy(t)),e}function Qy(t){let e=MV(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DV(){return Qy("useRouteId")}function NV(){var r;let t=v.useContext(Ky),e=kV("useRouteError"),n=Qy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VV(){let{router:t}=bV("useNavigate"),e=Qy("useNavigate"),n=v.useRef(!1);return WI(()=>{n.current=!0}),v.useCallback(async(i,s={})=>{Un(n.current,$I),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var nE={};function GI(t,e,n){!e&&!nE[t]&&(nE[t]=!0,Un(!1,n))}v.memo(OV);function OV({routes:t,future:e,state:n,unstable_onError:r}){return HI(t,void 0,n,r,e)}function LV({to:t,replace:e,state:n,relative:r}){Ue(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Wn);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=v.useContext(Hn),{pathname:o}=Ur(),a=Es(),l=Gy(t,Hy(s),o,r==="path"),u=JSON.stringify(l);return v.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Qr(t){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ue(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=zo(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=v.useMemo(()=>{let w=Rr(l,o);return w==null?null:{location:{pathname:w,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return Un(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(Wn.Provider,{value:a},v.createElement(Zl.Provider,{children:e,value:m}))}function jV({children:t,location:e}){return SV(Lm(t),e)}function Lm(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Lm(r.props.children,s));return}Ue(r.type===Qr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lm(r.props.children,s)),n.push(o)}),n}var Uc="get",Bc="application/x-www-form-urlencoded";function Ah(t){return t!=null&&typeof t.tagName=="string"}function UV(t){return Ah(t)&&t.tagName.toLowerCase()==="button"}function BV(t){return Ah(t)&&t.tagName.toLowerCase()==="form"}function zV(t){return Ah(t)&&t.tagName.toLowerCase()==="input"}function $V(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WV(t,e){return t.button===0&&(!e||e==="_self")&&!$V(t)}var uc=null;function HV(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var GV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(t){return t!=null&&!GV.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):t}function KV(t,e){let n,r,i,s,o;if(BV(t)){let a=t.getAttribute("action");r=a?Rr(a,e):null,n=t.getAttribute("method")||Uc,i=ip(t.getAttribute("enctype"))||Bc,s=new FormData(t)}else if(UV(t)||zV(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Rr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Uc,i=ip(t.getAttribute("formenctype"))||ip(a.getAttribute("enctype"))||Bc,s=new FormData(a,t),!HV()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Ah(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uc,r=null,i=Bc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qV(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function QV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XV(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await QV(s,n);return o.links?o.links():[]}return[]}));return t2(r.flat(1).filter(YV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rE(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function JV(t,e,{includeHydrateFallback:n}={}){return ZV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function ZV(t){return[...new Set(t)]}function e2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function t2(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(e2(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function KI(){let t=v.useContext($o);return Yy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function n2(){let t=v.useContext(Ih);return Yy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xy=v.createContext(void 0);Xy.displayName="FrameworkContext";function qI(){let t=v.useContext(Xy);return Yy(t,"You must render this element inside a <HydratedRouter> element"),t}function r2(t,e){let n=v.useContext(Xy),[r,i]=v.useState(!1),[s,o]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=g=>{g.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[t]),v.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ra(a,m),onBlur:Ra(l,w),onMouseEnter:Ra(u,m),onMouseLeave:Ra(d,w),onTouchStart:Ra(h,m)}]:[!1,f,{}]}function Ra(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function i2({page:t,...e}){let{router:n}=KI(),r=v.useMemo(()=>FI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(o2,{page:t,matches:r,...e}):null}function s2(t){let{manifest:e,routeModules:n}=qI(),[r,i]=v.useState([]);return v.useEffect(()=>{let s=!1;return XV(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function o2({page:t,matches:e,...n}){let r=Ur(),{manifest:i,routeModules:s}=qI(),{basename:o}=KI(),{loaderData:a,matches:l}=n2(),u=v.useMemo(()=>rE(t,e,l,i,r,"data"),[t,e,l,i,r]),d=v.useMemo(()=>rE(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(g=>{var T;let E=i.routes[g.route.id];!E||!E.hasLoader||(!u.some(P=>P.route.id===g.route.id)&&g.route.id in a&&((T=s[g.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?_=!0:w.add(g.route.id))}),w.size===0)return[];let S=qV(t,o,"data");return _&&w.size>0&&S.searchParams.set("_routes",e.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[o,a,r,i,u,e,t,s]),f=v.useMemo(()=>JV(d,i),[d,i]),m=s2(d);return v.createElement(v.Fragment,null,h.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),m.map(({key:w,link:_})=>v.createElement("link",{key:w,nonce:n.nonce,..._})))}function a2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QI&&(window.__reactRouterVersion="7.9.4")}catch{}function l2({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=qN({window:n,v5Compat:!0}));let i=r.current,[s,o]=v.useState({action:i.action,location:i.location}),a=v.useCallback(l=>{v.startTransition(()=>o(l))},[o]);return v.useLayoutEffect(()=>i.listen(a),[i,a]),v.createElement(FV,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Io=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:w}=v.useContext(Wn),_=typeof u=="string"&&YI.test(u),S,g=!1;if(typeof u=="string"&&_&&(S=u,QI))try{let A=new URL(window.location.href),b=u.startsWith("//")?new URL(A.protocol+u):new URL(u),D=Rr(b.pathname,w);b.origin===A.origin&&D!=null?u=D+b.search+b.hash:g=!0}catch{Un(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=EV(u,{relative:i}),[T,P,M]=r2(r,f),L=h2(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function I(A){e&&e(A),A.defaultPrevented||L(A)}let x=v.createElement("a",{...f,...M,href:S||E,onClick:g||s?e:I,ref:a2(m,P),target:l,"data-discover":!_&&n==="render"?"true":void 0});return T&&!_?v.createElement(v.Fragment,null,x,v.createElement(i2,{page:E})):x});Io.displayName="Link";var u2=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=eu(o,{relative:u.relative}),f=Ur(),m=v.useContext(Ih),{navigator:w,basename:_}=v.useContext(Wn),S=m!=null&&y2(h)&&a===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,E=f.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,g=g.toLowerCase()),T&&_&&(T=Rr(T,_)||T);const P=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let M=E===g||!i&&E.startsWith(g)&&E.charAt(P)==="/",L=T!=null&&(T===g||!i&&T.startsWith(g)&&T.charAt(g.length)==="/"),I={isActive:M,isPending:L,isTransitioning:S},x=M?e:void 0,A;typeof r=="function"?A=r(I):A=[r,M?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let b=typeof s=="function"?s(I):s;return v.createElement(Io,{...u,"aria-current":x,className:A,ref:d,style:b,to:o,viewTransition:a},typeof l=="function"?l(I):l)});u2.displayName="NavLink";var c2=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Uc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let w=m2(),_=g2(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&YI.test(a),E=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,M=(P==null?void 0:P.getAttribute("formmethod"))||o;w(P||T.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return v.createElement("form",{ref:m,method:S,action:_,onSubmit:r?l:E,...f,"data-discover":!g&&t==="render"?"true":void 0})});c2.displayName="Form";function d2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(t){let e=v.useContext($o);return Ue(e,d2(t)),e}function h2(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Es(),l=Ur(),u=eu(t,{relative:s});return v.useCallback(d=>{if(WV(d,e)){d.preventDefault();let h=n!==void 0?n:Il(l)===Il(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var f2=0,p2=()=>`__${String(++f2)}__`;function m2(){let{router:t}=XI("useSubmit"),{basename:e}=v.useContext(Wn),n=DV();return v.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=KV(r,e);if(i.navigate===!1){let d=i.fetcherKey||p2();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function g2(t,{relative:e}={}){let{basename:n}=v.useContext(Wn),r=v.useContext(Hn);Ue(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...eu(t||".",{relative:e})},o=Ur();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Tr([n,s.pathname])),Il(s)}function y2(t,{relative:e}={}){let n=v.useContext(zI);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XI("useViewTransitionState"),i=eu(t,{relative:e});if(!n.isTransitioning)return!1;let s=Rr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Rr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kd(i.pathname,o)!=null||kd(i.pathname,s)!=null}const v2="modulepreload",w2=function(t){return"/"+t},iE={},_2=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=w2(l),l in iE)return;iE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":v2,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function E2(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await _2(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:e}).then(h=>{s?s("/sw.js",h):i==null||i(h)}).catch(h=>{o==null||o(h)})}}return l=d(),u}var sE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},T2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new x2;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(t){const e=JI(t);return ZI.encodeByteArray(e,!0)},Md=function(t){return S2(t).replace(/\./g,"")},eA=function(t){try{return ZI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=()=>C2().__FIREBASE_DEFAULTS__,A2=()=>{if(typeof process>"u"||typeof sE>"u")return;const t=sE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eA(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return I2()||A2()||R2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tA=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},P2=t=>{const e=tA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nA=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},rA=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Md(JSON.stringify(n)),Md(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function D2(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L2(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F2(){return!D2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j2(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B2,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?z2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Br(i,a,r)}}function z2(t,e){return t.replace($2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $2=/\{\$([^}]+)}/g;function W2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oE(s)&&oE(o)){if(!Dd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function H2(t,e){const n=new G2(t,e);return n.subscribe.bind(n)}class G2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");K2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sp),i.error===void 0&&(i.error=sp),i.complete===void 0&&(i.complete=sp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q2(t){return t===Hi?void 0:t}function Y2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const J2={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Z2=Ee.INFO,eO={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},tO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=Z2,this._logHandler=tO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const nO=(t,e)=>e.some(n=>t instanceof n);let aE,lE;function rO(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iA=new WeakMap,Fm=new WeakMap,sA=new WeakMap,op=new WeakMap,Zy=new WeakMap;function sO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iA.set(n,t)}).catch(()=>{}),Zy.set(e,t),e}function oO(t){if(Fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fm.set(t,e)}let jm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aO(t){jm=t(jm)}function lO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ap(this),e,...n);return sA.set(r,e.sort?e.sort():[e]),gi(r)}:iO().includes(t)?function(...e){return t.apply(ap(this),e),gi(iA.get(this))}:function(...e){return gi(t.apply(ap(this),e))}}function uO(t){return typeof t=="function"?lO(t):(t instanceof IDBTransaction&&oO(t),nO(t,rO())?new Proxy(t,jm):t)}function gi(t){if(t instanceof IDBRequest)return sO(t);if(op.has(t))return op.get(t);const e=uO(t);return e!==t&&(op.set(t,e),Zy.set(e,t)),e}const ap=t=>Zy.get(t);function cO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gi(o.result),l.oldVersion,l.newVersion,gi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dO=["get","getKey","getAll","getAllKeys","count"],hO=["put","add","delete","clear"],lp=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return lp.set(e,s),s}aO(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",cE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Jy("@firebase/app"),mO="@firebase/app-compat",gO="@firebase/analytics-compat",yO="@firebase/analytics",vO="@firebase/app-check-compat",wO="@firebase/app-check",_O="@firebase/auth",EO="@firebase/auth-compat",TO="@firebase/database",xO="@firebase/data-connect",SO="@firebase/database-compat",CO="@firebase/functions",IO="@firebase/functions-compat",AO="@firebase/installations",RO="@firebase/installations-compat",PO="@firebase/messaging",bO="@firebase/messaging-compat",kO="@firebase/performance",MO="@firebase/performance-compat",DO="@firebase/remote-config",NO="@firebase/remote-config-compat",VO="@firebase/storage",OO="@firebase/storage-compat",LO="@firebase/firestore",FO="@firebase/vertexai-preview",jO="@firebase/firestore-compat",UO="firebase",BO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",zO={[Um]:"fire-core",[mO]:"fire-core-compat",[yO]:"fire-analytics",[gO]:"fire-analytics-compat",[wO]:"fire-app-check",[vO]:"fire-app-check-compat",[_O]:"fire-auth",[EO]:"fire-auth-compat",[TO]:"fire-rtdb",[xO]:"fire-data-connect",[SO]:"fire-rtdb-compat",[CO]:"fire-fn",[IO]:"fire-fn-compat",[AO]:"fire-iid",[RO]:"fire-iid-compat",[PO]:"fire-fcm",[bO]:"fire-fcm-compat",[kO]:"fire-perf",[MO]:"fire-perf-compat",[DO]:"fire-rc",[NO]:"fire-rc-compat",[VO]:"fire-gcs",[OO]:"fire-gcs-compat",[LO]:"fire-fst",[jO]:"fire-fst-compat",[FO]:"fire-vertex","fire-js":"fire-js",[UO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,$O=new Map,zm=new Map;function dE(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ao(t){const e=t.name;if(zm.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of Nd.values())dE(n,t);for(const n of $O.values())dE(n,t);return!0}function ev(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new tu("app","Firebase",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=BO;function oA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=nA()),!n)throw yi.create("no-options");const s=Nd.get(i);if(s){if(Dd(n,s.options)&&Dd(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const o=new X2(i);for(const l of zm.values())o.addComponent(l);const a=new HO(n,r,o);return Nd.set(i,a),a}function aA(t=Bm){const e=Nd.get(t);if(!e&&t===Bm&&nA())return oA();if(!e)throw yi.create("no-app",{appName:t});return e}function vi(t,e,n){var r;let i=(r=zO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Ao(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="firebase-heartbeat-database",KO=1,Al="firebase-heartbeat-store";let up=null;function lA(){return up||(up=cO(GO,KO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),up}async function qO(t){try{const n=(await lA()).transaction(Al),r=await n.objectStore(Al).get(uA(t));return await n.done,r}catch(e){if(e instanceof Br)Pr.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function hE(t,e){try{const r=(await lA()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,uA(t)),await r.done}catch(n){if(n instanceof Br)Pr.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function uA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1024,YO=30*24*60*60*1e3;class XO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=YO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fE(),{heartbeatsToSend:r,unsentEntries:i}=JO(this._heartbeatsCache.heartbeats),s=Md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pr.warn(n),""}}}function fE(){return new Date().toISOString().substring(0,10)}function JO(t,e=QO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j2()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pE(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){Ao(new hs("platform-logger",e=>new fO(e),"PRIVATE")),Ao(new hs("heartbeat",e=>new XO(e),"PRIVATE")),vi(Um,cE,t),vi(Um,cE,"esm2017"),vi("fire-js","")}eL("");var $m=function(t,e){return $m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},$m(t,e)};function tL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$m(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var De=function(){return De=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},De.apply(this,arguments)};function ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rL=cA,dA=new tu("auth","Firebase",cA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Jy("@firebase/auth");function iL(t,...e){Vd.logLevel<=Ee.WARN&&Vd.warn(`Auth (${Ho}): ${t}`,...e)}function zc(t,...e){Vd.logLevel<=Ee.ERROR&&Vd.error(`Auth (${Ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw nv(t,...e)}function Fn(t,...e){return nv(t,...e)}function tv(t,e,n){const r=Object.assign(Object.assign({},rL()),{[e]:n});return new tu("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return tv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ir(t,"argument-error"),tv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dA.create(t,...e)}function he(t,e,...n){if(!t)throw nv(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zc(e),new Error(e)}function br(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oL(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oL()||V2()||"connection"in navigator)?navigator.onLine:!0}function lL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=M2()||O2()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new iu(3e4,6e4);function iv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,i={}){return fA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return N2()||(u.referrerPolicy="no-referrer"),hA.fetch()(pA(t,t.config.apiHost,n,a),u)})}async function fA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uL),e);try{const i=new hL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tv(t,d,u);ir(t,d)}}catch(i){if(i instanceof Br)throw i;ir(t,"network-request-failed",{message:String(i)})}}async function dL(t,e,n,r,i={}){const s=await Go(t,e,n,r,i);return"mfaPendingCredential"in s&&ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function pA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rv(t.config,i):`${t.config.apiScheme}://${i}`}class hL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),cL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function mA(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pL(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=sv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ja(cp(i.auth_time)),issuedAtTime:Ja(cp(i.iat)),expirationTime:Ja(cp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cp(t){return Number(t)*1e3}function sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const i=eA(n);return i?JSON.parse(i):(zc("Failed to decode base64 JWT payload"),null)}catch(i){return zc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gE(t){const e=sv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&mL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rl(t,mA(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gA(s.providerUserInfo):[],a=vL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function yL(t){const e=ut(t);await Od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gA(t){return t.map(e=>{var{providerId:n}=e,r=ru(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){const n=await fA(t,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _L(t,e){return Go(t,"POST","/v2/accounts:revokeToken",iv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ho;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pL(this,e)}reload(){return yL(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Rl(this,fL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:P,isAnonymous:M,providerData:L,stsTokenManager:I}=n;he(T&&I,e,"internal-error");const x=ho.fromJSON(this.name,I);he(typeof T=="string",e,"internal-error"),Kr(h,e.name),Kr(f,e.name),he(typeof P=="boolean",e,"internal-error"),he(typeof M=="boolean",e,"internal-error"),Kr(m,e.name),Kr(w,e.name),Kr(_,e.name),Kr(S,e.name),Kr(g,e.name),Kr(E,e.name);const A=new wr({uid:T,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:M,photoURL:w,phoneNumber:m,tenantId:_,stsTokenManager:x,createdAt:g,lastLoginAt:E});return L&&Array.isArray(L)&&(A.providerData=L.map(b=>Object.assign({},b))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const s=new wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Od(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ho;a.updateFromIdToken(r);const l=new wr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function _r(t){br(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yA.type="NONE";const vE=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$c(this.userKey,i.apiKey,s),this.fullPersistenceKey=$c("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(_r(vE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_r(vE);const o=$c(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=wr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xA(e))return"Blackberry";if(SA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||_A(e))&&!e.includes("edge/"))return"Chrome";if(TA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vA(t=Ot()){return/firefox\//i.test(t)}function wA(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _A(t=Ot()){return/crios\//i.test(t)}function EA(t=Ot()){return/iemobile/i.test(t)}function TA(t=Ot()){return/android/i.test(t)}function xA(t=Ot()){return/blackberry/i.test(t)}function SA(t=Ot()){return/webos/i.test(t)}function ov(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EL(t=Ot()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TL(){return L2()&&document.documentMode===10}function CA(t=Ot()){return ov(t)||TA(t)||SA(t)||xA(t)||/windows phone/i.test(t)||EA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e=[]){let n;switch(t){case"Browser":n=wE(Ot());break;case"Worker":n=`${wE(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e={}){return Go(t,"GET","/v2/passwordPolicy",iv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class IL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new xL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mA(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(rs(this));const n=e?ut(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SL(this),n=new IL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _L(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ph(t){return ut(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=H2(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){av=t}function PL(t){return av.loadJS(t)}function bL(){return av.gapiScript}function kL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e){const n=ev(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dd(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function DL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NL(t,e,n){const r=Ph(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=AA(e),{host:o,port:a}=VL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),OL()}function AA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VL(t){const e=AA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:EE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:EE(o)}}}function EE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return dL(t,"POST","/v1/accounts:signInWithIdp",iv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="http://localhost";class fs extends RA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ru(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:LL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends lv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends su{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends su{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends su{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wr._fromIdTokenResponse(e,r,i),o=TE(r);return new Ro({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TE(r);return new Ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Br{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ld(e,n,r,i)}}function PA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,s,e,r):s})}async function FL(t,e,n=!1){const r=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const s=await Rl(t,PA(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=sv(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e,n=!1){if(yr(t.app))return Promise.reject(rs(t));const r="signIn",i=await PA(t,r,e),s=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function BL(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function zL(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function $L(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function WL(t){return ut(t).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=1e3,GL=10;class kA extends bA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);TL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const KL=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends bA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MA.type="SESSION";const DA=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await qL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=uv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function YL(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function XL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZL(){return NA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebaseLocalStorageDb",eF=1,jd="firebaseLocalStorage",OA="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function tF(){const t=indexedDB.deleteDatabase(VA);return new ou(t).toPromise()}function Gm(){const t=indexedDB.open(VA,eF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jd,{keyPath:OA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await tF(),e(await Gm()))})})}async function xE(t,e,n){const r=kh(t,!0).put({[OA]:e,value:n});return new ou(r).toPromise()}async function nF(t,e){const n=kh(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=kh(t,!0).delete(e);return new ou(n).toPromise()}const rF=800,iF=3;class LA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(ZL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XL(),!this.activeServiceWorker)return;this.sender=new QL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await xE(e,Fd,"1"),await SE(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kh(i,!1).getAll();return new ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LA.type="LOCAL";const sF=LA;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){return e?_r(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends RA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oF(t){return UL(t.auth,new cv(t),t.bypassAuthState)}function aF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),jL(n,new cv(t),t.bypassAuthState)}async function lF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),FL(n,new cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oF;case"linkViaPopup":case"linkViaRedirect":return lF;case"reauthViaPopup":case"reauthViaRedirect":return aF;default:ir(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new iu(2e3,1e4);async function cF(t,e,n){if(yr(t.app))return Promise.reject(Fn(t,"operation-not-supported-in-this-environment"));const r=Ph(t);sL(t,e,lv);const i=FA(r,n);return new Xi(r,"signInViaPopup",e,i).executeNotNull()}class Xi extends jA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uF.get())};e()}}Xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="pendingRedirect",Wc=new Map;class hF extends jA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await fF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fF(t,e){const n=gF(e),r=mF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pF(t,e){Wc.set(t._key(),e)}function mF(t){return _r(t._redirectPersistence)}function gF(t){return $c(dF,t.config.apiKey,t.name)}async function yF(t,e,n=!1){if(yr(t.app))return Promise.reject(rs(t));const r=Ph(t),i=FA(r,e),o=await new hF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=10*60*1e3;class wF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_F(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vF&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _F(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xF=/^https?/;async function SF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EF(t);for(const n of e)try{if(CF(n))return}catch{}ir(t,"unauthorized-domain")}function CF(t){const e=Wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xF.test(n))return!1;if(TF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new iu(3e4,6e4);function IE(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AF(t){return new Promise((e,n)=>{var r,i,s;function o(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Fn(t,"network-request-failed"))},timeout:IF.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jn().gapi)===null||s===void 0)&&s.load)o();else{const a=kL("iframefcb");return Jn()[a]=()=>{gapi.load?o():n(Fn(t,"network-request-failed"))},PL(`${bL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function RF(t){return Hc=Hc||AF(t),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new iu(5e3,15e3),bF="__/auth/iframe",kF="emulator/auth/iframe",MF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NF(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rv(e,kF):`https://${t.config.authDomain}/${bF}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},i=DF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nu(r).slice(1)}`}async function VF(t){const e=await RF(t),n=Jn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:NF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=Jn().setTimeout(()=>{s(o)},PF.get());function l(){Jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LF=500,FF=600,jF="_blank",UF="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BF(t,e,n,r=LF,i=FF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ot().toLowerCase();n&&(a=_A(u)?jF:n),vA(u)&&(e=e||UF,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(EL(u)&&a!=="_self")return zF(e||"",a),new AE(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new AE(h)}function zF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="__/auth/handler",WF="emulator/auth/handler",HF=encodeURIComponent("fac");async function RE(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:i};if(e instanceof lv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",W2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof su){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${HF}=${encodeURIComponent(l)}`:"";return`${GF(t)}?${nu(a).slice(1)}${u}`}function GF({config:t}){return t.emulator?rv(t,WF):`https://${t.authDomain}/${$F}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class KF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=yF,this._overrideRedirectResult=pF}async _openPopup(e,n,r,i){var s;br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await RE(e,n,r,Wm(),i);return BF(e,o,uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await RE(e,n,r,Wm(),i);return YL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VF(e),r=new wF(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dp,{type:dp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dp];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CA()||wA()||ov()}}const qF=KF;var PE="@firebase/auth",bE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XF(t){Ao(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IA(t)},u=new AL(r,i,s,l);return DL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new hs("auth-internal",e=>{const n=Ph(e.getProvider("auth").getImmediate());return(r=>new QF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(PE,bE,YF(t)),vi(PE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=5*60,ZF=rA("authIdTokenMaxAge")||JF;let kE=null;const ej=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZF)return;const i=n==null?void 0:n.token;kE!==i&&(kE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tj(t=aA()){const e=ev(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ML(t,{popupRedirectResolver:qF,persistence:[sF,KL,DA]}),r=rA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=ej(s.toString());zL(n,o,()=>o(n.currentUser)),BL(n,a=>o(a))}}const i=tA("auth");return i&&NL(n,`http://${i}`),n}function nj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XF("Browser");var rj="firebase",ij="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(rj,ij,"app");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,BA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function A(){}A.prototype=x.prototype,I.D=x.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(b,D,O){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return x.prototype[D].apply(b,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,x,A){A||(A=0);var b=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)b[D]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(D=0;16>D;++D)b[D]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=I.g[0],A=I.g[1],D=I.g[2];var O=I.g[3],k=x+(O^A&(D^O))+b[0]+3614090360&4294967295;x=A+(k<<7&4294967295|k>>>25),k=O+(D^x&(A^D))+b[1]+3905402710&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(A^O&(x^A))+b[2]+606105819&4294967295,D=O+(k<<17&4294967295|k>>>15),k=A+(x^D&(O^x))+b[3]+3250441966&4294967295,A=D+(k<<22&4294967295|k>>>10),k=x+(O^A&(D^O))+b[4]+4118548399&4294967295,x=A+(k<<7&4294967295|k>>>25),k=O+(D^x&(A^D))+b[5]+1200080426&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(A^O&(x^A))+b[6]+2821735955&4294967295,D=O+(k<<17&4294967295|k>>>15),k=A+(x^D&(O^x))+b[7]+4249261313&4294967295,A=D+(k<<22&4294967295|k>>>10),k=x+(O^A&(D^O))+b[8]+1770035416&4294967295,x=A+(k<<7&4294967295|k>>>25),k=O+(D^x&(A^D))+b[9]+2336552879&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(A^O&(x^A))+b[10]+4294925233&4294967295,D=O+(k<<17&4294967295|k>>>15),k=A+(x^D&(O^x))+b[11]+2304563134&4294967295,A=D+(k<<22&4294967295|k>>>10),k=x+(O^A&(D^O))+b[12]+1804603682&4294967295,x=A+(k<<7&4294967295|k>>>25),k=O+(D^x&(A^D))+b[13]+4254626195&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(A^O&(x^A))+b[14]+2792965006&4294967295,D=O+(k<<17&4294967295|k>>>15),k=A+(x^D&(O^x))+b[15]+1236535329&4294967295,A=D+(k<<22&4294967295|k>>>10),k=x+(D^O&(A^D))+b[1]+4129170786&4294967295,x=A+(k<<5&4294967295|k>>>27),k=O+(A^D&(x^A))+b[6]+3225465664&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^A&(O^x))+b[11]+643717713&4294967295,D=O+(k<<14&4294967295|k>>>18),k=A+(O^x&(D^O))+b[0]+3921069994&4294967295,A=D+(k<<20&4294967295|k>>>12),k=x+(D^O&(A^D))+b[5]+3593408605&4294967295,x=A+(k<<5&4294967295|k>>>27),k=O+(A^D&(x^A))+b[10]+38016083&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^A&(O^x))+b[15]+3634488961&4294967295,D=O+(k<<14&4294967295|k>>>18),k=A+(O^x&(D^O))+b[4]+3889429448&4294967295,A=D+(k<<20&4294967295|k>>>12),k=x+(D^O&(A^D))+b[9]+568446438&4294967295,x=A+(k<<5&4294967295|k>>>27),k=O+(A^D&(x^A))+b[14]+3275163606&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^A&(O^x))+b[3]+4107603335&4294967295,D=O+(k<<14&4294967295|k>>>18),k=A+(O^x&(D^O))+b[8]+1163531501&4294967295,A=D+(k<<20&4294967295|k>>>12),k=x+(D^O&(A^D))+b[13]+2850285829&4294967295,x=A+(k<<5&4294967295|k>>>27),k=O+(A^D&(x^A))+b[2]+4243563512&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^A&(O^x))+b[7]+1735328473&4294967295,D=O+(k<<14&4294967295|k>>>18),k=A+(O^x&(D^O))+b[12]+2368359562&4294967295,A=D+(k<<20&4294967295|k>>>12),k=x+(A^D^O)+b[5]+4294588738&4294967295,x=A+(k<<4&4294967295|k>>>28),k=O+(x^A^D)+b[8]+2272392833&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^A)+b[11]+1839030562&4294967295,D=O+(k<<16&4294967295|k>>>16),k=A+(D^O^x)+b[14]+4259657740&4294967295,A=D+(k<<23&4294967295|k>>>9),k=x+(A^D^O)+b[1]+2763975236&4294967295,x=A+(k<<4&4294967295|k>>>28),k=O+(x^A^D)+b[4]+1272893353&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^A)+b[7]+4139469664&4294967295,D=O+(k<<16&4294967295|k>>>16),k=A+(D^O^x)+b[10]+3200236656&4294967295,A=D+(k<<23&4294967295|k>>>9),k=x+(A^D^O)+b[13]+681279174&4294967295,x=A+(k<<4&4294967295|k>>>28),k=O+(x^A^D)+b[0]+3936430074&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^A)+b[3]+3572445317&4294967295,D=O+(k<<16&4294967295|k>>>16),k=A+(D^O^x)+b[6]+76029189&4294967295,A=D+(k<<23&4294967295|k>>>9),k=x+(A^D^O)+b[9]+3654602809&4294967295,x=A+(k<<4&4294967295|k>>>28),k=O+(x^A^D)+b[12]+3873151461&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^A)+b[15]+530742520&4294967295,D=O+(k<<16&4294967295|k>>>16),k=A+(D^O^x)+b[2]+3299628645&4294967295,A=D+(k<<23&4294967295|k>>>9),k=x+(D^(A|~O))+b[0]+4096336452&4294967295,x=A+(k<<6&4294967295|k>>>26),k=O+(A^(x|~D))+b[7]+1126891415&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~A))+b[14]+2878612391&4294967295,D=O+(k<<15&4294967295|k>>>17),k=A+(O^(D|~x))+b[5]+4237533241&4294967295,A=D+(k<<21&4294967295|k>>>11),k=x+(D^(A|~O))+b[12]+1700485571&4294967295,x=A+(k<<6&4294967295|k>>>26),k=O+(A^(x|~D))+b[3]+2399980690&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~A))+b[10]+4293915773&4294967295,D=O+(k<<15&4294967295|k>>>17),k=A+(O^(D|~x))+b[1]+2240044497&4294967295,A=D+(k<<21&4294967295|k>>>11),k=x+(D^(A|~O))+b[8]+1873313359&4294967295,x=A+(k<<6&4294967295|k>>>26),k=O+(A^(x|~D))+b[15]+4264355552&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~A))+b[6]+2734768916&4294967295,D=O+(k<<15&4294967295|k>>>17),k=A+(O^(D|~x))+b[13]+1309151649&4294967295,A=D+(k<<21&4294967295|k>>>11),k=x+(D^(A|~O))+b[4]+4149444226&4294967295,x=A+(k<<6&4294967295|k>>>26),k=O+(A^(x|~D))+b[11]+3174756917&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~A))+b[2]+718787259&4294967295,D=O+(k<<15&4294967295|k>>>17),k=A+(O^(D|~x))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var A=x-this.blockSize,b=this.B,D=this.h,O=0;O<x;){if(D==0)for(;O<=A;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<x;)if(b[D++]=I.charCodeAt(O++),D==this.blockSize){i(this,b),D=0;break}}else for(;O<x;)if(b[D++]=I[O++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var A=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.u(I),I=Array(16),x=A=0;4>x;++x)for(var b=0;32>b;b+=8)I[A++]=this.g[x]>>>b&255;return I};function s(I,x){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=x(I)}function o(I,x){this.h=x;for(var A=[],b=!0,D=I.length-1;0<=D;D--){var O=I[D]|0;b&&O==x||(A[D]=O,b=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?s(I,function(x){return new o([x|0],0>x?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return S(u(-I));for(var x=[],A=1,b=0;I>=A;b++)x[b]=I/A|0,A*=4294967296;return new o(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return S(d(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(x,8)),b=h,D=0;D<I.length;D+=8){var O=Math.min(8,I.length-D),k=parseInt(I.substring(D,D+O),x);8>O?(O=u(Math.pow(x,O)),b=b.j(O).add(u(k))):(b=b.j(A),b=b.add(u(k)))}return b}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var I=0,x=1,A=0;A<this.g.length;A++){var b=this.i(A);I+=(0<=b?b:4294967296+b)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(_(this))return"-"+S(this).toString(I);for(var x=u(Math.pow(I,6)),A=this,b="";;){var D=P(A,x).g;A=g(A,D.j(x));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=D,w(A))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=g(this,I),_(I)?-1:w(I)?0:1};function S(I){for(var x=I.g.length,A=[],b=0;b<x;b++)A[b]=~I.g[b];return new o(A,~I.h).add(f)}t.abs=function(){return _(this)?S(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0,D=0;D<=x;D++){var O=b+(this.i(D)&65535)+(I.i(D)&65535),k=(O>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);b=k>>>16,O&=65535,k&=65535,A[D]=k<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function g(I,x){return I.add(S(x))}t.j=function(I){if(w(this)||w(I))return h;if(_(this))return _(I)?S(this).j(S(I)):S(S(this).j(I));if(_(I))return S(this.j(S(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var x=this.g.length+I.g.length,A=[],b=0;b<2*x;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<I.g.length;D++){var O=this.i(b)>>>16,k=this.i(b)&65535,oe=I.i(D)>>>16,me=I.i(D)&65535;A[2*b+2*D]+=k*me,E(A,2*b+2*D),A[2*b+2*D+1]+=O*me,E(A,2*b+2*D+1),A[2*b+2*D+1]+=k*oe,E(A,2*b+2*D+1),A[2*b+2*D+2]+=O*oe,E(A,2*b+2*D+2)}for(b=0;b<x;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=x;b<2*x;b++)A[b]=0;return new o(A,0)};function E(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function T(I,x){this.g=I,this.h=x}function P(I,x){if(w(x))throw Error("division by zero");if(w(I))return new T(h,h);if(_(I))return x=P(S(I),x),new T(S(x.g),S(x.h));if(_(x))return x=P(I,S(x)),new T(S(x.g),x.h);if(30<I.g.length){if(_(I)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var A=f,b=x;0>=b.l(I);)A=M(A),b=M(b);var D=L(A,1),O=L(b,1);for(b=L(b,2),A=L(A,2);!w(b);){var k=O.add(b);0>=k.l(I)&&(D=D.add(A),O=k),b=L(b,1),A=L(A,1)}return x=g(I,D.j(x)),new T(D,x)}for(D=h;0<=I.l(x);){for(A=Math.max(1,Math.floor(I.m()/x.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=u(A),k=O.j(x);_(k)||0<k.l(I);)A-=b,O=u(A),k=O.j(x);w(O)&&(O=f),D=D.add(O),I=g(I,k)}return new T(D,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)&I.i(b);return new o(A,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)|I.i(b);return new o(A,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)^I.i(b);return new o(A,this.h^I.h)};function M(I){for(var x=I.g.length+1,A=[],b=0;b<x;b++)A[b]=I.i(b)<<1|I.i(b-1)>>>31;return new o(A,I.h)}function L(I,x){var A=x>>5;x%=32;for(var b=I.g.length-A,D=[],O=0;O<b;O++)D[O]=0<x?I.i(O+A)>>>x|I.i(O+A+1)<<32-x:I.i(O+A);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,is=o}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zA,Fa,$A,Gc,Km,WA,HA,GA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var j=c[R];if(!(j in y))break e;y=y[j]}c=c[c.length-1],R=y[c],p=p(R),p!=R&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,R=!1,j={next:function(){if(!R&&y<c.length){var U=y++;return{value:p(U,c[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var R=y.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function w(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(R,j,U){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return p.prototype[j].apply(R,q)}}function _(c){const p=c.length;if(0<p){const y=Array(p);for(let R=0;R<p;R++)y[R]=c[R];return y}return[]}function S(c,p){for(let y=1;y<arguments.length;y++){const R=arguments[y];if(l(R)){const j=c.length||0,U=R.length||0;c.length=j+U;for(let q=0;q<U;q++)c[j+q]=R[q]}else c.push(R)}}class g{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(c,p,y){for(const R in c)p.call(y,c[R],R,c)}function I(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function x(c){const p={};for(const y in c)p[y]=c[y];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let y,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(y in R)c[y]=R[y];for(let U=0;U<A.length;U++)y=A[U],Object.prototype.hasOwnProperty.call(R,y)&&(c[y]=R[y])}}function D(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function O(c){a.setTimeout(()=>{throw c},0)}function k(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class oe{constructor(){this.h=this.g=null}add(p,y){const R=me.get();R.set(p,y),this.h?this.h.next=R:this.g=R,this.h=R}}var me=new g(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,B=new oe,V=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(N)}};var N=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(y){O(y)}var p=me;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function ne(c,p){if(G.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(M){e:{try{P(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ne.aa.h.call(this)}}w(ne,G);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),ce=0;function de(c,p,y,R,j){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!R,this.ha=j,this.key=++ce,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,p,y,R,j){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var q=be(c,p,R,j);return-1<q?(p=c[q],y||(p.fa=!1)):(p=new de(p,this.src,U,!!R,j),p.fa=y,c.push(p)),p};function Te(c,p){var y=p.type;if(y in c.g){var R=c.g[y],j=Array.prototype.indexOf.call(R,p,void 0),U;(U=0<=j)&&Array.prototype.splice.call(R,j,1),U&&(ye(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function be(c,p,y,R){for(var j=0;j<c.length;++j){var U=c[j];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==R)return j}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Je={};function St(c,p,y,R,j){if(Array.isArray(p)){for(var U=0;U<p.length;U++)St(c,p[U],y,R,j);return null}return y=Pu(y),c&&c[K]?c.K(p,y,u(R)?!!R.capture:!1,j):Lt(c,p,y,!1,R,j)}function Lt(c,p,y,R,j,U){if(!p)throw Error("Invalid event type");var q=u(j)?!!j.capture:!!j,ke=ia(c);if(ke||(c[pe]=ke=new ve(c)),y=ke.add(p,y,R,q,U),y.proxy)return y;if(R=sn(),y.proxy=R,R.src=c,R.listener=y,c.addEventListener)Y||(j=q),j===void 0&&(j=!1),c.addEventListener(p.toString(),R,j);else if(c.attachEvent)c.attachEvent(Ru(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return y}function sn(){function c(y){return p.call(c.src,c.listener,y)}const p=pf;return c}function Ft(c,p,y,R,j){if(Array.isArray(p))for(var U=0;U<p.length;U++)Ft(c,p[U],y,R,j);else R=u(R)?!!R.capture:!!R,y=Pu(y),c&&c[K]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],y=be(U,y,R,j),-1<y&&(ye(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=ia(c))&&(p=c.g[p.toString()],c=-1,p&&(c=be(p,y,R,j)),(y=-1<c?p[c]:null)&&Qt(y))}function Qt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[K])Te(p.i,c);else{var y=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(y,R,c.capture):p.detachEvent?p.detachEvent(Ru(y),R):p.addListener&&p.removeListener&&p.removeListener(R),(y=ia(p))?(Te(y,c),y.h==0&&(y.src=null,p[pe]=null)):ye(c)}}}function Ru(c){return c in Je?Je[c]:Je[c]="on"+c}function pf(c,p){if(c.da)c=!0;else{p=new ne(p,this);var y=c.listener,R=c.ha||c.src;c.fa&&Qt(c),c=y.call(R,p)}return c}function ia(c){return c=c[pe],c instanceof ve?c:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(c){return typeof c=="function"?c:(c[Is]||(c[Is]=function(p){return c.handleEvent(p)}),c[Is])}function rt(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}w(rt,W),rt.prototype[K]=!0,rt.prototype.removeEventListener=function(c,p,y,R){Ft(this,c,p,y,R)};function pt(c,p){var y,R=c.F;if(R)for(y=[];R;R=R.F)y.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new G(p,c);else if(p instanceof G)p.target=p.target||c;else{var j=p;p=new G(R,c),b(p,j)}if(j=!0,y)for(var U=y.length-1;0<=U;U--){var q=p.g=y[U];j=As(q,R,!0,p)&&j}if(q=p.g=c,j=As(q,R,!0,p)&&j,j=As(q,R,!1,p)&&j,y)for(U=0;U<y.length;U++)q=p.g=y[U],j=As(q,R,!1,p)&&j}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],R=0;R<y.length;R++)ye(y[R]);delete c.g[p],c.h--}}this.F=null},rt.prototype.K=function(c,p,y,R){return this.i.add(String(c),p,!1,y,R)},rt.prototype.L=function(c,p,y,R){return this.i.add(String(c),p,!0,y,R)};function As(c,p,y,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,U=0;U<p.length;++U){var q=p[U];if(q&&!q.da&&q.capture==y){var ke=q.listener,mt=q.ha||q.src;q.fa&&Te(c.i,q),j=ke.call(mt,R)!==!1&&j}}return j&&!R.defaultPrevented}function sa(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function oa(c){c.g=sa(()=>{c.g=null,c.i&&(c.i=!1,oa(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class aa extends W{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(c){W.call(this),this.h=c,this.g={}}w(Oi,W);var bu=[];function Jw(c){L(c.g,function(p,y){this.g.hasOwnProperty(y)&&Qt(p)},c),c.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Jw(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mf=a.JSON.stringify,Qk=a.JSON.parse,Yk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function gf(){}gf.prototype.h=null;function Zw(c){return c.h||(c.h=c.i())}function e_(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yf(){G.call(this,"d")}w(yf,G);function vf(){G.call(this,"c")}w(vf,G);var Li={},t_=null;function ku(){return t_=t_||new rt}Li.La="serverreachability";function n_(c){G.call(this,Li.La,c)}w(n_,G);function ua(c){const p=ku();pt(p,new n_(p))}Li.STAT_EVENT="statevent";function r_(c,p){G.call(this,Li.STAT_EVENT,c),this.stat=p}w(r_,G);function jt(c){const p=ku();pt(p,new r_(p,c))}Li.Ma="timingevent";function i_(c,p){G.call(this,Li.Ma,c),this.size=p}w(i_,G);function ca(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function Xk(c,p,y,R,j,U){c.info(function(){if(c.g)if(U)for(var q="",ke=U.split("&"),mt=0;mt<ke.length;mt++){var Ae=ke[mt].split("=");if(1<Ae.length){var Ct=Ae[0];Ae=Ae[1];var It=Ct.split("_");q=2<=It.length&&It[1]=="type"?q+(Ct+"="+Ae+"&"):q+(Ct+"=redacted&")}}else q=null;else q=U;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+p+`
`+y+`
`+q})}function Jk(c,p,y,R,j,U,q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+p+`
`+y+`
`+U+" "+q})}function Rs(c,p,y,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+eM(c,y)+(R?" "+R:"")})}function Zk(c,p){c.info(function(){return"TIMEOUT: "+p})}da.prototype.info=function(){};function eM(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var R=y[c];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return mf(y)}catch{return p}}var Mu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wf;function Du(){}w(Du,gf),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},wf=new Du;function $r(c,p,y,R){this.j=c,this.i=p,this.l=y,this.R=R||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o_}function o_(){this.i=null,this.g="",this.h=!1}var a_={},_f={};function Ef(c,p,y){c.L=1,c.v=Lu(lr(p)),c.m=y,c.P=!0,l_(c,null)}function l_(c,p){c.F=Date.now(),Nu(c),c.A=lr(c.v);var y=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),T_(y.i,"t",R),c.C=0,y=c.j.J,c.h=new o_,c.g=U_(c.j,y?p:null,!c.m),0<c.O&&(c.M=new aa(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,R=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(bu[0]=j.toString()),j=bu);for(var U=0;U<j.length;U++){var q=St(y,j[U],R||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ua(),Xk(c.i,c.u,c.A,c.l,c.R,c.m)}$r.prototype.ca=function(c){c=c.target;const p=this.M;p&&ur(c)==3?p.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{const It=ur(this.g);var p=this.g.Ba();const ks=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||P_(this.g)))){this.J||It!=4||p==7||(p==8||0>=ks?ua(3):ua(2)),Tf(this);var y=this.g.Z();this.X=y;t:if(u_(this)){var R=P_(this.g);c="";var j=R.length,U=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),ha(this);var q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(U&&p==j-1)});R.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=y==200,Jk(this.i,this.u,this.A,this.l,this.R,It,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,mt=this.g;if((ke=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var Ae=ke;break t}}Ae=null}if(y=Ae)Rs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xf(this,y);else{this.o=!1,this.s=3,jt(12),Fi(this),ha(this);break e}}if(this.P){y=!0;let Pn;for(;!this.J&&this.C<q.length;)if(Pn=tM(this,q),Pn==_f){It==4&&(this.s=4,jt(14),y=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==a_){this.s=4,jt(15),Rs(this.i,this.l,q,"[Invalid Chunk]"),y=!1;break}else Rs(this.i,this.l,Pn,null),xf(this,Pn);if(u_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||q.length!=0||this.h.h||(this.s=1,jt(16),y=!1),this.o=this.o&&y,!y)Rs(this.i,this.l,q,"[Invalid Chunked Response]"),Fi(this),ha(this);else if(0<q.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Pf(Ct),Ct.M=!0,jt(11))}}else Rs(this.i,this.l,q,null),xf(this,q);It==4&&Fi(this),this.o&&!this.J&&(It==4?O_(this.j,this):(this.o=!1,Nu(this)))}else vM(this.g),y==400&&0<q.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Fi(this),ha(this)}}}catch{}finally{}};function u_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tM(c,p){var y=c.C,R=p.indexOf(`
`,y);return R==-1?_f:(y=Number(p.substring(y,R)),isNaN(y)?a_:(R+=1,R+y>p.length?_f:(p=p.slice(R,R+y),c.C=R+y,p)))}$r.prototype.cancel=function(){this.J=!0,Fi(this)};function Nu(c){c.S=Date.now()+c.I,c_(c,c.I)}function c_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ca(f(c.ba,c),p)}function Tf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}$r.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zk(this.i,this.A),this.L!=2&&(ua(),jt(17)),Fi(this),this.s=2,ha(this)):c_(this,this.S-c)};function ha(c){c.j.G==0||c.J||O_(c.j,c)}function Fi(c){Tf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Jw(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function xf(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Sf(y.h,c))){if(!c.K&&Sf(y.h,c)&&y.G==3){try{var R=y.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)$u(y),Bu(y);else break e;Rf(y),jt(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=ca(f(y.Za,y),6e3));if(1>=f_(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ui(y,11)}else if((c.K||y.g==c)&&$u(y),!E(p))for(j=y.Da.g.parse(p),p=0;p<j.length;p++){let Ae=j[p];if(y.T=Ae[0],Ae=Ae[1],y.G==2)if(Ae[0]=="c"){y.K=Ae[1],y.ia=Ae[2];const Ct=Ae[3];Ct!=null&&(y.la=Ct,y.j.info("VER="+y.la));const It=Ae[4];It!=null&&(y.Aa=It,y.j.info("SVER="+y.Aa));const ks=Ae[5];ks!=null&&typeof ks=="number"&&0<ks&&(R=1.5*ks,y.L=R,y.j.info("backChannelRequestTimeoutMs_="+R)),R=y;const Pn=c.g;if(Pn){const Hu=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var U=R.h;U.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Cf(U,U.h),U.h=null))}if(R.D){const bf=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(R.ya=bf,Ve(R.I,R.D,bf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),R=y;var q=c;if(R.qa=j_(R,R.J?R.ia:null,R.W),q.K){p_(R.h,q);var ke=q,mt=R.L;mt&&(ke.I=mt),ke.B&&(Tf(ke),Nu(ke)),R.g=q}else N_(R);0<y.i.length&&zu(y)}else Ae[0]!="stop"&&Ae[0]!="close"||Ui(y,7);else y.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Ui(y,7):Af(y):Ae[0]!="noop"&&y.l&&y.l.ta(Ae),y.v=0)}}ua(4)}catch{}}var nM=class{constructor(c,p){this.g=c,this.map=p}};function d_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function f_(c){return c.h?1:c.g?c.g.size:0}function Sf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Cf(c,p){c.g?c.g.add(p):c.h=p}function p_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}d_.prototype.cancel=function(){if(this.i=m_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function m_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return _(c.i)}function rM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,R=0;R<y;R++)p.push(c[R]);return p}p=[],y=0;for(R in c)p[y++]=c[R];return p}function iM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const R in c)p[y++]=R;return p}}}function g_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=iM(c),R=rM(c),j=R.length,U=0;U<j;U++)p.call(void 0,R[U],y&&y[U],c)}var y_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sM(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var R=c[y].indexOf("="),j=null;if(0<=R){var U=c[y].substring(0,R);j=c[y].substring(R+1)}else U=c[y];p(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ji){this.h=c.h,Vu(this,c.j),this.o=c.o,this.g=c.g,Ou(this,c.s),this.l=c.l;var p=c.i,y=new ma;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),v_(this,y),this.m=c.m}else c&&(p=String(c).match(y_))?(this.h=!1,Vu(this,p[1]||"",!0),this.o=fa(p[2]||""),this.g=fa(p[3]||"",!0),Ou(this,p[4]),this.l=fa(p[5]||"",!0),v_(this,p[6]||"",!0),this.m=fa(p[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}ji.prototype.toString=function(){var c=[],p=this.j;p&&c.push(pa(p,w_,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(pa(p,w_,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(pa(y,y.charAt(0)=="/"?lM:aM,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",pa(y,cM)),c.join("")};function lr(c){return new ji(c)}function Vu(c,p,y){c.j=y?fa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ou(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function v_(c,p,y){p instanceof ma?(c.i=p,dM(c.i,c.h)):(y||(p=pa(p,uM)),c.i=new ma(p,c.h))}function Ve(c,p,y){c.i.set(p,y)}function Lu(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,oM),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var w_=/[#\/\?@]/g,aM=/[#\?:]/g,lM=/[#\?]/g,uM=/[#\?@]/g,cM=/#/g;function ma(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Wr(c){c.g||(c.g=new Map,c.h=0,c.i&&sM(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=ma.prototype,t.add=function(c,p){Wr(this),this.i=null,c=Ps(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function __(c,p){Wr(c),p=Ps(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function E_(c,p){return Wr(c),p=Ps(c,p),c.g.has(p)}t.forEach=function(c,p){Wr(this),this.g.forEach(function(y,R){y.forEach(function(j){c.call(p,j,R,this)},this)},this)},t.na=function(){Wr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let R=0;R<p.length;R++){const j=c[R];for(let U=0;U<j.length;U++)y.push(p[R])}return y},t.V=function(c){Wr(this);let p=[];if(typeof c=="string")E_(this,c)&&(p=p.concat(this.g.get(Ps(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return Wr(this),this.i=null,c=Ps(this,c),E_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function T_(c,p,y){__(c,p),0<y.length&&(c.i=null,c.g.set(Ps(c,p),_(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var R=p[y];const U=encodeURIComponent(String(R)),q=this.V(R);for(R=0;R<q.length;R++){var j=U;q[R]!==""&&(j+="="+encodeURIComponent(String(q[R]))),c.push(j)}}return this.i=c.join("&")};function Ps(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function dM(c,p){p&&!c.j&&(Wr(c),c.i=null,c.g.forEach(function(y,R){var j=R.toLowerCase();R!=j&&(__(this,R),T_(this,j,y))},c)),c.j=p}function hM(c,p){const y=new da;if(a.Image){const R=new Image;R.onload=m(Hr,y,"TestLoadImage: loaded",!0,p,R),R.onerror=m(Hr,y,"TestLoadImage: error",!1,p,R),R.onabort=m(Hr,y,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(Hr,y,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function fM(c,p){const y=new da,R=new AbortController,j=setTimeout(()=>{R.abort(),Hr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(U=>{clearTimeout(j),U.ok?Hr(y,"TestPingServer: ok",!0,p):Hr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Hr(y,"TestPingServer: error",!1,p)})}function Hr(c,p,y,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(y)}catch{}}function pM(){this.g=new Yk}function mM(c,p,y){const R=y||"";try{g_(c,function(j,U){let q=j;u(j)&&(q=mf(j)),p.push(R+U+"="+encodeURIComponent(q))})}catch(j){throw p.push(R+"type="+encodeURIComponent("_badmap")),j}}function Fu(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Fu,gf),Fu.prototype.g=function(){return new ju(this.l,this.j)},Fu.prototype.i=function(c){return function(){return c}}({});function ju(c,p){rt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ju,rt),t=ju.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ya(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;x_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function x_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ga(this):ya(this),this.readyState==3&&x_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},t.Qa=function(c){this.g&&(this.response=c,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ya(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function S_(c){let p="";return L(c,function(y,R){p+=R,p+=":",p+=y,p+=`\r
`}),p}function If(c,p,y){e:{for(R in y){var R=!1;break e}R=!0}R||(y=S_(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ve(c,p,y))}function Ge(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ge,rt);var gM=/^https?$/i,yM=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wf.g(),this.v=this.o?Zw(this.o):Zw(wf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){C_(this,U);return}if(c=y||"",y=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)y.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())y.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yM,p,void 0))||R||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,q]of y)this.g.setRequestHeader(U,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{R_(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){C_(this,U)}};function C_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,I_(c),Uu(c)}function I_(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),Uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?A_(this):this.bb())},t.bb=function(){A_(this)};function A_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ur(c)!=4||c.Z()!=2)){if(c.u&&ur(c)==4)sa(c.Ea,0,c);else if(pt(c,"readystatechange"),ur(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var R;if(R=q===0){var j=String(c.D).match(y_)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!gM.test(j?j.toLowerCase():"")}y=R}if(y)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var U=2<ur(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",I_(c)}}finally{Uu(c)}}}}function Uu(c,p){if(c.g){R_(c);const y=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||pt(c,"ready");try{y.onreadystatechange=R}catch{}}}function R_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Qk(p)}};function P_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vM(c){const p={};c=(c.g&&2<=ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(E(c[R]))continue;var y=D(c[R]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[j]||[];p[j]=U,U.push(y)}I(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function b_(c){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new d_(c&&c.concurrentRequestLimit),this.Da=new pM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=b_.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,R){jt(0),this.W=c,this.H=p||{},y&&R!==void 0&&(this.H.OSID=y,this.H.OAID=R),this.F=this.X,this.I=j_(this,null,this.W),zu(this)};function Af(c){if(k_(c),c.G==3){var p=c.U++,y=lr(c.I);if(Ve(y,"SID",c.K),Ve(y,"RID",p),Ve(y,"TYPE","terminate"),wa(c,y),p=new $r(c,c.j,p),p.L=2,p.v=Lu(lr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=U_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Nu(p)}F_(c)}function Bu(c){c.g&&(Pf(c),c.g.cancel(),c.g=null)}function k_(c){Bu(c),c.u&&(a.clearTimeout(c.u),c.u=null),$u(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zu(c){if(!h_(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||V(),F||(te(),F=!0),B.add(p,c),c.B=0}}function wM(c,p){return f_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ca(f(c.Ga,c,p),L_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new $r(this,this.j,c);let U=this.o;if(this.S&&(U?(U=x(U),b(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var R=this.i[y];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=D_(this,j,p),y=lr(this.I),Ve(y,"RID",c),Ve(y,"CVER",22),this.D&&Ve(y,"X-HTTP-Session-Id",this.D),wa(this,y),U&&(this.O?p="headers="+encodeURIComponent(String(S_(U)))+"&"+p:this.m&&If(y,this.m,U)),Cf(this.h,j),this.Ua&&Ve(y,"TYPE","init"),this.P?(Ve(y,"$req",p),Ve(y,"SID","null"),j.T=!0,Ef(j,y,null)):Ef(j,y,p),this.G=2}}else this.G==3&&(c?M_(this,c):this.i.length==0||h_(this.h)||M_(this))};function M_(c,p){var y;p?y=p.l:y=c.U++;const R=lr(c.I);Ve(R,"SID",c.K),Ve(R,"RID",y),Ve(R,"AID",c.T),wa(c,R),c.m&&c.o&&If(R,c.m,c.o),y=new $r(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=D_(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Cf(c.h,y),Ef(y,R,p)}function wa(c,p){c.H&&L(c.H,function(y,R){Ve(p,R,y)}),c.l&&g_({},function(y,R){Ve(p,R,y)})}function D_(c,p,y){y=Math.min(c.i.length,y);var R=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let U=-1;for(;;){const q=["count="+y];U==-1?0<y?(U=j[0].g,q.push("ofs="+U)):U=0:q.push("ofs="+U);let ke=!0;for(let mt=0;mt<y;mt++){let Ae=j[mt].g;const Ct=j[mt].map;if(Ae-=U,0>Ae)U=Math.max(0,j[mt].g-100),ke=!1;else try{mM(Ct,q,"req"+Ae+"_")}catch{R&&R(Ct)}}if(ke){R=q.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,R}function N_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||V(),F||(te(),F=!0),B.add(p,c),c.v=0}}function Rf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ca(f(c.Fa,c),L_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,V_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ca(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Bu(this),V_(this))};function Pf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function V_(c){c.g=new $r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=lr(c.qa);Ve(p,"RID","rpc"),Ve(p,"SID",c.K),Ve(p,"AID",c.T),Ve(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(p,"TO",c.ja),Ve(p,"TYPE","xmlhttp"),wa(c,p),c.m&&c.o&&If(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Lu(lr(p)),y.m=null,y.P=!0,l_(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Bu(this),Rf(this),jt(19))};function $u(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function O_(c,p){var y=null;if(c.g==p){$u(c),Pf(c),c.g=null;var R=2}else if(Sf(c.h,p))y=p.D,p_(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;R=ku(),pt(R,new i_(R,y)),zu(c)}else N_(c);else if(j=p.s,j==3||j==0&&0<p.X||!(R==1&&wM(c,p)||R==2&&Rf(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),j){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function L_(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function Ui(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),R=c.Xa;const j=!R;R=new ji(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vu(R,"https"),Lu(R),j?hM(R.toString(),y):fM(R.toString(),y)}else jt(2);c.G=0,c.l&&c.l.sa(p),F_(c),k_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function F_(c){if(c.G=0,c.ka=[],c.l){const p=m_(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function j_(c,p,y){var R=y instanceof ji?lr(y):new ji(y);if(R.g!="")p&&(R.g=p+"."+R.g),Ou(R,R.s);else{var j=a.location;R=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var U=new ji(null);R&&Vu(U,R),p&&(U.g=p),j&&Ou(U,j),y&&(U.l=y),R=U}return y=c.D,p=c.ya,y&&p&&Ve(R,y,p),Ve(R,"VER",c.la),wa(c,R),R}function U_(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ge(new Fu({eb:y})):new Ge(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function B_(){}t=B_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wu(){}Wu.prototype.g=function(c,p){return new on(c,p)};function on(c,p){rt.call(this),this.g=new b_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new bs(this)}w(on,rt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Af(this.g)},on.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=mf(c),c=y);p.i.push(new nM(p.Ya++,c)),p.G==3&&zu(p)},on.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,on.aa.N.call(this)};function z_(c){yf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(z_,yf);function $_(){vf.call(this),this.status=1}w($_,vf);function bs(c){this.g=c}w(bs,B_),bs.prototype.ua=function(){pt(this.g,"a")},bs.prototype.ta=function(c){pt(this.g,new z_(c))},bs.prototype.sa=function(c){pt(this.g,new $_)},bs.prototype.ra=function(){pt(this.g,"b")},Wu.prototype.createWebChannel=Wu.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,GA=function(){return new Wu},HA=function(){return ku()},WA=Li,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,Gc=Mu,s_.COMPLETE="complete",$A=s_,e_.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Fa=e_,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,zA=Ge}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Jy("@firebase/firestore");function Pa(){return ps.logLevel}function ee(t,...e){if(ps.logLevel<=Ee.DEBUG){const n=e.map(dv);ps.debug(`Firestore (${Ko}): ${t}`,...n)}}function kr(t,...e){if(ps.logLevel<=Ee.ERROR){const n=e.map(dv);ps.error(`Firestore (${Ko}): ${t}`,...n)}}function Po(t,...e){if(ps.logLevel<=Ee.WARN){const n=e.map(dv);ps.warn(`Firestore (${Ko}): ${t}`,...n)}}function dv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Ie(t,e){t||se()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class oj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aj{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new KA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new bt(e)}}class lj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ie(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new cj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new lt(0,0))}static max(){return new ue(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Pl{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Pl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return fj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Me.fromString(e))}static fromName(e){return new ie(Me.fromString(e).popFirst(5))}static empty(){return new ie(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Me(e.slice()))}}function pj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Ti(i,ie.empty(),e)}function mj(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(ue.min(),ie.empty(),-1)}static max(){return new Ti(ue.max(),ie.empty(),-1)}}function gj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==yj)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function wj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hv.oe=-1;function uu(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function _j(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new Et(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YA("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Ej=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=Ej.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pv(t){const e=t.mapValue.fields.__previous_value__;return fv(e)?pv(e):e}function bl(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{}};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:Sj(t)?9007199254740991:xj(t)?10:11:se()}function sr(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ms(i.bytesValue).isEqual(ms(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Ud(o)===Ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(NE(o)!==NE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!sr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Ml(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(bl(t),bl(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ms(s),l=ms(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Re(a[u],l[u]);if(d!==0)return d}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Re(Ye(s.latitude),Ye(o.latitude));return a!==0?a:Re(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Re(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:LE(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fc.mapValue&&o===fc.mapValue)return 0;if(s===fc.mapValue)return 1;if(o===fc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Re(l[h],d[h]);if(f!==0)return f;const m=ko(a[l[h]],u[d[h]]);if(m!==0)return m}return Re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=xi(t),r=xi(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function LE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ko(n[i],r[i]);if(s)return s}return Re(n.length,r.length)}function Mo(t){return qm(t)}function qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qm(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function FE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qm(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function UE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kc(t){return!!t&&"mapValue"in t}function xj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Bt(Za(this.value))}}function XA(t){const e=[];return Ts(t.fields,(n,r)=>{const i=new wt([n]);if(Kc(r)){const s=XA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,ue.min(),ue.min(),ue.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,ue.min(),ue.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,ue.min(),ue.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function BE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=ko(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class nt extends JA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Aj(e,n,r):n==="array-contains"?new bj(e,r):n==="in"?new kj(e,r):n==="not-in"?new Mj(e,r):n==="array-contains-any"?new Dj(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Rj(e,r):new Pj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends JA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return ZA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZA(t){return t.op==="and"}function eR(t){return Ij(t)&&ZA(t)}function Ij(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function Ym(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(eR(t))return t.filters.map(e=>Ym(e)).join(",");{const e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function tR(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&sr(r.value,i.value)}(t,e):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tR(o,i.filters[a]),!0):!1}(t,e):void se()}function nR(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(nR).join(" ,")+"}"}(t):"Filter"}class Aj extends nt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rj extends nt{constructor(e,n){super(e,"in",n),this.keys=rR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pj extends nt{constructor(e,n){super(e,"not-in",n),this.keys=rR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class bj extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mv(n)&&Ml(n.arrayValue,this.value)}}class kj extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class Mj extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ml(this.value.arrayValue,n)}}class Dj extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function $E(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nj(t,e,n,r,i,s,o)}function gv(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.ue=n}return e.ue}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function Xm(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Vj(t,e,n,r,i,s,o,a){return new qo(t,e,n,r,i,s,o,a)}function Mh(t){return new qo(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iR(t){return t.collectionGroup!==null}function el(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Dl(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new Dl(wt.keyField(),r))}return e.ce}function er(t){const e=fe(t);return e.le||(e.le=Oj(e,el(t))),e.le}function Oj(t,e){if(t.limitType==="F")return $E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dl(i.field,s)});const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return $E(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jm(t,e){const n=t.filters.concat([e]);return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zd(t,e,n){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return yv(er(t),er(e))&&t.limitType===e.limitType}function sR(t){return`${gv(er(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nR(i)).join(", ")}]`),uu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function Nh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of el(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=BE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,el(r),i)||r.endAt&&!function(o,a,l){const u=BE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,el(r),i))}(t,e)}function Lj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oR(t){return(e,n)=>{let r=!1;for(const i of el(t)){const s=Fj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fj(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ko(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new He(ie.comparator);function Mr(){return jj}const aR=new He(ie.comparator);function ja(...t){let e=aR;for(const n of t)e=e.insert(n.key,n);return e}function lR(t){let e=aR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return tl()}function uR(){return tl()}function tl(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Uj=new He(ie.comparator),Bj=new Et(ie.comparator);function _e(...t){let e=Bj;for(const n of t)e=e.add(n);return e}const zj=new Et(Re);function $j(){return zj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function cR(t){return{integerValue:""+t}}function Wj(t,e){return _j(e)?cR(e):vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function Hj(t,e,n){return t instanceof Nl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fv(s)&&(s=pv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vl?hR(t,e):t instanceof Ol?fR(t,e):function(i,s){const o=dR(i,s),a=HE(o)+HE(i.Pe);return Qm(o)&&Qm(i.Pe)?cR(a):vv(i.serializer,a)}(t,e)}function Gj(t,e,n){return t instanceof Vl?hR(t,e):t instanceof Ol?fR(t,e):n}function dR(t,e){return t instanceof $d?function(r){return Qm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Nl extends Vh{}class Vl extends Vh{constructor(e){super(),this.elements=e}}function hR(t,e){const n=pR(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ol extends Vh{constructor(e){super(),this.elements=e}}function fR(t,e){let n=pR(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class $d extends Vh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function HE(t){return Ye(t.integerValue||t.doubleValue)}function pR(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.field=e,this.transform=n}}function qj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vl&&i instanceof Vl||r instanceof Ol&&i instanceof Ol?bo(r.elements,i.elements,sr):r instanceof $d&&i instanceof $d?sr(r.Pe,i.Pe):r instanceof Nl&&i instanceof Nl}(t.transform,e.transform)}class Qj{constructor(e,n){this.version=e,this.transformResults=n}}class Mt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mt}static exists(e){return new Mt(void 0,e)}static updateTime(e){return new Mt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oh{}function mR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lh(t.key,Mt.none()):new cu(t.key,t.data,Mt.none());{const n=t.data,r=Bt.empty();let i=new Et(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new cn(i.toArray()),Mt.none())}}function Yj(t,e,n){t instanceof cu?function(i,s,o){const a=i.value.clone(),l=KE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!qc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=KE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(gR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,r){return t instanceof cu?function(s,o,a,l){if(!qc(s.precondition,o))return a;const u=s.value.clone(),d=qE(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,a,l){if(!qc(s.precondition,o))return a;const u=qE(s.fieldTransforms,l,o),d=o.data;return d.setAll(gR(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return qc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Xj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dR(r.transform,i||null);s!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,s))}return n||null}function GE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bo(r,i,(s,o)=>qj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends Oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KE(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Gj(o,a,n[i]))}return r}function qE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hj(s,o,e))}return r}class Lh extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=mR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>GE(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>GE(n,r))}}class wv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return Uj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,xe;function vR(t){switch(t){default:return se();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function wR(t){if(t===void 0)return kr("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ze.OK:return z.OK;case Ze.CANCELLED:return z.CANCELLED;case Ze.UNKNOWN:return z.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return z.INTERNAL;case Ze.UNAVAILABLE:return z.UNAVAILABLE;case Ze.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ze.NOT_FOUND:return z.NOT_FOUND;case Ze.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ze.ABORTED:return z.ABORTED;case Ze.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ze.DATA_LOSS:return z.DATA_LOSS;default:return se()}}(xe=Ze||(Ze={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new is([4294967295,4294967295],0);function QE(t){const e=tU().encode(t),n=new BA;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new is([n,r],0),new is([i,s],0)]}class _v{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(r<0)throw new Ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=is.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(is.fromNumber(r)));return i.compare(nU)===1&&(i=new is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _v(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(ue.min(),i,new He(Re),Mr(),_e())}}class du{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new du(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _R{constructor(e,n){this.targetId=e,this.me=n}}class ER{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.fe=0,this.ge=ZE(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new du(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ZE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=JE(),this.Qe=new He(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Xm(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,ht.newNoDocument(o,ue.min()))}else Ie(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ms(r).toUint8Array()}catch(l){if(l instanceof YA)return Po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _v(o,i,s)}catch(l){return Po(l instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Xm(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ht.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Fh(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=JE(),this.Qe=new He(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new XE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new XE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function JE(){return new He(ie.comparator)}function ZE(){return new He(ie.comparator)}const iU={asc:"ASCENDING",desc:"DESCENDING"},sU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oU={and:"AND",or:"OR"};class aU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||uu(e)?e:{value:e}}function Wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lU(t,e){return Wd(t,e.toTimestamp())}function hn(t){return Ie(!!t),ue.fromTimestamp(function(n){const r=xi(n);return new lt(r.seconds,r.nanos)}(t))}function Ev(t,e){return eg(t,e).canonicalString()}function eg(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xR(t){const e=Me.fromString(t);return Ie(PR(e)),e}function Hd(t,e){return Ev(t.databaseId,e.path)}function rl(t,e){const n=xR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(CR(n))}function SR(t,e){return Ev(t.databaseId,e)}function uU(t){const e=xR(t);return e.length===4?Me.emptyPath():CR(e)}function tg(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eT(t,e,n){return{name:Hd(t,e),fields:n.value.mapValue.fields}}function cU(t,e){return"found"in e?function(r,i){Ie(!!i.found),i.found.name,i.found.updateTime;const s=rl(r,i.found.name),o=hn(i.found.updateTime),a=i.found.createTime?hn(i.found.createTime):ue.min(),l=new Bt({mapValue:{fields:i.found.fields}});return ht.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Ie(!!i.missing),Ie(!!i.readTime);const s=rl(r,i.missing),o=hn(i.readTime);return ht.newNoDocument(s,o)}(t,e):se()}function dU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ie(d===void 0||typeof d=="string"),xt.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:wR(u.code);return new Q(d,u.message||"")}(o);n=new ER(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rl(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):ue.min(),a=new Bt({mapValue:{fields:r.document.fields}}),l=ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Qc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rl(t,r.document),s=r.readTime?hn(r.readTime):ue.min(),o=ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rl(t,r.document),s=r.removedTargetIds||[];n=new Qc([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new eU(i,s),a=r.targetId;n=new _R(a,o)}}return n}function IR(t,e){let n;if(e instanceof cu)n={update:eT(t,e.key,e.value)};else if(e instanceof Lh)n={delete:Hd(t,e.key)};else if(e instanceof Di)n={update:eT(t,e.key,e.data),updateMask:_U(e.fieldMask)};else{if(!(e instanceof yR))return se();n={verify:Hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $d)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function hU(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hn(i.updateTime):hn(s);return o.isEqual(ue.min())&&(o=hn(s)),new Qj(o,i.transformResults||[])}(n,e))):[]}function fU(t,e){return{documents:[SR(t,e.path)]}}function pU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SR(t,i);const s=function(u){if(u.length!==0)return RR(Bn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Fs(f.field),direction:yU(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function mU(t){let e=uU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=AR(h);return f instanceof Bn&&eR(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Dl(js(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,uu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Bd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Bd(m,f)}(n.endAt)),Vj(e,i,o,s,a,"F",l,u)}function gU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=js(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=js(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=js(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=js(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>AR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function yU(t){return iU[t]}function vU(t){return sU[t]}function wU(t){return oU[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function js(t){return wt.fromServerFormat(t.fieldPath)}function RR(t){return t instanceof nt?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:vU(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(i=>RR(i));return r.length===1?r[0]:{compositeFilter:{op:wU(n.op),filters:r}}}(t):se()}function _U(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.ct=e}}function TU(t){const e=mU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.un=new SU}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ti.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class SU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Do(0)}static kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nl(r.mutation,i,cn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ja();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr();const o=tl(),a=function(){return tl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Di)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),nl(d.mutation,u,d.mutation.getFieldMask(),lt.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new IU(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tl();let i=new He((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||cn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=uR();d.forEach(f=>{if(!s.has(f)){const m=mR(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Ji());let a=-1,l=s;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:lR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ja();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(h,f){return new qo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,ht.newInvalidDocument(d)))});let a=ja();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&nl(d.mutation,u,cn.empty(),lt.now()),Nh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:TU(i.bundledQuery),readTime:hn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.overlays=new He(ie.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Ji(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ji(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ji(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zj(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Tr=new Et(ct.Er),this.dr=new Et(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new Me([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new Me([])),r=new ct(n,e),i=new ct(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(ct.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Jj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Re);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new Et(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.Mr=e,this.docs=function(){return new He(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ht.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||gj(mj(d),r)<=0||(i.has(d.key)||Nh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DU(this)}getSize(e){return $.resolve(this.size)}}class DU extends CU{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.Nr=new Qo(n=>gv(n),yv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tv,this.targetCount=0,this.kr=Do.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.qr={},this.overlays={},this.Qr=new hv(0),this.Kr=!1,this.Kr=!0,this.$r=new bU,this.referenceDelegate=e(this),this.Ur=new NU(this),this.indexManager=new xU,this.remoteDocumentCache=function(i){return new MU(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new EU(n),this.Gr=new RU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new kU(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new OU(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class OU extends vj{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Jr=new Tv,this.Yr=null}static Zr(e){return new xv(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return F2()?8:wj(Ot())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new LU;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pa()<=Ee.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Pa()<=Ee.DEBUG&&ee("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pa()<=Ee.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):$.resolve())}Yi(e,n){if(WE(n))return $.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zd(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,zd(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return WE(n)||i.isEqual(ue.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Pa()<=Ee.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,o,n,pj(i,-1)).next(a=>a))})}ts(e,n){let r=new Et(oR(e));return n.forEach((i,s)=>{Nh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Pa()<=Ee.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(Re),this._s=new Qo(s=>gv(s),yv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function UU(t,e,n,r){return new jU(t,e,n,r)}async function bR(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function BU(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=$.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(_=>{const S=u.docVersions.get(w);Ie(S!==null),_.version.compareTo(S)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kR(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zU(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(xt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(_,S,g){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Mr(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push($U(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ue.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function $U(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function WU(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HU(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ng(t,e,n){const r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lu(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tT(t,e,n){const r=fe(t);let i=ue.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=fe(l),f=h._s.get(d);return f!==void 0?$.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:_e())).next(a=>(GU(r,Lj(e),a),{documents:a,Ts:s})))}function GU(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class nT{constructor(){this.activeTargetIds=$j()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KU{constructor(){this.so=new nT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function hp(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class XU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=hp(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Po("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=QU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=hp();return new Promise((o,a)=>{const l=new zA;l.setWithCredentials(!0),l.listenOnce($A.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gc.NO_ERROR:const d=l.getResponseJson();ee(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Gc.TIMEOUT:ee(Pt,`RPC '${e}' ${s} timed out`),a(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const h=l.getStatus();if(ee(Pt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(S){const g=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(g)>=0?g:z.UNKNOWN}(m.status);a(new Q(w,m.message))}else a(new Q(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(z.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{ee(Pt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Pt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=hp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=GA(),a=HA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(Pt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const w=new YU({Io:S=>{m?ee(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(ee(Pt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ee(Pt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),_=(S,g,E)=>{S.listen(g,T=>{try{E(T)}catch(P){setTimeout(()=>{throw P},0)}})};return _(h,Fa.EventType.OPEN,()=>{m||(ee(Pt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),_(h,Fa.EventType.CLOSE,()=>{m||(m=!0,ee(Pt,`RPC '${e}' stream ${i} transport closed`),w.So())}),_(h,Fa.EventType.ERROR,S=>{m||(m=!0,Po(Pt,`RPC '${e}' stream ${i} transport errored:`,S),w.So(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),_(h,Fa.EventType.MESSAGE,S=>{var g;if(!m){const E=S.data[0];Ie(!!E);const T=E,P=T.error||((g=T[0])===null||g===void 0?void 0:g.error);if(P){ee(Pt,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let L=function(A){const b=Ze[A];if(b!==void 0)return wR(b)}(M),I=P.message;L===void 0&&(L=z.INTERNAL,I="Unknown error status: "+M+" with message "+P.message),m=!0,w.So(new Q(L,I)),h.close()}else ee(Pt,`RPC '${e}' stream ${i} received:`,E),w.bo(E)}}),_(a,WA.STAT_EVENT,S=>{S.stat===Km.PROXY?ee(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Km.NOPROXY&&ee(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return new aU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Cv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JU extends MR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=dU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?hn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xm(l)?{documents:fU(s,l)}:{query:pU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TR(s,o.resumeToken);const u=Zm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Wd(s,o.snapshotVersion.toTimestamp());const u=Zm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=gU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tg(this.serializer),n.removeTarget=e,this.a_(n)}}class ZU extends MR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=hU(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,eg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,eg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class t4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{xs(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.L_.add(4),await hu(u),u.q_.set("Unknown"),u.L_.delete(4),await Uh(u)}(this))})}),this.q_=new t4(r,i)}}async function Uh(t){if(xs(t))for(const e of t.B_)await e(!0)}async function hu(t){for(const e of t.B_)await e(!1)}function DR(t,e){const n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pv(n)?Rv(n):Yo(n).r_()&&Av(n,e))}function Iv(t,e){const n=fe(t),r=Yo(n);n.N_.delete(e),r.r_()&&NR(n,e),n.N_.size===0&&(r.r_()?r.o_():xs(n)&&n.q_.set("Unknown"))}function Av(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).A_(e)}function NR(t,e){t.Q_.xe(e),Yo(t).R_(e)}function Rv(t){t.Q_=new rU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.q_.v_()}function Pv(t){return xs(t)&&!Yo(t).n_()&&t.N_.size>0}function xs(t){return fe(t).L_.size===0}function VR(t){t.Q_=void 0}async function r4(t){t.q_.set("Online")}async function i4(t){t.N_.forEach((e,n)=>{Av(t,e)})}async function s4(t,e){VR(t),Pv(t)?(t.q_.M_(e),Rv(t)):t.q_.set("Unknown")}async function o4(t,e,n){if(t.q_.set("Online"),e instanceof ER&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof Qc?t.Q_.Ke(e):e instanceof _R?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await kR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),NR(s,l);const h=new ai(d.target,l,u,d.sequenceNumber);Av(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!lu(e))throw e;t.L_.add(1),await hu(t),t.q_.set("Offline"),n||(n=()=>kR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Uh(t)})}function OR(t,e){return e().catch(n=>Gd(t,n,e))}async function Bh(t){const e=fe(t),n=Si(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;a4(e);)try{const i=await WU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,l4(e,i)}catch(i){await Gd(e,i)}LR(e)&&FR(e)}function a4(t){return xs(t)&&t.O_.length<10}function l4(t,e){t.O_.push(e);const n=Si(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LR(t){return xs(t)&&!Si(t).n_()&&t.O_.length>0}function FR(t){Si(t).start()}async function u4(t){Si(t).p_()}async function c4(t){const e=Si(t);for(const n of t.O_)e.m_(n.mutations)}async function d4(t,e,n){const r=t.O_.shift(),i=wv.from(r,e,n);await OR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bh(t)}async function h4(t,e){e&&Si(t).V_&&await async function(r,i){if(function(o){return vR(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Si(r).s_(),await OR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bh(r)}}(t,e),LR(t)&&FR(t)}async function iT(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=xs(n);n.L_.add(3),await hu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Uh(n)}async function f4(t,e){const n=fe(t);e?(n.L_.delete(2),await Uh(n)):e||(n.L_.add(2),await hu(n),n.q_.set("Unknown"))}function Yo(t){return t.K_||(t.K_=function(n,r,i){const s=fe(n);return s.w_(),new JU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:r4.bind(null,t),Ro:i4.bind(null,t),mo:s4.bind(null,t),d_:o4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pv(t)?Rv(t):t.q_.set("Unknown")):(await t.K_.stop(),VR(t))})),t.K_}function Si(t){return t.U_||(t.U_=function(n,r,i){const s=fe(n);return s.w_(),new ZU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:u4.bind(null,t),mo:h4.bind(null,t),f_:c4.bind(null,t),g_:d4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bh(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(kr("AsyncQueue",`${e}: ${t}`),lu(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.W_=new He(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new No(e,n,mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class m4{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=oT(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function oT(){return new Qo(t=>sR(t),Dh)}async function Mv(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new p4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=kv(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Nv(n)}async function Dv(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g4(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Nv(n)}function y4(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Nv(t){t.Y_.forEach(e=>{e.next()})}var rg,aT;(aT=rg||(rg={})).ea="default",aT.Cache="cache";class Vv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.key=e}}class UR{constructor(e){this.key=e}}class v4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=oR(e),this.Ra=new mo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sT,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Nh(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?w!==_&&(r.track({type:3,doc:m}),S=!0):this.ga(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,w){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(m)-_(w)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new No(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new UR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new jR(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return No.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class w4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _4{constructor(e){this.key=e,this.va=!1}}class E4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Qo(a=>sR(a),Dh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(ie.comparator),this.Na=new Map,this.La=new Tv,this.Ba={},this.ka=new Map,this.qa=Do.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function T4(t,e,n=!0){const r=GR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await BR(r,e,n,!0),i}async function x4(t,e){const n=GR(t);await BR(n,e,!0,!1)}async function BR(t,e,n,r){const i=await HU(t.localStore,er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await S4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&DR(t.remoteStore,i),a}async function S4(t,e,n,r,i){t.Ka=(h,f,m)=>async function(_,S,g,E){let T=S.view.ma(g);T.ns&&(T=await tT(_.localStore,S.query,!1).then(({documents:I})=>S.view.ma(I,T)));const P=E&&E.targetChanges.get(S.targetId),M=E&&E.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(T,_.isPrimaryClient,P,M);return uT(_,S.targetId,L.wa),L.snapshot}(t,h,f,m);const s=await tT(t.localStore,e,!0),o=new v4(e,s.Ts),a=o.ma(s.documents),l=du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);uT(t,n,u.wa);const d=new w4(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function C4(t,e,n){const r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Dh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ng(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iv(r.remoteStore,i.targetId),ig(r,i.targetId)}).catch(au)):(ig(r,i.targetId),await ng(r.localStore,i.targetId,!0))}async function I4(t,e){const n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(n.remoteStore,r.targetId))}async function A4(t,e,n){const r=N4(t);try{const i=await function(o,a){const l=fe(o),u=lt.now(),d=a.reduce((m,w)=>m.add(w.key),_e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Mr(),_=_e();return l.cs.getEntries(m,d).next(S=>{w=S,w.forEach((g,E)=>{E.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(S=>{h=S;const g=[];for(const E of a){const T=Xj(E,h.get(E.key).overlayedDocument);T!=null&&g.push(new Di(E.key,T,XA(T.value.mapValue),Mt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(S=>{f=S;const g=S.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,S.batchId,g)})}).then(()=>({batchId:f.batchId,changes:lR(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new He(Re)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await fu(r,i.changes),await Bh(r.remoteStore)}catch(i){const s=kv(i,"Failed to persist write");n.reject(s)}}async function zR(t,e){const n=fe(t);try{const r=await zU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ie(o.va):i.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),await fu(n,r,e)}catch(r){await au(r)}}function lT(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Nv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R4(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new He(ie.comparator);o=o.insert(s,ht.newNoDocument(s,ue.min()));const a=_e().add(s),l=new Fh(ue.min(),new Map,new He(Re),o,a);await zR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ov(r)}else await ng(r.localStore,e,!1).then(()=>ig(r,e,n)).catch(au)}async function P4(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await BU(n.localStore,e);WR(n,r,null),$R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,i)}catch(i){await au(i)}}async function b4(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ie(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);WR(r,e,n),$R(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,i)}catch(i){await au(i)}}function $R(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WR(t,e,n){const r=fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HR(t,r)})}function HR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Iv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ov(t))}function uT(t,e,n){for(const r of n)r instanceof jR?(t.La.addReference(r.key,e),k4(t,r)):r instanceof UR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HR(t,r.key)):se()}function k4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ov(t))}function Ov(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new _4(n)),t.Oa=t.Oa.insert(n,r),DR(t.remoteStore,new ai(er(Mh(n.path)),r,"TargetPurposeLimboResolution",hv.oe))}}async function fu(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Sv.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!lu(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),w=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(f,_)}}}(r.localStore,s))}async function M4(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await bR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Q(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.hs)}}function D4(t,e){const n=fe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function GR(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R4.bind(null,e),e.Ca.d_=g4.bind(null,e.eventManager),e.Ca.$a=y4.bind(null,e.eventManager),e}function N4(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return UU(this.persistence,new FU,e.initialUser,this.serializer)}Ga(e){return new VU(xv.Zr,this.serializer)}Wa(e){return new KU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class sg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await f4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m4}()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),r=function(s){return new XU(s)}(e.databaseInfo);return function(s,o,a,l){return new e4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new n4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lT(this.syncEngine,n,0),function(){return rT.D()?new rT:new qU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new E4(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await hu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=fe(i),a={documents:s.map(h=>Hd(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Me.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=cU(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());Ie(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new yR(i,this.precondition(i)))}),await async function(r,i){const s=fe(r),o={writes:i.map(a=>IR(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,Me.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?Mt.exists(!1):Mt.updateTime(n):Mt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new Q(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(n)}return Mt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new Cv(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new V4(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!uu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=qA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pp(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F4(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iT(e.remoteStore,i)),t._onlineComponents=e}async function F4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await pp(t,new Kd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await pp(t,new Kd);return t._offlineComponents}async function Fv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await cT(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await cT(t,new sg))),t._onlineComponents}function j4(t){return Fv(t).then(e=>e.syncEngine)}function U4(t){return Fv(t).then(e=>e.datastore)}async function qd(t){const e=await Fv(t),n=e.eventManager;return n.onListen=T4.bind(null,e.syncEngine),n.onUnlisten=C4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),n}function B4(t,e,n={}){const r=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Lv({next:f=>{d.Za(),o.enqueueAndForget(()=>Dv(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Vv(Mh(a.path),d,{includeMetadataChanges:!0,_a:!0});return Mv(s,h)}(await qd(t),t.asyncQueue,e,n,r)),r.promise}function z4(t,e,n={}){const r=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Lv({next:f=>{d.Za(),o.enqueueAndForget(()=>Dv(s,h)),f.fromCache&&l.source==="server"?u.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Vv(a,d,{includeMetadataChanges:!0,_a:!0});return Mv(s,h)}(await qd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $4(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hT(t){if(!ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fT(t){if(ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sj;switch(r.type){case"firstParty":return new uj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dT.get(n);r&&(ee("ComponentProvider","Removing Datastore"),dT.delete(n),r.terminate())}(this),Promise.resolve()}}function W4(t,e,n,r={}){var i;const s=(t=fn(t,$h))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bt.MOCK_USER;else{a=k2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bt(u)}t._authCredentials=new oj(new KA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class wi extends zr{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ie(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function xr(t,e,...n){if(t=ut(t),qR("collection","path",e),t instanceof $h){const r=Me.fromString(e,...n);return fT(r),new wi(t,null,r)}{if(!(t instanceof Nt||t instanceof wi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return fT(r),new wi(t.firestore,null,r)}}function Vn(t,e,...n){if(t=ut(t),arguments.length===1&&(e=qA.newId()),qR("doc","path",e),t instanceof $h){const r=Me.fromString(e,...n);return hT(r),new Nt(t,null,new ie(r))}{if(!(t instanceof Nt||t instanceof wi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return hT(r),new Nt(t.firestore,t instanceof wi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Cv(this,"async_queue_retry"),this.Vu=()=>{const r=fp();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lu(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=bv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function gT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Dr extends $h{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function H4(t,e){const n=typeof t=="object"?t:aA(),r=typeof t=="string"?t:"(default)",i=ev(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=P2("firestore");s&&W4(i,...s)}return i}function pu(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G4(t),t._firestoreClient}function G4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new Tj(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new L4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(xt.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ys(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^__.*__$/;class q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class QR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Bv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(YR(this.Cu)&&K4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Q4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}Qu(e,n,r,i=!1){return new Bv({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gh(t){const e=t._freezeSettings(),n=jh(t._databaseId);return new Q4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Wv("Data must be an object, but it was:",o,r);const a=XR(r,o);let l,u;if(s.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=og(e,h,n);if(!o.contains(f))throw new Q(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZR(d,f)||d.push(f)}l=new cn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new q4(new Bt(a),l,u)}class Kh extends Hh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}class $v extends Hh{_toFieldTransform(e){return new Kj(e.path,new Nl)}isEqual(e){return e instanceof $v}}function Y4(t,e,n,r){const i=t.Qu(1,e,n);Wv("Data must be an object, but it was:",i,r);const s=[],o=Bt.empty();Ts(r,(l,u)=>{const d=Hv(e,l,n);u=ut(u);const h=i.Nu(d);if(u instanceof Kh)s.push(d);else{const f=mu(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new cn(s);return new QR(o,a,i.fieldTransforms)}function X4(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[og(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(og(e,s[f])),l.push(s[f+1]);const u=[],d=Bt.empty();for(let f=a.length-1;f>=0;--f)if(!ZR(u,a[f])){const m=a[f];let w=l[f];w=ut(w);const _=o.Nu(m);if(w instanceof Kh)u.push(m);else{const S=mu(w,_);S!=null&&(u.push(m),d.set(m,S))}}const h=new cn(u);return new QR(d,h,o.fieldTransforms)}function J4(t,e,n,r=!1){return mu(n,t.Qu(r?4:3,e))}function mu(t,e){if(JR(t=ut(t)))return Wv("Unsupported field value:",e,t),XR(t,e);if(t instanceof Hh)return function(r,i){if(!YR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Wd(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wd(i.serializer,s)}}if(r instanceof jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ys)return{bytesValue:TR(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ev(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return vv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${zh(r)}`)}(t,e)}function XR(t,e){const n={};return QA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(r,i)=>{const s=mu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof jv||t instanceof ys||t instanceof Nt||t instanceof Hh||t instanceof Uv)}function Wv(t,e,n){if(!JR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function og(t,e,n){if((e=ut(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Hv(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Z4=new RegExp("[~\\*/\\[\\]]");function Hv(t,e,n){if(e.search(Z4)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(z.INVALID_ARGUMENT,a+t+l)}function ZR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eB extends Yd{data(){return super.data()}}function qh(t,e){return typeof e=="string"?Hv(t,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class Kv extends Gv{}function gu(t,e,...n){let r=[];e instanceof Gv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Qv).length,a=s.filter(l=>l instanceof Qh).length;if(o>1||o>0&&a>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qh extends Kv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qh(e,n,r)}_apply(e){const n=this._parse(e);return nP(e._query,n),new zr(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=Gh(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vT(h,d);const m=[];for(const w of h)m.push(yT(l,s,w));f={arrayValue:{values:m}}}else f=yT(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vT(h,d),f=J4(a,o,h,d==="in"||d==="not-in");return nt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qv(t,e,n){const r=e,i=qh("where",t);return Qh._create(i,r,n)}class Qv extends Gv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)nP(o,l),o=Jm(o,l)}(e._query,n),new zr(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yv extends Kv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(s,o)}(e._query,this._field,this._direction);return new zr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new qo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function tP(t,e="asc"){const n=e,r=qh("orderBy",t);return Yv._create(r,n)}class Xv extends Kv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xv(e,n,r)}_apply(e){return new zr(e.firestore,e.converter,zd(e._query,this._limit,this._limitType))}}function tB(t){return Xv._create("limit",t,"F")}function yT(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iR(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ie.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FE(t,new ie(r))}if(n instanceof Nt)return FE(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function vT(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rP{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ts(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new Uv(s)}convertGeoPoint(e){return new jv(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ie(PR(r));const i=new kl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nB extends rP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zv extends Yd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yc extends Zv{data(e={}){return super.data(e)}}class iP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new Js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:rB(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){t=fn(t,Nt);const e=fn(t.firestore,Dr);return B4(pu(e),t._key).then(n=>oP(e,t,n))}class Yh extends rP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Ll(t){t=fn(t,zr);const e=fn(t.firestore,Dr),n=pu(e),r=new Yh(e);return eP(t._query),z4(n,t._query).then(i=>new iP(e,r,t,i))}function mp(t,e,n){t=fn(t,Nt);const r=fn(t.firestore,Dr),i=Jv(t.converter,e,n);return ew(r,[zv(Gh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mt.none())])}function Zs(t){return ew(fn(t.firestore,Dr),[new Lh(t._key,Mt.none())])}function wT(t,e){const n=fn(t.firestore,Dr),r=Vn(t),i=Jv(t.converter,e);return ew(n,[zv(Gh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mt.exists(!1))]).then(()=>r)}function sP(t,...e){var n,r,i;t=ut(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gT(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof Nt)u=fn(t.firestore,Dr),d=Mh(t._key.path),l={next:h=>{e[o]&&e[o](oP(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=fn(t,zr);u=fn(h.firestore,Dr),d=h._query;const f=new Yh(u);l={next:m=>{e[o]&&e[o](new iP(u,f,h,m))},error:e[o+1],complete:e[o+2]},eP(t._query)}return function(f,m,w,_){const S=new Lv(_),g=new Vv(m,S,w);return f.asyncQueue.enqueueAndForget(async()=>Mv(await qd(f),g)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>Dv(await qd(f),g))}}(pu(u),d,a,l)}function ew(t,e){return function(r,i){const s=new Zn;return r.asyncQueue.enqueueAndForget(async()=>A4(await j4(r),i,s)),s.promise}(pu(t),e)}function oP(t,e,n){const r=n.docs.get(e._key),i=new Yh(t);return new Zv(t,i,e._key,r,new Js(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB={maxAttempts:5};function ba(t,e){if((t=ut(t)).firestore!==e)throw new Q(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Gh(n)}get(n){const r=ba(n,this._firestore),i=new nB(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return se();const o=s[0];if(o.isFoundDocument())return new Yd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Yd(this._firestore,i,r._key,null,r.converter);throw se()})}set(n,r,i){const s=ba(n,this._firestore),o=Jv(s.converter,r,i),a=zv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ba(n,this._firestore);let a;return a=typeof(r=ut(r))=="string"||r instanceof Wh?X4(this._dataReader,"Transaction.update",o._key,r,i,s):Y4(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ba(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ba(e,this._firestore),r=new Yh(this._firestore);return super.get(e).then(i=>new Zv(this._firestore,r,n._key,i._document,new Js(!1,!1),n.converter))}}function oB(t,e,n){t=fn(t,Dr);const r=Object.assign(Object.assign({},iB),n);return function(s){if(s.maxAttempts<1)throw new Q(z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Zn;return s.asyncQueue.enqueueAndForget(async()=>{const u=await U4(s);new O4(s.asyncQueue,u,a,o,l).au()}),l.promise}(pu(t),i=>e(new sB(t,i)),r)}function aP(){return new $v("serverTimestamp")}(function(e,n=!0){(function(i){Ko=i})(Ho),Ao(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Dr(new aj(r.getProvider("auth-internal")),new dj(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vi(DE,"4.7.3",e),vi(DE,"4.7.3","esm2017")})();const aB={apiKey:"AIzaSyBuB1qo6t7mfdBPVkSKS04reB4nCDJzGeE",authDomain:"surchop-9d786.firebaseapp.com",projectId:"surchop-9d786",storageBucket:"surchop-9d786.firebasestorage.app",messagingSenderId:"584554467419",appId:"1:584554467419:web:7237cbf2bf4a9f761e2f7e",measurementId:"G-QBMK24EM00"},lP=oA(aB),ot=H4(lP),tw=tj(lP),lB=new pr,uB=()=>cF(tw,lB),_T=()=>WL(tw);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ET=t=>{const e=dB(t);return e.charAt(0).toUpperCase()+e.slice(1)},uP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),hB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...fB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uP("lucide",i),...!s&&!hB(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(pB,{ref:s,iconNode:e,className:uP(`lucide-${cB(ET(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ET(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gB=Gt("camera",mB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vB=Gt("check",yB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_B=Gt("chevron-right",wB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TB=Gt("circle",EB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],SB=Gt("ellipsis-vertical",xB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],IB=Gt("flag",CB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],RB=Gt("heart",AB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],TT=Gt("house",PB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kB=Gt("menu",bB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],DB=Gt("play",MB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],VB=Gt("share-2",NB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xT=Gt("square-check-big",OB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cP=Gt("trash-2",LB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ST=Gt("user-plus",FB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CT=Gt("x",jB);function UB(){const[t,e]=v.useState(null),[n,r]=v.useState(!1),[i,s]=v.useState(!1),[o,a]=v.useState(!1);return v.useEffect(()=>{const l=m=>{m.preventDefault(),e(m)},u=()=>r(!0);window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",u);const d=window.navigator.userAgent.toLowerCase(),h=/iphone|ipad|ipod/.test(d),f=window.navigator.standalone===!0;return s(h),a(f),()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",u)}},[]),n||o||!t?null:C.jsx("button",{onClick:()=>{t.prompt(),t.userChoice.then(l=>{l.outcome==="accepted"&&e(null)})},className:"inline-flex items-center gap-1 px-3 py-1 rounded bg-pink-500 text-white text-sm font-medium hover:bg-pink-600 active:bg-pink-700 transition shadow-sm",children:"Installer"})}function BB({user:t}){const[e,n]=v.useState(!1),r=Ur(),i=({to:s,label:o,icon:a,accent:l=!1})=>{const u=r.pathname===s;return C.jsxs(Io,{to:s,onClick:()=>n(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition
                    ${u?"bg-pink-100 text-pink-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                    ${l?"text-pink-600 font-semibold":""}`,children:[C.jsx(a,{size:16}),o]})};return C.jsxs("header",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur border-b",children:[C.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between",children:[C.jsxs(Io,{to:"/",className:"font-semibold text-base sm:text-lg flex items-center gap-2",children:[C.jsx(RB,{className:"text-pink-500",size:18}),"SURCHOPE"]}),C.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[C.jsx(i,{to:"/",label:"Tous les couples",icon:TT}),t&&C.jsx(i,{to:"/mes-votes",label:"Mes votes",icon:xT}),t&&C.jsx(i,{to:"/ajouter-couple",label:"Ajouter un couple",icon:ST,accent:!0})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(UB,{}),t?C.jsxs(C.Fragment,{children:[C.jsx("img",{className:"w-8 h-8 rounded-full border",src:t.photoURL??"",alt:t.displayName??""}),C.jsx("button",{className:"hidden sm:inline text-sm underline text-gray-600 hover:text-gray-900",onClick:()=>_T(),children:"Se dconnecter"})]}):C.jsx("button",{className:"px-3 py-1 rounded bg-pink-500 text-white text-sm hover:bg-pink-600 transition",onClick:()=>uB(),children:"Se connecter"}),C.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 rounded hover:bg-gray-100",children:e?C.jsx(CT,{size:20}):C.jsx(kB,{size:20})})]})]}),e&&C.jsxs("nav",{className:"md:hidden bg-white border-t border-gray-200 flex flex-col p-3 space-y-2 text-sm",children:[C.jsx(i,{to:"/",label:"Tous les couples",icon:TT}),t&&C.jsx(i,{to:"/mes-votes",label:"Mes votes",icon:xT}),t&&C.jsx(i,{to:"/ajouter-couple",label:"Ajouter un couple",icon:ST,accent:!0}),t&&C.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md text-left",onClick:()=>{_T(),n(!1)},children:[C.jsx(CT,{size:16}),"Se dconnecter"]})]})]})}function Xh(){return C.jsxs("main",{className:"flex flex-col items-center justify-center h-[80vh] text-pink-600",children:[C.jsxs("div",{className:"relative w-16 h-16 animate-pulse-heart",children:[C.jsx("div",{className:"absolute inset-0 bg-pink-500 rotate-45 transform rounded-[8px]"}),C.jsx("div",{className:"absolute w-16 h-16 bg-pink-500 rounded-full -top-4 left-0"}),C.jsx("div",{className:"absolute w-16 h-16 bg-pink-500 rounded-full top-0 -left-4"})]}),C.jsx("p",{className:"mt-6 text-lg font-medium animate-fade-in",children:"a surchope fort "})]})}function zB({name:t,onClose:e}){const[n,r]=v.useState(!0),[i,s]=v.useState(null);return v.useEffect(()=>{if(!t)return;(async()=>{var a,l,u;try{const d=await fetch(`https://fr.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(t)}`);if(!d.ok)throw new Error("Pas d'info trouve");const h=await d.json();s({title:h.title,summary:h.extract,image:(a=h.thumbnail)==null?void 0:a.source,source:(u=(l=h.content_urls)==null?void 0:l.desktop)==null?void 0:u.page})}catch{s(null)}finally{r(!1)}})()},[t]),C.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-2xl p-5 max-w-sm w-full shadow-lg relative",children:[C.jsx("button",{onClick:e,className:"absolute top-2 right-3 text-gray-500 hover:text-gray-700",children:""}),n?C.jsx(Xh,{}):i?C.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.image&&C.jsx("img",{src:i.image,alt:i.title,className:"w-48 h-48 rounded-full mb-3 object-cover"}),C.jsx("h2",{className:"text-lg font-semibold",children:i.title}),C.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[i.summary.slice(0,200),"..."]}),C.jsx("a",{href:i.source,target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 text-sm underline",children:"Voir sur Wikipdia"})]}):C.jsx("p",{className:"text-center text-gray-500",children:"Aucune information trouve "})]})})}function $B({couple:t,user:e,onDelete:n,compact:r}){const i=(e==null?void 0:e.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",s=o=>{o.stopPropagation();const a=window.location.origin,l=encodeURIComponent(` Vote pour ce couple sur Surchope : ${t.personA.display_name} & ${t.personB.display_name} 
 ${a}/couple/${t.id}`);window.open(`https://wa.me/?text=${l}`,"_blank")};return C.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition",children:[i&&n&&C.jsx("button",{onClick:o=>{o.stopPropagation(),confirm("Supprimer ce couple et les donnes associes ?")&&n(t.id,e.uid)},title:"Supprimer ce couple",className:"hover:text-pink-600",children:C.jsx(cP,{size:16})}),!r&&C.jsx("button",{onClick:s,title:"Partager sur WhatsApp",className:"text-green-600 hover:text-green-700",children:C.jsx(VB,{size:16})})]})}function WB({couple:t}){const[e,n]=v.useState(0),r=t.countA||0,i=t.countB||0,s=Math.max(1,r+i),o=Math.round(r/s*100);return v.useEffect(()=>{const a=e,l=o,u=600,d=performance.now(),h=f=>{const m=f-d,w=Math.min(m/u,1),_=Math.sin(w*Math.PI/2),S=a+(l-a)*_;n(S),w<1&&requestAnimationFrame(h)};requestAnimationFrame(h)},[o]),C.jsxs("div",{className:"w-full mt-1",children:[C.jsx("div",{className:"h-2 rounded-full bg-gray-200 overflow-hidden relative",children:C.jsx("div",{className:"absolute left-0 top-0 h-full bg-pink-500 transition-all duration-300",style:{width:`${e}%`}})}),C.jsxs("div",{className:"text-xs mt-1 text-gray-600 text-center",children:[r," vs ",i,"  ",r+i," vote",r+i>1?"s":""]})]})}function HB({couple:t,myChoice:e,onlyMyVotes:n,onSelectPerson:r}){const i=(o,a)=>{const l=e===a;return C.jsxs("div",{className:"flex items-center gap-2 flex-col cursor-pointer relative",onClick:()=>r(o.display_name),children:[l&&C.jsx("div",{className:"absolute w-28 h-28 md:w-36 md:h-36 rounded-full bg-pink-400/30 blur-md animate-pulse-ring -z-10"}),C.jsx("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center hover:scale-105 transition ${l?"ring-4 ring-pink-400 shadow-lg":""}`,children:o.image_url?C.jsx("img",{src:o.image_url,alt:o.display_name,className:"object-cover w-full h-full"}):C.jsx("span",{className:"text-lg",children:o.display_name[0]})}),C.jsx("div",{className:`font-medium text-lg text-center ${l?"text-pink-600":"hover:text-pink-600"}`,children:o.display_name})]},a)},s=e==="A"?`${t.personA.display_name} surchope`:e==="B"?`${t.personB.display_name} surchope`:"il y a galit parfaite";return C.jsxs(C.Fragment,{children:[C.jsx("style",{children:`
                @keyframes pulse-ring {
                    0% { transform: scale(0.9); opacity: 0.6; }
                    50% { transform: scale(1.1); opacity: 0.9; }
                    100% { transform: scale(0.9); opacity: 0.6; }
                }
                .animate-pulse-ring {
                    animation: pulse-ring 1.5s infinite ease-in-out;
                }
                `}),C.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3 relative",children:[i(t.personA,"A"),C.jsx("span",{className:"text-gray-400 text-lg font-semibold select-none",children:"vs"}),i(t.personB,"B")]}),C.jsx("div",{className:"w-48 mt-2",children:n?C.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Pour vous ",s]}):C.jsx(WB,{couple:t})})]})}function GB({couple:t,user:e,canVote:n,myChoice:r,onVote:i}){const[s,o]=v.useState(null),a=h=>{!n||!i||(o(h),i(t,h),setTimeout(()=>o(null),700))},l="px-3 py-2 rounded border font-medium transition-transform duration-300 ease-out active:scale-95",u=n?"":"opacity-60 cursor-not-allowed",d=h=>s!==h?"":h==="tie"?"animate-pulse bg-blue-50 border-blue-500 text-blue-600":"animate-[pop_0.4s_ease-out] bg-pink-100 border-pink-500 text-pink-600 shadow-md";return C.jsxs(C.Fragment,{children:[C.jsx("style",{children:`
          @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.12); }
            100% { transform: scale(1); }
          }
        `}),C.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{disabled:!n,onClick:()=>a("A"),className:`${l} flex-1 ${r==="A"?"bg-pink-50 border-pink-500 text-pink-600":"hover:bg-gray-50"} ${d("A")} ${u}`,children:[t.personA.display_name," surchope"]}),C.jsxs("button",{disabled:!n,onClick:()=>a("B"),className:`${l} flex-1 ${r==="B"?"bg-pink-50 border-pink-500 text-pink-600":"hover:bg-gray-50"} ${d("B")} ${u}`,children:[t.personB.display_name," surchope"]})]}),C.jsx("button",{disabled:!n,onClick:()=>a("tie"),className:`${l} text-sm ${r==="tie"?"bg-blue-50 border-blue-500 text-blue-600":"hover:bg-gray-50 text-gray-600"} ${d("tie")} ${u}`,children:" galit parfaite"})]})]})}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jh(...t){return e=>{let n=!1;const r=t.map(i=>{const s=IT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():IT(t[i],null)}}}}function rn(...t){return v.useCallback(Jh(...t),t)}function yu(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];const u=h=>{var g;const{scope:f,children:m,...w}=h,_=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,S=v.useMemo(()=>w,Object.values(w));return C.jsx(_.Provider,{value:S,children:m})};u.displayName=s+"Provider";function d(h,f){var _;const m=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,KB(i,...e)]}function KB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ci=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},qB=NS[" useInsertionEffect ".trim().toString()]||Ci;function dP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=QB({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=v.useCallback(d=>{var h;if(a){const f=YB(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,u]}function QB({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),i=v.useRef(n),s=v.useRef(e);return qB(()=>{s.current=e},[e]),v.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function YB(t){return typeof t=="function"}function Xd(t){const e=XB(t),n=v.forwardRef((r,i)=>{const{children:s,...o}=r,a=v.Children.toArray(s),l=a.find(ZB);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:i,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function XB(t){const e=v.forwardRef((n,r)=>{const{children:i,...s}=n;if(v.isValidElement(i)){const o=tz(i),a=ez(s,i.props);return i.type!==v.Fragment&&(a.ref=r?Jh(r,o):o),v.cloneElement(i,a)}return v.Children.count(i)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var JB=Symbol("radix.slottable");function ZB(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JB}function ez(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function tz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=nz.reduce((t,e)=>{const n=Xd(`Primitive.${e}`),r=v.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hP(t,e){t&&Ch.flushSync(()=>t.dispatchEvent(e))}function fP(t){const e=t+"CollectionProvider",[n,r]=yu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:g}=_,E=dr.useRef(null),T=dr.useRef(new Map).current;return C.jsx(i,{scope:S,itemMap:T,collectionRef:E,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=Xd(a),u=dr.forwardRef((_,S)=>{const{scope:g,children:E}=_,T=s(a,g),P=rn(S,T.collectionRef);return C.jsx(l,{ref:P,children:E})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Xd(d),m=dr.forwardRef((_,S)=>{const{scope:g,children:E,...T}=_,P=dr.useRef(null),M=rn(S,P),L=s(d,g);return dr.useEffect(()=>(L.itemMap.set(P,{ref:P,...T}),()=>void L.itemMap.delete(P))),C.jsx(f,{[h]:"",ref:M,children:E})});m.displayName=d;function w(_){const S=s(t+"CollectionConsumer",_);return dr.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((L,I)=>T.indexOf(L.ref.current)-T.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,r]}var rz=v.createContext(void 0);function pP(t){const e=v.useContext(rz);return t||e||"ltr"}function Nr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function iz(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sz="DismissableLayer",lg="dismissableLayer.update",oz="dismissableLayer.pointerDownOutside",az="dismissableLayer.focusOutside",AT,mP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gP=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=v.useContext(mP),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=rn(e,I=>h(I)),_=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(S),E=d?_.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,P=E>=g,M=cz(I=>{const x=I.target,A=[...u.branches].some(b=>b.contains(x));!P||A||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),L=dz(I=>{const x=I.target;[...u.branches].some(b=>b.contains(x))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return iz(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(AT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),RT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=AT)}},[d,f,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),RT())},[d,u]),v.useEffect(()=>{const I=()=>m({});return document.addEventListener(lg,I),()=>document.removeEventListener(lg,I)},[]),C.jsx(Kt.div,{...l,ref:w,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,M.onPointerDownCapture)})});gP.displayName=sz;var lz="DismissableLayerBranch",uz=v.forwardRef((t,e)=>{const n=v.useContext(mP),r=v.useRef(null),i=rn(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),C.jsx(Kt.div,{...t,ref:i})});uz.displayName=lz;function cz(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){yP(oz,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function dz(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&yP(az,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RT(){const t=new CustomEvent(lg);document.dispatchEvent(t)}function yP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hP(i,s):i.dispatchEvent(s)}var gp=0;function hz(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PT()),document.body.insertAdjacentElement("beforeend",t[1]??PT()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gp--}},[])}function PT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yp="focusScope.autoFocusOnMount",vp="focusScope.autoFocusOnUnmount",bT={bubbles:!1,cancelable:!0},fz="FocusScope",vP=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=v.useState(null),u=Nr(i),d=Nr(s),h=v.useRef(null),f=rn(e,_=>l(_)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let _=function(T){if(m.paused||!a)return;const P=T.target;a.contains(P)?h.current=P:Yr(h.current,{select:!0})},S=function(T){if(m.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||Yr(h.current,{select:!0}))},g=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&Yr(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const E=new MutationObserver(g);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),E.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){MT.add(m);const _=document.activeElement;if(!a.contains(_)){const g=new CustomEvent(yp,bT);a.addEventListener(yp,u),a.dispatchEvent(g),g.defaultPrevented||(pz(wz(wP(a)),{select:!0}),document.activeElement===_&&Yr(a))}return()=>{a.removeEventListener(yp,u),setTimeout(()=>{const g=new CustomEvent(vp,bT);a.addEventListener(vp,d),a.dispatchEvent(g),g.defaultPrevented||Yr(_??document.body,{select:!0}),a.removeEventListener(vp,d),MT.remove(m)},0)}}},[a,u,d,m]);const w=v.useCallback(_=>{if(!n&&!r||m.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,g=document.activeElement;if(S&&g){const E=_.currentTarget,[T,P]=mz(E);T&&P?!_.shiftKey&&g===P?(_.preventDefault(),n&&Yr(T,{select:!0})):_.shiftKey&&g===T&&(_.preventDefault(),n&&Yr(P,{select:!0})):g===E&&_.preventDefault()}},[n,r,m.paused]);return C.jsx(Kt.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});vP.displayName=fz;function pz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Yr(r,{select:e}),document.activeElement!==n)return}function mz(t){const e=wP(t),n=kT(e,t),r=kT(e.reverse(),t);return[n,r]}function wP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kT(t,e){for(const n of t)if(!gz(n,{upTo:e}))return n}function gz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yz(t){return t instanceof HTMLInputElement&&"select"in t}function Yr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yz(t)&&e&&t.select()}}var MT=vz();function vz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=DT(t,e),t.unshift(e)},remove(e){var n;t=DT(t,e),(n=t[0])==null||n.resume()}}}function DT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wz(t){return t.filter(e=>e.tagName!=="A")}var _z=NS[" useId ".trim().toString()]||(()=>{}),Ez=0;function ug(t){const[e,n]=v.useState(_z());return Ci(()=>{n(r=>r??String(Ez++))},[t]),e?`radix-${e}`:""}const Tz=["top","right","bottom","left"],Ii=Math.min,ln=Math.max,Jd=Math.round,mc=Math.floor,tr=t=>({x:t,y:t}),xz={left:"right",right:"left",bottom:"top",top:"bottom"},Sz={start:"end",end:"start"};function cg(t,e,n){return ln(t,Ii(e,n))}function Vr(t,e){return typeof t=="function"?t(e):t}function Or(t){return t.split("-")[0]}function Xo(t){return t.split("-")[1]}function nw(t){return t==="x"?"y":"x"}function rw(t){return t==="y"?"height":"width"}const Cz=new Set(["top","bottom"]);function Qn(t){return Cz.has(Or(t))?"y":"x"}function iw(t){return nw(Qn(t))}function Iz(t,e,n){n===void 0&&(n=!1);const r=Xo(t),i=iw(t),s=rw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zd(o)),[o,Zd(o)]}function Az(t){const e=Zd(t);return[dg(t),e,dg(e)]}function dg(t){return t.replace(/start|end/g,e=>Sz[e])}const NT=["left","right"],VT=["right","left"],Rz=["top","bottom"],Pz=["bottom","top"];function bz(t,e,n){switch(t){case"top":case"bottom":return n?e?VT:NT:e?NT:VT;case"left":case"right":return e?Rz:Pz;default:return[]}}function kz(t,e,n,r){const i=Xo(t);let s=bz(Or(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(dg)))),s}function Zd(t){return t.replace(/left|right|bottom|top/g,e=>xz[e])}function Mz(t){return{top:0,right:0,bottom:0,left:0,...t}}function _P(t){return typeof t!="number"?Mz(t):{top:t,right:t,bottom:t,left:t}}function eh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function OT(t,e,n){let{reference:r,floating:i}=t;const s=Qn(e),o=iw(e),a=rw(o),l=Or(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Xo(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const Dz=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=OT(u,r,l),f=r,m={},w=0;for(let _=0;_<a.length;_++){const{name:S,fn:g}=a[_],{x:E,y:T,data:P,reset:M}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=T??h,m={...m,[S]:{...m[S],...P}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:d,y:h}=OT(u,f,l)),_=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function Fl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Vr(e,t),w=_P(m),S=a[f?h==="floating"?"reference":"floating":h],g=eh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},M=eh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(g.top-M.top+w.top)/P.y,bottom:(M.bottom-g.bottom+w.bottom)/P.y,left:(g.left-M.left+w.left)/P.x,right:(M.right-g.right+w.right)/P.x}}const Nz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Vr(t,e)||{};if(u==null)return{};const h=_P(d),f={x:n,y:r},m=iw(i),w=rw(m),_=await o.getDimensions(u),S=m==="y",g=S?"top":"left",E=S?"bottom":"right",T=S?"clientHeight":"clientWidth",P=s.reference[w]+s.reference[m]-f[m]-s.floating[w],M=f[m]-s.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[T]||s.floating[w]);const x=P/2-M/2,A=I/2-_[w]/2-1,b=Ii(h[g],A),D=Ii(h[E],A),O=b,k=I-_[w]-D,oe=I/2-_[w]/2+x,me=cg(O,oe,k),ae=!l.arrow&&Xo(i)!=null&&oe!==me&&s.reference[w]/2-(oe<O?b:D)-_[w]/2<0,te=ae?oe<O?oe-O:oe-k:0;return{[m]:f[m]+te,data:{[m]:me,centerOffset:oe-me-te,...ae&&{alignmentOffset:te}},reset:ae}}}),Vz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...S}=Vr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Or(i),E=Qn(a),T=Or(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=f||(T||!_?[Zd(a)]:Az(a)),L=w!=="none";!f&&L&&M.push(...kz(a,_,w,P));const I=[a,...M],x=await Fl(e,S),A=[];let b=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(x[g]),h){const oe=Iz(i,o,P);A.push(x[oe[0]],x[oe[1]])}if(b=[...b,{placement:i,overflows:A}],!A.every(oe=>oe<=0)){var D,O;const oe=(((D=s.flip)==null?void 0:D.index)||0)+1,me=I[oe];if(me&&(!(h==="alignment"?E!==Qn(me):!1)||b.every(F=>Qn(F.placement)===E?F.overflows[0]>0:!0)))return{data:{index:oe,overflows:b},reset:{placement:me}};let ae=(O=b.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!ae)switch(m){case"bestFit":{var k;const te=(k=b.filter(F=>{if(L){const B=Qn(F.placement);return B===E||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:k[0];te&&(ae=te);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function LT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FT(t){return Tz.some(e=>t[e]>=0)}const Oz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vr(t,e);switch(r){case"referenceHidden":{const s=await Fl(e,{...i,elementContext:"reference"}),o=LT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FT(o)}}}case"escaped":{const s=await Fl(e,{...i,altBoundary:!0}),o=LT(s,n.floating);return{data:{escapedOffsets:o,escaped:FT(o)}}}default:return{}}}}},EP=new Set(["left","top"]);async function Lz(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Or(n),a=Xo(n),l=Qn(n)==="y",u=EP.has(o)?-1:1,d=s&&l?-1:1,h=Vr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Fz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Lz(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},jz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:g,y:E}=S;return{x:g,y:E}}},...l}=Vr(t,e),u={x:n,y:r},d=await Fl(e,l),h=Qn(Or(i)),f=nw(h);let m=u[f],w=u[h];if(s){const S=f==="y"?"top":"left",g=f==="y"?"bottom":"right",E=m+d[S],T=m-d[g];m=cg(E,m,T)}if(o){const S=h==="y"?"top":"left",g=h==="y"?"bottom":"right",E=w+d[S],T=w-d[g];w=cg(E,w,T)}const _=a.fn({...e,[f]:m,[h]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[f]:s,[h]:o}}}}}},Uz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Vr(t,e),d={x:n,y:r},h=Qn(i),f=nw(h);let m=d[f],w=d[h];const _=Vr(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=f==="y"?"height":"width",P=s.reference[f]-s.floating[T]+S.mainAxis,M=s.reference[f]+s.reference[T]-S.mainAxis;m<P?m=P:m>M&&(m=M)}if(u){var g,E;const T=f==="y"?"width":"height",P=EP.has(Or(i)),M=s.reference[h]-s.floating[T]+(P&&((g=o.offset)==null?void 0:g[h])||0)+(P?0:S.crossAxis),L=s.reference[h]+s.reference[T]+(P?0:((E=o.offset)==null?void 0:E[h])||0)-(P?S.crossAxis:0);w<M?w=M:w>L&&(w=L)}return{[f]:m,[h]:w}}}},Bz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Vr(t,e),d=await Fl(e,u),h=Or(i),f=Xo(i),m=Qn(i)==="y",{width:w,height:_}=s.floating;let S,g;h==="top"||h==="bottom"?(S=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,S=f==="end"?"top":"bottom");const E=_-d.top-d.bottom,T=w-d.left-d.right,P=Ii(_-d[S],E),M=Ii(w-d[g],T),L=!e.middlewareData.shift;let I=P,x=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=E),L&&!f){const b=ln(d.left,0),D=ln(d.right,0),O=ln(d.top,0),k=ln(d.bottom,0);m?x=w-2*(b!==0||D!==0?b+D:ln(d.left,d.right)):I=_-2*(O!==0||k!==0?O+k:ln(d.top,d.bottom))}await l({...e,availableWidth:x,availableHeight:I});const A=await o.getDimensions(a.floating);return w!==A.width||_!==A.height?{reset:{rects:!0}}:{}}}};function Zh(){return typeof window<"u"}function Jo(t){return TP(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ar(t){var e;return(e=(TP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TP(t){return Zh()?t instanceof Node||t instanceof pn(t).Node:!1}function zn(t){return Zh()?t instanceof Element||t instanceof pn(t).Element:!1}function or(t){return Zh()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function jT(t){return!Zh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}const zz=new Set(["inline","contents"]);function vu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zz.has(i)}const $z=new Set(["table","td","th"]);function Wz(t){return $z.has(Jo(t))}const Hz=[":popover-open",":modal"];function ef(t){return Hz.some(e=>{try{return t.matches(e)}catch{return!1}})}const Gz=["transform","translate","scale","rotate","perspective"],Kz=["transform","translate","scale","rotate","perspective","filter"],qz=["paint","layout","strict","content"];function sw(t){const e=ow(),n=zn(t)?$n(t):t;return Gz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Kz.some(r=>(n.willChange||"").includes(r))||qz.some(r=>(n.contain||"").includes(r))}function Qz(t){let e=Ai(t);for(;or(e)&&!Vo(e);){if(sw(e))return e;if(ef(e))return null;e=Ai(e)}return null}function ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yz=new Set(["html","body","#document"]);function Vo(t){return Yz.has(Jo(t))}function $n(t){return pn(t).getComputedStyle(t)}function tf(t){return zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ai(t){if(Jo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jT(t)&&t.host||ar(t);return jT(e)?e.host:e}function xP(t){const e=Ai(t);return Vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:or(e)&&vu(e)?e:xP(e)}function jl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=xP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=pn(i);if(s){const a=hg(o);return e.concat(o,o.visualViewport||[],vu(i)?i:[],a&&n?jl(a):[])}return e.concat(i,jl(i,[],n))}function hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SP(t){const e=$n(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=or(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Jd(n)!==s||Jd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function aw(t){return zn(t)?t:t.contextElement}function go(t){const e=aw(t);if(!or(e))return tr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=SP(e);let o=(s?Jd(n.width):n.width)/r,a=(s?Jd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Xz=tr(0);function CP(t){const e=pn(t);return!ow()||!e.visualViewport?Xz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function vs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=aw(t);let o=tr(1);e&&(r?zn(r)&&(o=go(r)):o=go(t));const a=Jz(s,n,r)?CP(s):tr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=pn(s),m=r&&zn(r)?pn(r):r;let w=f,_=hg(w);for(;_&&r&&m!==w;){const S=go(_),g=_.getBoundingClientRect(),E=$n(_),T=g.left+(_.clientLeft+parseFloat(E.paddingLeft))*S.x,P=g.top+(_.clientTop+parseFloat(E.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=T,u+=P,w=pn(_),_=hg(w)}}return eh({width:d,height:h,x:l,y:u})}function nf(t,e){const n=tf(t).scrollLeft;return e?e.left+n:vs(ar(t)).left+n}function IP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-nf(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Zz(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ar(r),a=e?ef(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=tr(1);const d=tr(0),h=or(r);if((h||!h&&!s)&&((Jo(r)!=="body"||vu(o))&&(l=tf(r)),or(r))){const m=vs(r);u=go(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?IP(o,l):tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function e$(t){return Array.from(t.getClientRects())}function t$(t){const e=ar(t),n=tf(t),r=t.ownerDocument.body,i=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nf(t);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(o+=ln(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const UT=25;function n$(t,e){const n=pn(t),r=ar(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=ow();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=nf(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=UT&&(s-=w)}else u<=UT&&(s+=u);return{width:s,height:o,x:a,y:l}}const r$=new Set(["absolute","fixed"]);function i$(t,e){const n=vs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=or(t)?go(t):tr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function BT(t,e,n){let r;if(e==="viewport")r=n$(t,n);else if(e==="document")r=t$(ar(t));else if(zn(e))r=i$(e,n);else{const i=CP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return eh(r)}function AP(t,e){const n=Ai(t);return n===e||!zn(n)||Vo(n)?!1:$n(n).position==="fixed"||AP(n,e)}function s$(t,e){const n=e.get(t);if(n)return n;let r=jl(t,[],!1).filter(a=>zn(a)&&Jo(a)!=="body"),i=null;const s=$n(t).position==="fixed";let o=s?Ai(t):t;for(;zn(o)&&!Vo(o);){const a=$n(o),l=sw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&r$.has(i.position)||vu(o)&&!l&&AP(t,o))?r=r.filter(d=>d!==o):i=a,o=Ai(o)}return e.set(t,r),r}function o$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ef(e)?[]:s$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=BT(e,d,i);return u.top=ln(h.top,u.top),u.right=Ii(h.right,u.right),u.bottom=Ii(h.bottom,u.bottom),u.left=ln(h.left,u.left),u},BT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function a$(t){const{width:e,height:n}=SP(t);return{width:e,height:n}}function l$(t,e,n){const r=or(e),i=ar(e),s=n==="fixed",o=vs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=tr(0);function u(){l.x=nf(i)}if(r||!r&&!s)if((Jo(e)!=="body"||vu(i))&&(a=tf(e)),r){const m=vs(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?IP(i,a):tr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function wp(t){return $n(t).position==="static"}function zT(t,e){if(!or(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ar(t)===n&&(n=n.ownerDocument.body),n}function RP(t,e){const n=pn(t);if(ef(t))return n;if(!or(t)){let i=Ai(t);for(;i&&!Vo(i);){if(zn(i)&&!wp(i))return i;i=Ai(i)}return n}let r=zT(t,e);for(;r&&Wz(r)&&wp(r);)r=zT(r,e);return r&&Vo(r)&&wp(r)&&!sw(r)?n:r||Qz(t)||n}const u$=async function(t){const e=this.getOffsetParent||RP,n=this.getDimensions,r=await n(t.floating);return{reference:l$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function c$(t){return $n(t).direction==="rtl"}const d$={convertOffsetParentRelativeRectToViewportRelativeRect:Zz,getDocumentElement:ar,getClippingRect:o$,getOffsetParent:RP,getElementRects:u$,getClientRects:e$,getDimensions:a$,getScale:go,isElement:zn,isRTL:c$};function PP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function h$(t,e){let n=null,r;const i=ar(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const w=mc(h),_=mc(i.clientWidth-(d+f)),S=mc(i.clientHeight-(h+m)),g=mc(d),T={rootMargin:-w+"px "+-_+"px "+-S+"px "+-g+"px",threshold:ln(0,Ii(1,l))||1};let P=!0;function M(L){const I=L[0].intersectionRatio;if(I!==l){if(!P)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!PP(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(M,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,T)}n.observe(t)}return o(!0),s}function f$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=aw(t),d=i||s?[...u?jl(u):[],...jl(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=u&&a?h$(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[E]=g;E&&E.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let w,_=l?vs(t):null;l&&S();function S(){const g=vs(t);_&&!PP(_,g)&&n(),_=g,w=requestAnimationFrame(S)}return n(),()=>{var g;d.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const p$=Fz,m$=jz,g$=Vz,y$=Bz,v$=Oz,$T=Nz,w$=Uz,_$=(t,e,n)=>{const r=new Map,i={platform:d$,...n},s={...i.platform,_c:r};return Dz(t,e,{...i,platform:s})};var E$=typeof document<"u",T$=function(){},Xc=E$?v.useLayoutEffect:T$;function th(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!th(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!th(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WT(t,e){const n=bP(t);return Math.round(e*n)/n}function _p(t){const e=v.useRef(t);return Xc(()=>{e.current=t}),e}function x$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);th(f,r)||m(r);const[w,_]=v.useState(null),[S,g]=v.useState(null),E=v.useCallback(F=>{F!==L.current&&(L.current=F,_(F))},[]),T=v.useCallback(F=>{F!==I.current&&(I.current=F,g(F))},[]),P=s||w,M=o||S,L=v.useRef(null),I=v.useRef(null),x=v.useRef(d),A=l!=null,b=_p(l),D=_p(i),O=_p(u),k=v.useCallback(()=>{if(!L.current||!I.current)return;const F={placement:e,strategy:n,middleware:f};D.current&&(F.platform=D.current),_$(L.current,I.current,F).then(B=>{const V={...B,isPositioned:O.current!==!1};oe.current&&!th(x.current,V)&&(x.current=V,Ch.flushSync(()=>{h(V)}))})},[f,e,n,D,O]);Xc(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const oe=v.useRef(!1);Xc(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Xc(()=>{if(P&&(L.current=P),M&&(I.current=M),P&&M){if(b.current)return b.current(P,M,k);k()}},[P,M,k,b,A]);const me=v.useMemo(()=>({reference:L,floating:I,setReference:E,setFloating:T}),[E,T]),ae=v.useMemo(()=>({reference:P,floating:M}),[P,M]),te=v.useMemo(()=>{const F={position:n,left:0,top:0};if(!ae.floating)return F;const B=WT(ae.floating,d.x),V=WT(ae.floating,d.y);return a?{...F,transform:"translate("+B+"px, "+V+"px)",...bP(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:V}},[n,a,ae.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:k,refs:me,elements:ae,floatingStyles:te}),[d,k,me,ae,te])}const S$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$T({element:r.current,padding:i}).fn(n):{}:r?$T({element:r,padding:i}).fn(n):{}}}},C$=(t,e)=>({...p$(t),options:[t,e]}),I$=(t,e)=>({...m$(t),options:[t,e]}),A$=(t,e)=>({...w$(t),options:[t,e]}),R$=(t,e)=>({...g$(t),options:[t,e]}),P$=(t,e)=>({...y$(t),options:[t,e]}),b$=(t,e)=>({...v$(t),options:[t,e]}),k$=(t,e)=>({...S$(t),options:[t,e]});var M$="Arrow",kP=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return C.jsx(Kt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});kP.displayName=M$;var D$=kP;function N$(t){const[e,n]=v.useState(void 0);return Ci(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lw="Popper",[MP,DP]=yu(lw),[V$,NP]=MP(lw),VP=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return C.jsx(V$,{scope:e,anchor:r,onAnchorChange:i,children:n})};VP.displayName=lw;var OP="PopperAnchor",LP=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=NP(OP,n),o=v.useRef(null),a=rn(e,o),l=v.useRef(null);return v.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:C.jsx(Kt.div,{...i,ref:a})});LP.displayName=OP;var uw="PopperContent",[O$,L$]=MP(uw),FP=v.forwardRef((t,e)=>{var K,ce,de,ye,ve,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,..._}=t,S=NP(uw,n),[g,E]=v.useState(null),T=rn(e,be=>E(be)),[P,M]=v.useState(null),L=N$(P),I=(L==null?void 0:L.width)??0,x=(L==null?void 0:L.height)??0,A=r+(s!=="center"?"-"+s:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,k={padding:b,boundary:D.filter(j$),altBoundary:O},{refs:oe,floatingStyles:me,placement:ae,isPositioned:te,middlewareData:F}=x$({strategy:"fixed",placement:A,whileElementsMounted:(...be)=>f$(...be,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[C$({mainAxis:i+x,alignmentAxis:o}),l&&I$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?A$():void 0,...k}),l&&R$({...k}),P$({...k,apply:({elements:be,rects:pe,availableWidth:Je,availableHeight:St})=>{const{width:Lt,height:sn}=pe.reference,Ft=be.floating.style;Ft.setProperty("--radix-popper-available-width",`${Je}px`),Ft.setProperty("--radix-popper-available-height",`${St}px`),Ft.setProperty("--radix-popper-anchor-width",`${Lt}px`),Ft.setProperty("--radix-popper-anchor-height",`${sn}px`)}}),P&&k$({element:P,padding:a}),U$({arrowWidth:I,arrowHeight:x}),f&&b$({strategy:"referenceHidden",...k})]}),[B,V]=BP(ae),N=Nr(w);Ci(()=>{te&&(N==null||N())},[te,N]);const W=(K=F.arrow)==null?void 0:K.x,G=(ce=F.arrow)==null?void 0:ce.y,Y=((de=F.arrow)==null?void 0:de.centerOffset)!==0,[ne,re]=v.useState();return Ci(()=>{g&&re(window.getComputedStyle(g).zIndex)},[g]),C.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:te?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ye=F.transformOrigin)==null?void 0:ye.x,(ve=F.transformOrigin)==null?void 0:ve.y].join(" "),...((Te=F.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(O$,{scope:n,placedSide:B,onArrowChange:M,arrowX:W,arrowY:G,shouldHideArrow:Y,children:C.jsx(Kt.div,{"data-side":B,"data-align":V,..._,ref:T,style:{..._.style,animation:te?void 0:"none"}})})})});FP.displayName=uw;var jP="PopperArrow",F$={top:"bottom",right:"left",bottom:"top",left:"right"},UP=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=L$(jP,r),o=F$[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(D$,{...i,ref:n,style:{...i.style,display:"block"}})})});UP.displayName=jP;function j$(t){return t!==null}var U$=t=>({name:"transformOrigin",options:t,fn(e){var S,g,E;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=BP(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let w="",_="";return u==="bottom"?(w=o?h:`${f}px`,_=`${-l}px`):u==="top"?(w=o?h:`${f}px`,_=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,_=o?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:w,y:_}}}});function BP(t){const[e,n="center"]=t.split("-");return[e,n]}var B$=VP,z$=LP,$$=FP,W$=UP,H$="Portal",zP=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);Ci(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?KN.createPortal(C.jsx(Kt.div,{...r,ref:e}),o):null});zP.displayName=H$;function G$(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var wu=t=>{const{present:e,children:n}=t,r=K$(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=rn(r.ref,q$(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};wu.displayName="Presence";function K$(t){const[e,n]=v.useState(),r=v.useRef(null),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=G$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=gc(r.current);s.current=a==="mounted"?u:"none"},[a]),Ci(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,m=gc(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ci(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const _=gc(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&_&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},f=m=>{m.target===e&&(s.current=gc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function gc(t){return(t==null?void 0:t.animationName)||"none"}function q$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ep="rovingFocusGroup.onEntryFocus",Q$={bubbles:!1,cancelable:!0},_u="RovingFocusGroup",[fg,$P,Y$]=fP(_u),[X$,WP]=yu(_u,[Y$]),[J$,Z$]=X$(_u),HP=v.forwardRef((t,e)=>C.jsx(fg.Provider,{scope:t.__scopeRovingFocusGroup,children:C.jsx(fg.Slot,{scope:t.__scopeRovingFocusGroup,children:C.jsx(e5,{...t,ref:e})})}));HP.displayName=_u;var e5=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=v.useRef(null),m=rn(e,f),w=pP(s),[_,S]=dP({prop:o,defaultProp:a??null,onChange:l,caller:_u}),[g,E]=v.useState(!1),T=Nr(u),P=$P(n),M=v.useRef(!1),[L,I]=v.useState(0);return v.useEffect(()=>{const x=f.current;if(x)return x.addEventListener(Ep,T),()=>x.removeEventListener(Ep,T)},[T]),C.jsx(J$,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:_,onItemFocus:v.useCallback(x=>S(x),[S]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(x=>x+1),[]),onFocusableItemRemove:v.useCallback(()=>I(x=>x-1),[]),children:C.jsx(Kt.div,{tabIndex:g||L===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{M.current=!0}),onFocus:Se(t.onFocus,x=>{const A=!M.current;if(x.target===x.currentTarget&&A&&!g){const b=new CustomEvent(Ep,Q$);if(x.currentTarget.dispatchEvent(b),!b.defaultPrevented){const D=P().filter(ae=>ae.focusable),O=D.find(ae=>ae.active),k=D.find(ae=>ae.id===_),me=[O,k,...D].filter(Boolean).map(ae=>ae.ref.current);qP(me,d)}}M.current=!1}),onBlur:Se(t.onBlur,()=>E(!1))})})}),GP="RovingFocusGroupItem",KP=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=ug(),u=s||l,d=Z$(GP,n),h=d.currentTabStopId===u,f=$P(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:_}=d;return v.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),C.jsx(fg.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:C.jsx(Kt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Se(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Se(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Se(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const g=r5(S,d.orientation,d.dir);if(g!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=f().filter(P=>P.focusable).map(P=>P.ref.current);if(g==="last")T.reverse();else if(g==="prev"||g==="next"){g==="prev"&&T.reverse();const P=T.indexOf(S.currentTarget);T=d.loop?i5(T,P+1):T.slice(P+1)}setTimeout(()=>qP(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:_!=null}):o})})});KP.displayName=GP;var t5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function r5(t,e,n){const r=n5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return t5[r]}function qP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function i5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var s5=HP,o5=KP,a5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ds=new WeakMap,yc=new WeakMap,vc={},Tp=0,QP=function(t){return t&&(t.host||QP(t.parentNode))},l5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=QP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},u5=function(t,e,n,r){var i=l5(e,Array.isArray(t)?t:[t]);vc[n]||(vc[n]=new WeakMap);var s=vc[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",_=(Ds.get(f)||0)+1,S=(s.get(f)||0)+1;Ds.set(f,_),s.set(f,S),o.push(f),_===1&&w&&yc.set(f,!0),S===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),a.clear(),Tp++,function(){o.forEach(function(h){var f=Ds.get(h)-1,m=s.get(h)-1;Ds.set(h,f),s.set(h,m),f||(yc.has(h)||h.removeAttribute(r),yc.delete(h)),m||h.removeAttribute(n)}),Tp--,Tp||(Ds=new WeakMap,Ds=new WeakMap,yc=new WeakMap,vc={})}},c5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=a5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),u5(r,i,n,"aria-hidden")):function(){return null}},Jc="right-scroll-bar-position",Zc="width-before-scroll-bar",d5="with-scroll-bars-hidden",h5="--removed-body-scroll-bar-size";function xp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function f5(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var p5=typeof window<"u"?v.useLayoutEffect:v.useEffect,HT=new WeakMap;function m5(t,e){var n=f5(null,function(r){return t.forEach(function(i){return xp(i,r)})});return p5(function(){var r=HT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||xp(a,null)}),s.forEach(function(a){i.has(a)||xp(a,o)})}HT.set(n,t)},[t]),n}function g5(t){return t}function y5(t,e){e===void 0&&(e=g5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function v5(t){t===void 0&&(t={});var e=y5(null);return e.options=De({async:!0,ssr:!1},t),e}var YP=function(t){var e=t.sideCar,n=ru(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,De({},n))};YP.isSideCarExport=!0;function w5(t,e){return t.useMedium(e),YP}var XP=v5(),Sp=function(){},rf=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Sp,onWheelCapture:Sp,onTouchMoveCapture:Sp}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,w=t.noIsolation,_=t.inert,S=t.allowPinchZoom,g=t.as,E=g===void 0?"div":g,T=t.gapMode,P=ru(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,L=m5([n,e]),I=De(De({},P),i);return v.createElement(v.Fragment,null,d&&v.createElement(M,{sideCar:XP,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:_,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:T}),o?v.cloneElement(v.Children.only(a),De(De({},I),{ref:L})):v.createElement(E,De({},I,{className:l,ref:L}),a))});rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rf.classNames={fullWidth:Zc,zeroRight:Jc};var _5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_5();return e&&t.setAttribute("nonce",e),t}function T5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function x5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var S5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=E5())&&(T5(e,n),x5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C5=function(){var t=S5();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JP=function(){var t=C5(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},I5={left:0,top:0,right:0,gap:0},Cp=function(t){return parseInt(t||"",10)||0},A5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Cp(n),Cp(r),Cp(i)]},R5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return I5;var e=A5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},P5=JP(),yo="data-scroll-locked",b5=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(d5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(yo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jc," .").concat(Jc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zc," .").concat(Zc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yo,`] {
    `).concat(h5,": ").concat(a,`px;
  }
`)},GT=function(){var t=parseInt(document.body.getAttribute(yo)||"0",10);return isFinite(t)?t:0},k5=function(){v.useEffect(function(){return document.body.setAttribute(yo,(GT()+1).toString()),function(){var t=GT()-1;t<=0?document.body.removeAttribute(yo):document.body.setAttribute(yo,t.toString())}},[])},M5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;k5();var s=v.useMemo(function(){return R5(i)},[i]);return v.createElement(P5,{styles:b5(s,!e,i,n?"":"!important")})},pg=!1;if(typeof window<"u")try{var wc=Object.defineProperty({},"passive",{get:function(){return pg=!0,!0}});window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{pg=!1}var Ns=pg?{passive:!1}:!1,D5=function(t){return t.tagName==="TEXTAREA"},ZP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!D5(t)&&n[e]==="visible")},N5=function(t){return ZP(t,"overflowY")},V5=function(t){return ZP(t,"overflowX")},KT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=eb(t,r);if(i){var s=tb(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},L5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},eb=function(t,e){return t==="v"?N5(e):V5(e)},tb=function(t,e){return t==="v"?O5(e):L5(e)},F5=function(t,e){return t==="h"&&e==="rtl"?-1:1},j5=function(t,e,n,r,i){var s=F5(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=tb(t,a),w=m[0],_=m[1],S=m[2],g=_-S-s*w;(w||g)&&eb(t,a)&&(h+=g,f+=w);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},_c=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qT=function(t){return[t.deltaX,t.deltaY]},QT=function(t){return t&&"current"in t?t.current:t},U5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},B5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},z5=0,Vs=[];function $5(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(z5++)[0],s=v.useState(JP)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=nL([t.lockRef.current],(t.shards||[]).map(QT),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var g=_c(_),E=n.current,T="deltaX"in _?_.deltaX:E[0]-g[0],P="deltaY"in _?_.deltaY:E[1]-g[1],M,L=_.target,I=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in _&&I==="h"&&L.type==="range")return!1;var x=KT(I,L);if(!x)return!0;if(x?M=I:(M=I==="v"?"h":"v",x=KT(I,L)),!x)return!1;if(!r.current&&"changedTouches"in _&&(T||P)&&(r.current=M),!M)return!0;var A=r.current||M;return j5(A,S,_,A==="h"?T:P)},[]),l=v.useCallback(function(_){var S=_;if(!(!Vs.length||Vs[Vs.length-1]!==s)){var g="deltaY"in S?qT(S):_c(S),E=e.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&U5(M.delta,g)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var T=(o.current.shards||[]).map(QT).filter(Boolean).filter(function(M){return M.contains(S.target)}),P=T.length>0?a(S,T[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),u=v.useCallback(function(_,S,g,E){var T={name:_,delta:S,target:g,should:E,shadowParent:W5(g)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=v.useCallback(function(_){n.current=_c(_),r.current=void 0},[]),h=v.useCallback(function(_){u(_.type,qT(_),_.target,a(_,t.lockRef.current))},[]),f=v.useCallback(function(_){u(_.type,_c(_),_.target,a(_,t.lockRef.current))},[]);v.useEffect(function(){return Vs.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ns),document.addEventListener("touchmove",l,Ns),document.addEventListener("touchstart",d,Ns),function(){Vs=Vs.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,Ns),document.removeEventListener("touchmove",l,Ns),document.removeEventListener("touchstart",d,Ns)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(s,{styles:B5(i)}):null,m?v.createElement(M5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function W5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const H5=w5(XP,$5);var nb=v.forwardRef(function(t,e){return v.createElement(rf,De({},t,{ref:e,sideCar:H5}))});nb.classNames=rf.classNames;var mg=["Enter"," "],G5=["ArrowDown","PageUp","Home"],rb=["ArrowUp","PageDown","End"],K5=[...G5,...rb],q5={ltr:[...mg,"ArrowRight"],rtl:[...mg,"ArrowLeft"]},Q5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eu="Menu",[Ul,Y5,X5]=fP(Eu),[Ss,ib]=yu(Eu,[X5,DP,WP]),sf=DP(),sb=WP(),[J5,Cs]=Ss(Eu),[Z5,Tu]=Ss(Eu),ob=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=sf(e),[l,u]=v.useState(null),d=v.useRef(!1),h=Nr(s),f=pP(i);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),C.jsx(B$,{...a,children:C.jsx(J5,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:C.jsx(Z5,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};ob.displayName=Eu;var e3="MenuAnchor",cw=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=sf(n);return C.jsx(z$,{...i,...r,ref:e})});cw.displayName=e3;var dw="MenuPortal",[t3,ab]=Ss(dw,{forceMount:void 0}),lb=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Cs(dw,e);return C.jsx(t3,{scope:e,forceMount:n,children:C.jsx(wu,{present:n||s.open,children:C.jsx(zP,{asChild:!0,container:i,children:r})})})};lb.displayName=dw;var Cn="MenuContent",[n3,hw]=Ss(Cn),ub=v.forwardRef((t,e)=>{const n=ab(Cn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Cs(Cn,t.__scopeMenu),o=Tu(Cn,t.__scopeMenu);return C.jsx(Ul.Provider,{scope:t.__scopeMenu,children:C.jsx(wu,{present:r||s.open,children:C.jsx(Ul.Slot,{scope:t.__scopeMenu,children:o.modal?C.jsx(r3,{...i,ref:e}):C.jsx(i3,{...i,ref:e})})})})}),r3=v.forwardRef((t,e)=>{const n=Cs(Cn,t.__scopeMenu),r=v.useRef(null),i=rn(e,r);return v.useEffect(()=>{const s=r.current;if(s)return c5(s)},[]),C.jsx(fw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),i3=v.forwardRef((t,e)=>{const n=Cs(Cn,t.__scopeMenu);return C.jsx(fw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),s3=Xd("MenuContent.ScrollLock"),fw=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,..._}=t,S=Cs(Cn,n),g=Tu(Cn,n),E=sf(n),T=sb(n),P=Y5(n),[M,L]=v.useState(null),I=v.useRef(null),x=rn(e,I,S.onContentChange),A=v.useRef(0),b=v.useRef(""),D=v.useRef(0),O=v.useRef(null),k=v.useRef("right"),oe=v.useRef(0),me=w?nb:v.Fragment,ae=w?{as:s3,allowPinchZoom:!0}:void 0,te=B=>{var K,ce;const V=b.current+B,N=P().filter(de=>!de.disabled),W=document.activeElement,G=(K=N.find(de=>de.ref.current===W))==null?void 0:K.textValue,Y=N.map(de=>de.textValue),ne=y3(Y,V,G),re=(ce=N.find(de=>de.textValue===ne))==null?void 0:ce.ref.current;(function de(ye){b.current=ye,window.clearTimeout(A.current),ye!==""&&(A.current=window.setTimeout(()=>de(""),1e3))})(V),re&&setTimeout(()=>re.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),hz();const F=v.useCallback(B=>{var N,W;return k.current===((N=O.current)==null?void 0:N.side)&&w3(B,(W=O.current)==null?void 0:W.area)},[]);return C.jsx(n3,{scope:n,searchRef:b,onItemEnter:v.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:v.useCallback(B=>{var V;F(B)||((V=I.current)==null||V.focus(),L(null))},[F]),onTriggerLeave:v.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(B=>{O.current=B},[]),children:C.jsx(me,{...ae,children:C.jsx(vP,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,B=>{var V;B.preventDefault(),(V=I.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:C.jsx(gP,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:C.jsx(s5,{asChild:!0,...T,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:L,onEntryFocus:Se(l,B=>{g.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:C.jsx($$,{role:"menu","aria-orientation":"vertical","data-state":Cb(S.open),"data-radix-menu-content":"",dir:g.dir,...E,..._,ref:x,style:{outline:"none",..._.style},onKeyDown:Se(_.onKeyDown,B=>{const N=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,G=B.key.length===1;N&&(B.key==="Tab"&&B.preventDefault(),!W&&G&&te(B.key));const Y=I.current;if(B.target!==Y||!K5.includes(B.key))return;B.preventDefault();const re=P().filter(K=>!K.disabled).map(K=>K.ref.current);rb.includes(B.key)&&re.reverse(),m3(re)}),onBlur:Se(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(A.current),b.current="")}),onPointerMove:Se(t.onPointerMove,Bl(B=>{const V=B.target,N=oe.current!==B.clientX;if(B.currentTarget.contains(V)&&N){const W=B.clientX>oe.current?"right":"left";k.current=W,oe.current=B.clientX}}))})})})})})})});ub.displayName=Cn;var o3="MenuGroup",pw=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return C.jsx(Kt.div,{role:"group",...r,ref:e})});pw.displayName=o3;var a3="MenuLabel",cb=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return C.jsx(Kt.div,{...r,ref:e})});cb.displayName=a3;var nh="MenuItem",YT="menu.itemSelect",of=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=v.useRef(null),o=Tu(nh,t.__scopeMenu),a=hw(nh,t.__scopeMenu),l=rn(e,s),u=v.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(YT,{bubbles:!0,cancelable:!0});h.addEventListener(YT,m=>r==null?void 0:r(m),{once:!0}),hP(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return C.jsx(db,{...i,ref:l,disabled:n,onClick:Se(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Se(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Se(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||mg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});of.displayName=nh;var db=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=hw(nh,n),a=sb(n),l=v.useRef(null),u=rn(e,l),[d,h]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[s.children]),C.jsx(Ul.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:C.jsx(o5,{asChild:!0,...a,focusable:!r,children:C.jsx(Kt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Se(t.onPointerMove,Bl(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,Bl(w=>o.onItemLeave(w))),onFocus:Se(t.onFocus,()=>h(!0)),onBlur:Se(t.onBlur,()=>h(!1))})})})}),l3="MenuCheckboxItem",hb=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return C.jsx(yb,{scope:t.__scopeMenu,checked:n,children:C.jsx(of,{role:"menuitemcheckbox","aria-checked":rh(n)?"mixed":n,...i,ref:e,"data-state":gw(n),onSelect:Se(i.onSelect,()=>r==null?void 0:r(rh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hb.displayName=l3;var fb="MenuRadioGroup",[u3,c3]=Ss(fb,{value:void 0,onValueChange:()=>{}}),pb=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Nr(r);return C.jsx(u3,{scope:t.__scopeMenu,value:n,onValueChange:s,children:C.jsx(pw,{...i,ref:e})})});pb.displayName=fb;var mb="MenuRadioItem",gb=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=c3(mb,t.__scopeMenu),s=n===i.value;return C.jsx(yb,{scope:t.__scopeMenu,checked:s,children:C.jsx(of,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":gw(s),onSelect:Se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});gb.displayName=mb;var mw="MenuItemIndicator",[yb,d3]=Ss(mw,{checked:!1}),vb=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=d3(mw,n);return C.jsx(wu,{present:r||rh(s.checked)||s.checked===!0,children:C.jsx(Kt.span,{...i,ref:e,"data-state":gw(s.checked)})})});vb.displayName=mw;var h3="MenuSeparator",wb=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return C.jsx(Kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});wb.displayName=h3;var f3="MenuArrow",_b=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=sf(n);return C.jsx(W$,{...i,...r,ref:e})});_b.displayName=f3;var p3="MenuSub",[_8,Eb]=Ss(p3),Ba="MenuSubTrigger",Tb=v.forwardRef((t,e)=>{const n=Cs(Ba,t.__scopeMenu),r=Tu(Ba,t.__scopeMenu),i=Eb(Ba,t.__scopeMenu),s=hw(Ba,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),C.jsx(cw,{asChild:!0,...u,children:C.jsx(db,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Cb(n.open),...t,ref:Jh(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,Bl(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Se(t.onPointerLeave,Bl(h=>{var m,w;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const _=(w=n.content)==null?void 0:w.dataset.side,S=_==="right",g=S?-5:5,E=f[S?"left":"right"],T=f[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:E,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:E,y:f.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,h=>{var m;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||q5[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});Tb.displayName=Ba;var xb="MenuSubContent",Sb=v.forwardRef((t,e)=>{const n=ab(Cn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Cs(Cn,t.__scopeMenu),o=Tu(Cn,t.__scopeMenu),a=Eb(xb,t.__scopeMenu),l=v.useRef(null),u=rn(e,l);return C.jsx(Ul.Provider,{scope:t.__scopeMenu,children:C.jsx(wu,{present:r||s.open,children:C.jsx(Ul.Slot,{scope:t.__scopeMenu,children:C.jsx(fw,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Se(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Se(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=Q5[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});Sb.displayName=xb;function Cb(t){return t?"open":"closed"}function rh(t){return t==="indeterminate"}function gw(t){return rh(t)?"indeterminate":t?"checked":"unchecked"}function m3(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function g3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function y3(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=g3(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function v3(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function w3(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return v3(n,e)}function Bl(t){return e=>e.pointerType==="mouse"?t(e):void 0}var _3=ob,E3=cw,T3=lb,x3=ub,S3=pw,C3=cb,I3=of,A3=hb,R3=pb,P3=gb,b3=vb,k3=wb,M3=_b,D3=Tb,N3=Sb,af="DropdownMenu",[V3]=yu(af,[ib]),qt=ib(),[O3,Ib]=V3(af),Ab=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=qt(e),u=v.useRef(null),[d,h]=dP({prop:i,defaultProp:s??!1,onChange:o,caller:af});return C.jsx(O3,{scope:e,triggerId:ug(),triggerRef:u,contentId:ug(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:a,children:C.jsx(_3,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};Ab.displayName=af;var Rb="DropdownMenuTrigger",Pb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Ib(Rb,n),o=qt(n);return C.jsx(E3,{asChild:!0,...o,children:C.jsx(Kt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Jh(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Pb.displayName=Rb;var L3="DropdownMenuPortal",bb=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qt(e);return C.jsx(T3,{...r,...n})};bb.displayName=L3;var kb="DropdownMenuContent",Mb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ib(kb,n),s=qt(n),o=v.useRef(!1);return C.jsx(x3,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mb.displayName=kb;var F3="DropdownMenuGroup",j3=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(S3,{...i,...r,ref:e})});j3.displayName=F3;var U3="DropdownMenuLabel",Db=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(C3,{...i,...r,ref:e})});Db.displayName=U3;var B3="DropdownMenuItem",Nb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(I3,{...i,...r,ref:e})});Nb.displayName=B3;var z3="DropdownMenuCheckboxItem",Vb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(A3,{...i,...r,ref:e})});Vb.displayName=z3;var $3="DropdownMenuRadioGroup",W3=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(R3,{...i,...r,ref:e})});W3.displayName=$3;var H3="DropdownMenuRadioItem",Ob=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(P3,{...i,...r,ref:e})});Ob.displayName=H3;var G3="DropdownMenuItemIndicator",Lb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(b3,{...i,...r,ref:e})});Lb.displayName=G3;var K3="DropdownMenuSeparator",Fb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(k3,{...i,...r,ref:e})});Fb.displayName=K3;var q3="DropdownMenuArrow",Q3=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(M3,{...i,...r,ref:e})});Q3.displayName=q3;var Y3="DropdownMenuSubTrigger",jb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(D3,{...i,...r,ref:e})});jb.displayName=Y3;var X3="DropdownMenuSubContent",Ub=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return C.jsx(N3,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ub.displayName=X3;var J3=Ab,Z3=Pb,e9=bb,Bb=Mb,zb=Db,$b=Nb,Wb=Vb,Hb=Ob,Gb=Lb,Kb=Fb,qb=jb,Qb=Ub;function Yb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Yb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function t9(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Yb(t))&&(r&&(r+=" "),r+=e);return r}const yw="-",n9=t=>{const e=i9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(yw);return a[0]===""&&a.length!==1&&a.shift(),Xb(a,e)||r9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Xb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Xb(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},XT=/^\[(.+)\]$/,r9=t=>{if(XT.test(t)){const e=XT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},i9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)gg(n[i],r,i,e);return r},gg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:JT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(s9(i)){gg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{gg(o,JT(e,s),n,r)})})},JT=(t,e)=>{let n=t;return e.split(yw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},s9=t=>t.isThemeGetter,o9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},yg="!",vg=":",a9=vg.length,l9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;for(let w=0;w<i.length;w++){let _=i[w];if(o===0&&a===0){if(_===vg){s.push(i.slice(l,w)),l=w+a9;continue}if(_==="/"){u=w;continue}}_==="["?o++:_==="]"?o--:_==="("?a++:_===")"&&a--}const d=s.length===0?i:i.substring(l),h=u9(d),f=h!==d,m=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+vg,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},u9=t=>t.endsWith(yg)?t.substring(0,t.length-1):t.startsWith(yg)?t.substring(1):t,c9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},d9=t=>({cache:o9(t.cacheSize),parseClassName:l9(t),sortModifiers:c9(t),...n9(t)}),h9=/\s+/,f9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(h9);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let S=!!_,g=r(S?w.substring(0,_):w);if(!g){if(!S){l=d+(l.length>0?" "+l:l);continue}if(g=r(w),!g){l=d+(l.length>0?" "+l:l);continue}S=!1}const E=s(f).join(":"),T=m?E+yg:E,P=T+g;if(o.includes(P))continue;o.push(P);const M=i(g,S);for(let L=0;L<M.length;++L){const I=M[L];o.push(T+I)}l=d+(l.length>0?" "+l:l)}return l};function p9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Jb(e))&&(r&&(r+=" "),r+=n);return r}const Jb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Jb(t[r]))&&(n&&(n+=" "),n+=e);return n};function m9(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=d9(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=f9(l,n);return i(l,d),d}return function(){return s(p9.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,e1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g9=/^\d+\/\d+$/,y9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,_9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=t=>g9.test(t),ge=t=>!!t&&!Number.isNaN(Number(t)),qr=t=>!!t&&Number.isInteger(Number(t)),Ip=t=>t.endsWith("%")&&ge(t.slice(0,-1)),cr=t=>y9.test(t),T9=()=>!0,x9=t=>v9.test(t)&&!w9.test(t),t1=()=>!1,S9=t=>_9.test(t),C9=t=>E9.test(t),I9=t=>!J(t)&&!Z(t),A9=t=>Zo(t,i1,t1),J=t=>Zb.test(t),Bi=t=>Zo(t,s1,x9),Ap=t=>Zo(t,M9,ge),ZT=t=>Zo(t,n1,t1),R9=t=>Zo(t,r1,C9),Ec=t=>Zo(t,o1,S9),Z=t=>e1.test(t),ka=t=>ea(t,s1),P9=t=>ea(t,D9),ex=t=>ea(t,n1),b9=t=>ea(t,i1),k9=t=>ea(t,r1),Tc=t=>ea(t,o1,!0),Zo=(t,e,n)=>{const r=Zb.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ea=(t,e,n=!1)=>{const r=e1.exec(t);return r?r[1]?e(r[1]):n:!1},n1=t=>t==="position"||t==="percentage",r1=t=>t==="image"||t==="url",i1=t=>t==="length"||t==="size"||t==="bg-size",s1=t=>t==="length",M9=t=>t==="number",D9=t=>t==="family-name",o1=t=>t==="shadow",N9=()=>{const t=it("color"),e=it("font"),n=it("text"),r=it("font-weight"),i=it("tracking"),s=it("leading"),o=it("breakpoint"),a=it("container"),l=it("spacing"),u=it("radius"),d=it("shadow"),h=it("inset-shadow"),f=it("text-shadow"),m=it("drop-shadow"),w=it("blur"),_=it("perspective"),S=it("aspect"),g=it("ease"),E=it("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...P(),Z,J],L=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],x=()=>[Z,J,l],A=()=>[Os,"full","auto",...x()],b=()=>[qr,"none","subgrid",Z,J],D=()=>["auto",{span:["full",qr,Z,J]},qr,Z,J],O=()=>[qr,"auto",Z,J],k=()=>["auto","min","max","fr",Z,J],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...x()],te=()=>[Os,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],F=()=>[t,Z,J],B=()=>[...P(),ex,ZT,{position:[Z,J]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",b9,A9,{size:[Z,J]}],W=()=>[Ip,ka,Bi],G=()=>["","none","full",u,Z,J],Y=()=>["",ge,ka,Bi],ne=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ge,Ip,ex,ZT],ce=()=>["","none",w,Z,J],de=()=>["none",ge,Z,J],ye=()=>["none",ge,Z,J],ve=()=>[ge,Z,J],Te=()=>[Os,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cr],breakpoint:[cr],color:[T9],container:[cr],"drop-shadow":[cr],ease:["in","out","in-out"],font:[I9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cr],shadow:[cr],spacing:["px",ge],text:[cr],"text-shadow":[cr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Os,J,Z,S]}],container:["container"],columns:[{columns:[ge,J,Z,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[qr,"auto",Z,J]}],basis:[{basis:[Os,"full","auto",a,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,Os,"auto","initial","none",J]}],grow:[{grow:["",ge,Z,J]}],shrink:[{shrink:["",ge,Z,J]}],order:[{order:[qr,"first","last","none",Z,J]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[a,"screen",...te()]}],"min-w":[{"min-w":[a,"screen","none",...te()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,ka,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,Ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ip,J]}],"font-family":[{font:[P9,J,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Z,J]}],"line-clamp":[{"line-clamp":[ge,"none",Z,Ap]}],leading:[{leading:[s,...x()]}],"list-image":[{"list-image":["none",Z,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",Z,Bi]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[ge,"auto",Z,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qr,Z,J],radial:["",Z,J],conic:[qr,Z,J]},k9,R9]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,Z,J]}],"outline-w":[{outline:["",ge,ka,Bi]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,Tc,Ec]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",h,Tc,Ec]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[ge,Bi]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",f,Tc,Ec]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[ge,Z,J]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Z,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,J]}],filter:[{filter:["","none",Z,J]}],blur:[{blur:ce()}],brightness:[{brightness:[ge,Z,J]}],contrast:[{contrast:[ge,Z,J]}],"drop-shadow":[{"drop-shadow":["","none",m,Tc,Ec]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",ge,Z,J]}],"hue-rotate":[{"hue-rotate":[ge,Z,J]}],invert:[{invert:["",ge,Z,J]}],saturate:[{saturate:[ge,Z,J]}],sepia:[{sepia:["",ge,Z,J]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,J]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[ge,Z,J]}],"backdrop-contrast":[{"backdrop-contrast":[ge,Z,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,Z,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,Z,J]}],"backdrop-invert":[{"backdrop-invert":["",ge,Z,J]}],"backdrop-opacity":[{"backdrop-opacity":[ge,Z,J]}],"backdrop-saturate":[{"backdrop-saturate":[ge,Z,J]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,Z,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",Z,J]}],ease:[{ease:["linear","initial",g,Z,J]}],delay:[{delay:[ge,Z,J]}],animate:[{animate:["none",E,Z,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Z,J]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Z,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,J]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[ge,ka,Bi,Ap]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V9=m9(N9);function Ni(...t){return V9(t9(t))}const O9=J3,L9=Z3,F9=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>C.jsxs(qb,{ref:i,className:Ni("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,C.jsx(_B,{className:"ml-auto"})]}));F9.displayName=qb.displayName;const j9=v.forwardRef(({className:t,...e},n)=>C.jsx(Qb,{ref:n,className:Ni("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));j9.displayName=Qb.displayName;const a1=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(e9,{children:C.jsx(Bb,{ref:r,sideOffset:e,className:Ni("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));a1.displayName=Bb.displayName;const l1=v.forwardRef(({className:t,inset:e,...n},r)=>C.jsx($b,{ref:r,className:Ni("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));l1.displayName=$b.displayName;const U9=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>C.jsxs(Wb,{ref:i,className:Ni("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[C.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(Gb,{children:C.jsx(vB,{className:"h-4 w-4"})})}),e]}));U9.displayName=Wb.displayName;const B9=v.forwardRef(({className:t,children:e,...n},r)=>C.jsxs(Hb,{ref:r,className:Ni("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[C.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(Gb,{children:C.jsx(TB,{className:"h-2 w-2 fill-current"})})}),e]}));B9.displayName=Hb.displayName;const z9=v.forwardRef(({className:t,inset:e,...n},r)=>C.jsx(zb,{ref:r,className:Ni("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));z9.displayName=zb.displayName;const $9=v.forwardRef(({className:t,...e},n)=>C.jsx(Kb,{ref:n,className:Ni("-mx-1 my-1 h-px bg-muted",t),...e}));$9.displayName=Kb.displayName;function W9({user:t,couple:e}){const n=()=>{if(!window.confirm(`Souhaites-tu signaler le couple "${e.personA.display_name} et ${e.personB.display_name}" ?`))return;const i=t.displayName??"Utilisateur anonyme",s=`Signalement d'un couple : ${e.personA.display_name} & ${e.personB.display_name}`,o=`
Bonjour,

Un utilisateur a signal un couple sur Surchope :

 Utilisateur : ${i}
 Lien : https://surchope.fr/couple/${e.id}
 Raison : ( complter)

Merci.
        `.trim(),a=`mailto:contact@surchope.fr?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(o)}`;window.location.href=a};return C.jsxs(O9,{children:[C.jsx(L9,{asChild:!0,children:C.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Plus doptions",children:C.jsx(SB,{size:18})})}),C.jsx(a1,{align:"end",sideOffset:4,children:C.jsxs(l1,{onClick:n,className:"flex items-center gap-2 text-gray-700 cursor-pointer",children:[C.jsx(IB,{size:14,className:"text-amber-500"}),C.jsx("span",{children:"Signaler ce couple"})]})})]})}function lf({couple:t,user:e,myChoice:n,onVote:r,compact:i=!1,onlyMyVotes:s=!1,onDelete:o}){const[a,l]=v.useState(null);return C.jsxs("div",{className:"relative p-4 rounded-2xl bg-white shadow-sm border hover:shadow-md transition",children:[C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsx($B,{couple:t,user:e,onDelete:o,compact:i}),e&&!i&&C.jsx(W9,{user:e,couple:t})]}),C.jsx("div",{className:"flex items-center gap-4 flex-col",children:C.jsx("div",{className:"flex-1 flex items-center gap-3 flex-col",children:C.jsx(HB,{couple:t,myChoice:n,onlyMyVotes:s,onSelectPerson:l})})}),!i&&C.jsx(GB,{couple:t,user:e,canVote:!!e&&!!r,myChoice:n,onVote:r}),!e&&!i&&C.jsx("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Connecte-toi pour voter."}),a&&C.jsx(zB,{name:a,onClose:()=>l(null)})]})}function H9({onClose:t}){return C.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm mx-4 text-center shadow-lg animate-fadeIn",children:[C.jsx("h2",{className:"text-xl font-semibold text-pink-600 mb-3",children:"Bienvenue sur Surchope "}),C.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed mb-5",children:["Ici, on ",C.jsx("span",{className:"font-semibold text-pink-500",children:"surchope"}),"  : cest quand on est en couple avec quelquun de plus attractif que soi  celui ou celle qui a un peu trop bien russi son coup ",C.jsx("br",{}),"Tout a avec humour et bienveillance "]}),C.jsx("button",{onClick:t,className:"px-4 py-2 bg-pink-500 hover:bg-pink-600 text-white text-sm rounded-full shadow-sm transition",children:"Jai compris "})]})})}function wg(){return C.jsx("footer",{className:"text-center text-xs text-gray-400 mt-8 italic",children:"Surchoper : cest quand on est en couple avec quelquun dun peu trop canon pour soi "})}function G9({user:t,couples:e,myVotes:n,onVote:r,loading:i,deleteCouple:s}){const[o,a]=v.useState(""),[l,u]=v.useState(!1),d=Es();if(v.useEffect(()=>{localStorage.getItem("surchope_intro_seen")||(u(!0),localStorage.setItem("surchope_intro_seen","true"))},[]),i)return C.jsx(Xh,{});const h=e.filter(f=>o.trim()===""?!0:`${f.personA.display_name} ${f.personB.display_name}`.toLowerCase().includes(o.toLowerCase())).sort((f,m)=>{const w=!!n[f.id],_=!!n[m.id];return w===_?0:w?1:-1});return C.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6 relative",children:[l&&C.jsx(H9,{onClose:()=>u(!1)}),C.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:C.jsx("input",{type:"text",placeholder:" Rechercher un couple ou un prnom...",value:o,onChange:f=>a(f.target.value),className:"w-full sm:w-80 border rounded-full px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-400"})}),h.length===0?C.jsx("p",{className:"text-center text-gray-500 mt-6",children:"Aucun couple trouv."}):C.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-2 gap-4 pb-24",children:h.map(f=>C.jsx(lf,{couple:f,user:t,myChoice:n[f.id],onVote:r,onlyMyVotes:!1,onDelete:s},f.id))}),C.jsx(wg,{}),C.jsx("button",{onClick:()=>d("/jouer"),className:"fixed bottom-6 right-6 bg-pink-500 hover:bg-pink-600 text-white rounded-full shadow-lg p-4 transition transform hover:scale-110 active:scale-95 focus:outline-none focus:ring-4 focus:ring-pink-300",title:"Jouer",children:C.jsx(DB,{size:26,fill:"white",className:"ml-0.5"})})]})}const vw=v.createContext({});function ww(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const _w=typeof window<"u",u1=_w?v.useLayoutEffect:v.useEffect,uf=v.createContext(null);function Ew(t,e){t.indexOf(e)===-1&&t.push(e)}function Tw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lr=(t,e,n)=>n>e?e:n<t?t:n;let xw=()=>{};const Fr={},c1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function d1(t){return typeof t=="object"&&t!==null}const h1=t=>/^0[^.\s]+$/u.test(t);function Sw(t){let e;return()=>(e===void 0&&(e=t()),e)}const In=t=>t,K9=(t,e)=>n=>e(t(n)),xu=(...t)=>t.reduce(K9),zl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Cw{constructor(){this.subscriptions=[]}add(e){return Ew(this.subscriptions,e),()=>Tw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=t=>t*1e3,xn=t=>t/1e3;function f1(t,e){return e?t*(1e3/e):0}const p1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,q9=1e-7,Q9=12;function Y9(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=p1(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>q9&&++a<Q9);return o}function Su(t,e,n,r){if(t===e&&n===r)return In;const i=s=>Y9(s,0,1,t,n);return s=>s===0||s===1?s:p1(i(s),e,r)}const m1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,g1=t=>e=>1-t(1-e),y1=Su(.33,1.53,.69,.99),Iw=g1(y1),v1=m1(Iw),w1=t=>(t*=2)<1?.5*Iw(t):.5*(2-Math.pow(2,-10*(t-1))),Aw=t=>1-Math.sin(Math.acos(t)),_1=g1(Aw),E1=m1(Aw),X9=Su(.42,0,1,1),J9=Su(0,0,.58,1),T1=Su(.42,0,.58,1),Z9=t=>Array.isArray(t)&&typeof t[0]!="number",x1=t=>Array.isArray(t)&&typeof t[0]=="number",e6={linear:In,easeIn:X9,easeInOut:T1,easeOut:J9,circIn:Aw,circInOut:E1,circOut:_1,backIn:Iw,backInOut:v1,backOut:y1,anticipate:w1},t6=t=>typeof t=="string",tx=t=>{if(x1(t)){xw(t.length===4);const[e,n,r,i]=t;return Su(e,n,r,i)}else if(t6(t))return e6[t];return t},xc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function n6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,h=!1,f=!1)=>{const w=f&&i?n:r;return h&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const r6=40;function S1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xc.reduce((T,P)=>(T[P]=n6(s),T),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,_=()=>{const T=Fr.useManualTiming?i.timestamp:performance.now();n=!1,Fr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,r6),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},S=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:xc.reduce((T,P)=>{const M=o[P];return T[P]=(L,I=!1,x=!1)=>(n||S(),M.schedule(L,I,x)),T},{}),cancel:T=>{for(let P=0;P<xc.length;P++)o[xc[P]].cancel(T)},state:i,steps:o}}const{schedule:je,cancel:Ri,state:yt,steps:Rp}=S1(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0);let ed;function i6(){ed=void 0}const Zt={now:()=>(ed===void 0&&Zt.set(yt.isProcessing||Fr.useManualTiming?yt.timestamp:performance.now()),ed),set:t=>{ed=t,queueMicrotask(i6)}},C1=t=>e=>typeof e=="string"&&e.startsWith(t),Rw=C1("--"),s6=C1("var(--"),Pw=t=>s6(t)?o6.test(t.split("/*")[0].trim()):!1,o6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ta={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$l={...ta,transform:t=>Lr(0,1,t)},Sc={...ta,default:1},il=t=>Math.round(t*1e5)/1e5,bw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a6(t){return t==null}const l6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kw=(t,e)=>n=>!!(typeof n=="string"&&l6.test(n)&&n.startsWith(t)||e&&!a6(n)&&Object.prototype.hasOwnProperty.call(n,e)),I1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(bw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},u6=t=>Lr(0,255,t),Pp={...ta,transform:t=>Math.round(u6(t))},Zi={test:kw("rgb","red"),parse:I1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pp.transform(t)+", "+Pp.transform(e)+", "+Pp.transform(n)+", "+il($l.transform(r))+")"};function c6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _g={test:kw("#"),parse:c6,transform:Zi.transform},Cu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xr=Cu("deg"),rr=Cu("%"),le=Cu("px"),d6=Cu("vh"),h6=Cu("vw"),nx={...rr,parse:t=>rr.parse(t)/100,transform:t=>rr.transform(t*100)},eo={test:kw("hsl","hue"),parse:I1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rr.transform(il(e))+", "+rr.transform(il(n))+", "+il($l.transform(r))+")"},et={test:t=>Zi.test(t)||_g.test(t)||eo.test(t),parse:t=>Zi.test(t)?Zi.parse(t):eo.test(t)?eo.parse(t):_g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zi.transform(t):eo.transform(t),getAnimatableNone:t=>{const e=et.parse(t);return e.alpha=0,et.transform(e)}},f6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bw))==null?void 0:e.length)||0)+(((n=t.match(f6))==null?void 0:n.length)||0)>0}const A1="number",R1="color",m6="var",g6="var(",rx="${}",y6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(y6,l=>(et.test(l)?(r.color.push(s),i.push(R1),n.push(et.parse(l))):l.startsWith(g6)?(r.var.push(s),i.push(m6),n.push(l)):(r.number.push(s),i.push(A1),n.push(parseFloat(l))),++s,rx)).split(rx);return{values:n,split:a,indexes:r,types:i}}function P1(t){return Wl(t).values}function b1(t){const{split:e,types:n}=Wl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===A1?s+=il(i[o]):a===R1?s+=et.transform(i[o]):s+=i[o]}return s}}const v6=t=>typeof t=="number"?0:et.test(t)?et.getAnimatableNone(t):t;function w6(t){const e=P1(t);return b1(t)(e.map(v6))}const Pi={test:p6,parse:P1,createTransformer:b1,getAnimatableNone:w6};function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=bp(l,a,t+1/3),s=bp(l,a,t),o=bp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ih(t,e){return n=>n>0?e:t}const ze=(t,e,n)=>t+(e-t)*n,kp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},E6=[_g,Zi,eo],T6=t=>E6.find(e=>e.test(t));function ix(t){const e=T6(t);if(!e)return!1;let n=e.parse(t);return e===eo&&(n=_6(n)),n}const sx=(t,e)=>{const n=ix(t),r=ix(e);if(!n||!r)return ih(t,e);const i={...n};return s=>(i.red=kp(n.red,r.red,s),i.green=kp(n.green,r.green,s),i.blue=kp(n.blue,r.blue,s),i.alpha=ze(n.alpha,r.alpha,s),Zi.transform(i))},Eg=new Set(["none","hidden"]);function x6(t,e){return Eg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function S6(t,e){return n=>ze(t,e,n)}function Mw(t){return typeof t=="number"?S6:typeof t=="string"?Pw(t)?ih:et.test(t)?sx:A6:Array.isArray(t)?k1:typeof t=="object"?et.test(t)?sx:C6:ih}function k1(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Mw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function C6(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Mw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function I6(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const A6=(t,e)=>{const n=Pi.createTransformer(e),r=Wl(t),i=Wl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Eg.has(t)&&!i.values.length||Eg.has(e)&&!r.values.length?x6(t,e):xu(k1(I6(r,i),i.values),n):ih(t,e)};function M1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):Mw(t)(t,e)}const R6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>je.update(e,n),stop:()=>Ri(e),now:()=>yt.isProcessing?yt.timestamp:Zt.now()}},D1=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sh=2e4;function Dw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sh;)e+=n,r=t.next(e);return e>=sh?1/0:e}function P6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Dw(r),sh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xn(i)}}const b6=5;function N1(t,e,n){const r=Math.max(e-b6,0);return f1(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mp=.001;function k6({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,o=1-e;o=Lr(Ke.minDamping,Ke.maxDamping,o),t=Lr(Ke.minDuration,Ke.maxDuration,xn(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=Tg(u,o),w=Math.exp(-h);return Mp-f/m*w},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-h),_=Tg(Math.pow(u,2),o);return(-i(u)+Mp>0?-1:1)*((f-m)*w)/_}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Mp+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=D6(i,s,a);if(t=nr(t),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const M6=12;function D6(t,e,n){let r=n;for(let i=1;i<M6;i++)r=r-t(r)/e(r);return r}function Tg(t,e){return t*Math.sqrt(1-e*e)}const N6=["duration","bounce"],V6=["stiffness","damping","mass"];function ox(t,e){return e.some(n=>t[n]!==void 0)}function O6(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!ox(t,V6)&&ox(t,N6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Lr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=k6(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function oh(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=O6({...n,velocity:-xn(n.velocity||0)}),w=f||0,_=u/(2*Math.sqrt(l*d)),S=o-s,g=xn(Math.sqrt(l/d)),E=Math.abs(S)<5;r||(r=E?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=E?Ke.restDelta.granular:Ke.restDelta.default);let T;if(_<1){const M=Tg(g,_);T=L=>{const I=Math.exp(-_*g*L);return o-I*((w+_*g*S)/M*Math.sin(M*L)+S*Math.cos(M*L))}}else if(_===1)T=M=>o-Math.exp(-g*M)*(S+(w+g*S)*M);else{const M=g*Math.sqrt(_*_-1);T=L=>{const I=Math.exp(-_*g*L),x=Math.min(M*L,300);return o-I*((w+_*g*S)*Math.sinh(x)+M*S*Math.cosh(x))/M}}const P={calculatedDuration:m&&h||null,next:M=>{const L=T(M);if(m)a.done=M>=h;else{let I=M===0?w:0;_<1&&(I=M===0?nr(w):N1(T,M,L));const x=Math.abs(I)<=r,A=Math.abs(o-L)<=i;a.done=x&&A}return a.value=a.done?o:L,a},toString:()=>{const M=Math.min(Dw(P),sh),L=D1(I=>P.next(M*I).value,M,30);return M+"ms "+L},toTransition:()=>{}};return P}oh.applyToOptions=t=>{const e=P6(t,100,oh);return t.ease=e.ease,t.duration=nr(e.duration),t.type="keyframes",t};function xg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,w=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let _=n*e;const S=h+_,g=o===void 0?S:o(S);g!==S&&(_=g-h);const E=x=>-_*Math.exp(-x/r),T=x=>g+E(x),P=x=>{const A=E(x),b=T(x);f.done=Math.abs(A)<=u,f.value=f.done?g:b};let M,L;const I=x=>{m(f.value)&&(M=x,L=oh({keyframes:[f.value,w(f.value)],velocity:N1(T,x,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:x=>{let A=!1;return!L&&M===void 0&&(A=!0,P(x),I(x)),M!==void 0&&x>=M?L.next(x-M):(!A&&P(x),f)}}}function L6(t,e,n){const r=[],i=n||Fr.mix||M1,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||In:e;a=xu(l,a)}r.push(a)}return r}function F6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(xw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=L6(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=zl(t[h],t[h+1],d);return a[h](f)};return n?d=>u(Lr(t[0],t[s-1],d)):u}function j6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=zl(0,e,r);t.push(ze(n,1,i))}}function U6(t){const e=[0];return j6(e,t.length-1),e}function B6(t,e){return t.map(n=>n*e)}function z6(t,e){return t.map(()=>e||T1).splice(0,t.length-1)}function sl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Z9(r)?r.map(tx):tx(r),s={done:!1,value:e[0]},o=B6(n&&n.length===e.length?n:U6(e),t),a=F6(o,e,{ease:Array.isArray(i)?i:z6(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const $6=t=>t!==null;function Nw(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter($6),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const W6={decay:xg,inertia:xg,tween:sl,keyframes:sl,spring:oh};function V1(t){typeof t.type=="string"&&(t.type=W6[t.type])}class Vw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const H6=t=>t/100;class Ow extends Vw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;V1(e);const{type:n=sl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||sl;l!==sl&&typeof a[0]!="number"&&(this.mixKeyframes=xu(H6,M1(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Dw(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,P=r;if(h){const x=Math.min(this.currentTime,i)/a;let A=Math.floor(x),b=x%1;!b&&x>=1&&(b=1),b===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(b=1-b,m&&(b-=m/a)):f==="mirror"&&(P=o)),T=Lr(0,1,b)*a}const M=E?{done:!1,value:d[0]}:P.next(T);s&&(M.value=s(M.value));let{done:L}=M;!E&&l!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&w!==xg&&(M.value=Nw(d,this.options,S,this.speed)),_&&_(M.value),I&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xn(e)}get time(){return xn(this.currentTime)}set time(e){var n;e=nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=R6,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function G6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const es=t=>t*180/Math.PI,Sg=t=>{const e=es(Math.atan2(t[1],t[0]));return Cg(e)},K6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sg,rotateZ:Sg,skewX:t=>es(Math.atan(t[1])),skewY:t=>es(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cg=t=>(t=t%360,t<0&&(t+=360),t),ax=Sg,lx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ux=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),q6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lx,scaleY:ux,scale:t=>(lx(t)+ux(t))/2,rotateX:t=>Cg(es(Math.atan2(t[6],t[5]))),rotateY:t=>Cg(es(Math.atan2(-t[2],t[0]))),rotateZ:ax,rotate:ax,skewX:t=>es(Math.atan(t[4])),skewY:t=>es(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ig(t){return t.includes("scale")?1:0}function Ag(t,e){if(!t||t==="none")return Ig(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=q6,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=K6,i=a}if(!i)return Ig(e);const s=r[e],o=i[1].split(",").map(Y6);return typeof s=="function"?s(o):o[s]}const Q6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ag(n,e)};function Y6(t){return parseFloat(t.trim())}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(na),cx=t=>t===ta||t===le,X6=new Set(["x","y","z"]),J6=na.filter(t=>!X6.has(t));function Z6(t){const e=[];return J6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ss={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ag(e,"x"),y:(t,{transform:e})=>Ag(e,"y")};ss.translateX=ss.x;ss.translateY=ss.y;const os=new Set;let Rg=!1,Pg=!1,bg=!1;function O1(){if(Pg){const t=Array.from(os).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Z6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pg=!1,Rg=!1,os.forEach(t=>t.complete(bg)),os.clear()}function L1(){os.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pg=!0)})}function eW(){bg=!0,L1(),O1(),bg=!1}class Lw{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(os.add(this),Rg||(Rg=!0,je.read(L1),je.resolveKeyframes(O1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}G6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),os.delete(this)}cancel(){this.state==="scheduled"&&(os.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tW=t=>t.startsWith("--");function nW(t,e,n){tW(e)?t.style.setProperty(e,n):t.style[e]=n}const rW=Sw(()=>window.ScrollTimeline!==void 0),iW={};function sW(t,e){const n=Sw(t);return()=>iW[e]??n()}const F1=sW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),za=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function j1(t,e){if(t)return typeof t=="function"?F1()?D1(t,e):"ease-out":x1(t)?za(t):Array.isArray(t)?t.map(n=>j1(n,e)||dx.easeOut):dx[t]}function oW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=j1(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function U1(t){return typeof t=="function"&&"applyToOptions"in t}function aW({type:t,...e}){return U1(t)&&F1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lW extends Vw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,xw(typeof e.type!="string");const u=aW(e);this.animation=oW(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Nw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):nW(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xn(e)}get time(){return xn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rW()?(this.animation.timeline=e,In):n(this)}}const B1={anticipate:w1,backInOut:v1,circInOut:E1};function uW(t){return t in B1}function cW(t){typeof t.ease=="string"&&uW(t.ease)&&(t.ease=B1[t.ease])}const hx=10;class dW extends lW{constructor(e){cW(e),V1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ow({...o,autoplay:!1}),l=nr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-hx).value,a.sample(l).value,hx),a.stop()}}const fx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pi.test(t)||t==="0")&&!t.startsWith("url("));function hW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=fx(i,e),a=fx(s,e);return!o||!a?!1:hW(t)||(n==="spring"||U1(n))&&r}function kg(t){t.duration=0,t.type="keyframes"}const pW=new Set(["opacity","clipPath","filter","transform"]),mW=Sw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gW(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return mW()&&n&&pW.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const yW=40;class vW extends Vw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var _,S;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Zt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Lw;this.keyframeResolver=new m(a,(_,S,g)=>this.onKeyframesResolved(_,S,f,!g),l,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Zt.now(),fW(e,s,o,a)||((Fr.instantAnimations||!l)&&(d==null||d(Nw(e,r,n))),e[0]=e[e.length-1],kg(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>yW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&gW(f)?new dW({...f,element:f.motionValue.owner.current}):new Ow(f);m.finished.then(()=>this.notifyFinished()).catch(In),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),eW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const wW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _W(t){const e=wW.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function z1(t,e,n=1){const[r,i]=_W(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return c1(o)?parseFloat(o):o}return Pw(i)?z1(i,e,n+1):i}function Fw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $1=new Set(["width","height","top","left","right","bottom",...na]),EW={test:t=>t==="auto",parse:t=>t},W1=t=>e=>e.test(t),H1=[ta,le,rr,Xr,h6,d6,EW],px=t=>H1.find(W1(t));function TW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||h1(t):!0}const xW=new Set(["brightness","contrast","saturate","opacity"]);function SW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bw)||[];if(!r)return t;const i=n.replace(r,"");let s=xW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const CW=/\b([a-z-]*)\(.*?\)/gu,Mg={...Pi,getAnimatableNone:t=>{const e=t.match(CW);return e?e.map(SW).join(" "):t}},mx={...ta,transform:Math.round},IW={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:Sc,scaleX:Sc,scaleY:Sc,scaleZ:Sc,skew:Xr,skewX:Xr,skewY:Xr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:$l,originX:nx,originY:nx,originZ:le},jw={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...IW,zIndex:mx,fillOpacity:$l,strokeOpacity:$l,numOctaves:mx},AW={...jw,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:Mg,WebkitFilter:Mg},G1=t=>AW[t];function K1(t,e){let n=G1(t);return n!==Mg&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RW=new Set(["auto","none","0"]);function PW(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!RW.has(s)&&Wl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=K1(n,i)}class bW extends Lw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Pw(u))){const d=z1(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$1.has(r)||e.length!==2)return;const[i,s]=e,o=px(i),a=px(s);if(o!==a)if(cx(o)&&cx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ss[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||TW(e[i]))&&r.push(i);r.length&&PW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ss[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ss[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function kW(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const q1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Q1(t){return d1(t)&&"offsetHeight"in t}const gx=30,MW=t=>!isNaN(parseFloat(t));class DW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Zt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cw);const r=this.events[e].add(n);return e==="change"?()=>{r(),je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gx);return f1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oo(t,e){return new DW(t,e)}const{schedule:Uw}=S1(queueMicrotask,!1),kn={x:!1,y:!1};function Y1(){return kn.x||kn.y}function NW(t){return t==="x"||t==="y"?kn[t]?null:(kn[t]=!0,()=>{kn[t]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function X1(t,e){const n=kW(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function yx(t){return!(t.pointerType==="touch"||Y1())}function VW(t,e,n={}){const[r,i,s]=X1(t,n),o=a=>{if(!yx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{yx(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const J1=(t,e)=>e?t===e?!0:J1(t,e.parentElement):!1,Bw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LW(t){return OW.has(t.tagName)||t.tabIndex!==-1}const td=new WeakSet;function vx(t){return e=>{e.key==="Enter"&&t(e)}}function Dp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=vx(()=>{if(td.has(n))return;Dp(n,"down");const i=vx(()=>{Dp(n,"up")}),s=()=>Dp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function wx(t){return Bw(t)&&!Y1()}function jW(t,e,n={}){const[r,i,s]=X1(t,n),o=a=>{const l=a.currentTarget;if(!wx(a))return;td.add(l);const u=e(l,a),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),td.has(l)&&td.delete(l),wx(m)&&typeof u=="function"&&u(m,{success:w})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||J1(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Q1(a)&&(a.addEventListener("focus",u=>FW(u,i)),!LW(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Z1(t){return d1(t)&&"ownerSVGElement"in t}function UW(t){return Z1(t)&&t.tagName==="svg"}const Dt=t=>!!(t&&t.getVelocity),BW=[...H1,et,Pi],zW=t=>BW.find(W1(t)),zw=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _x(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $W(...t){return e=>{let n=!1;const r=t.map(i=>{const s=_x(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():_x(t[i],null)}}}}function WW(...t){return v.useCallback($W(...t),t)}class HW extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Q1(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GW({children:t,isPresent:e,anchorX:n,root:r}){const i=v.useId(),s=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(zw),l=WW(s,t==null?void 0:t.ref);return v.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=o.current;if(e||!s.current||!u||!d)return;const w=n==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");a&&(_.nonce=a);const S=r??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{S.contains(_)&&S.removeChild(_)}},[e]),C.jsx(HW,{isPresent:e,childRef:s,sizeRef:o,children:v.cloneElement(t,{ref:l})})}const KW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=ww(qW),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&h&&(f={...f}),v.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[n]),v.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=C.jsx(GW,{isPresent:n,anchorX:a,root:l,children:t})),C.jsx(uf.Provider,{value:f,children:t})};function qW(){return new Map}function ek(t=!0){const e=v.useContext(uf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=v.useId();v.useEffect(()=>{if(t)return i(s)},[t]);const o=v.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Cc=t=>t.key||"";function Ex(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const tk=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=ek(o),h=v.useMemo(()=>Ex(t),[t]),f=o&&!u?[]:h.map(Cc),m=v.useRef(!0),w=v.useRef(h),_=ww(()=>new Map),[S,g]=v.useState(h),[E,T]=v.useState(h);u1(()=>{m.current=!1,w.current=h;for(let L=0;L<E.length;L++){const I=Cc(E[L]);f.includes(I)?_.delete(I):_.get(I)!==!0&&_.set(I,!1)}},[E,f.length,f.join("-")]);const P=[];if(h!==S){let L=[...h];for(let I=0;I<E.length;I++){const x=E[I],A=Cc(x);f.includes(A)||(L.splice(I,0,x),P.push(x))}return s==="wait"&&P.length&&(L=P),T(Ex(L)),g(h),null}const{forceRender:M}=v.useContext(vw);return C.jsx(C.Fragment,{children:E.map(L=>{const I=Cc(L),x=o&&!u?!1:h===E||f.includes(I),A=()=>{if(_.has(I))_.set(I,!0);else return;let b=!0;_.forEach(D=>{D||(b=!1)}),b&&(M==null||M(),T(w.current),o&&(d==null||d()),r&&r())};return C.jsx(KW,{isPresent:x,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:x?void 0:A,anchorX:a,children:L},I)})})},nk=v.createContext({strict:!1}),Tx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const t in Tx)Lo[t]={isEnabled:e=>Tx[t].some(n=>!!e[n])};function QW(t){for(const e in t)Lo[e]={...Lo[e],...t[e]}}const YW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ah(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||YW.has(t)}let rk=t=>!ah(t);function XW(t){typeof t=="function"&&(rk=e=>e.startsWith("on")?!ah(e):t(e))}try{XW(require("@emotion/is-prop-valid").default)}catch{}function JW(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(rk(i)||n===!0&&ah(i)||!e&&!ah(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const cf=v.createContext({});function df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hl(t){return typeof t=="string"||Array.isArray(t)}const $w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ww=["initial",...$w];function hf(t){return df(t.animate)||Ww.some(e=>Hl(t[e]))}function ik(t){return!!(hf(t)||t.variants)}function ZW(t,e){if(hf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hl(n)?n:void 0,animate:Hl(r)?r:void 0}}return t.inherit!==!1?e:{}}function eH(t){const{initial:e,animate:n}=ZW(t,v.useContext(cf));return v.useMemo(()=>({initial:e,animate:n}),[xx(e),xx(n)])}function xx(t){return Array.isArray(t)?t.join(" "):t}const Gl={};function tH(t){for(const e in t)Gl[e]=t[e],Rw(e)&&(Gl[e].isCSSVariable=!0)}function sk(t,{layout:e,layoutId:n}){return ra.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gl[t]||t==="opacity")}const nH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rH=na.length;function iH(t,e,n){let r="",i=!0;for(let s=0;s<rH;s++){const o=na[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=q1(a,jw[o]);if(!l){i=!1;const d=nH[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Hw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ra.has(l)){o=!0;continue}else if(Rw(l)){i[l]=u;continue}else{const d=q1(u,jw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=iH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const Gw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ok(t,e,n){for(const r in e)!Dt(e[r])&&!sk(r,n)&&(t[r]=e[r])}function sH({transformTemplate:t},e){return v.useMemo(()=>{const n=Gw();return Hw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oH(t,e){const n=t.style||{},r={};return ok(r,n,t),Object.assign(r,sH(t,e)),r}function aH(t,e){const n={},r=oH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const lH={offset:"stroke-dashoffset",array:"stroke-dasharray"},uH={offset:"strokeDashoffset",array:"strokeDasharray"};function cH(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?lH:uH;t[s.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function ak(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,d){if(Hw(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&cH(h,i,s,o,!1)}const lk=()=>({...Gw(),attrs:{}}),uk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dH(t,e,n,r){const i=v.useMemo(()=>{const s=lk();return ak(s,e,uk(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ok(s,t.style,t),i.style={...s,...i.style}}return i}const hH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kw(t){return typeof t!="string"||t.includes("-")?!1:!!(hH.indexOf(t)>-1||/[A-Z]/u.test(t))}function fH(t,e,n,{latestValues:r},i,s=!1){const a=(Kw(t)?dH:aH)(e,r,i,t),l=JW(e,typeof t=="string",s),u=t!==v.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=v.useMemo(()=>Dt(d)?d.get():d,[d]);return v.createElement(t,{...u,children:h})}function Sx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qw(t,e,n,r){if(typeof e=="function"){const[i,s]=Sx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Sx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function nd(t){return Dt(t)?t.get():t}function pH({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:mH(n,r,i,t),renderState:e()}}function mH(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=nd(s[f]);let{initial:o,animate:a}=t;const l=hf(t),u=ik(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!df(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=qw(t,f[m]);if(w){const{transitionEnd:_,transition:S,...g}=w;for(const E in g){let T=g[E];if(Array.isArray(T)){const P=d?T.length-1:0;T=T[P]}T!==null&&(i[E]=T)}for(const E in _)i[E]=_[E]}}}return i}const ck=t=>(e,n)=>{const r=v.useContext(cf),i=v.useContext(uf),s=()=>pH(t,e,r,i);return n?s():ww(s)};function Qw(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Dt(r[o])||e.style&&Dt(e.style[o])||sk(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const gH=ck({scrapeMotionValuesFromProps:Qw,createRenderState:Gw});function dk(t,e,n){const r=Qw(t,e,n);for(const i in t)if(Dt(t[i])||Dt(e[i])){const s=na.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const yH=ck({scrapeMotionValuesFromProps:dk,createRenderState:lk}),vH=Symbol.for("motionComponentSymbol");function to(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wH(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):to(n)&&(n.current=r))},[e])}const Yw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_H="framerAppearId",hk="data-"+Yw(_H),fk=v.createContext({});function EH(t,e,n,r,i){var _,S;const{visualElement:s}=v.useContext(cf),o=v.useContext(nk),a=v.useContext(uf),l=v.useContext(zw).reducedMotion,u=v.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=v.useContext(fk);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&TH(u.current,n,i,h);const f=v.useRef(!1);v.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[hk],w=v.useRef(!!m&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return u1(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),w.current=!1),d.enteringChildren=void 0)}),d}function TH(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&to(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function pk(t){if(t)return t.options.allowProjection!==!1?t.projection:pk(t.parent)}function Np(t,{forwardMotionProps:e=!1}={},n,r){n&&QW(n);const i=Kw(t)?yH:gH;function s(a,l){let u;const d={...v.useContext(zw),...a,layoutId:xH(a)},{isStatic:h}=d,f=eH(a),m=i(a,h);if(!h&&_w){SH();const w=CH(d);u=w.MeasureLayout,f.visualElement=EH(t,m,d,r,w.ProjectionNode)}return C.jsxs(cf.Provider,{value:f,children:[u&&f.visualElement?C.jsx(u,{visualElement:f.visualElement,...d}):null,fH(t,a,wH(m,f.visualElement,l),m,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=v.forwardRef(s);return o[vH]=t,o}function xH({layoutId:t}){const e=v.useContext(vw).id;return e&&t!==void 0?e+"-"+t:t}function SH(t,e){v.useContext(nk).strict}function CH(t){const{drag:e,layout:n}=Lo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function IH(t,e){if(typeof Proxy>"u")return Np;const n=new Map,r=(s,o)=>Np(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Np(o,void 0,t,e)),n.get(o))})}function mk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vp(t){return t===void 0||t===1}function Dg({scale:t,scaleX:e,scaleY:n}){return!Vp(t)||!Vp(e)||!Vp(n)}function Gi(t){return Dg(t)||gk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gk(t){return Cx(t.x)||Cx(t.y)}function Cx(t){return t&&t!=="0%"}function lh(t,e,n){const r=t-n,i=e*r;return n+i}function Ix(t,e,n,r,i){return i!==void 0&&(t=lh(t,i,r)),lh(t,n,r)+e}function Ng(t,e=0,n=1,r,i){t.min=Ix(t.min,e,n,r,i),t.max=Ix(t.max,e,n,r,i)}function yk(t,{x:e,y:n}){Ng(t.x,e.translate,e.scale,e.originPoint),Ng(t.y,n.translate,n.scale,n.originPoint)}const Ax=.999999999999,Rx=1.0000000000001;function PH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ro(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yk(t,o)),r&&Gi(s.latestValues)&&ro(t,s.latestValues))}e.x<Rx&&e.x>Ax&&(e.x=1),e.y<Rx&&e.y>Ax&&(e.y=1)}function no(t,e){t.min=t.min+e,t.max=t.max+e}function Px(t,e,n,r,i=.5){const s=ze(t.min,t.max,i);Ng(t,e,n,s,r)}function ro(t,e){Px(t.x,e.x,e.scaleX,e.scale,e.originX),Px(t.y,e.y,e.scaleY,e.scale,e.originY)}function vk(t,e){return mk(RH(t.getBoundingClientRect(),e))}function bH(t,e,n){const r=vk(t,n),{scroll:i}=e;return i&&(no(r.x,i.offset.x),no(r.y,i.offset.y)),r}const bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:bx(),y:bx()}),kx=()=>({min:0,max:0}),Qe=()=>({x:kx(),y:kx()}),Vg={current:null},wk={current:!1};function kH(){if(wk.current=!0,!!_w)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vg.current=t.matches;t.addEventListener("change",e),e()}else Vg.current=!1}const MH=new WeakMap;function DH(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Dt(i))t.addValue(r,i);else if(Dt(s))t.addValue(r,Oo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Oo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Mx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Zt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,je.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=hf(n),this.isVariantNode=ik(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Dt(m)&&m.set(l[f])}}mount(e){var n;this.current=e,MH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),wk.current||kH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ra.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lo){const n=Lo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Mx.length;r++){const i=Mx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=DH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Oo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(c1(r)||h1(r))?r=parseFloat(r):!zW(r)&&Pi.test(n)&&(r=K1(e,n)),this.setBaseTarget(e,Dt(r)?r.get():r)),Dt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=qw(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Uw.render(this.render)}}class _k extends NH{constructor(){super(...arguments),this.KeyframeResolver=bW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ek(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function VH(t){return window.getComputedStyle(t)}class OH extends _k{constructor(){super(...arguments),this.type="html",this.renderInstance=Ek}readValueFromInstance(e,n){var r;if(ra.has(n))return(r=this.projection)!=null&&r.isProjecting?Ig(n):Q6(e,n);{const i=VH(e),s=(Rw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vk(e,n)}build(e,n,r){Hw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qw(e,n,r)}}const Tk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LH(t,e,n,r){Ek(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Tk.has(i)?i:Yw(i),e.attrs[i])}class FH extends _k{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ra.has(n)){const r=G1(n);return r&&r.default||0}return n=Tk.has(n)?n:Yw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return dk(e,n,r)}build(e,n,r){ak(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){LH(e,n,r,i)}mount(e){this.isSVGTag=uk(e.tagName),super.mount(e)}}const jH=(t,e)=>Kw(t)?new FH(e):new OH(e,{allowProjection:t!==v.Fragment});function vo(t,e,n){const r=t.getProps();return qw(r,e,n!==void 0?n:r.custom,t)}const Og=t=>Array.isArray(t);function UH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Oo(n))}function BH(t){return Og(t)?t[t.length-1]||0:t}function zH(t,e){const n=vo(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=BH(s[o]);UH(t,o,a)}}function $H(t){return!!(Dt(t)&&t.add)}function Lg(t,e){const n=t.getValue("willChange");if($H(n))return n.add(e);if(!n&&Fr.WillChange){const r=new Fr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function xk(t){return t.props[hk]}const WH=t=>t!==null;function HH(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(WH),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const GH={type:"spring",stiffness:500,damping:25,restSpeed:10},KH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qH={type:"keyframes",duration:.8},QH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YH=(t,{keyframes:e})=>e.length>2?qH:ra.has(t)?t.startsWith("scale")?KH(e[1]):GH:QH;function XH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Xw=(t,e,n,r={},i,s)=>o=>{const a=Fw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-nr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};XH(a)||Object.assign(d,YH(t,d)),d.duration&&(d.duration=nr(d.duration)),d.repeatDelay&&(d.repeatDelay=nr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(kg(d),d.delay===0&&(h=!0)),(Fr.instantAnimations||Fr.skipAnimations)&&(h=!0,kg(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=HH(d.keyframes,a);if(f!==void 0){je.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Ow(d):new vW(d)};function JH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Sk(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||u&&JH(u,d))continue;const m={delay:n,...Fw(s||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const g=xk(t);if(g){const E=window.MotionHandoffAnimation(g,d,je);E!==null&&(m.startTime=E,_=!0)}}Lg(t,d),h.start(Xw(d,h,f,t.shouldReduceMotion&&$1.has(d)?{type:!1}:m,t,_));const S=h.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{je.update(()=>{o&&zH(t,o)})}),l}function Ck(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Fg(t,e,n={}){var l;const r=vo(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Sk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return ZH(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function ZH(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Fg(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Ck(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function eG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Fg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Fg(t,e,n);else{const i=typeof e=="function"?vo(t,e,n.custom):e;r=Promise.all(Sk(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Ik(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tG=Ww.length;function Ak(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ak(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tG;n++){const r=Ww[n],i=t.props[r];(Hl(i)||i===!1)&&(e[r]=i)}return e}const nG=[...$w].reverse(),rG=$w.length;function iG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eG(t,n,r)))}function sG(t){let e=iG(t),n=Dx(),r=!0;const i=l=>(u,d)=>{var f;const h=vo(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,..._}=h;u={...u,..._,...w}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=Ak(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let S=0;S<rG;S++){const g=nG[S],E=n[g],T=u[g]!==void 0?u[g]:d[g],P=Hl(T),M=g===l?E.isActive:null;M===!1&&(w=S);let L=T===d[g]&&T!==u[g]&&P;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...m},!E.isActive&&M===null||!T&&!E.prevProp||df(T)||typeof T=="boolean")continue;const I=oG(E.prevProp,T);let x=I||g===l&&E.isActive&&!L&&P||S>w&&P,A=!1;const b=Array.isArray(T)?T:[T];let D=b.reduce(i(g),{});M===!1&&(D={});const{prevResolvedValues:O={}}=E,k={...O,...D},oe=te=>{x=!0,f.has(te)&&(A=!0,f.delete(te)),E.needsAnimating[te]=!0;const F=t.getValue(te);F&&(F.liveStyle=!1)};for(const te in k){const F=D[te],B=O[te];if(m.hasOwnProperty(te))continue;let V=!1;Og(F)&&Og(B)?V=!Ik(F,B):V=F!==B,V?F!=null?oe(te):f.add(te):F!==void 0&&f.has(te)?oe(te):E.protectedKeys[te]=!0}E.prevProp=T,E.prevResolvedValues=D,E.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(x=!1);const me=L&&I;x&&(!me||A)&&h.push(...b.map(te=>{const F={type:g};if(typeof te=="string"&&r&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,V=vo(B,te);if(B.enteringChildren&&V){const{delayChildren:N}=V.transition||{};F.delay=Ck(B.enteringChildren,t,N)}}return{animation:te,options:F}}))}if(f.size){const S={};if(typeof u.initial!="boolean"){const g=vo(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(S.transition=g.transition)}f.forEach(g=>{const E=t.getBaseTarget(g),T=t.getValue(g);T&&(T.liveStyle=!0),S[g]=E??null}),h.push({animation:S})}let _=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Dx()}}}function oG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ik(e,t):!1}function zi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dx(){return{animate:zi(!0),whileInView:zi(),whileHover:zi(),whileTap:zi(),whileDrag:zi(),whileFocus:zi(),exit:zi()}}class Vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aG extends Vi{constructor(e){super(e),e.animationState||(e.animationState=sG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();df(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let lG=0;class uG extends Vi{constructor(){super(...arguments),this.id=lG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cG={animation:{Feature:aG},exit:{Feature:uG}};function Kl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Iu(t){return{point:{x:t.pageX,y:t.pageY}}}const dG=t=>e=>Bw(e)&&t(e,Iu(e));function ol(t,e,n,r){return Kl(t,e,dG(n),r)}const Rk=1e-4,hG=1-Rk,fG=1+Rk,Pk=.01,pG=0-Pk,mG=0+Pk;function zt(t){return t.max-t.min}function gG(t,e,n){return Math.abs(t-e)<=n}function Nx(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=zt(n)/zt(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hG&&t.scale<=fG||isNaN(t.scale))&&(t.scale=1),(t.translate>=pG&&t.translate<=mG||isNaN(t.translate))&&(t.translate=0)}function al(t,e,n,r){Nx(t.x,e.x,n.x,r?r.originX:void 0),Nx(t.y,e.y,n.y,r?r.originY:void 0)}function Vx(t,e,n){t.min=n.min+e.min,t.max=t.min+zt(e)}function yG(t,e,n){Vx(t.x,e.x,n.x),Vx(t.y,e.y,n.y)}function Ox(t,e,n){t.min=e.min-n.min,t.max=t.min+zt(e)}function ll(t,e,n){Ox(t.x,e.x,n.x),Ox(t.y,e.y,n.y)}function wn(t){return[t("x"),t("y")]}const bk=({current:t})=>t?t.ownerDocument.defaultView:null,Lx=(t,e)=>Math.abs(t-e);function vG(t,e){const n=Lx(t.x,e.x),r=Lx(t.y,e.y);return Math.sqrt(n**2+r**2)}class kk{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Lp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=vG(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:_}=f,{timestamp:S}=yt;this.history.push({..._,timestamp:S});const{onStart:g,onMove:E}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Op(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Lp(f.type==="pointercancel"?this.lastMoveEventInfo:Op(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,g),_&&_(f,g)},!Bw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Iu(e),l=Op(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=yt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Lp(l,this.history)),this.removeListeners=xu(ol(this.contextWindow,"pointermove",this.handlePointerMove),ol(this.contextWindow,"pointerup",this.handlePointerUp),ol(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function Op(t,e){return e?{point:e(t.point)}:t}function Fx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lp({point:t},e){return{point:t,delta:Fx(t,Mk(e)),offset:Fx(t,wG(e)),velocity:_G(e,.1)}}function wG(t){return t[0]}function Mk(t){return t[t.length-1]}function _G(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Mk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>nr(e)));)n--;if(!r)return{x:0,y:0};const s=xn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function EG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function jx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TG(t,{top:e,left:n,bottom:r,right:i}){return{x:jx(t.x,n,i),y:jx(t.y,e,r)}}function Ux(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xG(t,e){return{x:Ux(t.x,e.x),y:Ux(t.y,e.y)}}function SG(t,e){let n=.5;const r=zt(t),i=zt(e);return i>r?n=zl(e.min,e.max-r,t.min):r>i&&(n=zl(t.min,t.max-i,e.min)),Lr(0,1,n)}function CG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jg=.35;function IG(t=jg){return t===!1?t=0:t===!0&&(t=jg),{x:Bx(t,"left","right"),y:Bx(t,"top","bottom")}}function Bx(t,e,n){return{min:zx(t,e),max:zx(t,n)}}function zx(t,e){return typeof t=="number"?t:t[e]||0}const AG=new WeakMap;class RG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Iu(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:_}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NW(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(g=>{let E=this.getAxisMotionValue(g).get()||0;if(rr.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const P=T.layout.layoutBox[g];P&&(E=zt(P)*(parseFloat(E)/100))}}this.originPoint[g]=E}),_&&je.postRender(()=>_(h,f)),Lg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:_,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(w&&this.currentDirection===null){this.currentDirection=PG(g),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>wn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kk(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:bk(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&je.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ic(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=EG(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&to(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=TG(r.layoutBox,e):this.constraints=!1,this.elastic=IG(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CG(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!to(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bH(r,i.root,this.visualElement.getTransformPagePoint());let o=xG(i.layout.layoutBox,s);if(n){const a=n(AH(o));this.hasMutatedConstraints=!!a,a&&(o=mk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wn(d=>{if(!Ic(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lg(this.visualElement,e),r.start(Xw(e,r,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:r}=this.getProps();if(!Ic(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!to(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=SG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(o=>{if(!Ic(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ze(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;AG.set(this.visualElement,this);const e=this.visualElement.current,n=ol(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();to(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(r);const o=Kl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=jg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ic(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bG extends Vi{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new RG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const $x=t=>(e,n)=>{t&&je.postRender(()=>t(e,n))};class kG extends Vi{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new kk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:$x(e),onStart:$x(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&je.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ol(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ma={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=Wx(t,e.target.x),r=Wx(t,e.target.y);return`${n}% ${r}%`}},MG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Pi.parse(t);if(i.length>5)return r;const s=Pi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ze(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Fp=!1;class DG extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;tH(NG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Fp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Fp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Uw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Fp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dk(t){const[e,n]=ek(),r=v.useContext(vw);return C.jsx(DG,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(fk),isPresent:e,safeToRemove:n})}const NG={borderRadius:{...Ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ma,borderTopRightRadius:Ma,borderBottomLeftRadius:Ma,borderBottomRightRadius:Ma,boxShadow:MG};function VG(t,e,n){const r=Dt(t)?t:Oo(t);return r.start(Xw("",r,e,n)),r.animation}const OG=(t,e)=>t.depth-e.depth;class LG{constructor(){this.children=[],this.isDirty=!1}add(e){Ew(this.children,e),this.isDirty=!0}remove(e){Tw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OG),this.isDirty=!1,this.children.forEach(e)}}function FG(t,e){const n=Zt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ri(r),t(s-e))};return je.setup(r,!0),()=>Ri(r)}const Nk=["TopLeft","TopRight","BottomLeft","BottomRight"],jG=Nk.length,Hx=t=>typeof t=="string"?parseFloat(t):t,Gx=t=>typeof t=="number"||le.test(t);function UG(t,e,n,r,i,s){i?(t.opacity=ze(0,n.opacity??1,BG(r)),t.opacityExit=ze(e.opacity??1,0,zG(r))):s&&(t.opacity=ze(e.opacity??1,n.opacity??1,r));for(let o=0;o<jG;o++){const a=`border${Nk[o]}Radius`;let l=Kx(e,a),u=Kx(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Gx(l)===Gx(u)?(t[a]=Math.max(ze(Hx(l),Hx(u),r),0),(rr.test(u)||rr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function Kx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BG=Vk(0,.5,_1),zG=Vk(.5,.95,In);function Vk(t,e,n){return r=>r<t?0:r>e?1:n(zl(t,e,r))}function qx(t,e){t.min=e.min,t.max=e.max}function vn(t,e){qx(t.x,e.x),qx(t.y,e.y)}function Qx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yx(t,e,n,r,i){return t-=e,t=lh(t,1/n,r),i!==void 0&&(t=lh(t,1/i,r)),t}function $G(t,e=0,n=1,r=.5,i,s=t,o=t){if(rr.test(e)&&(e=parseFloat(e),e=ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ze(s.min,s.max,r);t===s&&(a-=e),t.min=Yx(t.min,e,n,a,i),t.max=Yx(t.max,e,n,a,i)}function Xx(t,e,[n,r,i],s,o){$G(t,e[n],e[r],e[i],e.scale,s,o)}const WG=["x","scaleX","originX"],HG=["y","scaleY","originY"];function Jx(t,e,n,r){Xx(t.x,e,WG,n?n.x:void 0,r?r.x:void 0),Xx(t.y,e,HG,n?n.y:void 0,r?r.y:void 0)}function Zx(t){return t.translate===0&&t.scale===1}function Ok(t){return Zx(t.x)&&Zx(t.y)}function eS(t,e){return t.min===e.min&&t.max===e.max}function GG(t,e){return eS(t.x,e.x)&&eS(t.y,e.y)}function tS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Lk(t,e){return tS(t.x,e.x)&&tS(t.y,e.y)}function nS(t){return zt(t.x)/zt(t.y)}function rS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KG{constructor(){this.members=[]}add(e){Ew(this.members,e),e.scheduleRender()}remove(e){if(Tw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qG(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const jp=["","X","Y","Z"],QG=1e3;let YG=0;function Up(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Fk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",je,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Fk(r)}function jk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZG),this.nodes.forEach(rK),this.nodes.forEach(iK),this.nodes.forEach(eK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new LG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Z1(o)&&!UW(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;je.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=FG(f,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(oS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||uK,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=u.getProps(),g=!this.targetLayout||!Lk(this.targetLayout,m),E=!h&&f;if(this.options.layoutRoot||this.resumeFrom||E||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Fw(w,"layout"),onPlay:_,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,E)}else h||oS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nK),this.nodes.forEach(XG),this.nodes.forEach(JG)):this.nodes.forEach(sS),this.clearAllSnapshots();const a=Zt.now();yt.delta=Lr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,Rp.update.process(yt),Rp.preRender.process(yt),Rp.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tK),this.sharedNodes.forEach(oK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zt(this.snapshot.measuredBox.x)&&!zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ok(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Gi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(dK))){const{scroll:d}=this.root;d&&(no(a.x,d.offset.x),no(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(vn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&vn(a,o),no(a.x,h.offset.x),no(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();vn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ro(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gi(d.latestValues)&&ro(l,d.latestValues)}return Gi(this.latestValues)&&ro(l,this.latestValues),l}removeTransform(o){const a=Qe();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Gi(u.latestValues))continue;Dg(u.latestValues)&&u.updateSnapshot();const d=Qe(),h=u.measurePageBox();vn(d,h),Jx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gi(this.latestValues)&&Jx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ll(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),yk(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ll(this.relativeTargetOrigin,this.target,m.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||gk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;PH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qx(this.prevProjectionDelta.x,this.projectionDelta.x),Qx(this.prevProjectionDelta.y,this.projectionDelta.y)),al(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!rS(this.projectionDelta.x,this.prevProjectionDelta.x)||!rS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=m!==w,S=this.getStack(),g=!S||S.members.length<=1,E=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(lK));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const M=P/1e3;aS(h.x,o.x,M),aS(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ll(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aK(this.relativeTarget,this.relativeTargetOrigin,f,M),T&&GG(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Qe()),vn(T,this.relativeTarget)),_&&(this.animationValues=d,UG(d,u,this.latestValues,M,E,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oo(0)),this.currentAnimation=VG(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Uk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qe();const h=zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}vn(a,l),ro(a,d),al(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Up("z",o,u,this.animationValues);for(let d=0;d<jp.length;d++)Up(`rotate${jp[d]}`,o,u,this.animationValues),Up(`skew${jp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=qG(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Gl){if(d[w]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:g}=Gl[w],E=h==="none"?d[w]:_(d[w],u);if(S){const T=S.length;for(let P=0;P<T;P++)o[S[P]]=E}else g?this.options.visualElement.renderState.vars[w]=E:o[w]=E}this.options.layoutId&&(o.pointerEvents=u===this?nd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(iS),this.root.sharedNodes.clear()}}}function XG(t){t.updateLayout()}function JG(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?wn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=zt(f);f.min=r[h].min,f.max=f.min+m}):Uk(s,e.layoutBox,r)&&wn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=zt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=io();al(a,r,e.layoutBox);const l=io();o?al(l,t.applyTransform(i,!0),e.measuredBox):al(l,r,e.layoutBox);const u=!Ok(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=Qe();ll(w,e.layoutBox,f.layoutBox);const _=Qe();ll(_,r,m.layoutBox),Lk(w,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZG(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tK(t){t.clearSnapshot()}function iS(t){t.clearMeasurements()}function sS(t){t.isLayoutDirty=!1}function nK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rK(t){t.resolveTargetDelta()}function iK(t){t.calcProjection()}function sK(t){t.resetSkewAndRotation()}function oK(t){t.removeLeadSnapshot()}function aS(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lS(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function aK(t,e,n,r){lS(t.x,e.x,n.x,r),lS(t.y,e.y,n.y,r)}function lK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uK={duration:.45,ease:[.4,0,.1,1]},uS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cS=uS("applewebkit/")&&!uS("chrome/")?Math.round:In;function dS(t){t.min=cS(t.min),t.max=cS(t.max)}function cK(t){dS(t.x),dS(t.y)}function Uk(t,e,n){return t==="position"||t==="preserve-aspect"&&!gG(nS(e),nS(n),.2)}function dK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hK=jk({attachResizeListener:(t,e)=>Kl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},Bk=jk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bp.current){const t=new hK({});t.mount(window),t.setOptions({layoutScroll:!0}),Bp.current=t}return Bp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fK={pan:{Feature:kG},drag:{Feature:bG,ProjectionNode:Bk,MeasureLayout:Dk}};function hS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&je.postRender(()=>s(e,Iu(e)))}class pK extends Vi{mount(){const{current:e}=this.node;e&&(this.unmount=VW(e,(n,r)=>(hS(this.node,r,"Start"),i=>hS(this.node,i,"End"))))}unmount(){}}class mK extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xu(Kl(this.node.current,"focus",()=>this.onFocus()),Kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&je.postRender(()=>s(e,Iu(e)))}class gK extends Vi{mount(){const{current:e}=this.node;e&&(this.unmount=jW(e,(n,r)=>(fS(this.node,r,"Start"),(i,{success:s})=>fS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ug=new WeakMap,zp=new WeakMap,yK=t=>{const e=Ug.get(t.target);e&&e(t)},vK=t=>{t.forEach(yK)};function wK({root:t,...e}){const n=t||document;zp.has(n)||zp.set(n,{});const r=zp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(vK,{root:t,...e})),r[i]}function _K(t,e,n){const r=wK(e);return Ug.set(t,n),r.observe(t),()=>{Ug.delete(t),r.unobserve(t)}}const EK={some:0,all:1};class TK extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:EK[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return _K(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xK(e,n))&&this.startObserver()}unmount(){}}function xK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SK={inView:{Feature:TK},tap:{Feature:gK},focus:{Feature:mK},hover:{Feature:pK}},CK={layout:{ProjectionNode:Bk,MeasureLayout:Dk}},IK={...cG,...SK,...fK,...CK},Bg=IH(IK,jH);function AK({user:t,couples:e,votesAll:n}){const r=Es(),[i,s]=v.useState(!0),[o,a]=v.useState([]);v.useEffect(()=>{(async()=>{if(!t){a([]),s(!1);return}const u=gu(xr(ot,"votes"),qv("uid","==",t.uid),tP("updatedAt","desc")),d=await Ll(u),h=[];d.forEach(f=>{var g,E;const m=f.data(),w=e.find(T=>T.id===m.couple_id);if(!w)return;let _;m.people_voted_id==="tie"?_="tie":_=m.people_voted_id===w.personA.id?"A":"B";const S=(E=(g=m.updatedAt)==null?void 0:g.toDate)==null?void 0:E.call(g);h.push({id:f.id,couple:w,choice:_,updatedAt:S})}),a(h),s(!1)})()},[t,e]);const l=async u=>{if(confirm("Supprimer ce vote ?"))try{await Zs(Vn(ot,"votes",u)),a(d=>d.filter(h=>h.id!==u))}catch(d){console.error("Erreur suppression vote:",d),alert("Erreur lors de la suppression du vote.")}};return t?C.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-4",children:[C.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Mon historique"}),i&&C.jsx(Xh,{}),!i&&o.length===0&&C.jsx("div",{className:"text-gray-600 text-sm",children:"Tu nas encore vot pour aucun couple."}),C.jsx(tk,{children:!i&&o.map((u,d)=>C.jsxs(Bg.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"relative bg-white rounded-2xl shadow-sm p-3",children:[C.jsx("button",{onClick:()=>l(u.id),className:"text-gray-400 hover:text-red-500 transition",title:"Supprimer ce vote",children:C.jsx(cP,{size:16})}),C.jsx(lf,{couple:u.couple,user:t,myChoice:u.choice,onlyMyVotes:!0,compact:!0})]},u.id))})]}):C.jsx("main",{className:"max-w-5xl mx-auto px-4 py-10",children:C.jsxs("div",{className:"p-6 border rounded-2xl bg-white",children:[C.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Mes votes"}),C.jsx("p",{className:"text-gray-600",children:"Connecte-toi pour voir ton historique de votes."}),C.jsx("button",{onClick:()=>r("/"),className:"mt-4 px-3 py-2 rounded bg-gray-900 text-white",children:"Retour  laccueil"})]})})}var pS=!1,Ki,zg,$g,id,sd,zk,od,Wg,Hg,Gg,$k,Kg,qg,Wk,Hk;function Yt(){if(!pS){pS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Kg=/\b(iPhone|iP[ao]d)/.exec(t),qg=/\b(iP[ao]d)/.exec(t),Gg=/Android/i.exec(t),Wk=/FBAN\/\w+;/i.exec(t),Hk=/Mobile/i.exec(t),$k=!!/Win64/.exec(t),e){Ki=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Ki&&document&&document.documentMode&&(Ki=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);zk=r?parseFloat(r[1])+4:Ki,zg=e[2]?parseFloat(e[2]):NaN,$g=e[3]?parseFloat(e[3]):NaN,id=e[4]?parseFloat(e[4]):NaN,id?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),sd=e&&e[1]?parseFloat(e[1]):NaN):sd=NaN}else Ki=zg=$g=sd=id=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);od=i?parseFloat(i[1].replace("_",".")):!0}else od=!1;Wg=!!n[2],Hg=!!n[3]}else od=Wg=Hg=!1}}var Qg={ie:function(){return Yt()||Ki},ieCompatibilityMode:function(){return Yt()||zk>Ki},ie64:function(){return Qg.ie()&&$k},firefox:function(){return Yt()||zg},opera:function(){return Yt()||$g},webkit:function(){return Yt()||id},safari:function(){return Qg.webkit()},chrome:function(){return Yt()||sd},windows:function(){return Yt()||Wg},osx:function(){return Yt()||od},linux:function(){return Yt()||Hg},iphone:function(){return Yt()||Kg},mobile:function(){return Yt()||Kg||qg||Gg||Hk},nativeApp:function(){return Yt()||Wk},android:function(){return Yt()||Gg},ipad:function(){return Yt()||qg}},RK=Qg,PK=!!(typeof window<"u"&&window.document&&window.document.createElement),bK={canUseDOM:PK},kK=bK,Gk=kK,Kk;Gk.canUseDOM&&(Kk=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function MK(t,e){if(!Gk.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&Kk&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var DK=MK,NK=RK,VK=DK,mS=10,gS=40,yS=800;function qk(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*mS,i=n*mS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=gS,i*=gS):(r*=yS,i*=yS)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}qk.getEventType=function(){return NK.firefox()?"DOMMouseScroll":VK("wheel")?"wheel":"mousewheel"};var OK=qk,LK=OK;const FK=Yg(LK);function jK(t,e,n,r,i,s){s===void 0&&(s=0);var o=Fo(t,e,s),a=o.width,l=o.height,u=Math.min(a,n),d=Math.min(l,r);return u>d*i?{width:d*i,height:d}:{width:u,height:u/i}}function UK(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Da(t,e,n,r,i){i===void 0&&(i=0);var s=Fo(e.width,e.height,i),o=s.width,a=s.height;return{x:vS(t.x,o,n.width,r),y:vS(t.y,a,n.height,r)}}function vS(t,e,n,r){var i=e*r/2-n/2;return ff(t,-i,i)}function wS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function _S(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function BK(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?zK:$K,l=Fo(e.width,e.height,s),u=Fo(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(u.width,d.width*u.width/100)),f=Math.round(a(u.height,d.height*u.height/100)),m=u.width>=u.height*r,w=m?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},_=De(De({},w),{x:Math.round(a(u.width-w.width,d.x*u.width/100)),y:Math.round(a(u.height-w.height,d.y*u.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:_}}function zK(t,e){return Math.min(t,Math.max(0,e))}function $K(t,e){return e}function WK(t,e,n,r,i,s){var o=Fo(e.width,e.height,n),a=ff(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function HK(t,e,n){var r=UK(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function GK(t,e,n,r,i,s){n===void 0&&(n=0);var o=Fo(e.naturalWidth,e.naturalHeight,n),a=ff(HK(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,u={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:u,zoom:a}}function ES(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function KK(t){return t*Math.PI/180}function Fo(t,e,n){var r=KK(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function ff(t,e,n){return Math.min(Math.max(t,e),n)}function Ac(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var qK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,QK=1,YK=3,XK=1,JK=function(t){tL(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=v.createRef(),n.imageRef=v.createRef(),n.videoRef=v.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=WK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=GK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,u=n.imageRef.current||n.videoRef.current;if(u&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,m=u.offsetWidth<h||u.offsetHeight<f,w=h/f,_=void 0;if(m)switch(n.state.mediaObjectFit){default:case"contain":_=d>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":_={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":_={width:n.containerRect.height*w,height:n.containerRect.height};break}else _={width:u.offsetWidth,height:u.offsetHeight};n.mediaSize=De(De({},_),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:jK(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==S.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=De({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},u=n.props.restrictPosition?Da(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(u)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=FK(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var u=ff(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*u-d.x,y:h.y*u-d.y},m=n.props.restrictPosition?Da(f,n.mediaSize,n.state.cropSize,u,n.props.rotation):f;n.props.onCropChange(m)}n.props.onZoomChange(u)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Da(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return BK(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.crop;if(n.isInitialized&&n.previousCropSize){var i=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(i){var s=n.state.cropSize.width/n.previousCropSize.width,o=n.state.cropSize.height/n.previousCropSize.height;r={x:n.props.crop.x*s,y:n.props.crop.y*o}}}var a=n.props.restrictPosition?Da(r,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):r;n.previousCropSize=n.state.cropSize,n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,u=o.keyboardStep,d=o.zoom,h=o.rotation,f=u;if(n.state.cropSize){r.shiftKey&&(f*=.2);var m=De({},a);switch(r.key){case"ArrowUp":m.y-=f,r.preventDefault();break;case"ArrowDown":m.y+=f,r.preventDefault();break;case"ArrowLeft":m.x-=f,r.preventDefault();break;case"ArrowRight":m.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(m=Da(m,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(m)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=qK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,u,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=n.crop)===null||u===void 0?void 0:u.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/u;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=wS(r,i),this.lastPinchRotation=_S(r,i),this.onDragStart(ES(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=ES(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=wS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var u=_S(i,s),d=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=u})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,u=i.transform,d=i.crop,h=d.x,f=d.y,m=i.rotation,w=i.zoom,_=i.cropShape,S=i.showGrid,g=i.roundCropAreaPixels,E=i.style,T=E.containerStyle,P=E.cropAreaStyle,M=E.mediaStyle,L=i.classes,I=L.containerClassName,x=L.cropAreaClassName,A=L.mediaClassName,b=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return v.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(O){return n.containerRef=O},"data-testid":"container",style:T,className:Ac("reactEasyCrop_Container",I)},s?v.createElement("img",De({alt:"",className:Ac("reactEasyCrop_Image",b==="contain"&&"reactEasyCrop_Contain",b==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",b==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{src:s,ref:this.imageRef,style:De(De({},M),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):o&&v.createElement("video",De({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ac("reactEasyCrop_Video",b==="contain"&&"reactEasyCrop_Contain",b==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",b==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:De(De({},M),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(D){return v.createElement("source",De({key:D.src},D))})),this.state.cropSize&&v.createElement("div",De({ref:this.cropperRef,style:De(De({},P),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Ac("reactEasyCrop_CropArea",_==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",x)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:YK,minZoom:QK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:XK},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(v.Component);function ZK({imageSrc:t,onCancel:e,onCrop:n}){const[r,i]=v.useState({x:0,y:0}),[s,o]=v.useState(1),[a,l]=v.useState(null),[u,d]=v.useState(!1),[h,f]=v.useState(null),m=v.useCallback((g,E)=>{l(E)},[]),w=async g=>{if(g.startsWith("data:")||g.startsWith("blob:"))return _(g);const E=`https://corsproxy.io/?${encodeURIComponent(g)}`,T=await fetch(E);if(!T.ok)throw new Error(`Erreur proxy: ${T.status}`);const P=await T.blob(),M=URL.createObjectURL(P);return _(M)},_=g=>new Promise((E,T)=>{const P=new Image;P.onload=()=>E(P),P.onerror=M=>T(M),P.src=g}),S=async()=>{if(!a){f("Zone de recadrage non dfinie");return}d(!0),f(null);try{const g=await w(t),E=document.createElement("canvas"),T=E.getContext("2d");if(!T)throw new Error("Impossible d'obtenir le contexte du canvas");const{width:P,height:M,x:L,y:I}=a;E.width=P,E.height=M,T.drawImage(g,L,I,P,M,0,0,P,M),E.toBlob(x=>{d(!1),x?n(x):f("chec de la conversion en image.")},"image/jpeg",.9)}catch(g){console.error("Erreur lors du recadrage :",g),f(g.message||"Erreur inconnue lors du recadrage."),d(!1)}};return C.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white p-4 rounded-2xl w-80 sm:w-96 flex flex-col items-center shadow-lg",children:[C.jsx("div",{className:"relative w-64 h-64 bg-gray-100 rounded-full overflow-hidden",children:C.jsx(JK,{image:t,crop:r,zoom:s,aspect:1,cropShape:"round",showGrid:!1,onCropChange:i,onZoomChange:o,onCropComplete:m})}),C.jsx("input",{type:"range",min:1,max:3,step:.01,value:s,onChange:g=>o(Number(g.target.value)),className:"w-full mt-4 accent-pink-500"}),C.jsxs("div",{className:"flex gap-3 mt-4",children:[C.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm bg-gray-200 rounded hover:bg-gray-300",children:"Annuler"}),C.jsx("button",{onClick:S,disabled:u,className:`px-4 py-2 text-sm rounded text-white ${u?"bg-gray-400 cursor-not-allowed":"bg-pink-500 hover:bg-pink-600"}`,children:u?"Recadrage...":"Valider"})]}),h&&C.jsx("p",{className:"text-red-600 text-xs mt-3",children:h})]})})}function e8({label:t,imageUrl:e,file:n,onFileChange:r,onUrlChange:i}){const[s,o]=v.useState(!1),[a,l]=v.useState(null),u=w=>{const _=new FileReader;_.onload=S=>{var g;return l((g=S.target)==null?void 0:g.result)},_.readAsDataURL(w)},d=w=>{var S;const _=(S=w.target.files)==null?void 0:S[0];_&&u(_)},h=w=>{var S;w.preventDefault(),o(!1);const _=(S=w.dataTransfer.files)==null?void 0:S[0];_&&u(_)},f=w=>{const _=new File([w],"cropped.jpg",{type:"image/jpeg"});r(_),l(null)},m=async()=>{e&&l(e)};return C.jsxs("div",{children:[C.jsxs("div",{onDrop:h,onDragOver:w=>{w.preventDefault(),o(!0)},onDragLeave:()=>o(!1),className:`relative w-32 h-32 rounded-full border-2 border-dashed flex items-center justify-center cursor-pointer transition ${s?"border-pink-400 bg-pink-50":"border-gray-300 bg-gray-100"}`,children:[n||e?C.jsx("img",{src:n?URL.createObjectURL(n):e,alt:"Aperu",className:"object-cover w-full h-full rounded-full"}):C.jsx(gB,{className:"text-gray-400 w-10 h-10"}),C.jsx("label",{htmlFor:`${t}-file`,className:"absolute bottom-1 mb-2 bg-pink-500 text-white text-xs px-2 py-1 rounded cursor-pointer shadow hover:bg-pink-600 transition",children:n||e?"Changer":"Choisir"}),C.jsx("input",{id:`${t}-file`,type:"file",accept:"image/*",onChange:d,className:"hidden"})]}),C.jsxs("div",{className:"flex gap-2 items-center mt-3",children:[C.jsx("input",{type:"text",placeholder:"Ou coller une URL dimage",value:e,onChange:w=>i(w.target.value),className:"flex-1 border rounded p-2 text-sm"}),C.jsx("button",{type:"button",onClick:m,disabled:!e,className:`px-3 py-1.5 rounded text-sm text-white ${e?"bg-pink-500 hover:bg-pink-600":"bg-gray-300 cursor-not-allowed"}`,children:"Recadrer"})]}),a&&C.jsx(ZK,{imageSrc:a,onCancel:()=>l(null),onCrop:f})]})}async function TS(t){const e="2857d634922be62f9aec8e82cb24cf90",n=new FormData;n.append("key",e),n.append("image",t);const i=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:n})).json();if(i.success)return i.data.url;throw new Error("Upload  ImgBB chou : "+JSON.stringify(i))}function t8(t,e,n){const[r,i]=v.useState({display_name:"",image_url:"",file:null}),[s,o]=v.useState({display_name:"",image_url:"",file:null}),[a,l]=v.useState(!1),[u,d]=v.useState({}),[h,f]=v.useState(null),[m,w]=v.useState(!1);async function _(T){if(!T.trim())return!1;const P=gu(xr(ot,"people"),qv("display_name","==",T.trim()));return!(await Ll(P)).empty}const S=async T=>{const P=T==="A"?r:s;if(!P.display_name.trim())return;const M=await _(P.display_name);d(L=>({...L,[T]:M?`Le nom "${P.display_name}" existe dj dans un autre couple.`:""}))},g=async T=>{if(T.preventDefault(),!r.display_name||!s.display_name){f("Les deux noms sont obligatoires.");return}if(!a){f("Vous devez certifier avoir obtenu le consentement des deux personnes.");return}if(!r.file&&!r.image_url||!s.file&&!s.image_url){f("Chaque personne doit avoir au moins une image ou une URL dimage.");return}if(u.A||u.B){f("Un des noms existe dj. Modifiez-le avant de continuer.");return}f(null),w(!0);try{let P=r.image_url,M=s.image_url;r.file&&(P=await TS(r.file)),s.file&&(M=await TS(s.file));const L=xr(ot,"people"),I=await wT(L,{display_name:r.display_name,image_url:P??""}),x=await wT(L,{display_name:s.display_name,image_url:M??""}),A=Vn(xr(ot,"couples"));await mp(A,{id:A.id,people_a_id:I.id,people_b_id:x.id,count_a:0,count_b:0,createdBy:t.uid,createdAt:aP(),consentCertified:!0,category:n}),await Promise.all([mp(I,{couple_id:A.id},{merge:!0}),mp(x,{couple_id:A.id},{merge:!0})]),e("/")}catch(P){console.error(P),f("Erreur lors de lenregistrement : "+P.message)}finally{w(!1)}},E=!m&&a&&r.display_name.trim()!==""&&s.display_name.trim()!==""&&(r.file||r.image_url.trim()!=="")&&(s.file||s.image_url.trim()!=="")&&!u.A&&!u.B;return{personA:r,personB:s,setPersonA:i,setPersonB:o,consentChecked:a,setConsentChecked:l,nameErrors:u,error:h,loading:m,canSubmit:E,handleBlur:S,handleSubmit:g}}function n8({user:t}){const e=Es(),[n,r]=v.useState("people"),{personA:i,personB:s,setPersonA:o,setPersonB:a,consentChecked:l,setConsentChecked:u,nameErrors:d,error:h,loading:f,canSubmit:m,handleBlur:w,handleSubmit:_}=t8(t,e,n);return t?C.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10",children:[C.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Ajouter un nouveau couple"}),C.jsxs("form",{onSubmit:_,className:"space-y-6",children:[C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{label:"Personne A",data:i,set:o,err:d.A,key:"A"},{label:"Personne B",data:s,set:a,err:d.B,key:"B"}].map(({label:S,data:g,set:E,err:T,key:P})=>C.jsxs("div",{children:[C.jsx("h3",{className:"font-medium mb-2",children:S}),C.jsx("input",{type:"text",placeholder:"Nom",value:g.display_name,onChange:M=>E({...g,display_name:M.target.value}),onBlur:()=>w(P),className:`w-full border rounded p-2 mb-4 ${T?"border-red-500 bg-red-50":"border-gray-300"}`}),T&&C.jsx("div",{className:"text-xs text-red-600 mb-2",children:T}),C.jsx(e8,{label:S,imageUrl:g.image_url,file:g.file,onFileChange:M=>E({...g,file:M}),onUrlChange:M=>E({...g,image_url:M})})]},S))}),C.jsxs("div",{className:"flex items-start gap-2 border-t pt-4 mt-6",children:[C.jsx("input",{id:"consent",type:"checkbox",checked:l,onChange:S=>u(S.target.checked),className:"mt-1"}),C.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:["Je certifie avoir obtenu le ",C.jsx("strong",{children:"consentement explicite"})," des deux personnes reprsentes (textes et images) pour la publication sur Surchope. Jassume lentire responsabilit en cas de contenu non autoris."]})]}),h&&C.jsx("div",{className:"text-red-600 text-sm",children:h}),C.jsx("button",{type:"submit",disabled:!m,className:`px-4 py-2 rounded text-white ${m?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:f?"Enregistrement...":"Crer le couple"})]})]}):C.jsx("main",{className:"max-w-3xl mx-auto px-4 py-10",children:C.jsxs("div",{className:"p-6 border rounded-2xl bg-white",children:[C.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Ajouter un couple"}),C.jsx("p",{className:"text-gray-600",children:"Connecte-toi pour pouvoir ajouter un couple."}),C.jsx("button",{onClick:()=>e("/"),className:"mt-4 px-3 py-2 rounded bg-gray-900 text-white",children:"Retour  laccueil"})]})})}function r8(){return C.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10 text-sm leading-relaxed text-gray-700",children:[C.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Politique de confidentialit"}),C.jsxs("p",{className:"mb-4",children:["Le site ",C.jsx("strong",{children:"Surchope"})," est un projet communautaire et ludique, sans but commercial, permettant aux utilisateurs de voter anonymement sur des couples fictifs ou rels."]}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"1. Donnes collectes"}),C.jsx("p",{children:"Le site collecte uniquement les donnes strictement ncessaires  son fonctionnement :"}),C.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[C.jsx("li",{children:"Adresse e-mail et photo de profil via Google (connexion Firebase Auth)"}),C.jsx("li",{children:"Identifiants anonymes de vote (UID, couple_id, choix A/B)"}),C.jsx("li",{children:"ventuellement des images fournies par les utilisateurs (hberges sur ImgBB)"})]}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"2. Finalit du traitement"}),C.jsx("p",{children:"Ces donnes sont utilises uniquement pour permettre laffichage des couples, la gestion des votes, et la modration des contenus. Aucune donne nest vendue, partage ou exploite  des fins commerciales."}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"3. Base lgale"}),C.jsxs("p",{children:["Le traitement repose sur le ",C.jsx("strong",{children:"consentement explicite"})," des utilisateurs, notamment lors de la cration dun couple et du tlchargement dimages."]}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"4. Dure de conservation"}),C.jsx("p",{children:"Les donnes sont conserves tant que le compte utilisateur existe ou que le couple reste publi. Les utilisateurs peuvent demander la suppression de leurs donnes  tout moment."}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"5. Droit daccs et de suppression"}),C.jsx("p",{children:"Conformment au Rglement Gnral sur la Protection des Donnes (RGPD), vous pouvez demander :"}),C.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[C.jsx("li",{children:"laccs  vos donnes,"}),C.jsx("li",{children:"leur rectification ou leur suppression,"}),C.jsx("li",{children:"la suppression de vos votes ou de vos couples ajouts."})]}),C.jsxs("p",{children:["Pour exercer ces droits, vous pouvez contacter ladministrateur du site  ladresse :",C.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"6. Hbergement et sous-traitants"}),C.jsx("p",{children:"Les donnes sont hberges par :"}),C.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[C.jsxs("li",{children:[C.jsx("strong",{children:"Firebase (Google Cloud)"}),"  authentification, base de donnes et stockage"]}),C.jsxs("li",{children:[C.jsx("strong",{children:"ImgBB"}),"  hbergement des images uploades"]})]}),C.jsx("p",{children:"Ces services peuvent transfrer des donnes hors de lUnion europenne, conformment aux clauses contractuelles types de la Commission europenne."}),C.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"7. Contact"}),C.jsxs("p",{children:["Pour toute question ou rclamation concernant vos donnes, contactez :",C.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),C.jsxs("p",{className:"mt-6 text-xs text-gray-500",children:["Dernire mise  jour : ",new Date().toLocaleDateString("fr-FR")]})]})}function i8(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),i=new Map;return v.useEffect(()=>{let o=null;(async()=>{const u=await Ll(xr(ot,"couples"));await a(u),o=sP(xr(ot,"couples"),a)})();async function a(u){const d=[];for(const h of u.docs){const f=h.data(),m=await l(f.people_a_id),w=await l(f.people_b_id);!m||!w||d.push({id:h.id,personA:m,personB:w,countA:f.count_a??0,countB:f.count_b??0,countTie:f.count_tie??0,category:f.category??"friends"})}e(d),r(!1)}async function l(u){if(i.has(u))return i.get(u);const d=await ag(Vn(ot,"people",u));if(!d.exists())return null;const h={id:d.id,...d.data()};return i.set(u,h),h}return()=>o&&o()},[]),{couples:t,loading:n,setCouples:e,deleteCouple:async(o,a)=>{if(a!=="EuindCjjeTYx5ABLPCRWdflHy2c2"){alert("Tu nas pas les droits pour supprimer ce couple.");return}try{const l=Vn(ot,"couples",o),u=await ag(l);if(!u.exists()){alert("Couple introuvable.");return}const d=u.data(),f=(await Ll(gu(xr(ot,"votes"),qv("couple_id","==",o)))).docs.map(_=>Zs(_.ref)),m=Vn(ot,"people",d.people_a_id),w=Vn(ot,"people",d.people_b_id);await Promise.all([...f,Zs(m),Zs(w),Zs(l)]),e(_=>_.filter(S=>S.id!==o)),alert(" Couple supprim avec succs.")}catch(l){console.error("Erreur pendant la suppression du couple :",l),alert(" Erreur lors de la suppression du couple.")}}}}function s8(t,e){const[n,r]=v.useState([]),[i,s]=v.useState({});return v.useEffect(()=>{const a=gu(xr(ot,"votes")),l=sP(a,u=>{const d=u.docs.map(h=>{var w,_;const f=h.data(),m=(_=(w=f.updatedAt)==null?void 0:w.toDate)==null?void 0:_.call(w);return{id:h.id,...f,updatedAt:m}});r(d)});return()=>l()},[]),v.useEffect(()=>{if(!t)return s({});const a={};for(const l of n){if(l.uid!==t.uid)continue;const u=e.find(d=>d.id===l.couple_id);u&&(l.people_voted_id==="tie"?a[l.couple_id]="tie":a[l.couple_id]=l.people_voted_id===u.personA.id?"A":"B")}s(a)},[t,n,e]),{votesAll:n,myVotes:i,handleVote:async(a,l)=>{if(!t)return;const u=`${a.id}_${t.uid}`,d=Vn(ot,"votes",u),h=Vn(ot,"couples",a.id),f=l==="A"?a.personA.id:l==="B"?a.personB.id:"tie";await oB(ot,async m=>{const[w,_]=await Promise.all([m.get(d),m.get(h)]);if(!_.exists())throw new Error("Couple not found");const S=_.data();let{count_a:g=0,count_b:E=0,count_tie:T=0}=S;if(!w.exists())l==="A"?g++:l==="B"?E++:T++;else{const P=w.data(),M=P.people_voted_id===a.personA.id?"A":P.people_voted_id===a.personB.id?"B":"tie";if(M===l)return;M==="A"?g--:M==="B"?E--:T--,l==="A"?g++:l==="B"?E++:T++}m.set(h,{count_a:g,count_b:E,count_tie:T},{merge:!0}),m.set(d,{couple_id:a.id,uid:t.uid,people_voted_id:f,updatedAt:aP()},{merge:!0})}),s(m=>({...m,[a.id]:l}))}}}function o8({couples:t,user:e}){const{id:n}=xV(),r=Es(),i=t.find(o=>o.id===n);if(!i)return C.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-gray-600",children:[C.jsx(Xh,{}),C.jsx("p",{children:"Chargement du couple... "}),C.jsx(Io,{to:"/",className:"mt-4 text-pink-600 hover:underline",children:" Retourner  l'accueil"})]});const s=async(o,a)=>{if(window.confirm("Souhaites-tu vraiment supprimer ce couple ?"))try{await Zs(Vn(ot,"couples",o)),alert("Le couple a bien t supprim "),r("/")}catch(u){console.error(u),alert("Erreur lors de la suppression du couple ")}};return C.jsxs("main",{className:"max-w-md mx-auto px-4 py-6",children:[C.jsxs("h1",{className:"text-2xl font-semibold text-center text-pink-600 mb-4",children:[" ",i.personA.display_name," & ",i.personB.display_name]}),C.jsx(lf,{couple:i,user:e,compact:!1,onlyMyVotes:!1,onDelete:s}),C.jsx("div",{className:"text-center mt-6",children:C.jsx(Io,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:" Retour  la liste"})})]})}var Au={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var V=new OffscreenCanvas(1,1),N=V.getContext("2d");N.fillRect(0,0,1,1);var W=V.transferToImageBitmap();try{N.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function u(V){var N=n.exports.Promise,W=N!==void 0?N:e.Promise;return typeof W=="function"?new W(V):(V(l,l),null)}var d=function(V,N){return{transform:function(W){if(V)return W;if(N.has(W))return N.get(W);var G=new OffscreenCanvas(W.width,W.height),Y=G.getContext("2d");return Y.drawImage(W,0,0),N.set(W,G),G},clear:function(){N.clear()}}}(a,new Map),h=function(){var V=Math.floor(16.666666666666668),N,W,G={},Y=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(N=function(ne){var re=Math.random();return G[re]=requestAnimationFrame(function K(ce){Y===ce||Y+V-1<ce?(Y=ce,delete G[re],ne()):G[re]=requestAnimationFrame(K)}),re},W=function(ne){G[ne]&&cancelAnimationFrame(G[ne])}):(N=function(ne){return setTimeout(ne,V)},W=function(ne){return clearTimeout(ne)}),{frame:N,cancel:W}}(),f=function(){var V,N,W={};function G(Y){function ne(re,K){Y.postMessage({options:re||{},callback:K})}Y.init=function(K){var ce=K.transferControlToOffscreen();Y.postMessage({canvas:ce},[ce])},Y.fire=function(K,ce,de){if(N)return ne(K,null),N;var ye=Math.random().toString(36).slice(2);return N=u(function(ve){function Te(be){be.data.callback===ye&&(delete W[ye],Y.removeEventListener("message",Te),N=null,d.clear(),de(),ve())}Y.addEventListener("message",Te),ne(K,ye),W[ye]=Te.bind(null,{data:{callback:ye}})}),N},Y.reset=function(){Y.postMessage({reset:!0});for(var K in W)W[K](),delete W[K]}}return function(){if(V)return V;if(!r&&s){var Y=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{V=new Worker(URL.createObjectURL(new Blob([Y])))}catch(ne){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ne),null}G(V)}return V}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(V,N){return N?N(V):V}function _(V){return V!=null}function S(V,N,W){return w(V&&_(V[N])?V[N]:m[N],W)}function g(V){return V<0?0:Math.floor(V)}function E(V,N){return Math.floor(Math.random()*(N-V))+V}function T(V){return parseInt(V,16)}function P(V){return V.map(M)}function M(V){var N=String(V).replace(/[^0-9a-f]/gi,"");return N.length<6&&(N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2]),{r:T(N.substring(0,2)),g:T(N.substring(2,4)),b:T(N.substring(4,6))}}function L(V){var N=S(V,"origin",Object);return N.x=S(N,"x",Number),N.y=S(N,"y",Number),N}function I(V){V.width=document.documentElement.clientWidth,V.height=document.documentElement.clientHeight}function x(V){var N=V.getBoundingClientRect();V.width=N.width,V.height=N.height}function A(V){var N=document.createElement("canvas");return N.style.position="fixed",N.style.top="0px",N.style.left="0px",N.style.pointerEvents="none",N.style.zIndex=V,N}function b(V,N,W,G,Y,ne,re,K,ce){V.save(),V.translate(N,W),V.rotate(ne),V.scale(G,Y),V.arc(0,0,1,re,K,ce),V.restore()}function D(V){var N=V.angle*(Math.PI/180),W=V.spread*(Math.PI/180);return{x:V.x,y:V.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:V.startVelocity*.5+Math.random()*V.startVelocity,angle2D:-N+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:V.color,shape:V.shape,tick:0,totalTicks:V.ticks,decay:V.decay,drift:V.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:V.gravity*3,ovalScalar:.6,scalar:V.scalar,flat:V.flat}}function O(V,N){N.x+=Math.cos(N.angle2D)*N.velocity+N.drift,N.y+=Math.sin(N.angle2D)*N.velocity+N.gravity,N.velocity*=N.decay,N.flat?(N.wobble=0,N.wobbleX=N.x+10*N.scalar,N.wobbleY=N.y+10*N.scalar,N.tiltSin=0,N.tiltCos=0,N.random=1):(N.wobble+=N.wobbleSpeed,N.wobbleX=N.x+10*N.scalar*Math.cos(N.wobble),N.wobbleY=N.y+10*N.scalar*Math.sin(N.wobble),N.tiltAngle+=.1,N.tiltSin=Math.sin(N.tiltAngle),N.tiltCos=Math.cos(N.tiltAngle),N.random=Math.random()+2);var W=N.tick++/N.totalTicks,G=N.x+N.random*N.tiltCos,Y=N.y+N.random*N.tiltSin,ne=N.wobbleX+N.random*N.tiltCos,re=N.wobbleY+N.random*N.tiltSin;if(V.fillStyle="rgba("+N.color.r+", "+N.color.g+", "+N.color.b+", "+(1-W)+")",V.beginPath(),o&&N.shape.type==="path"&&typeof N.shape.path=="string"&&Array.isArray(N.shape.matrix))V.fill(te(N.shape.path,N.shape.matrix,N.x,N.y,Math.abs(ne-G)*.1,Math.abs(re-Y)*.1,Math.PI/10*N.wobble));else if(N.shape.type==="bitmap"){var K=Math.PI/10*N.wobble,ce=Math.abs(ne-G)*.1,de=Math.abs(re-Y)*.1,ye=N.shape.bitmap.width*N.scalar,ve=N.shape.bitmap.height*N.scalar,Te=new DOMMatrix([Math.cos(K)*ce,Math.sin(K)*ce,-Math.sin(K)*de,Math.cos(K)*de,N.x,N.y]);Te.multiplySelf(new DOMMatrix(N.shape.matrix));var be=V.createPattern(d.transform(N.shape.bitmap),"no-repeat");be.setTransform(Te),V.globalAlpha=1-W,V.fillStyle=be,V.fillRect(N.x-ye/2,N.y-ve/2,ye,ve),V.globalAlpha=1}else if(N.shape==="circle")V.ellipse?V.ellipse(N.x,N.y,Math.abs(ne-G)*N.ovalScalar,Math.abs(re-Y)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI):b(V,N.x,N.y,Math.abs(ne-G)*N.ovalScalar,Math.abs(re-Y)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI);else if(N.shape==="star")for(var pe=Math.PI/2*3,Je=4*N.scalar,St=8*N.scalar,Lt=N.x,sn=N.y,Ft=5,Qt=Math.PI/Ft;Ft--;)Lt=N.x+Math.cos(pe)*St,sn=N.y+Math.sin(pe)*St,V.lineTo(Lt,sn),pe+=Qt,Lt=N.x+Math.cos(pe)*Je,sn=N.y+Math.sin(pe)*Je,V.lineTo(Lt,sn),pe+=Qt;else V.moveTo(Math.floor(N.x),Math.floor(N.y)),V.lineTo(Math.floor(N.wobbleX),Math.floor(Y)),V.lineTo(Math.floor(ne),Math.floor(re)),V.lineTo(Math.floor(G),Math.floor(N.wobbleY));return V.closePath(),V.fill(),N.tick<N.totalTicks}function k(V,N,W,G,Y){var ne=N.slice(),re=V.getContext("2d"),K,ce,de=u(function(ye){function ve(){K=ce=null,re.clearRect(0,0,G.width,G.height),d.clear(),Y(),ye()}function Te(){r&&!(G.width===i.width&&G.height===i.height)&&(G.width=V.width=i.width,G.height=V.height=i.height),!G.width&&!G.height&&(W(V),G.width=V.width,G.height=V.height),re.clearRect(0,0,G.width,G.height),ne=ne.filter(function(be){return O(re,be)}),ne.length?K=h.frame(Te):ve()}K=h.frame(Te),ce=ve});return{addFettis:function(ye){return ne=ne.concat(ye),de},canvas:V,promise:de,reset:function(){K&&h.cancel(K),ce&&ce()}}}function oe(V,N){var W=!V,G=!!S(N||{},"resize"),Y=!1,ne=S(N,"disableForReducedMotion",Boolean),re=s&&!!S(N||{},"useWorker"),K=re?f():null,ce=W?I:x,de=V&&K?!!V.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function Te(pe,Je,St){for(var Lt=S(pe,"particleCount",g),sn=S(pe,"angle",Number),Ft=S(pe,"spread",Number),Qt=S(pe,"startVelocity",Number),Ru=S(pe,"decay",Number),pf=S(pe,"gravity",Number),ia=S(pe,"drift",Number),Is=S(pe,"colors",P),Pu=S(pe,"ticks",Number),rt=S(pe,"shapes"),pt=S(pe,"scalar"),As=!!S(pe,"flat"),sa=L(pe),oa=Lt,aa=[],Oi=V.width*sa.x,bu=V.height*sa.y;oa--;)aa.push(D({x:Oi,y:bu,angle:sn,spread:Ft,startVelocity:Qt,color:Is[oa%Is.length],shape:rt[E(0,rt.length)],ticks:Pu,decay:Ru,gravity:pf,drift:ia,scalar:pt,flat:As}));return ve?ve.addFettis(aa):(ve=k(V,aa,ce,Je,St),ve.promise)}function be(pe){var Je=ne||S(pe,"disableForReducedMotion",Boolean),St=S(pe,"zIndex",Number);if(Je&&ye)return u(function(Qt){Qt()});W&&ve?V=ve.canvas:W&&!V&&(V=A(St),document.body.appendChild(V)),G&&!de&&ce(V);var Lt={width:V.width,height:V.height};K&&!de&&K.init(V),de=!0,K&&(V.__confetti_initialized=!0);function sn(){if(K){var Qt={getBoundingClientRect:function(){if(!W)return V.getBoundingClientRect()}};ce(Qt),K.postMessage({resize:{width:Qt.width,height:Qt.height}});return}Lt.width=Lt.height=null}function Ft(){ve=null,G&&(Y=!1,e.removeEventListener("resize",sn)),W&&V&&(document.body.contains(V)&&document.body.removeChild(V),V=null,de=!1)}return G&&!Y&&(Y=!0,e.addEventListener("resize",sn,!1)),K?K.fire(pe,Lt,Ft):Te(pe,Lt,Ft)}return be.reset=function(){K&&K.reset(),ve&&ve.reset()},be}var me;function ae(){return me||(me=oe(null,{useWorker:!0,resize:!0})),me}function te(V,N,W,G,Y,ne,re){var K=new Path2D(V),ce=new Path2D;ce.addPath(K,new DOMMatrix(N));var de=new Path2D;return de.addPath(ce,new DOMMatrix([Math.cos(re)*Y,Math.sin(re)*Y,-Math.sin(re)*ne,Math.cos(re)*ne,W,G])),de}function F(V){if(!o)throw new Error("path confetti are not supported in this browser");var N,W;typeof V=="string"?N=V:(N=V.path,W=V.matrix);var G=new Path2D(N),Y=document.createElement("canvas"),ne=Y.getContext("2d");if(!W){for(var re=1e3,K=re,ce=re,de=0,ye=0,ve,Te,be=0;be<re;be+=2)for(var pe=0;pe<re;pe+=2)ne.isPointInPath(G,be,pe,"nonzero")&&(K=Math.min(K,be),ce=Math.min(ce,pe),de=Math.max(de,be),ye=Math.max(ye,pe));ve=de-K,Te=ye-ce;var Je=10,St=Math.min(Je/ve,Je/Te);W=[St,0,0,St,-Math.round(ve/2+K)*St,-Math.round(Te/2+ce)*St]}return{type:"path",path:N,matrix:W}}function B(V){var N,W=1,G="#000000",Y='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof V=="string"?N=V:(N=V.text,W="scalar"in V?V.scalar:W,Y="fontFamily"in V?V.fontFamily:Y,G="color"in V?V.color:G);var ne=10*W,re=""+ne+"px "+Y,K=new OffscreenCanvas(ne,ne),ce=K.getContext("2d");ce.font=re;var de=ce.measureText(N),ye=Math.ceil(de.actualBoundingBoxRight+de.actualBoundingBoxLeft),ve=Math.ceil(de.actualBoundingBoxAscent+de.actualBoundingBoxDescent),Te=2,be=de.actualBoundingBoxLeft+Te,pe=de.actualBoundingBoxAscent+Te;ye+=Te+Te,ve+=Te+Te,K=new OffscreenCanvas(ye,ve),ce=K.getContext("2d"),ce.font=re,ce.fillStyle=G,ce.fillText(N,be,pe);var Je=1/W;return{type:"bitmap",bitmap:K.transferToImageBitmap(),matrix:[Je,0,0,Je,-ye*Je/2,-ve*Je/2]}}n.exports=function(){return ae().apply(this,arguments)},n.exports.reset=function(){ae().reset()},n.exports.create=oe,n.exports.shapeFromPath=F,n.exports.shapeFromText=B})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Au,!1);const a8=Au.exports;Au.exports.create;function l8({couples:t,user:e,myVotes:n,onVote:r}){const i=Es(),[s]=v.useState(()=>t.filter(E=>!n[E.id])),[o,a]=v.useState(0),[l,u]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(null),w=()=>{o+1<s.length?a(E=>E+1):u(!0),m(null)},_=(E,T)=>{d||(h(!0),r(E,T),m(T==="A"?"left":T==="B"?"right":"down"),setTimeout(()=>{w(),h(!1)},400))};if(v.useEffect(()=>{(l||s.length===0)&&a8({particleCount:120,spread:70,origin:{y:.6},colors:["#ec4899","#f472b6","#fde68a"]})},[l,s.length]),l||s.length===0||o>=s.length)return C.jsxs("main",{className:"max-w-md mx-auto px-4 py-12 flex flex-col items-center justify-center text-center space-y-6",children:[C.jsx("h1",{className:"text-3xl font-semibold text-pink-600",children:" Bravo !"}),C.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Tu as vot pour tous les couples disponibles  Reviens bientt, de nouveaux duos tattendent !"}),C.jsx("button",{onClick:()=>i("/"),className:"px-4 py-2 rounded-full bg-pink-500 hover:bg-pink-600 text-white font-medium shadow-sm transition",children:" Retour  laccueil"}),C.jsx(Bg.div,{className:"mt-8 text-4xl",initial:{scale:0},animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0},children:""}),C.jsx(wg,{})]});const S=s[o],g={left:{opacity:0,x:-200,rotate:-10},right:{opacity:0,x:200,rotate:10},down:{opacity:0,y:100,scale:.9},none:{opacity:0,x:0}};return C.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 flex flex-col items-center justify-center gap-6",children:[C.jsxs("div",{className:"flex justify-between w-full items-center",children:[C.jsx("button",{onClick:()=>i("/"),className:"text-gray-500 hover:text-gray-700 text-sm",children:" Quitter"}),C.jsxs("div",{className:"text-sm text-gray-400",children:[Math.min(o+1,s.length),"/",s.length]})]}),C.jsx(tk,{mode:"wait",children:C.jsx(Bg.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:g[f??"none"],transition:{duration:.4},className:"w-full",children:S&&C.jsx(lf,{couple:S,user:e,onVote:_,compact:!1,onlyMyVotes:!1})},S==null?void 0:S.id)}),C.jsx(wg,{})]})}function u8(){const[t,e]=v.useState(null),{couples:n,loading:r,deleteCouple:i}=i8(),{votesAll:s,myVotes:o,handleVote:a}=s8(t,n);return v.useEffect(()=>$L(tw,e),[]),C.jsxs("div",{children:[C.jsx(BB,{user:t}),C.jsxs(jV,{children:[C.jsx(Qr,{path:"/",element:C.jsx(G9,{user:t,couples:n,myVotes:o,onVote:a,loading:r,deleteCouple:i})}),C.jsx(Qr,{path:"/jouer",element:C.jsx(l8,{couples:n,user:t,myVotes:o,onVote:a})}),C.jsx(Qr,{path:"/mes-votes",element:C.jsx(AK,{user:t,couples:n,votesAll:s})}),C.jsx(Qr,{path:"/ajouter-couple",element:C.jsx(n8,{user:t})}),C.jsx(Qr,{path:"/couple/:id",element:C.jsx(o8,{couples:n,user:t})}),C.jsx(Qr,{path:"/confidentialite",element:C.jsx(r8,{})}),C.jsx(Qr,{path:"*",element:C.jsx(LV,{to:"/",replace:!0})})]}),C.jsxs("footer",{className:"text-center text-xs text-gray-500 py-6",children:["Fait avec amour, aucun jugement  "," ",C.jsx("a",{href:"/confidentialite",className:"underline hover:text-gray-700",children:"Politique de confidentialit"})]})]})}async function c8(t){if(!("Notification"in window))return;Notification.permission!=="granted"&&await Notification.requestPermission();const e=async()=>{const n=await t();if(!n)return;const{id:r,personA:i,personB:s}=n;JSON.parse(localStorage.getItem("myVotes")||"{}")[r]||new Notification(" Voici le couple du jour",{body:`${i.display_name} & ${s.display_name}`,icon:"/pwa-192x192.png",data:{url:`https://surchope.fr/couple/${r}`}})};e(),setInterval(e,24*60*60*1e3)}const d8=document.getElementById("root"),h8=LI(d8);h8.render(C.jsx(dr.StrictMode,{children:C.jsx(l2,{basename:"/",children:C.jsx(u8,{})})}));E2({immediate:!0,onOfflineReady(){console.log("Lapplication est prte  tre utilise hors ligne.")}});const $p=new Map;async function xS(t){if($p.has(t))return $p.get(t);const e=await ag(Vn(ot,"people",t));if(!e.exists())return null;const n={id:e.id,...e.data()};return $p.set(t,n),n}async function f8(){try{const t=gu(xr(ot,"couples"),tP("createdAt","desc"),tB(1)),e=await Ll(t);if(e.empty)return null;const n=e.docs[0],r=n.data(),i=await xS(r.people_a_id),s=await xS(r.people_b_id);return!i||!s?null:{id:n.id,personA:i,personB:s,countA:r.count_a??0,countB:r.count_b??0,countTie:r.count_tie??0,category:r.category??"friends"}}catch(t){return console.error("Erreur lors de la rcupration du dernier couple :",t),null}}c8(f8)});export default p8();
