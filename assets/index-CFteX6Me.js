var PM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rQ=PM((dQ,zu)=>{function kM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function wy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lI={exports:{}},Ah={},uI={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=Symbol.for("react.element"),NM=Symbol.for("react.portal"),MM=Symbol.for("react.fragment"),DM=Symbol.for("react.strict_mode"),VM=Symbol.for("react.profiler"),OM=Symbol.for("react.provider"),LM=Symbol.for("react.context"),FM=Symbol.for("react.forward_ref"),jM=Symbol.for("react.suspense"),UM=Symbol.for("react.memo"),BM=Symbol.for("react.lazy"),y0=Symbol.iterator;function zM(t){return t===null||typeof t!="object"?null:(t=y0&&t[y0]||t["@@iterator"],typeof t=="function"?t:null)}var cI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dI=Object.assign,hI={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=hI,this.updater=n||cI}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fI(){}fI.prototype=Yo.prototype;function _y(t,e,n){this.props=t,this.context=e,this.refs=hI,this.updater=n||cI}var Ey=_y.prototype=new fI;Ey.constructor=_y;dI(Ey,Yo.prototype);Ey.isPureReactComponent=!0;var v0=Array.isArray,pI=Object.prototype.hasOwnProperty,xy={current:null},mI={key:!0,ref:!0,__self:!0,__source:!0};function gI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pI.call(e,r)&&!mI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lu,type:t,key:s,ref:o,props:i,_owner:xy.current}}function $M(t,e){return{$$typeof:lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ty(t){return typeof t=="object"&&t!==null&&t.$$typeof===lu}function WM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w0=/\/+/g;function Xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WM(""+t.key):e.toString(36)}function Wc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lu:case NM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xf(o,0):r,v0(i)?(n="",t!=null&&(n=t.replace(w0,"$&/")+"/"),Wc(i,e,n,"",function(u){return u})):i!=null&&(Ty(i)&&(i=$M(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",v0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Xf(s,a);o+=Wc(s,e,n,l,i)}else if(l=zM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Xf(s,a++),o+=Wc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ac(t,e,n){if(t==null)return t;var r=[],i=0;return Wc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Hc={transition:null},GM={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:xy};function yI(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:ac,forEach:function(t,e,n){ac(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ac(t,function(){e++}),e},toArray:function(t){return ac(t,function(e){return e})||[]},only:function(t){if(!Ty(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Yo;we.Fragment=MM;we.Profiler=VM;we.PureComponent=_y;we.StrictMode=DM;we.Suspense=jM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GM;we.act=yI;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pI.call(e,l)&&!mI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:lu,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:LM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OM,_context:t},t.Consumer=t};we.createElement=gI;we.createFactory=function(t){var e=gI.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:FM,render:t}};we.isValidElement=Ty;we.lazy=function(t){return{$$typeof:BM,_payload:{_status:-1,_result:t},_init:HM}};we.memo=function(t,e){return{$$typeof:UM,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Hc.transition;Hc.transition={};try{t()}finally{Hc.transition=e}};we.unstable_act=yI;we.useCallback=function(t,e){return qt.current.useCallback(t,e)};we.useContext=function(t){return qt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};we.useEffect=function(t,e){return qt.current.useEffect(t,e)};we.useId=function(){return qt.current.useId()};we.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return qt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};we.useRef=function(t){return qt.current.useRef(t)};we.useState=function(t){return qt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return qt.current.useTransition()};we.version="18.3.1";uI.exports=we;var y=uI.exports;const xr=wy(y),vI=kM({__proto__:null,default:xr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qM=y,KM=Symbol.for("react.element"),QM=Symbol.for("react.fragment"),YM=Object.prototype.hasOwnProperty,XM=qM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JM={key:!0,ref:!0,__self:!0,__source:!0};function wI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YM.call(e,r)&&!JM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:KM,type:t,key:s,ref:o,props:i,_owner:XM.current}}Ah.Fragment=QM;Ah.jsx=wI;Ah.jsxs=wI;lI.exports=Ah;var w=lI.exports,_I={exports:{}},wn={},EI={exports:{}},xI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var V=F.length;F.push(B);e:for(;0<V;){var D=V-1>>>1,W=F[D];if(0<i(W,B))F[D]=B,F[V]=W,V=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],V=F.pop();if(V!==B){F[0]=V;e:for(var D=0,W=F.length,G=W>>>1;D<G;){var Y=2*(D+1)-1,ne=F[Y],re=Y+1,q=F[re];if(0>i(ne,V))re<W&&0>i(q,ne)?(F[D]=q,F[re]=V,D=re):(F[D]=ne,F[Y]=V,D=Y);else if(re<W&&0>i(q,V))F[D]=q,F[re]=V,D=re;else break e}}return B}function i(F,B){var V=F.sortIndex-B.sortIndex;return V!==0?V:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=F)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function P(F){if(x=!1,I(F),!v)if(n(l)!==null)v=!0,ae(k);else{var B=n(u);B!==null&&te(P,B.startTime-F)}}function k(F,B){v=!1,x&&(x=!1,g(T),T=-1),m=!0;var V=f;try{for(I(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!M());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var W=D(h.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?h.callback=W:h===n(l)&&r(l),I(B)}else r(l);h=n(l)}if(h!==null)var G=!0;else{var Y=n(u);Y!==null&&te(P,Y.startTime-B),G=!1}return G}finally{h=null,f=V,m=!1}}var O=!1,C=null,T=-1,A=5,R=-1;function M(){return!(t.unstable_now()-R<A)}function L(){if(C!==null){var F=t.unstable_now();R=F;var B=!0;try{B=C(!0,F)}finally{B?N():(O=!1,C=null)}}else O=!1}var N;if(typeof E=="function")N=function(){E(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=L,N=function(){me.postMessage(null)}}else N=function(){S(L,0)};function ae(F){C=F,O||(O=!0,N())}function te(F,B){T=S(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ae(k))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var V=f;f=B;try{return F()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=f;f=F;try{return B()}finally{f=V}},t.unstable_scheduleCallback=function(F,B,V){var D=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,F={id:d++,callback:B,priorityLevel:F,startTime:V,expirationTime:W,sortIndex:-1},V>D?(F.sortIndex=V,e(u,F),n(l)===null&&F===n(u)&&(x?(g(T),T=-1):x=!0,te(P,V-D))):(F.sortIndex=W,e(l,F),v||m||(v=!0,ae(k))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var B=f;return function(){var V=f;f=B;try{return F.apply(this,arguments)}finally{f=V}}}})(xI);EI.exports=xI;var ZM=EI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD=y,vn=ZM;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TI=new Set,El={};function Ps(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(El[t]=e,t=0;t<e.length;t++)TI.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,tD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},E0={};function nD(t){return pm.call(E0,t)?!0:pm.call(_0,t)?!1:tD.test(t)?E0[t]=!0:(_0[t]=!0,!1)}function rD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iD(t,e,n,r){if(e===null||typeof e>"u"||rD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sy=/[\-:]([a-z])/g;function Iy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sy,Iy);Ct[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sy,Iy);Ct[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sy,Iy);Ct[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cy(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iD(e,n,i,r)&&(n=null),r||i===null?nD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=eD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),SI=Symbol.for("react.provider"),II=Symbol.for("react.context"),by=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),Ry=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),CI=Symbol.for("react.offscreen"),x0=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Jf;function Ha(t){if(Jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||""}return`
`+Jf+t}var Zf=!1;function ep(t,e){if(!t||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ha(t):""}function sD(t){switch(t.tag){case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 2:case 15:return t=ep(t.type,!1),t;case 11:return t=ep(t.type.render,!1),t;case 1:return t=ep(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Zs:return"Portal";case mm:return"Profiler";case Ay:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case II:return(t.displayName||"Context")+".Consumer";case SI:return(t._context.displayName||"Context")+".Provider";case by:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ry:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function oD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aD(t){var e=AI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){t._valueTracker||(t._valueTracker=aD(t))}function bI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RI(t,e){e=e.checked,e!=null&&Cy(t,"checked",e,!1)}function _m(t,e){RI(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||Td(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ga=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ga(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function PI(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function C0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,NI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lD=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){lD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function MI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function DI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=MI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uD=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(uD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function Py(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Am=null,wo=null,_o=null;function A0(t){if(t=du(t)){if(typeof Am!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Nh(e),Am(t.stateNode,t.type,e))}}function VI(t){wo?_o?_o.push(t):_o=[t]:wo=t}function OI(){if(wo){var t=wo,e=_o;if(_o=wo=null,A0(t),e)for(t=0;t<e.length;t++)A0(e[t])}}function LI(t,e){return t(e)}function FI(){}var tp=!1;function jI(t,e,n){if(tp)return t(e,n);tp=!0;try{return LI(t,e,n)}finally{tp=!1,(wo!==null||_o!==null)&&(FI(),OI())}}function Tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var bm=!1;if(Vr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){bm=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{bm=!1}function cD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var tl=!1,Sd=null,Id=!1,Rm=null,dD={onError:function(t){tl=!0,Sd=t}};function hD(t,e,n,r,i,s,o,a,l){tl=!1,Sd=null,cD.apply(dD,arguments)}function fD(t,e,n,r,i,s,o,a,l){if(hD.apply(this,arguments),tl){if(tl){var u=Sd;tl=!1,Sd=null}else throw Error(H(198));Id||(Id=!0,Rm=u)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b0(t){if(ks(t)!==t)throw Error(H(188))}function pD(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b0(i),t;if(s===r)return b0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function BI(t){return t=pD(t),t!==null?zI(t):null}function zI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zI(t);if(e!==null)return e;t=t.sibling}return null}var $I=vn.unstable_scheduleCallback,R0=vn.unstable_cancelCallback,mD=vn.unstable_shouldYield,gD=vn.unstable_requestPaint,Ze=vn.unstable_now,yD=vn.unstable_getCurrentPriorityLevel,ky=vn.unstable_ImmediatePriority,WI=vn.unstable_UserBlockingPriority,Cd=vn.unstable_NormalPriority,vD=vn.unstable_LowPriority,HI=vn.unstable_IdlePriority,bh=null,ir=null;function wD(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(bh,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:xD,_D=Math.log,ED=Math.LN2;function xD(t){return t>>>=0,t===0?32:31-(_D(t)/ED|0)|0}var dc=64,hc=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qa(a):(s&=o,s!==0&&(r=qa(s)))}else o=n&~i,o!==0?r=qa(o):s!==0&&(r=qa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function TD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=TD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GI(){var t=dc;return dc<<=1,!(dc&4194240)&&(dc=64),t}function np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function ID(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ny(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function qI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KI,My,QI,YI,XI,km=!1,fc=[],yi=null,vi=null,wi=null,Sl=new Map,Il=new Map,li=[],CD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P0(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=du(e),e!==null&&My(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AD(t,e,n,r,i){switch(e){case"focusin":return yi=Ma(yi,t,e,n,r,i),!0;case"dragenter":return vi=Ma(vi,t,e,n,r,i),!0;case"mouseover":return wi=Ma(wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sl.set(s,Ma(Sl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Ma(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function JI(t){var e=rs(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=UI(n),e!==null){t.blockedOn=e,XI(t.priority,function(){QI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return e=du(n),e!==null&&My(e),t.blockedOn=n,!1;e.shift()}return!0}function k0(t,e,n){Gc(t)&&n.delete(e)}function bD(){km=!1,yi!==null&&Gc(yi)&&(yi=null),vi!==null&&Gc(vi)&&(vi=null),wi!==null&&Gc(wi)&&(wi=null),Sl.forEach(k0),Il.forEach(k0)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,km||(km=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,bD)))}function Cl(t){function e(i){return Da(i,t)}if(0<fc.length){Da(fc[0],t);for(var n=1;n<fc.length;n++){var r=fc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Da(yi,t),vi!==null&&Da(vi,t),wi!==null&&Da(wi,t),Sl.forEach(e),Il.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)JI(n),n.blockedOn===null&&li.shift()}var Eo=Qr.ReactCurrentBatchConfig,bd=!0;function RD(t,e,n,r){var i=Re,s=Eo.transition;Eo.transition=null;try{Re=1,Dy(t,e,n,r)}finally{Re=i,Eo.transition=s}}function PD(t,e,n,r){var i=Re,s=Eo.transition;Eo.transition=null;try{Re=4,Dy(t,e,n,r)}finally{Re=i,Eo.transition=s}}function Dy(t,e,n,r){if(bd){var i=Nm(t,e,n,r);if(i===null)hp(t,e,r,Rd,n),P0(t,r);else if(AD(i,t,e,n,r))r.stopPropagation();else if(P0(t,r),e&4&&-1<CD.indexOf(t)){for(;i!==null;){var s=du(i);if(s!==null&&KI(s),s=Nm(t,e,n,r),s===null&&hp(t,e,r,Rd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var Rd=null;function Nm(t,e,n,r){if(Rd=null,t=Py(r),t=rs(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rd=t,null}function ZI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yD()){case ky:return 1;case WI:return 4;case Cd:case vD:return 16;case HI:return 536870912;default:return 16}default:return 16}}var fi=null,Vy=null,qc=null;function eC(){if(qc)return qc;var t,e=Vy,n=e.length,r,i="value"in fi?fi.value:fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qc=i.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pc(){return!0}function N0(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pc:N0,this.isPropagationStopped=N0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oy=_n(Xo),cu=He({},Xo,{view:0,detail:0}),kD=_n(cu),rp,ip,Va,Rh=He({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ly,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Va&&(Va&&t.type==="mousemove"?(rp=t.screenX-Va.screenX,ip=t.screenY-Va.screenY):ip=rp=0,Va=t),rp)},movementY:function(t){return"movementY"in t?t.movementY:ip}}),M0=_n(Rh),ND=He({},Rh,{dataTransfer:0}),MD=_n(ND),DD=He({},cu,{relatedTarget:0}),sp=_n(DD),VD=He({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),OD=_n(VD),LD=He({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FD=_n(LD),jD=He({},Xo,{data:0}),D0=_n(jD),UD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $D(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zD[t])?!!e[t]:!1}function Ly(){return $D}var WD=He({},cu,{key:function(t){if(t.key){var e=UD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ly,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HD=_n(WD),GD=He({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=_n(GD),qD=He({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ly}),KD=_n(qD),QD=He({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YD=_n(QD),XD=He({},Rh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JD=_n(XD),ZD=[9,13,27,32],Fy=Vr&&"CompositionEvent"in window,nl=null;Vr&&"documentMode"in document&&(nl=document.documentMode);var e2=Vr&&"TextEvent"in window&&!nl,tC=Vr&&(!Fy||nl&&8<nl&&11>=nl),O0=" ",L0=!1;function nC(t,e){switch(t){case"keyup":return ZD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function t2(t,e){switch(t){case"compositionend":return rC(e);case"keypress":return e.which!==32?null:(L0=!0,O0);case"textInput":return t=e.data,t===O0&&L0?null:t;default:return null}}function n2(t,e){if(to)return t==="compositionend"||!Fy&&nC(t,e)?(t=eC(),qc=Vy=fi=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tC&&e.locale!=="ko"?null:e.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r2[t.type]:e==="textarea"}function iC(t,e,n,r){VI(r),e=Pd(e,"onChange"),0<e.length&&(n=new Oy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Al=null;function i2(t){mC(t,0)}function Ph(t){var e=io(t);if(bI(e))return t}function s2(t,e){if(t==="change")return e}var sC=!1;if(Vr){var op;if(Vr){var ap="oninput"in document;if(!ap){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),ap=typeof j0.oninput=="function"}op=ap}else op=!1;sC=op&&(!document.documentMode||9<document.documentMode)}function U0(){rl&&(rl.detachEvent("onpropertychange",oC),Al=rl=null)}function oC(t){if(t.propertyName==="value"&&Ph(Al)){var e=[];iC(e,Al,t,Py(t)),jI(i2,e)}}function o2(t,e,n){t==="focusin"?(U0(),rl=e,Al=n,rl.attachEvent("onpropertychange",oC)):t==="focusout"&&U0()}function a2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ph(Al)}function l2(t,e){if(t==="click")return Ph(e)}function u2(t,e){if(t==="input"||t==="change")return Ph(e)}function c2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:c2;function bl(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z0(t,e){var n=B0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function aC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lC(){for(var t=window,e=Td();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Td(t.document)}return e}function jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d2(t){var e=lC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aC(n.ownerDocument.documentElement,n)){if(r!==null&&jy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=z0(n,s);var o=z0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h2=Vr&&"documentMode"in document&&11>=document.documentMode,no=null,Mm=null,il=null,Dm=!1;function $0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dm||no==null||no!==Td(r)||(r=no,"selectionStart"in r&&jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&bl(il,r)||(il=r,r=Pd(Mm,"onSelect"),0<r.length&&(e=new Oy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},lp={},uC={};Vr&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function kh(t){if(lp[t])return lp[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uC)return lp[t]=e[n];return t}var cC=kh("animationend"),dC=kh("animationiteration"),hC=kh("animationstart"),fC=kh("transitionend"),pC=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){pC.set(t,e),Ps(e,[t])}for(var up=0;up<W0.length;up++){var cp=W0[up],f2=cp.toLowerCase(),p2=cp[0].toUpperCase()+cp.slice(1);Ui(f2,"on"+p2)}Ui(cC,"onAnimationEnd");Ui(dC,"onAnimationIteration");Ui(hC,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(fC,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function H0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fD(r,e,void 0,t),t.currentTarget=null}function mC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H0(i,a,u),s=l}}}if(Id)throw t=Rm,Id=!1,Rm=null,t}function Le(t,e){var n=e[jm];n===void 0&&(n=e[jm]=new Set);var r=t+"__bubble";n.has(r)||(gC(e,t,2,!1),n.add(r))}function dp(t,e,n){var r=0;e&&(r|=4),gC(n,t,r,e)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[gc]){t[gc]=!0,TI.forEach(function(n){n!=="selectionchange"&&(m2.has(n)||dp(n,!1,t),dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gc]||(e[gc]=!0,dp("selectionchange",!1,e))}}function gC(t,e,n,r){switch(ZI(e)){case 1:var i=RD;break;case 4:i=PD;break;default:i=Dy}n=i.bind(null,e,n,t),i=void 0,!bm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=rs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jI(function(){var u=s,d=Py(n),h=[];e:{var f=pC.get(t);if(f!==void 0){var m=Oy,v=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":m=HD;break;case"focusin":v="focus",m=sp;break;case"focusout":v="blur",m=sp;break;case"beforeblur":case"afterblur":m=sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KD;break;case cC:case dC:case hC:m=OD;break;case fC:m=YD;break;case"scroll":m=kD;break;case"wheel":m=JD;break;case"copy":case"cut":case"paste":m=FD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=V0}var x=(e&4)!==0,S=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var E=u,I;E!==null;){I=E;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,g!==null&&(P=Tl(E,g),P!=null&&x.push(Pl(E,P,I)))),S)break;E=E.return}0<x.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Cm&&(v=n.relatedTarget||n.fromElement)&&(rs(v)||v[Or]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?rs(v):null,v!==null&&(S=ks(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(x=M0,P="onMouseLeave",g="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(x=V0,P="onPointerLeave",g="onPointerEnter",E="pointer"),S=m==null?f:io(m),I=v==null?f:io(v),f=new x(P,E+"leave",m,n,d),f.target=S,f.relatedTarget=I,P=null,rs(d)===u&&(x=new x(g,E+"enter",v,n,d),x.target=I,x.relatedTarget=S,P=x),S=P,m&&v)t:{for(x=m,g=v,E=0,I=x;I;I=Hs(I))E++;for(I=0,P=g;P;P=Hs(P))I++;for(;0<E-I;)x=Hs(x),E--;for(;0<I-E;)g=Hs(g),I--;for(;E--;){if(x===g||g!==null&&x===g.alternate)break t;x=Hs(x),g=Hs(g)}x=null}else x=null;m!==null&&G0(h,f,m,x,!1),v!==null&&S!==null&&G0(h,S,v,x,!0)}}e:{if(f=u?io(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=s2;else if(F0(f))if(sC)k=u2;else{k=a2;var O=o2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=l2);if(k&&(k=k(t,u))){iC(h,k,n,d);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Em(f,"number",f.value)}switch(O=u?io(u):window,t){case"focusin":(F0(O)||O.contentEditable==="true")&&(no=O,Mm=u,il=null);break;case"focusout":il=Mm=no=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,$0(h,n,d);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":$0(h,n,d)}var C;if(Fy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else to?nC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(tC&&n.locale!=="ko"&&(to||T!=="onCompositionStart"?T==="onCompositionEnd"&&to&&(C=eC()):(fi=d,Vy="value"in fi?fi.value:fi.textContent,to=!0)),O=Pd(u,T),0<O.length&&(T=new D0(T,t,null,n,d),h.push({event:T,listeners:O}),C?T.data=C:(C=rC(n),C!==null&&(T.data=C)))),(C=e2?t2(t,n):n2(t,n))&&(u=Pd(u,"onBeforeInput"),0<u.length&&(d=new D0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}mC(h,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tl(t,n),s!=null&&r.unshift(Pl(t,s,i)),s=Tl(t,e),s!=null&&r.push(Pl(t,s,i))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Tl(n,s),l!=null&&o.unshift(Pl(n,l,a))):i||(l=Tl(n,s),l!=null&&o.push(Pl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function q0(t){return(typeof t=="string"?t:""+t).replace(g2,`
`).replace(y2,"")}function yc(t,e,n){if(e=q0(e),q0(t)!==e&&n)throw Error(H(425))}function kd(){}var Vm=null,Om=null;function Lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(_2)}:Fm;function _2(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),tr="__reactFiber$"+Jo,kl="__reactProps$"+Jo,Or="__reactContainer$"+Jo,jm="__reactEvents$"+Jo,E2="__reactListeners$"+Jo,x2="__reactHandles$"+Jo;function rs(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q0(t);t!==null;){if(n=t[tr])return n;t=Q0(t)}return e}t=n,n=t.parentNode}return null}function du(t){return t=t[tr]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Nh(t){return t[kl]||null}var Um=[],so=-1;function Bi(t){return{current:t}}function Fe(t){0>so||(t.current=Um[so],Um[so]=null,so--)}function Ve(t,e){so++,Um[so]=t.current,t.current=e}var ki={},Lt=Bi(ki),nn=Bi(!1),ys=ki;function Mo(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Nd(){Fe(nn),Fe(Lt)}function Y0(t,e,n){if(Lt.current!==ki)throw Error(H(168));Ve(Lt,e),Ve(nn,n)}function yC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,oD(t)||"Unknown",i));return He({},n,r)}function Md(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,ys=Lt.current,Ve(Lt,t),Ve(nn,nn.current),!0}function X0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=yC(t,e,ys),r.__reactInternalMemoizedMergedChildContext=t,Fe(nn),Fe(Lt),Ve(Lt,t)):Fe(nn),Ve(nn,n)}var Sr=null,Mh=!1,pp=!1;function vC(t){Sr===null?Sr=[t]:Sr.push(t)}function T2(t){Mh=!0,vC(t)}function zi(){if(!pp&&Sr!==null){pp=!0;var t=0,e=Re;try{var n=Sr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,Mh=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),$I(ky,zi),i}finally{Re=e,pp=!1}}return null}var oo=[],ao=0,Dd=null,Vd=0,Tn=[],Sn=0,vs=null,Cr=1,Ar="";function Ji(t,e){oo[ao++]=Vd,oo[ao++]=Dd,Dd=t,Vd=e}function wC(t,e,n){Tn[Sn++]=Cr,Tn[Sn++]=Ar,Tn[Sn++]=vs,vs=t;var r=Cr;t=Ar;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Un(e)+i|n<<i|r,Ar=s+t}else Cr=1<<s|n<<i|r,Ar=t}function Uy(t){t.return!==null&&(Ji(t,1),wC(t,1,0))}function By(t){for(;t===Dd;)Dd=oo[--ao],oo[ao]=null,Vd=oo[--ao],oo[ao]=null;for(;t===vs;)vs=Tn[--Sn],Tn[Sn]=null,Ar=Tn[--Sn],Tn[Sn]=null,Cr=Tn[--Sn],Tn[Sn]=null}var pn=null,hn=null,je=!1,jn=null;function _C(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vs!==null?{id:Cr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(je){var e=hn;if(e){var n=e;if(!J0(t,e)){if(Bm(t))throw Error(H(418));e=_i(n.nextSibling);var r=pn;e&&J0(t,e)?_C(r,n):(t.flags=t.flags&-4097|2,je=!1,pn=t)}}else{if(Bm(t))throw Error(H(418));t.flags=t.flags&-4097|2,je=!1,pn=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function vc(t){if(t!==pn)return!1;if(!je)return Z0(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lm(t.type,t.memoizedProps)),e&&(e=hn)){if(Bm(t))throw EC(),Error(H(418));for(;e;)_C(t,e),e=_i(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?_i(t.stateNode.nextSibling):null;return!0}function EC(){for(var t=hn;t;)t=_i(t.nextSibling)}function Do(){hn=pn=null,je=!1}function zy(t){jn===null?jn=[t]:jn.push(t)}var S2=Qr.ReactCurrentBatchConfig;function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eE(t){var e=t._init;return e(t._payload)}function xC(t){function e(g,E){if(t){var I=g.deletions;I===null?(g.deletions=[E],g.flags|=16):I.push(E)}}function n(g,E){if(!t)return null;for(;E!==null;)e(g,E),E=E.sibling;return null}function r(g,E){for(g=new Map;E!==null;)E.key!==null?g.set(E.key,E):g.set(E.index,E),E=E.sibling;return g}function i(g,E){return g=Si(g,E),g.index=0,g.sibling=null,g}function s(g,E,I){return g.index=I,t?(I=g.alternate,I!==null?(I=I.index,I<E?(g.flags|=2,E):I):(g.flags|=2,E)):(g.flags|=1048576,E)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,E,I,P){return E===null||E.tag!==6?(E=Ep(I,g.mode,P),E.return=g,E):(E=i(E,I),E.return=g,E)}function l(g,E,I,P){var k=I.type;return k===eo?d(g,E,I.props.children,P,I.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===oi&&eE(k)===E.type)?(P=i(E,I.props),P.ref=Oa(g,E,I),P.return=g,P):(P=td(I.type,I.key,I.props,null,g.mode,P),P.ref=Oa(g,E,I),P.return=g,P)}function u(g,E,I,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=xp(I,g.mode,P),E.return=g,E):(E=i(E,I.children||[]),E.return=g,E)}function d(g,E,I,P,k){return E===null||E.tag!==7?(E=hs(I,g.mode,P,k),E.return=g,E):(E=i(E,I),E.return=g,E)}function h(g,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ep(""+E,g.mode,I),E.return=g,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lc:return I=td(E.type,E.key,E.props,null,g.mode,I),I.ref=Oa(g,null,E),I.return=g,I;case Zs:return E=xp(E,g.mode,I),E.return=g,E;case oi:var P=E._init;return h(g,P(E._payload),I)}if(Ga(E)||ka(E))return E=hs(E,g.mode,I,null),E.return=g,E;wc(g,E)}return null}function f(g,E,I,P){var k=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return k!==null?null:a(g,E,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case lc:return I.key===k?l(g,E,I,P):null;case Zs:return I.key===k?u(g,E,I,P):null;case oi:return k=I._init,f(g,E,k(I._payload),P)}if(Ga(I)||ka(I))return k!==null?null:d(g,E,I,P,null);wc(g,I)}return null}function m(g,E,I,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return g=g.get(I)||null,a(E,g,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case lc:return g=g.get(P.key===null?I:P.key)||null,l(E,g,P,k);case Zs:return g=g.get(P.key===null?I:P.key)||null,u(E,g,P,k);case oi:var O=P._init;return m(g,E,I,O(P._payload),k)}if(Ga(P)||ka(P))return g=g.get(I)||null,d(E,g,P,k,null);wc(E,P)}return null}function v(g,E,I,P){for(var k=null,O=null,C=E,T=E=0,A=null;C!==null&&T<I.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var R=f(g,C,I[T],P);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(g,C),E=s(R,E,T),O===null?k=R:O.sibling=R,O=R,C=A}if(T===I.length)return n(g,C),je&&Ji(g,T),k;if(C===null){for(;T<I.length;T++)C=h(g,I[T],P),C!==null&&(E=s(C,E,T),O===null?k=C:O.sibling=C,O=C);return je&&Ji(g,T),k}for(C=r(g,C);T<I.length;T++)A=m(C,g,T,I[T],P),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),E=s(A,E,T),O===null?k=A:O.sibling=A,O=A);return t&&C.forEach(function(M){return e(g,M)}),je&&Ji(g,T),k}function x(g,E,I,P){var k=ka(I);if(typeof k!="function")throw Error(H(150));if(I=k.call(I),I==null)throw Error(H(151));for(var O=k=null,C=E,T=E=0,A=null,R=I.next();C!==null&&!R.done;T++,R=I.next()){C.index>T?(A=C,C=null):A=C.sibling;var M=f(g,C,R.value,P);if(M===null){C===null&&(C=A);break}t&&C&&M.alternate===null&&e(g,C),E=s(M,E,T),O===null?k=M:O.sibling=M,O=M,C=A}if(R.done)return n(g,C),je&&Ji(g,T),k;if(C===null){for(;!R.done;T++,R=I.next())R=h(g,R.value,P),R!==null&&(E=s(R,E,T),O===null?k=R:O.sibling=R,O=R);return je&&Ji(g,T),k}for(C=r(g,C);!R.done;T++,R=I.next())R=m(C,g,T,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),E=s(R,E,T),O===null?k=R:O.sibling=R,O=R);return t&&C.forEach(function(L){return e(g,L)}),je&&Ji(g,T),k}function S(g,E,I,P){if(typeof I=="object"&&I!==null&&I.type===eo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case lc:e:{for(var k=I.key,O=E;O!==null;){if(O.key===k){if(k=I.type,k===eo){if(O.tag===7){n(g,O.sibling),E=i(O,I.props.children),E.return=g,g=E;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===oi&&eE(k)===O.type){n(g,O.sibling),E=i(O,I.props),E.ref=Oa(g,O,I),E.return=g,g=E;break e}n(g,O);break}else e(g,O);O=O.sibling}I.type===eo?(E=hs(I.props.children,g.mode,P,I.key),E.return=g,g=E):(P=td(I.type,I.key,I.props,null,g.mode,P),P.ref=Oa(g,E,I),P.return=g,g=P)}return o(g);case Zs:e:{for(O=I.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(g,E.sibling),E=i(E,I.children||[]),E.return=g,g=E;break e}else{n(g,E);break}else e(g,E);E=E.sibling}E=xp(I,g.mode,P),E.return=g,g=E}return o(g);case oi:return O=I._init,S(g,E,O(I._payload),P)}if(Ga(I))return v(g,E,I,P);if(ka(I))return x(g,E,I,P);wc(g,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(g,E.sibling),E=i(E,I),E.return=g,g=E):(n(g,E),E=Ep(I,g.mode,P),E.return=g,g=E),o(g)):n(g,E)}return S}var Vo=xC(!0),TC=xC(!1),Od=Bi(null),Ld=null,lo=null,$y=null;function Wy(){$y=lo=Ld=null}function Hy(t){var e=Od.current;Fe(Od),t._currentValue=e}function $m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){Ld=t,$y=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if($y!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(Ld===null)throw Error(H(308));lo=t,Ld.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var is=null;function Gy(t){is===null?is=[t]:is.push(t)}function SC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function qy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}function tE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var i=t.updateQueue;ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=He({},h,f);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_s|=o,t.lanes=o,t.memoizedState=h}}function nE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var hu={},sr=Bi(hu),Nl=Bi(hu),Ml=Bi(hu);function ss(t){if(t===hu)throw Error(H(174));return t}function Ky(t,e){switch(Ve(Ml,e),Ve(Nl,t),Ve(sr,hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tm(e,t)}Fe(sr),Ve(sr,e)}function Oo(){Fe(sr),Fe(Nl),Fe(Ml)}function CC(t){ss(Ml.current);var e=ss(sr.current),n=Tm(e,t.type);e!==n&&(Ve(Nl,t),Ve(sr,n))}function Qy(t){Nl.current===t&&(Fe(sr),Fe(Nl))}var ze=Bi(0);function jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mp=[];function Yy(){for(var t=0;t<mp.length;t++)mp[t]._workInProgressVersionPrimary=null;mp.length=0}var Yc=Qr.ReactCurrentDispatcher,gp=Qr.ReactCurrentBatchConfig,ws=0,We=null,lt=null,ht=null,Ud=!1,sl=!1,Dl=0,I2=0;function kt(){throw Error(H(321))}function Xy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Jy(t,e,n,r,i,s){if(ws=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?R2:P2,t=n(r,i),sl){s=0;do{if(sl=!1,Dl=0,25<=s)throw Error(H(301));s+=1,ht=lt=null,e.updateQueue=null,Yc.current=k2,t=n(r,i)}while(sl)}if(Yc.current=Bd,e=lt!==null&&lt.next!==null,ws=0,ht=lt=We=null,Ud=!1,e)throw Error(H(300));return t}function Zy(){var t=Dl!==0;return Dl=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?We.memoizedState=ht=t:ht=ht.next=t,ht}function Nn(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ht===null?We.memoizedState:ht.next;if(e!==null)ht=e,lt=t;else{if(t===null)throw Error(H(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?We.memoizedState=ht=t:ht=ht.next=t}return ht}function Vl(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ws&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,We.lanes|=d,_s|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,$n(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,_s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$n(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function AC(){}function bC(t,e){var n=We,r=Nn(),i=e(),s=!$n(r.memoizedState,i);if(s&&(r.memoizedState=i,en=!0),r=r.queue,ev(kC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Ol(9,PC.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(H(349));ws&30||RC(n,e,i)}return i}function RC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PC(t,e,n,r){e.value=n,e.getSnapshot=r,NC(e)&&MC(t)}function kC(t,e,n){return n(function(){NC(e)&&MC(t)})}function NC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function MC(t){var e=Lr(t,1);e!==null&&Bn(e,t,1,-1)}function rE(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=b2.bind(null,We,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DC(){return Nn().memoizedState}function Xc(t,e,n,r){var i=er();We.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function Dh(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&Xy(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}We.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function iE(t,e){return Xc(8390656,8,t,e)}function ev(t,e){return Dh(2048,8,t,e)}function VC(t,e){return Dh(4,2,t,e)}function OC(t,e){return Dh(4,4,t,e)}function LC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FC(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4,4,LC.bind(null,e,t),n)}function tv(){}function jC(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UC(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BC(t,e,n){return ws&21?($n(n,e)||(n=GI(),We.lanes|=n,_s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function C2(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=gp.transition;gp.transition={};try{t(!1),e()}finally{Re=n,gp.transition=r}}function zC(){return Nn().memoizedState}function A2(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$C(t))WC(e,n);else if(n=SC(t,e,n,r),n!==null){var i=Ht();Bn(n,t,r,i),HC(n,e,r)}}function b2(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($C(t))WC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,o)){var l=e.interleaved;l===null?(i.next=i,Gy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SC(t,e,i,r),n!==null&&(i=Ht(),Bn(n,t,r,i),HC(n,e,r))}}function $C(t){var e=t.alternate;return t===We||e!==null&&e===We}function WC(t,e){sl=Ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}var Bd={readContext:kn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},R2={readContext:kn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:iE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,LC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A2.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:rE,useDebugValue:tv,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=rE(!1),e=t[0];return t=C2.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=er();if(je){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),mt===null)throw Error(H(349));ws&30||RC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iE(kC.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,PC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=mt.identifierPrefix;if(je){var n=Ar,r=Cr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P2={readContext:kn,useCallback:jC,useContext:kn,useEffect:ev,useImperativeHandle:FC,useInsertionEffect:VC,useLayoutEffect:OC,useMemo:UC,useReducer:yp,useRef:DC,useState:function(){return yp(Vl)},useDebugValue:tv,useDeferredValue:function(t){var e=Nn();return BC(e,lt.memoizedState,t)},useTransition:function(){var t=yp(Vl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:AC,useSyncExternalStore:bC,useId:zC,unstable_isNewReconciler:!1},k2={readContext:kn,useCallback:jC,useContext:kn,useEffect:ev,useImperativeHandle:FC,useInsertionEffect:VC,useLayoutEffect:OC,useMemo:UC,useReducer:vp,useRef:DC,useState:function(){return vp(Vl)},useDebugValue:tv,useDeferredValue:function(t){var e=Nn();return lt===null?e.memoizedState=t:BC(e,lt.memoizedState,t)},useTransition:function(){var t=vp(Vl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:AC,useSyncExternalStore:bC,useId:zC,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vh={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=Ti(t),s=Nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Bn(e,t,i,r),Qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=Ti(t),s=Nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Bn(e,t,i,r),Qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=Ti(t),i=Nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(Bn(e,t,r,n),Qc(e,t,r))}};function sE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(i,s):!0}function GC(t,e,n){var r=!1,i=ki,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=rn(e)?ys:Lt.current,r=e.contextTypes,s=(r=r!=null)?Mo(t,i):ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function oE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vh.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=rn(e)?ys:Lt.current,i.context=Mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vh.enqueueReplaceState(i,i.state,null),Fd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lo(t,e){try{var n="",r=e;do n+=sD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N2=typeof WeakMap=="function"?WeakMap:Map;function qC(t,e,n){n=Nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$d||($d=!0,ng=r),Gm(t,e)},n}function KC(t,e,n){n=Nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gm(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=G2.bind(null,t,e,n),e.then(t,t))}function lE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var M2=Qr.ReactCurrentOwner,en=!1;function zt(t,e,n,r){e.child=t===null?TC(e,null,n,r):Vo(e,t.child,n,r)}function cE(t,e,n,r,i){n=n.render;var s=e.ref;return xo(e,i),r=Jy(t,e,n,r,s,i),n=Zy(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(je&&n&&Uy(e),e.flags|=1,zt(t,e,r,i),e.child)}function dE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QC(t,e,s,r,i)):(t=td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Si(s,r),t.ref=e.ref,t.return=e,e.child=t}function QC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bl(s,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return qm(t,e,n,r,i)}function YC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(co,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(co,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(co,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(co,cn),cn|=r;return zt(t,e,i,n),e.child}function XC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qm(t,e,n,r,i){var s=rn(n)?ys:Lt.current;return s=Mo(e,s),xo(e,i),n=Jy(t,e,n,r,s,i),r=Zy(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(je&&r&&Uy(e),e.flags|=1,zt(t,e,n,i),e.child)}function hE(t,e,n,r,i){if(rn(n)){var s=!0;Md(e)}else s=!1;if(xo(e,i),e.stateNode===null)Jc(t,e),GC(e,n,r),Hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=rn(n)?ys:Lt.current,u=Mo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&oE(e,o,r,u),ai=!1;var f=e.memoizedState;o.state=f,Fd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||nn.current||ai?(typeof d=="function"&&(Wm(e,n,d,r),l=e.memoizedState),(a=ai||sE(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,IC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=rn(n)?ys:Lt.current,l=Mo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&oE(e,o,r,l),ai=!1,f=e.memoizedState,o.state=f,Fd(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||nn.current||ai?(typeof m=="function"&&(Wm(e,n,m,r),v=e.memoizedState),(u=ai||sE(e,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Km(t,e,n,r,s,i)}function Km(t,e,n,r,i,s){XC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&X0(e,n,!1),Fr(t,e,s);r=e.stateNode,M2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vo(e,t.child,null,s),e.child=Vo(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&X0(e,n,!0),e.child}function JC(t){var e=t.stateNode;e.pendingContext?Y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y0(t,e.context,!1),Ky(t,e.containerInfo)}function fE(t,e,n,r,i){return Do(),zy(i),e.flags|=256,zt(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZC(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(ze,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fh(o,r,0,null),t=hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ym(n),e.memoizedState=Qm,t):nv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return D2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Si(a,s):(s=hs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qm,r}return s=t.child,t=s.sibling,r=Si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nv(t,e){return e=Fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,r){return r!==null&&zy(r),Vo(e,t.child,null,n),t=nv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wp(Error(H(422))),_c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fh({mode:"visible",children:r.children},i,0,null),s=hs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vo(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,s);if(!(e.mode&1))return _c(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=wp(s,r,void 0),_c(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Bn(r,t,i,-1))}return lv(),r=wp(Error(H(421))),_c(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=_i(i.nextSibling),pn=e,je=!0,jn=null,t!==null&&(Tn[Sn++]=Cr,Tn[Sn++]=Ar,Tn[Sn++]=vs,Cr=t.id,Ar=t.overflow,vs=e),e=nv(e,r.children),e.flags|=4096,e)}function pE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$m(t.return,e,n)}function _p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pE(t,n,e);else if(t.tag===19)pE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_p(e,!0,n,null,s);break;case"together":_p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V2(t,e,n){switch(e.tag){case 3:JC(e),Do();break;case 5:CC(e);break;case 1:rn(e.type)&&Md(e);break;case 4:Ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?ZC(t,e,n):(Ve(ze,ze.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Ve(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,YC(t,e,n)}return Fr(t,e,n)}var tA,Xm,nA,rA;tA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};nA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(sr.current);var s=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=xm(t,i),r=xm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kd)}Sm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rA=function(t,e,n,r){n!==r&&(e.flags|=4)};function La(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O2(t,e,n){var r=e.pendingProps;switch(By(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return rn(e.type)&&Nd(),Nt(e),null;case 3:return r=e.stateNode,Oo(),Fe(nn),Fe(Lt),Yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(sg(jn),jn=null))),Xm(t,e),Nt(e),null;case 5:Qy(e);var i=ss(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)nA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Nt(e),null}if(t=ss(sr.current),vc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[kl]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Ka.length;i++)Le(Ka[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":T0(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":I0(r,s),Le("invalid",r)}Sm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yc(r.textContent,a,t),i=["children",""+a]):El.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":uc(r),S0(r,s,!0);break;case"textarea":uc(r),C0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[kl]=r,tA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Im(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ka.length;i++)Le(Ka[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":T0(t,r),i=wm(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Le("invalid",t);break;case"textarea":I0(t,r),i=xm(t,r),Le("invalid",t);break;default:i=r}Sm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?DI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(t,l):typeof l=="number"&&xl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",t):l!=null&&Cy(t,s,l,o))}switch(n){case"input":uc(t),S0(t,r,!1);break;case"textarea":uc(t),C0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vo(t,!!r.multiple,s,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)rA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ss(Ml.current),ss(sr.current),vc(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:yc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Nt(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&hn!==null&&e.mode&1&&!(e.flags&128))EC(),Do(),e.flags|=98560,s=!1;else if(s=vc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[tr]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else jn!==null&&(sg(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ut===0&&(ut=3):lv())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Oo(),Xm(t,e),t===null&&Rl(e.stateNode.containerInfo),Nt(e),null;case 10:return Hy(e.type._context),Nt(e),null;case 17:return rn(e.type)&&Nd(),Nt(e),null;case 19:if(Fe(ze),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)La(s,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jd(t),o!==null){for(e.flags|=128,La(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ze()>Fo&&(e.flags|=128,r=!0,La(s,!1),e.lanes=4194304)}else{if(!r)if(t=jd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),La(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return Nt(e),null}else 2*Ze()-s.renderingStartTime>Fo&&n!==1073741824&&(e.flags|=128,r=!0,La(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ze(),e.sibling=null,n=ze.current,Ve(ze,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return av(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function L2(t,e){switch(By(e),e.tag){case 1:return rn(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Fe(nn),Fe(Lt),Yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qy(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return Oo(),null;case 10:return Hy(e.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var Ec=!1,Vt=!1,F2=typeof WeakSet=="function"?WeakSet:Set,X=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var mE=!1;function j2(t,e){if(Vm=bd,t=lC(),jy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Om={focusedElem:t,selectionRange:n},bd=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,S=v.memoizedState,g=e.stateNode,E=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ln(e.type,x),S);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){Qe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return v=mE,mE=!1,v}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jm(e,n,s)}i=i.next}while(i!==r)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iA(t){var e=t.alternate;e!==null&&(t.alternate=null,iA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[kl],delete e[jm],delete e[E2],delete e[x2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sA(t){return t.tag===5||t.tag===3||t.tag===4}function gE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kd));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var vt=null,Fn=!1;function ti(t,e,n){for(n=n.child;n!==null;)oA(t,e,n),n=n.sibling}function oA(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(bh,n)}catch{}switch(n.tag){case 5:Vt||uo(n,e);case 6:var r=vt,i=Fn;vt=null,ti(t,e,n),vt=r,Fn=i,vt!==null&&(Fn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Fn?(t=vt,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),Cl(t)):fp(vt,n.stateNode));break;case 4:r=vt,i=Fn,vt=n.stateNode.containerInfo,Fn=!0,ti(t,e,n),vt=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jm(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!Vt&&(uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,ti(t,e,n),Vt=r):ti(t,e,n);break;default:ti(t,e,n)}}function yE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F2),e.forEach(function(r){var i=K2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Fn=!1;break e;case 3:vt=a.stateNode.containerInfo,Fn=!0;break e;case 4:vt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(vt===null)throw Error(H(160));oA(s,o,i),vt=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aA(e,t),e=e.sibling}function aA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Jn(t),r&4){try{ol(3,t,t.return),Oh(3,t)}catch(x){Qe(t,t.return,x)}try{ol(5,t,t.return)}catch(x){Qe(t,t.return,x)}}break;case 1:Vn(e,t),Jn(t),r&512&&n!==null&&uo(n,n.return);break;case 5:if(Vn(e,t),Jn(t),r&512&&n!==null&&uo(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(x){Qe(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RI(i,s),Im(a,o);var u=Im(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?DI(i,h):d==="dangerouslySetInnerHTML"?NI(i,h):d==="children"?xl(i,h):Cy(i,d,h,u)}switch(a){case"input":_m(i,s);break;case"textarea":PI(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?vo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?vo(i,!!s.multiple,s.defaultValue,!0):vo(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(x){Qe(t,t.return,x)}}break;case 6:if(Vn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Qe(t,t.return,x)}}break;case 3:if(Vn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(x){Qe(t,t.return,x)}break;case 4:Vn(e,t),Jn(t);break;case 13:Vn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sv=Ze())),r&4&&yE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||d,Vn(e,t),Vt=u):Vn(e,t),Jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:uo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Qe(r,n,x)}}break;case 5:uo(f,f.return);break;case 22:if(f.memoizedState!==null){wE(h);continue}}m!==null?(m.return=f,X=m):wE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MI("display",o))}catch(x){Qe(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Qe(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vn(e,t),Jn(t),r&4&&yE(t);break;case 21:break;default:Vn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sA(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=gE(t);tg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gE(t);eg(t,a,o);break;default:throw Error(H(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U2(t,e,n){X=t,lA(t)}function lA(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ec;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Ec;var u=Vt;if(Ec=o,(Vt=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?_E(i):l!==null?(l.return=o,X=l):_E(i);for(;s!==null;)X=s,lA(s),s=s.sibling;X=i,Ec=a,Vt=u}vE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):vE(t)}}function vE(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Vt||e.flags&512&&Zm(e)}catch(f){Qe(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function wE(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function _E(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var s=e.return;try{Zm(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{Zm(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var B2=Math.ceil,zd=Qr.ReactCurrentDispatcher,rv=Qr.ReactCurrentOwner,An=Qr.ReactCurrentBatchConfig,Ie=0,mt=null,rt=null,Tt=0,cn=0,co=Bi(0),ut=0,Ll=null,_s=0,Lh=0,iv=0,al=null,Zt=null,sv=0,Fo=1/0,Tr=null,$d=!1,ng=null,xi=null,xc=!1,pi=null,Wd=0,ll=0,rg=null,Zc=-1,ed=0;function Ht(){return Ie&6?Ze():Zc!==-1?Zc:Zc=Ze()}function Ti(t){return t.mode&1?Ie&2&&Tt!==0?Tt&-Tt:S2.transition!==null?(ed===0&&(ed=GI()),ed):(t=Re,t!==0||(t=window.event,t=t===void 0?16:ZI(t.type)),t):1}function Bn(t,e,n,r){if(50<ll)throw ll=0,rg=null,Error(H(185));uu(t,n,r),(!(Ie&2)||t!==mt)&&(t===mt&&(!(Ie&2)&&(Lh|=n),ut===4&&ui(t,Tt)),sn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Fo=Ze()+500,Mh&&zi()))}function sn(t,e){var n=t.callbackNode;SD(t,e);var r=Ad(t,t===mt?Tt:0);if(r===0)n!==null&&R0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&R0(n),e===1)t.tag===0?T2(EE.bind(null,t)):vC(EE.bind(null,t)),w2(function(){!(Ie&6)&&zi()}),n=null;else{switch(qI(r)){case 1:n=ky;break;case 4:n=WI;break;case 16:n=Cd;break;case 536870912:n=HI;break;default:n=Cd}n=gA(n,uA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uA(t,e){if(Zc=-1,ed=0,Ie&6)throw Error(H(327));var n=t.callbackNode;if(To()&&t.callbackNode!==n)return null;var r=Ad(t,t===mt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hd(t,r);else{e=r;var i=Ie;Ie|=2;var s=dA();(mt!==t||Tt!==e)&&(Tr=null,Fo=Ze()+500,ds(t,e));do try{W2();break}catch(a){cA(t,a)}while(!0);Wy(),zd.current=s,Ie=i,rt!==null?e=0:(mt=null,Tt=0,e=ut)}if(e!==0){if(e===2&&(i=Pm(t),i!==0&&(r=i,e=ig(t,i))),e===1)throw n=Ll,ds(t,0),ui(t,r),sn(t,Ze()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!z2(i)&&(e=Hd(t,r),e===2&&(s=Pm(t),s!==0&&(r=s,e=ig(t,s))),e===1))throw n=Ll,ds(t,0),ui(t,r),sn(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Zi(t,Zt,Tr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=sv+500-Ze(),10<e)){if(Ad(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fm(Zi.bind(null,t,Zt,Tr),e);break}Zi(t,Zt,Tr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B2(r/1960))-r,10<r){t.timeoutHandle=Fm(Zi.bind(null,t,Zt,Tr),r);break}Zi(t,Zt,Tr);break;case 5:Zi(t,Zt,Tr);break;default:throw Error(H(329))}}}return sn(t,Ze()),t.callbackNode===n?uA.bind(null,t):null}function ig(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(ds(t,e).flags|=256),t=Hd(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&sg(e)),t}function sg(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~iv,e&=~Lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function EE(t){if(Ie&6)throw Error(H(327));To();var e=Ad(t,0);if(!(e&1))return sn(t,Ze()),null;var n=Hd(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=ig(t,r))}if(n===1)throw n=Ll,ds(t,0),ui(t,e),sn(t,Ze()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,Zt,Tr),sn(t,Ze()),null}function ov(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Fo=Ze()+500,Mh&&zi())}}function Es(t){pi!==null&&pi.tag===0&&!(Ie&6)&&To();var e=Ie;Ie|=1;var n=An.transition,r=Re;try{if(An.transition=null,Re=1,t)return t()}finally{Re=r,An.transition=n,Ie=e,!(Ie&6)&&zi()}}function av(){cn=co.current,Fe(co)}function ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v2(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(By(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:Oo(),Fe(nn),Fe(Lt),Yy();break;case 5:Qy(r);break;case 4:Oo();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:Hy(r.type._context);break;case 22:case 23:av()}n=n.return}if(mt=t,rt=t=Si(t.current,null),Tt=cn=e,ut=0,Ll=null,iv=Lh=_s=0,Zt=al=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}is=null}return t}function cA(t,e){do{var n=rt;try{if(Wy(),Yc.current=Bd,Ud){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ud=!1}if(ws=0,ht=lt=We=null,sl=!1,Dl=0,rv.current=null,n===null||n.return===null){ut=1,Ll=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lE(o);if(m!==null){m.flags&=-257,uE(m,o,a,s,e),m.mode&1&&aE(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){aE(s,u,e),lv();break e}l=Error(H(426))}}else if(je&&a.mode&1){var S=lE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),uE(S,o,a,s,e),zy(Lo(l,a));break e}}s=l=Lo(l,a),ut!==4&&(ut=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=qC(s,l,e);tE(s,g);break e;case 1:a=l;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(xi===null||!xi.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=KC(s,a,e);tE(s,P);break e}}s=s.return}while(s!==null)}fA(n)}catch(k){e=k,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function dA(){var t=zd.current;return zd.current=Bd,t===null?Bd:t}function lv(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(_s&268435455)&&!(Lh&268435455)||ui(mt,Tt)}function Hd(t,e){var n=Ie;Ie|=2;var r=dA();(mt!==t||Tt!==e)&&(Tr=null,ds(t,e));do try{$2();break}catch(i){cA(t,i)}while(!0);if(Wy(),Ie=n,zd.current=r,rt!==null)throw Error(H(261));return mt=null,Tt=0,ut}function $2(){for(;rt!==null;)hA(rt)}function W2(){for(;rt!==null&&!mD();)hA(rt)}function hA(t){var e=mA(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?fA(t):rt=e,rv.current=null}function fA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L2(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,rt=null;return}}else if(n=O2(n,e,cn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ut===0&&(ut=5)}function Zi(t,e,n){var r=Re,i=An.transition;try{An.transition=null,Re=1,H2(t,e,n,r)}finally{An.transition=i,Re=r}return null}function H2(t,e,n,r){do To();while(pi!==null);if(Ie&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ID(t,s),t===mt&&(rt=mt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xc||(xc=!0,gA(Cd,function(){return To(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=Re;Re=1;var a=Ie;Ie|=4,rv.current=null,j2(t,n),aA(n,t),d2(Om),bd=!!Vm,Om=Vm=null,t.current=n,U2(n),gD(),Ie=a,Re=o,An.transition=s}else t.current=n;if(xc&&(xc=!1,pi=t,Wd=i),s=t.pendingLanes,s===0&&(xi=null),wD(n.stateNode),sn(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($d)throw $d=!1,t=ng,ng=null,t;return Wd&1&&t.tag!==0&&To(),s=t.pendingLanes,s&1?t===rg?ll++:(ll=0,rg=t):ll=0,zi(),null}function To(){if(pi!==null){var t=qI(Wd),e=An.transition,n=Re;try{if(An.transition=null,Re=16>t?16:t,pi===null)var r=!1;else{if(t=pi,pi=null,Wd=0,Ie&6)throw Error(H(331));var i=Ie;for(Ie|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(iA(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,X=g;break e}X=s.return}}var E=t.current;for(X=E;X!==null;){o=X;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,X=I;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oh(9,a)}}catch(k){Qe(a,a.return,k)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(Ie=i,zi(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(bh,t)}catch{}r=!0}return r}finally{Re=n,An.transition=e}}return!1}function xE(t,e,n){e=Lo(n,e),e=qC(t,e,1),t=Ei(t,e,1),e=Ht(),t!==null&&(uu(t,1,e),sn(t,e))}function Qe(t,e,n){if(t.tag===3)xE(t,t,n);else for(;e!==null;){if(e.tag===3){xE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Lo(n,t),t=KC(e,t,1),e=Ei(e,t,1),t=Ht(),e!==null&&(uu(e,1,t),sn(e,t));break}}e=e.return}}function G2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(Tt&n)===n&&(ut===4||ut===3&&(Tt&130023424)===Tt&&500>Ze()-sv?ds(t,0):iv|=n),sn(t,e)}function pA(t,e){e===0&&(t.mode&1?(e=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):e=1);var n=Ht();t=Lr(t,e),t!==null&&(uu(t,e,n),sn(t,n))}function q2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pA(t,n)}function K2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),pA(t,n)}var mA;mA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,V2(t,e,n);en=!!(t.flags&131072)}else en=!1,je&&e.flags&1048576&&wC(e,Vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var i=Mo(e,Lt.current);xo(e,n),i=Jy(null,e,r,t,i,n);var s=Zy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,Md(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qy(e),i.updater=Vh,e.stateNode=i,i._reactInternals=e,Hm(e,r,t,n),e=Km(null,e,r,!0,s,n)):(e.tag=0,je&&s&&Uy(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y2(r),t=Ln(r,t),i){case 0:e=qm(null,e,r,t,n);break e;case 1:e=hE(null,e,r,t,n);break e;case 11:e=cE(null,e,r,t,n);break e;case 14:e=dE(null,e,r,Ln(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),qm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),hE(t,e,r,i,n);case 3:e:{if(JC(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,IC(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lo(Error(H(423)),e),e=fE(t,e,r,n,i);break e}else if(r!==i){i=Lo(Error(H(424)),e),e=fE(t,e,r,n,i);break e}else for(hn=_i(e.stateNode.containerInfo.firstChild),pn=e,je=!0,jn=null,n=TC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){e=Fr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return CC(e),t===null&&zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lm(r,i)?o=null:s!==null&&Lm(r,s)&&(e.flags|=32),XC(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return ZC(t,e,n);case 4:return Ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vo(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),cE(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Od,r._currentValue),r._currentValue=o,s!==null)if($n(s.value,o)){if(s.children===i.children&&!nn.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Nr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$m(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$m(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=kn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),dE(t,e,r,i,n);case 15:return QC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Jc(t,e),e.tag=1,rn(r)?(t=!0,Md(e)):t=!1,xo(e,n),GC(e,r,i),Hm(e,r,i,n),Km(null,e,r,!0,t,n);case 19:return eA(t,e,n);case 22:return YC(t,e,n)}throw Error(H(156,e.tag))};function gA(t,e){return $I(t,e)}function Q2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new Q2(t,e,n,r)}function uv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y2(t){if(typeof t=="function")return uv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===by)return 11;if(t===Ry)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return hs(n.children,i,s,e);case Ay:o=8,i|=8;break;case mm:return t=In(12,n,e,i|2),t.elementType=mm,t.lanes=s,t;case gm:return t=In(13,n,e,i),t.elementType=gm,t.lanes=s,t;case ym:return t=In(19,n,e,i),t.elementType=ym,t.lanes=s,t;case CI:return Fh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SI:o=10;break e;case II:o=9;break e;case by:o=11;break e;case Ry:o=14;break e;case oi:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hs(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function Fh(t,e,n,r){return t=In(22,t,r,e),t.elementType=CI,t.lanes=n,t.stateNode={isHidden:!1},t}function Ep(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cv(t,e,n,r,i,s,o,a,l){return t=new X2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(s),t}function J2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yA(t){if(!t)return ki;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(rn(n))return yC(t,n,e)}return e}function vA(t,e,n,r,i,s,o,a,l){return t=cv(n,r,!0,t,i,s,o,a,l),t.context=yA(null),n=t.current,r=Ht(),i=Ti(n),s=Nr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,uu(t,i,r),sn(t,r),t}function jh(t,e,n,r){var i=e.current,s=Ht(),o=Ti(i);return n=yA(n),e.context===null?e.context=n:e.pendingContext=n,e=Nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(Bn(t,i,o,s),Qc(t,i,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dv(t,e){TE(t,e),(t=t.alternate)&&TE(t,e)}function Z2(){return null}var wA=typeof reportError=="function"?reportError:function(t){console.error(t)};function hv(t){this._internalRoot=t}Uh.prototype.render=hv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));jh(t,e,null,null)};Uh.prototype.unmount=hv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Es(function(){jh(null,t,null,null)}),e[Or]=null}};function Uh(t){this._internalRoot=t}Uh.prototype.unstable_scheduleHydration=function(t){if(t){var e=YI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&JI(t)}};function fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SE(){}function eV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Gd(o);s.call(u)}}var o=vA(e,r,t,0,null,!1,!1,"",SE);return t._reactRootContainer=o,t[Or]=o.current,Rl(t.nodeType===8?t.parentNode:t),Es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Gd(l);a.call(u)}}var l=cv(t,0,!1,null,null,!1,!1,"",SE);return t._reactRootContainer=l,t[Or]=l.current,Rl(t.nodeType===8?t.parentNode:t),Es(function(){jh(e,l,n,r)}),l}function zh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gd(o);a.call(l)}}jh(e,o,t,i)}else o=eV(n,e,t,i,r);return Gd(o)}KI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(Ny(e,n|1),sn(e,Ze()),!(Ie&6)&&(Fo=Ze()+500,zi()))}break;case 13:Es(function(){var r=Lr(t,1);if(r!==null){var i=Ht();Bn(r,t,1,i)}}),dv(t,1)}};My=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Ht();Bn(e,t,134217728,n)}dv(t,134217728)}};QI=function(t){if(t.tag===13){var e=Ti(t),n=Lr(t,e);if(n!==null){var r=Ht();Bn(n,t,e,r)}dv(t,e)}};YI=function(){return Re};XI=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Am=function(t,e,n){switch(e){case"input":if(_m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nh(r);if(!i)throw Error(H(90));bI(r),_m(r,i)}}}break;case"textarea":PI(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};LI=ov;FI=Es;var tV={usingClientEntryPoint:!1,Events:[du,io,Nh,VI,OI,ov]},Fa={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nV={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BI(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{bh=Tc.inject(nV),ir=Tc}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tV;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fv(e))throw Error(H(200));return J2(t,e,null,n)};wn.createRoot=function(t,e){if(!fv(t))throw Error(H(299));var n=!1,r="",i=wA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cv(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,Rl(t.nodeType===8?t.parentNode:t),new hv(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=BI(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return Es(t)};wn.hydrate=function(t,e,n){if(!Bh(e))throw Error(H(200));return zh(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!fv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vA(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uh(e)};wn.render=function(t,e,n){if(!Bh(e))throw Error(H(200));return zh(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!Bh(t))throw Error(H(40));return t._reactRootContainer?(Es(function(){zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};wn.unstable_batchedUpdates=ov;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return zh(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function _A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_A)}catch(t){console.error(t)}}_A(),_I.exports=wn;var $h=_I.exports;const rV=wy($h);var EA,IE=$h;EA=IE.createRoot,IE.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CE="popstate";function iV(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return og("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fl(i)}return oV(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sV(){return Math.random().toString(36).substring(2,10)}function AE(t,e){return{usr:t.state,key:t.key,idx:e}}function og(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||r||sV()}}function Fl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=d(),g=S==null?null:S-u;u=S,l&&l({action:a,location:x.location,delta:g})}function f(S,g){a="PUSH";let E=og(x.location,S,g);u=d()+1;let I=AE(E,u),P=x.createHref(E);try{o.pushState(I,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}s&&l&&l({action:a,location:x.location,delta:1})}function m(S,g){a="REPLACE";let E=og(x.location,S,g);u=d();let I=AE(E,u),P=x.createHref(E);o.replaceState(I,"",P),s&&l&&l({action:a,location:x.location,delta:0})}function v(S){return aV(S)}let x={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CE,h),l=S,()=>{i.removeEventListener(CE,h),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let g=v(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(S){return o.go(S)}};return x}function aV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Be(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xA(t,e,n="/"){return lV(t,e,n,!1)}function lV(t,e,n,r){let i=typeof e=="string"?Zo(e):e,s=jr(i.pathname||"/",n);if(s==null)return null;let o=TA(t);uV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_V(s);a=vV(o[l],u,r)}return a}function TA(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Be(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Mr([r,d.relativePath]),f=n.concat(d);o.children&&o.children.length>0&&(Be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),TA(o.children,e,f,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:gV(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of SA(o.path))s(o,a,!0,u)}),e}function SA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=SA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cV=/^:[\w-]+$/,dV=3,hV=2,fV=1,pV=10,mV=-2,bE=t=>t==="*";function gV(t,e){let n=t.split("/"),r=n.length;return n.some(bE)&&(r+=mV),e&&(r+=hV),n.filter(i=>!bE(i)).reduce((i,s)=>i+(cV.test(s)?dV:s===""?fV:pV),r)}function yV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vV(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Mr([s,h.pathname]),pathnameBase:SV(Mr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Mr([s,h.pathnameBase]))}return o}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function wV(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _V(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:xV(n,e):e,search:IV(r),hash:CV(i)}}function xV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pv(t){let e=TV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function mv(t,e,n,r=!1){let i;typeof t=="string"?i=Zo(t):(i={...t},Be(!i.pathname||!i.pathname.includes("?"),Tp("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Tp("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Tp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=EV(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Mr=t=>t.join("/").replace(/\/\/+/g,"/"),SV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var IA=["POST","PUT","PATCH","DELETE"];new Set(IA);var bV=["GET",...IA];new Set(bV);var ea=y.createContext(null);ea.displayName="DataRouter";var Wh=y.createContext(null);Wh.displayName="DataRouterState";y.createContext(!1);var CA=y.createContext({isTransitioning:!1});CA.displayName="ViewTransition";var RV=y.createContext(new Map);RV.displayName="Fetchers";var PV=y.createContext(null);PV.displayName="Await";var Qn=y.createContext(null);Qn.displayName="Navigation";var fu=y.createContext(null);fu.displayName="Location";var Yn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var gv=y.createContext(null);gv.displayName="RouteError";function kV(t,{relative:e}={}){Be(ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Qn),{hash:i,pathname:s,search:o}=mu(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Mr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ta(){return y.useContext(fu)!=null}function Yr(){return Be(ta(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(fu).location}var AA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bA(t){y.useContext(Qn).static||y.useLayoutEffect(t)}function pu(){let{isDataRoute:t}=y.useContext(Yn);return t?HV():NV()}function NV(){Be(ta(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(ea),{basename:e,navigator:n}=y.useContext(Qn),{matches:r}=y.useContext(Yn),{pathname:i}=Yr(),s=JSON.stringify(pv(r)),o=y.useRef(!1);return bA(()=>{o.current=!0}),y.useCallback((l,u={})=>{if(Wn(o.current,AA),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=mv(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Mr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}y.createContext(null);function MV(){let{matches:t}=y.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function mu(t,{relative:e}={}){let{matches:n}=y.useContext(Yn),{pathname:r}=Yr(),i=JSON.stringify(pv(n));return y.useMemo(()=>mv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function DV(t,e){return RA(t,e)}function RA(t,e,n,r,i){var E;Be(ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Qn),{matches:o}=y.useContext(Yn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let I=h&&h.path||"";PA(u,!h||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let f=Yr(),m;if(e){let I=typeof e=="string"?Zo(e):e;Be(d==="/"||((E=I.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),m=I}else m=f;let v=m.pathname||"/",x=v;if(d!=="/"){let I=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=xA(t,{pathname:x});Wn(h||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=jV(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Mr([d,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:Mr([d,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,n,r,i);return e&&g?y.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function VV(){let t=WV(),e=AV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,o)}var OV=y.createElement(VV,null),LV=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(Yn.Provider,{value:this.props.routeContext},y.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FV({routeContext:t,match:e,children:n}){let r=y.useContext(ea);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Yn.Provider,{value:t},n)}function jV(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Be(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let f,m=!1,v=null,x=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||OV,a&&(l<0&&h===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,h+1)),g=()=>{let E;return f?E=v:m?E=x:d.route.Component?E=y.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,y.createElement(FV,{match:d,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(LV,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:g(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):g()},null)}function yv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UV(t){let e=y.useContext(ea);return Be(e,yv(t)),e}function BV(t){let e=y.useContext(Wh);return Be(e,yv(t)),e}function zV(t){let e=y.useContext(Yn);return Be(e,yv(t)),e}function vv(t){let e=zV(t),n=e.matches[e.matches.length-1];return Be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $V(){return vv("useRouteId")}function WV(){var r;let t=y.useContext(gv),e=BV("useRouteError"),n=vv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HV(){let{router:t}=UV("useNavigate"),e=vv("useNavigate"),n=y.useRef(!1);return bA(()=>{n.current=!0}),y.useCallback(async(i,s={})=>{Wn(n.current,AA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var RE={};function PA(t,e,n){!e&&!RE[t]&&(RE[t]=!0,Wn(!1,n))}y.memo(GV);function GV({routes:t,future:e,state:n,unstable_onError:r}){return RA(t,void 0,n,r,e)}function qV({to:t,replace:e,state:n,relative:r}){Be(ta(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Qn);Wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(Yn),{pathname:o}=Yr(),a=pu(),l=mv(t,pv(s),o,r==="path"),u=JSON.stringify(l);return y.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Zn(t){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Be(!ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Zo(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=y.useMemo(()=>{let v=jr(l,o);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return Wn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(Qn.Provider,{value:a},y.createElement(fu.Provider,{children:e,value:m}))}function QV({children:t,location:e}){return DV(ag(t),e)}function ag(t,e=[]){let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,ag(r.props.children,s));return}Be(r.type===Zn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,s)),n.push(o)}),n}var nd="get",rd="application/x-www-form-urlencoded";function Hh(t){return t!=null&&typeof t.tagName=="string"}function YV(t){return Hh(t)&&t.tagName.toLowerCase()==="button"}function XV(t){return Hh(t)&&t.tagName.toLowerCase()==="form"}function JV(t){return Hh(t)&&t.tagName.toLowerCase()==="input"}function ZV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eO(t,e){return t.button===0&&(!e||e==="_self")&&!ZV(t)}var Sc=null;function tO(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch{Sc=!0}return Sc}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(t){return t!=null&&!nO.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):t}function rO(t,e){let n,r,i,s,o;if(XV(t)){let a=t.getAttribute("action");r=a?jr(a,e):null,n=t.getAttribute("method")||nd,i=Sp(t.getAttribute("enctype"))||rd,s=new FormData(t)}else if(YV(t)||JV(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?jr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||nd,i=Sp(t.getAttribute("formenctype"))||Sp(a.getAttribute("enctype"))||rd,s=new FormData(a,t),!tO()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Hh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nd,r=null,i=rd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aO(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await sO(s,n);return o.links?o.links():[]}return[]}));return dO(r.flat(1).filter(oO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function PE(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function lO(t,e,{includeHydrateFallback:n}={}){return uO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function uO(t){return[...new Set(t)]}function cO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(cO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function kA(){let t=y.useContext(ea);return wv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hO(){let t=y.useContext(Wh);return wv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _v=y.createContext(void 0);_v.displayName="FrameworkContext";function NA(){let t=y.useContext(_v);return wv(t,"You must render this element inside a <HydratedRouter> element"),t}function fO(t,e){let n=y.useContext(_v),[r,i]=y.useState(!1),[s,o]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=g=>{g.forEach(E=>{o(E.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[t]),y.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:ja(a,m),onBlur:ja(l,v),onMouseEnter:ja(u,m),onMouseLeave:ja(d,v),onTouchStart:ja(h,m)}]:[!1,f,{}]}function ja(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pO({page:t,...e}){let{router:n}=kA(),r=y.useMemo(()=>xA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(gO,{page:t,matches:r,...e}):null}function mO(t){let{manifest:e,routeModules:n}=NA(),[r,i]=y.useState([]);return y.useEffect(()=>{let s=!1;return aO(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function gO({page:t,matches:e,...n}){let r=Yr(),{manifest:i,routeModules:s}=NA(),{basename:o}=kA(),{loaderData:a,matches:l}=hO(),u=y.useMemo(()=>PE(t,e,l,i,r,"data"),[t,e,l,i,r]),d=y.useMemo(()=>PE(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(e.forEach(g=>{var I;let E=i.routes[g.route.id];!E||!E.hasLoader||(!u.some(P=>P.route.id===g.route.id)&&g.route.id in a&&((I=s[g.route.id])!=null&&I.shouldRevalidate)||E.hasClientLoader?x=!0:v.add(g.route.id))}),v.size===0)return[];let S=iO(t,o,"data");return x&&v.size>0&&S.searchParams.set("_routes",e.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[S.pathname+S.search]},[o,a,r,i,u,e,t,s]),f=y.useMemo(()=>lO(d,i),[d,i]),m=mO(d);return y.createElement(y.Fragment,null,h.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:x})=>y.createElement("link",{key:v,nonce:n.nonce,...x})))}function yO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MA&&(window.__reactRouterVersion="7.9.4")}catch{}function vO({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=iV({window:n,v5Compat:!0}));let i=r.current,[s,o]=y.useState({action:i.action,location:i.location}),a=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>i.listen(a),[i,a]),y.createElement(KV,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,So=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:v}=y.useContext(Qn),x=typeof u=="string"&&DA.test(u),S,g=!1;if(typeof u=="string"&&x&&(S=u,MA))try{let A=new URL(window.location.href),R=u.startsWith("//")?new URL(A.protocol+u):new URL(u),M=jr(R.pathname,v);R.origin===A.origin&&M!=null?u=M+R.search+R.hash:g=!0}catch{Wn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=kV(u,{relative:i}),[I,P,k]=fO(r,f),O=xO(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function C(A){e&&e(A),A.defaultPrevented||O(A)}let T=y.createElement("a",{...f,...k,href:S||E,onClick:g||s?e:C,ref:yO(m,P),target:l,"data-discover":!x&&n==="render"?"true":void 0});return I&&!x?y.createElement(y.Fragment,null,T,y.createElement(pO,{page:E})):T});So.displayName="Link";var wO=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=mu(o,{relative:u.relative}),f=Yr(),m=y.useContext(Wh),{navigator:v,basename:x}=y.useContext(Qn),S=m!=null&&AO(h)&&a===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,E=f.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),I=I?I.toLowerCase():null,g=g.toLowerCase()),I&&x&&(I=jr(I,x)||I);const P=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=E===g||!i&&E.startsWith(g)&&E.charAt(P)==="/",O=I!=null&&(I===g||!i&&I.startsWith(g)&&I.charAt(g.length)==="/"),C={isActive:k,isPending:O,isTransitioning:S},T=k?e:void 0,A;typeof r=="function"?A=r(C):A=[r,k?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(C):s;return y.createElement(So,{...u,"aria-current":T,className:A,ref:d,style:R,to:o,viewTransition:a},typeof l=="function"?l(C):l)});wO.displayName="NavLink";var _O=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=nd,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let v=IO(),x=CO(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&DA.test(a),E=I=>{if(l&&l(I),I.defaultPrevented)return;I.preventDefault();let P=I.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;v(P||I.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return y.createElement("form",{ref:m,method:S,action:x,onSubmit:r?l:E,...f,"data-discover":!g&&t==="render"?"true":void 0})});_O.displayName="Form";function EO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(t){let e=y.useContext(ea);return Be(e,EO(t)),e}function xO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=pu(),l=Yr(),u=mu(t,{relative:s});return y.useCallback(d=>{if(eO(d,e)){d.preventDefault();let h=n!==void 0?n:Fl(l)===Fl(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var TO=0,SO=()=>`__${String(++TO)}__`;function IO(){let{router:t}=VA("useSubmit"),{basename:e}=y.useContext(Qn),n=$V();return y.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=rO(r,e);if(i.navigate===!1){let d=i.fetcherKey||SO();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function CO(t,{relative:e}={}){let{basename:n}=y.useContext(Qn),r=y.useContext(Yn);Be(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...mu(t||".",{relative:e})},o=Yr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Mr([n,s.pathname])),Fl(s)}function AO(t,{relative:e}={}){let n=y.useContext(CA);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VA("useViewTransitionState"),i=mu(t,{relative:e});if(!n.isTransitioning)return!1;let s=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qd(i.pathname,o)!=null||qd(i.pathname,s)!=null}const bO="modulepreload",RO=function(t){return"/"+t},kE={},PO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=RO(l),l in kE)return;kE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":bO,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function kO(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await PO(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:e}).then(h=>{s?s("/sw.js",h):i==null||i(h)}).catch(h=>{o==null||o(h)})}}return l=d(),u}var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new MO;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DO=function(t){const e=OA(t);return LA.encodeByteArray(e,!0)},Kd=function(t){return DO(t).replace(/\./g,"")},FA=function(t){try{return LA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=()=>VO().__FIREBASE_DEFAULTS__,LO=()=>{if(typeof process>"u"||typeof NE>"u")return;const t=NE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FA(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return OO()||LO()||FO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jA=t=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jO=t=>{const e=jA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UA=()=>{var t;return(t=Gh())===null||t===void 0?void 0:t.config},BA=t=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kd(JSON.stringify(n)),Kd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function $O(){var t;const e=(t=Gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qO(){return!$O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function KO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ns.prototype.create)}}class Ns{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xn(i,a,r)}}function YO(t,e){return t.replace(XO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XO=/\{\$([^}]+)}/g;function JO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ME(s)&&ME(o)){if(!jl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ME(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZO(t,e){const n=new eL(t,e);return n.subscribe.bind(n)}class eL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ip),i.error===void 0&&(i.error=Ip),i.complete===void 0&&(i.complete=Ip);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=1e3,rL=2,iL=4*60*60*1e3,sL=.5;function DE(t,e=nL,n=rL){const r=e*Math.pow(n,t),i=Math.round(sL*r*(Math.random()-.5)*2);return Math.min(iL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class Hn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lL(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aL(t){return t===es?void 0:t}function lL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const cL={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},dL=Ee.INFO,hL={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},fL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qh{constructor(e){this.name=e,this._logLevel=dL,this._logHandler=fL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const pL=(t,e)=>e.some(n=>t instanceof n);let VE,OE;function mL(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gL(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HA=new WeakMap,lg=new WeakMap,GA=new WeakMap,Cp=new WeakMap,Ev=new WeakMap;function yL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HA.set(n,t)}).catch(()=>{}),Ev.set(e,t),e}function vL(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lg.set(t,e)}let ug={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wL(t){ug=t(ug)}function _L(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return GA.set(r,e.sort?e.sort():[e]),Ii(r)}:gL().includes(t)?function(...e){return t.apply(Ap(this),e),Ii(HA.get(this))}:function(...e){return Ii(t.apply(Ap(this),e))}}function EL(t){return typeof t=="function"?_L(t):(t instanceof IDBTransaction&&vL(t),pL(t,mL())?new Proxy(t,ug):t)}function Ii(t){if(t instanceof IDBRequest)return yL(t);if(Cp.has(t))return Cp.get(t);const e=EL(t);return e!==t&&(Cp.set(t,e),Ev.set(e,t)),e}const Ap=t=>Ev.get(t);function qA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ii(o.result),l.oldVersion,l.newVersion,Ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xL=["get","getKey","getAll","getAllKeys","count"],TL=["put","add","delete","clear"],bp=new Map;function LE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return bp.set(e,s),s}wL(t=>({...t,get:(e,n,r)=>LE(e,n)||t.get(e,n,r),has:(e,n)=>!!LE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cg="@firebase/app",FE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new qh("@firebase/app"),CL="@firebase/app-compat",AL="@firebase/analytics-compat",bL="@firebase/analytics",RL="@firebase/app-check-compat",PL="@firebase/app-check",kL="@firebase/auth",NL="@firebase/auth-compat",ML="@firebase/database",DL="@firebase/data-connect",VL="@firebase/database-compat",OL="@firebase/functions",LL="@firebase/functions-compat",FL="@firebase/installations",jL="@firebase/installations-compat",UL="@firebase/messaging",BL="@firebase/messaging-compat",zL="@firebase/performance",$L="@firebase/performance-compat",WL="@firebase/remote-config",HL="@firebase/remote-config-compat",GL="@firebase/storage",qL="@firebase/storage-compat",KL="@firebase/firestore",QL="@firebase/vertexai-preview",YL="@firebase/firestore-compat",XL="firebase",JL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",ZL={[cg]:"fire-core",[CL]:"fire-core-compat",[bL]:"fire-analytics",[AL]:"fire-analytics-compat",[PL]:"fire-app-check",[RL]:"fire-app-check-compat",[kL]:"fire-auth",[NL]:"fire-auth-compat",[ML]:"fire-rtdb",[DL]:"fire-data-connect",[VL]:"fire-rtdb-compat",[OL]:"fire-fn",[LL]:"fire-fn-compat",[FL]:"fire-iid",[jL]:"fire-iid-compat",[UL]:"fire-fcm",[BL]:"fire-fcm-compat",[zL]:"fire-perf",[$L]:"fire-perf-compat",[WL]:"fire-rc",[HL]:"fire-rc-compat",[GL]:"fire-gcs",[qL]:"fire-gcs-compat",[KL]:"fire-fst",[YL]:"fire-fst-compat",[QL]:"fire-vertex","fire-js":"fire-js",[XL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,eF=new Map,hg=new Map;function jE(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fr(t){const e=t.name;if(hg.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of Qd.values())jE(n,t);for(const n of eF.values())jE(n,t);return!0}function Ms(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function br(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new Ns("app","Firebase",tF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=JL;function KA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ci.create("bad-app-name",{appName:String(i)});if(n||(n=UA()),!n)throw Ci.create("no-options");const s=Qd.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw Ci.create("duplicate-app",{appName:i})}const o=new uL(i);for(const l of hg.values())o.addComponent(l);const a=new nF(n,r,o);return Qd.set(i,a),a}function xv(t=dg){const e=Qd.get(t);if(!e&&t===dg&&UA())return KA();if(!e)throw Ci.create("no-app",{appName:t});return e}function bn(t,e,n){var r;let i=(r=ZL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}fr(new Hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="firebase-heartbeat-database",iF=1,Ul="firebase-heartbeat-store";let Rp=null;function QA(){return Rp||(Rp=qA(rF,iF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function sF(t){try{const n=(await QA()).transaction(Ul),r=await n.objectStore(Ul).get(YA(t));return await n.done,r}catch(e){if(e instanceof Xn)Ur.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function UE(t,e){try{const r=(await QA()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,YA(t)),await r.done}catch(n){if(n instanceof Xn)Ur.warn(n.message);else{const r=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function YA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=1024,aF=30*24*60*60*1e3;class lF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BE(),{heartbeatsToSend:r,unsentEntries:i}=uF(this._heartbeatsCache.heartbeats),s=Kd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ur.warn(n),""}}}function BE(){return new Date().toISOString().substring(0,10)}function uF(t,e=oF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zE(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){fr(new Hn("platform-logger",e=>new SL(e),"PRIVATE")),fr(new Hn("heartbeat",e=>new lF(e),"PRIVATE")),bn(cg,FE,t),bn(cg,FE,"esm2017"),bn("fire-js","")}dF("");var fg=function(t,e){return fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},fg(t,e)};function hF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var De=function(){return De=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},De.apply(this,arguments)};function yu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fF(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pF=XA,JA=new Ns("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new qh("@firebase/auth");function mF(t,...e){Yd.logLevel<=Ee.WARN&&Yd.warn(`Auth (${na}): ${t}`,...e)}function id(t,...e){Yd.logLevel<=Ee.ERROR&&Yd.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw Sv(t,...e)}function zn(t,...e){return Sv(t,...e)}function Tv(t,e,n){const r=Object.assign(Object.assign({},pF()),{[e]:n});return new Ns("auth","Firebase",r).create(e,{appName:t.name})}function fs(t){return Tv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pr(t,"argument-error"),Tv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JA.create(t,...e)}function he(t,e,...n){if(!t)throw Sv(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function Br(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yF(){return $E()==="http:"||$E()==="https:"}function $E(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yF()||zA()||"connection"in navigator)?navigator.onLine:!0}function wF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=zO()||HO()}get(){return vF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new vu(3e4,6e4);function Cv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ra(t,e,n,r,i={}){return eb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return WO()||(u.referrerPolicy="no-referrer"),ZA.fetch()(tb(t,t.config.apiHost,n,a),u)})}async function eb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_F),e);try{const i=new TF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ic(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Tv(t,d,u);pr(t,d)}}catch(i){if(i instanceof Xn)throw i;pr(t,"network-request-failed",{message:String(i)})}}async function xF(t,e,n,r,i={}){const s=await ra(t,e,n,r,i);return"mfaPendingCredential"in s&&pr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Iv(t.config,i):`${t.config.apiScheme}://${i}`}class TF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),EF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return ra(t,"POST","/v1/accounts:delete",e)}async function nb(t,e){return ra(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IF(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),i=Av(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(Pp(i.auth_time)),issuedAtTime:ul(Pp(i.iat)),expirationTime:ul(Pp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pp(t){return Number(t)*1e3}function Av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const i=FA(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WE(t){const e=Av(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&CF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bl(t,nb(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rb(s.providerUserInfo):[],a=RF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function bF(t){const e=Ye(t);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rb(t){return t.map(e=>{var{providerId:n}=e,r=yu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e){const n=await eb(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kF(t,e){return ra(t,"POST","/v2/accounts:revokeToken",Cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=WE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await PF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Io;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IF(this,e)}reload(){return bF(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Bl(this,SF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:P,isAnonymous:k,providerData:O,stsTokenManager:C}=n;he(I&&C,e,"internal-error");const T=Io.fromJSON(this.name,C);he(typeof I=="string",e,"internal-error"),ni(h,e.name),ni(f,e.name),he(typeof P=="boolean",e,"internal-error"),he(typeof k=="boolean",e,"internal-error"),ni(m,e.name),ni(v,e.name),ni(x,e.name),ni(S,e.name),ni(g,e.name),ni(E,e.name);const A=new Pr({uid:I,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:k,photoURL:v,phoneNumber:m,tenantId:x,stsTokenManager:T,createdAt:g,lastLoginAt:E});return O&&Array.isArray(O)&&(A.providerData=O.map(R=>Object.assign({},R))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Io;i.updateFromServerResponse(n);const s=new Pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Io;a.updateFromIdToken(r);const l=new Pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function kr(t){Br(t instanceof Function,"Expected a class definition");let e=HE.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ib.type="NONE";const GE=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(kr(GE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||kr(GE);const o=sd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Pr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Co(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cb(e))return"Blackberry";if(db(e))return"Webos";if(ob(e))return"Safari";if((e.includes("chrome/")||ab(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sb(t=Ft()){return/firefox\//i.test(t)}function ob(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(t=Ft()){return/crios\//i.test(t)}function lb(t=Ft()){return/iemobile/i.test(t)}function ub(t=Ft()){return/android/i.test(t)}function cb(t=Ft()){return/blackberry/i.test(t)}function db(t=Ft()){return/webos/i.test(t)}function bv(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NF(t=Ft()){var e;return bv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MF(){return GO()&&document.documentMode===10}function hb(t=Ft()){return bv(t)||ub(t)||db(t)||cb(t)||/windows phone/i.test(t)||lb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e=[]){let n;switch(t){case"Browser":n=qE(Ft());break;case"Worker":n=`${qE(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(t,e={}){return ra(t,"GET","/v2/passwordPolicy",Cv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=6;class LF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new DF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nb(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(br(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(fs(this));const n=e?Ye(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VF(this),n=new LF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ns("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Kh(t){return Ye(t)}class KE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZO(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jF(t){Rv=t}function UF(t){return Rv.loadJS(t)}function BF(){return Rv.gapiScript}function zF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t,e){const n=Ms(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jl(s,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function WF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HF(t,e,n){const r=Kh(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=pb(e),{host:o,port:a}=GF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),qF()}function pb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GF(t){const e=pb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:QE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:QE(o)}}}function QE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return xF(t,"POST","/v1/accounts:signInWithIdp",Cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="http://localhost";class xs extends mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=yu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:KF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Pv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends wu{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends wu{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends wu{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pr._fromIdTokenResponse(e,r,i),o=YE(r);return new jo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=YE(r);return new jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function YE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jd(e,n,r,i)}}function gb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(t,s,e,r):s})}async function QF(t,e,n=!1){const r=await Bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e,n=!1){const{auth:r}=t;if(br(r.app))return Promise.reject(fs(r));const i="reauthenticate";try{const s=await Bl(t,gb(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=Av(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),jo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e,n=!1){if(br(t.app))return Promise.reject(fs(t));const r="signIn",i=await gb(t,r,e),s=await jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function JF(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function ZF(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function ej(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function tj(t){return Ye(t).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=1e3,rj=10;class vb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);MF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const ij=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wb.type="SESSION";const _b=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await sj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=kv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function aj(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function lj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cj(){return Eb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebaseLocalStorageDb",dj=1,eh="firebaseLocalStorage",Tb="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(t,e){return t.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function hj(){const t=indexedDB.deleteDatabase(xb);return new _u(t).toPromise()}function gg(){const t=indexedDB.open(xb,dj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eh,{keyPath:Tb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),await hj(),e(await gg()))})})}async function XE(t,e,n){const r=Yh(t,!0).put({[Tb]:e,value:n});return new _u(r).toPromise()}async function fj(t,e){const n=Yh(t,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function JE(t,e){const n=Yh(t,!0).delete(e);return new _u(n).toPromise()}const pj=800,mj=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(cj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lj(),!this.activeServiceWorker)return;this.sender=new oj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await XE(e,Zd,"1"),await JE(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yh(i,!1).getAll();return new _u(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const gj=Sb;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){return e?kr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends mb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yj(t){return XF(t.auth,new Nv(t),t.bypassAuthState)}function vj(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),YF(n,new Nv(t),t.bypassAuthState)}async function wj(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),QF(n,new Nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yj;case"linkViaPopup":case"linkViaRedirect":return wj;case"reauthViaPopup":case"reauthViaRedirect":return vj;default:pr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new vu(2e3,1e4);async function Ej(t,e,n){if(br(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));const r=Kh(t);gF(t,e,Pv);const i=Ib(r,n);return new os(r,"signInViaPopup",e,i).executeNotNull()}class os extends Cb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_j.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="pendingRedirect",od=new Map;class Tj extends Cb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await Sj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sj(t,e){const n=Aj(e),r=Cj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ij(t,e){od.set(t._key(),e)}function Cj(t){return kr(t._redirectPersistence)}function Aj(t){return sd(xj,t.config.apiKey,t.name)}async function bj(t,e,n=!1){if(br(t.app))return Promise.reject(fs(t));const r=Kh(t),i=Ib(r,e),o=await new Tj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=10*60*1e3;class Pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ab(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(e))}saveEventToCache(e){this.cachedEventUids.add(ZE(e)),this.lastProcessedEventTime=Date.now()}}function ZE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ab({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return ra(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dj=/^https?/;async function Vj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nj(t);for(const n of e)try{if(Oj(n))return}catch{}pr(t,"unauthorized-domain")}function Oj(t){const e=pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Dj.test(n))return!1;if(Mj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new vu(3e4,6e4);function ex(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Fj(t){return new Promise((e,n)=>{var r,i,s;function o(){ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ex(),n(zn(t,"network-request-failed"))},timeout:Lj.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=or().gapi)===null||s===void 0)&&s.load)o();else{const a=zF("iframefcb");return or()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},UF(`${BF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ad=null,e})}let ad=null;function jj(t){return ad=ad||Fj(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new vu(5e3,15e3),Bj="__/auth/iframe",zj="emulator/auth/iframe",$j={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hj(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iv(e,zj):`https://${t.config.authDomain}/${Bj}`,r={apiKey:e.apiKey,appName:t.name,v:na},i=Wj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gu(r).slice(1)}`}async function Gj(t){const e=await jj(t),n=or().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:Hj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$j,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),a=or().setTimeout(()=>{s(o)},Uj.get());function l(){or().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kj=500,Qj=600,Yj="_blank",Xj="http://localhost";class tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jj(t,e,n,r=Kj,i=Qj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(a=ab(u)?Yj:n),sb(u)&&(e=e||Xj,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(NF(u)&&a!=="_self")return Zj(e||"",a),new tx(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new tx(h)}function Zj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="__/auth/handler",t4="emulator/auth/handler",n4=encodeURIComponent("fac");async function nx(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:na,eventId:i};if(e instanceof Pv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${n4}=${encodeURIComponent(l)}`:"";return`${r4(t)}?${gu(a).slice(1)}${u}`}function r4({config:t}){return t.emulator?Iv(t,t4):`https://${t.authDomain}/${e4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class i4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=bj,this._overrideRedirectResult=Ij}async _openPopup(e,n,r,i){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await nx(e,n,r,pg(),i);return Jj(e,o,kv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nx(e,n,r,pg(),i);return aj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Gj(e),r=new Pj(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kp,{type:kp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[kp];o!==void 0&&n(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hb()||ob()||bv()}}const s4=i4;var rx="@firebase/auth",ix="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l4(t){fr(new Hn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(t)},u=new FF(r,i,s,l);return WF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fr(new Hn("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(r=>new o4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(rx,ix,a4(t)),bn(rx,ix,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=5*60,c4=BA("authIdTokenMaxAge")||u4;let sx=null;const d4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c4)return;const i=n==null?void 0:n.token;sx!==i&&(sx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function h4(t=xv()){const e=Ms(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$F(t,{popupRedirectResolver:s4,persistence:[gj,ij,_b]}),r=BA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=d4(s.toString());ZF(n,o,()=>o(n.currentUser)),JF(n,a=>o(a))}}const i=jA("auth");return i&&HF(n,`http://${i}`),n}function f4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",f4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l4("Browser");var p4="firebase",m4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(p4,m4,"app");var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,bb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,M,L){for(var N=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)N[oe-2]=arguments[oe];return T.prototype[M].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)R[M]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(M=0;16>M;++M)R[M]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],M=C.g[2];var L=C.g[3],N=T+(L^A&(M^L))+R[0]+3614090360&4294967295;T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+R[1]+3905402710&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+R[2]+606105819&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+R[3]+3250441966&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(L^A&(M^L))+R[4]+4118548399&4294967295,T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+R[5]+1200080426&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+R[6]+2821735955&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+R[7]+4249261313&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(L^A&(M^L))+R[8]+1770035416&4294967295,T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+R[9]+2336552879&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+R[10]+4294925233&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+R[11]+2304563134&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(L^A&(M^L))+R[12]+1804603682&4294967295,T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+R[13]+4254626195&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+R[14]+2792965006&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+R[15]+1236535329&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(M^L&(A^M))+R[1]+4129170786&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+R[6]+3225465664&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+R[11]+643717713&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+R[0]+3921069994&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(M^L&(A^M))+R[5]+3593408605&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+R[10]+38016083&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+R[15]+3634488961&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+R[4]+3889429448&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(M^L&(A^M))+R[9]+568446438&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+R[14]+3275163606&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+R[3]+4107603335&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+R[8]+1163531501&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(M^L&(A^M))+R[13]+2850285829&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+R[2]+4243563512&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+R[7]+1735328473&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+R[12]+2368359562&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(A^M^L)+R[5]+4294588738&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+R[8]+2272392833&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+R[11]+1839030562&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+R[14]+4259657740&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(A^M^L)+R[1]+2763975236&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+R[4]+1272893353&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+R[7]+4139469664&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+R[10]+3200236656&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(A^M^L)+R[13]+681279174&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+R[0]+3936430074&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+R[3]+3572445317&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+R[6]+76029189&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(A^M^L)+R[9]+3654602809&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+R[12]+3873151461&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+R[15]+530742520&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+R[2]+3299628645&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(M^(A|~L))+R[0]+4096336452&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+R[7]+1126891415&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+R[14]+2878612391&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+R[5]+4237533241&4294967295,A=M+(N<<21&4294967295|N>>>11),N=T+(M^(A|~L))+R[12]+1700485571&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+R[3]+2399980690&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+R[10]+4293915773&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+R[1]+2240044497&4294967295,A=M+(N<<21&4294967295|N>>>11),N=T+(M^(A|~L))+R[8]+1873313359&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+R[15]+4264355552&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+R[6]+2734768916&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+R[13]+1309151649&4294967295,A=M+(N<<21&4294967295|N>>>11),N=T+(M^(A|~L))+R[4]+4149444226&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+R[11]+3174756917&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+R[2]+718787259&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,R=this.B,M=this.h,L=0;L<T;){if(M==0)for(;L<=A;)i(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<T;)if(R[M++]=C.charCodeAt(L++),M==this.blockSize){i(this,R),M=0;break}}else for(;L<T;)if(R[M++]=C[L++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)C[A++]=this.g[T]>>>R&255;return C};function s(C,T){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function o(C,T){this.h=T;for(var A=[],R=!0,M=C.length-1;0<=M;M--){var L=C[M]|0;R&&L==T||(A[M]=L,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return S(u(-C));for(var T=[],A=1,R=0;C>=A;R++)T[R]=C/A|0,A*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return S(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),R=h,M=0;M<C.length;M+=8){var L=Math.min(8,C.length-M),N=parseInt(C.substring(M,M+L),T);8>L?(L=u(Math.pow(T,L)),R=R.j(L).add(u(N))):(R=R.j(A),R=R.add(u(N)))}return R}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(x(this))return"-"+S(this).toString(C);for(var T=u(Math.pow(C,6)),A=this,R="";;){var M=P(A,T).g;A=g(A,M.j(T));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=M,v(A))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=g(this,C),x(C)?-1:v(C)?0:1};function S(C){for(var T=C.g.length,A=[],R=0;R<T;R++)A[R]=~C.g[R];return new o(A,~C.h).add(f)}t.abs=function(){return x(this)?S(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0,M=0;M<=T;M++){var L=R+(this.i(M)&65535)+(C.i(M)&65535),N=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);R=N>>>16,L&=65535,N&=65535,A[M]=N<<16|L}return new o(A,A[A.length-1]&-2147483648?-1:0)};function g(C,T){return C.add(S(T))}t.j=function(C){if(v(this)||v(C))return h;if(x(this))return x(C)?S(this).j(S(C)):S(S(this).j(C));if(x(C))return S(this.j(S(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<C.g.length;M++){var L=this.i(R)>>>16,N=this.i(R)&65535,oe=C.i(M)>>>16,me=C.i(M)&65535;A[2*R+2*M]+=N*me,E(A,2*R+2*M),A[2*R+2*M+1]+=L*me,E(A,2*R+2*M+1),A[2*R+2*M+1]+=N*oe,E(A,2*R+2*M+1),A[2*R+2*M+2]+=L*oe,E(A,2*R+2*M+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new o(A,0)};function E(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function I(C,T){this.g=C,this.h=T}function P(C,T){if(v(T))throw Error("division by zero");if(v(C))return new I(h,h);if(x(C))return T=P(S(C),T),new I(S(T.g),S(T.h));if(x(T))return T=P(C,S(T)),new I(S(T.g),T.h);if(30<C.g.length){if(x(C)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,R=T;0>=R.l(C);)A=k(A),R=k(R);var M=O(A,1),L=O(R,1);for(R=O(R,2),A=O(A,2);!v(R);){var N=L.add(R);0>=N.l(C)&&(M=M.add(A),L=N),R=O(R,1),A=O(A,1)}return T=g(C,M.j(T)),new I(M,T)}for(M=h;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=u(A),N=L.j(T);x(N)||0<N.l(C);)A-=R,L=u(A),N=L.j(T);v(L)&&(L=f),M=M.add(L),C=g(C,N)}return new I(M,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function k(C){for(var T=C.g.length+1,A=[],R=0;R<T;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function O(C,T){var A=T>>5;T%=32;for(var R=C.g.length-A,M=[],L=0;L<R;L++)M[L]=0<T?C.i(L+A)>>>T|C.i(L+A+1)<<32-T:C.i(L+A);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ps=o}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rb,Qa,Pb,ld,yg,kb,Nb,Mb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break e;_=_[j]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var U=_++;return{value:p(U,c[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,_){return c.call.apply(c.bind,arguments)}function h(c,p,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function f(c,p,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function v(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,U){for(var K=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)K[ke-2]=arguments[ke];return p.prototype[j].apply(b,K)}}function x(c){const p=c.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function S(c,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(l(b)){const j=c.length||0,U=b.length||0;c.length=j+U;for(let K=0;K<U;K++)c[j+K]=b[K]}else c.push(b)}}class g{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var k=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function O(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function C(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function T(c){const p={};for(const _ in c)p[_]=c[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,p){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let U=0;U<A.length;U++)_=A[U],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function L(c){a.setTimeout(()=>{throw c},0)}function N(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class oe{constructor(){this.h=this.g=null}add(p,_){const b=me.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var me=new g(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,B=new oe,V=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(D)}};var D=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){L(_)}var p=me;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return c}();function ne(c,p){if(G.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(k){e:{try{P(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ne.aa.h.call(this)}}v(ne,G);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),ce=0;function de(c,p,_,b,j){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=j,this.key=++ce,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,p,_,b,j){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var K=Pe(c,p,b,j);return-1<K?(p=c[K],_||(p.fa=!1)):(p=new de(p,this.src,U,!!b,j),p.fa=_,c.push(p)),p};function xe(c,p){var _=p.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,p,void 0),U;(U=0<=j)&&Array.prototype.splice.call(b,j,1),U&&(ye(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Pe(c,p,_,b){for(var j=0;j<c.length;++j){var U=c[j];if(!U.da&&U.listener==p&&U.capture==!!_&&U.ha==b)return j}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),et={};function bt(c,p,_,b,j){if(Array.isArray(p)){for(var U=0;U<p.length;U++)bt(c,p[U],_,b,j);return null}return _=Wu(_),c&&c[q]?c.K(p,_,u(b)?!!b.capture:!1,j):jt(c,p,_,!1,b,j)}function jt(c,p,_,b,j,U){if(!p)throw Error("Invalid event type");var K=u(j)?!!j.capture:!!j,ke=ma(c);if(ke||(c[pe]=ke=new ve(c)),_=ke.add(p,_,b,K,U),_.proxy)return _;if(b=ln(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)Y||(j=K),j===void 0&&(j=!1),c.addEventListener(p.toString(),b,j);else if(c.attachEvent)c.attachEvent($u(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ln(){function c(_){return p.call(c.src,c.listener,_)}const p=Df;return c}function Ut(c,p,_,b,j){if(Array.isArray(p))for(var U=0;U<p.length;U++)Ut(c,p[U],_,b,j);else b=u(b)?!!b.capture:!!b,_=Wu(_),c&&c[q]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],_=Pe(U,_,b,j),-1<_&&(ye(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=ma(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Pe(p,_,b,j)),(_=-1<c?p[c]:null)&&Xt(_))}function Xt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[q])xe(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent($u(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=ma(p))?(xe(_,c),_.h==0&&(_.src=null,p[pe]=null)):ye(c)}}}function $u(c){return c in et?et[c]:et[c]="on"+c}function Df(c,p){if(c.da)c=!0;else{p=new ne(p,this);var _=c.listener,b=c.ha||c.src;c.fa&&Xt(c),c=_.call(b,p)}return c}function ma(c){return c=c[pe],c instanceof ve?c:null}var js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(c){return typeof c=="function"?c:(c[js]||(c[js]=function(p){return c.handleEvent(p)}),c[js])}function ot(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}v(ot,W),ot.prototype[q]=!0,ot.prototype.removeEventListener=function(c,p,_,b){Ut(this,c,p,_,b)};function gt(c,p){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new G(p,c);else if(p instanceof G)p.target=p.target||c;else{var j=p;p=new G(b,c),R(p,j)}if(j=!0,_)for(var U=_.length-1;0<=U;U--){var K=p.g=_[U];j=Us(K,b,!0,p)&&j}if(K=p.g=c,j=Us(K,b,!0,p)&&j,j=Us(K,b,!1,p)&&j,_)for(U=0;U<_.length;U++)K=p.g=_[U],j=Us(K,b,!1,p)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],b=0;b<_.length;b++)ye(_[b]);delete c.g[p],c.h--}}this.F=null},ot.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},ot.prototype.L=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function Us(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,U=0;U<p.length;++U){var K=p[U];if(K&&!K.da&&K.capture==_){var ke=K.listener,yt=K.ha||K.src;K.fa&&xe(c.i,K),j=ke.call(yt,b)!==!1&&j}}return j&&!b.defaultPrevented}function ga(c,p,_){if(typeof c=="function")_&&(c=f(c,_));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function ya(c){c.g=ga(()=>{c.g=null,c.i&&(c.i=!1,ya(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class va extends W{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(c){W.call(this),this.h=c,this.g={}}v(Hi,W);var Hu=[];function I_(c){O(c.g,function(p,_){this.g.hasOwnProperty(_)&&Xt(p)},c),c.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),I_(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vf=a.JSON.stringify,sM=a.JSON.parse,oM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Of(){}Of.prototype.h=null;function C_(c){return c.h||(c.h=c.i())}function A_(){}var wa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){G.call(this,"d")}v(Lf,G);function Ff(){G.call(this,"c")}v(Ff,G);var Gi={},b_=null;function Gu(){return b_=b_||new ot}Gi.La="serverreachability";function R_(c){G.call(this,Gi.La,c)}v(R_,G);function _a(c){const p=Gu();gt(p,new R_(p))}Gi.STAT_EVENT="statevent";function P_(c,p){G.call(this,Gi.STAT_EVENT,c),this.stat=p}v(P_,G);function Bt(c){const p=Gu();gt(p,new P_(p,c))}Gi.Ma="timingevent";function k_(c,p){G.call(this,Gi.Ma,c),this.size=p}v(k_,G);function Ea(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function xa(){this.g=!0}xa.prototype.xa=function(){this.g=!1};function aM(c,p,_,b,j,U){c.info(function(){if(c.g)if(U)for(var K="",ke=U.split("&"),yt=0;yt<ke.length;yt++){var Ae=ke[yt].split("=");if(1<Ae.length){var Rt=Ae[0];Ae=Ae[1];var Pt=Rt.split("_");K=2<=Pt.length&&Pt[1]=="type"?K+(Rt+"="+Ae+"&"):K+(Rt+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+p+`
`+_+`
`+K})}function lM(c,p,_,b,j,U,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+p+`
`+_+`
`+U+" "+K})}function Bs(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+cM(c,_)+(b?" "+b:"")})}function uM(c,p){c.info(function(){return"TIMEOUT: "+p})}xa.prototype.info=function(){};function cM(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<j.length;K++)j[K]=""}}}}return Vf(_)}catch{return p}}var qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},N_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jf;function Ku(){}v(Ku,Of),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},jf=new Ku;function Jr(c,p,_,b){this.j=c,this.i=p,this.l=_,this.R=b||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M_}function M_(){this.i=null,this.g="",this.h=!1}var D_={},Uf={};function Bf(c,p,_){c.L=1,c.v=Ju(wr(p)),c.m=_,c.P=!0,V_(c,null)}function V_(c,p){c.F=Date.now(),Qu(c),c.A=wr(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Q_(_.i,"t",b),c.C=0,_=c.j.J,c.h=new M_,c.g=f0(c.j,_?p:null,!c.m),0<c.O&&(c.M=new va(f(c.Y,c,c.g),c.O)),p=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Hu[0]=j.toString()),j=Hu);for(var U=0;U<j.length;U++){var K=bt(_,j[U],b||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),_a(),aM(c.i,c.u,c.A,c.l,c.R,c.m)}Jr.prototype.ca=function(c){c=c.target;const p=this.M;p&&_r(c)==3?p.j():this.Y(c)},Jr.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=_r(this.g);var p=this.g.Ba();const Ws=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||n0(this.g)))){this.J||Pt!=4||p==7||(p==8||0>=Ws?_a(3):_a(2)),zf(this);var _=this.g.Z();this.X=_;t:if(O_(this)){var b=n0(this.g);c="";var j=b.length,U=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),Ta(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(U&&p==j-1)});b.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=_==200,lM(this.i,this.u,this.A,this.l,this.R,Pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,yt=this.g;if((ke=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var Ae=ke;break t}}Ae=null}if(_=Ae)Bs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,_);else{this.o=!1,this.s=3,Bt(12),qi(this),Ta(this);break e}}if(this.P){_=!0;let Dn;for(;!this.J&&this.C<K.length;)if(Dn=dM(this,K),Dn==Uf){Pt==4&&(this.s=4,Bt(14),_=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==D_){this.s=4,Bt(15),Bs(this.i,this.l,K,"[Invalid Chunk]"),_=!1;break}else Bs(this.i,this.l,Dn,null),$f(this,Dn);if(O_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||K.length!=0||this.h.h||(this.s=1,Bt(16),_=!1),this.o=this.o&&_,!_)Bs(this.i,this.l,K,"[Invalid Chunked Response]"),qi(this),Ta(this);else if(0<K.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Qf(Rt),Rt.M=!0,Bt(11))}}else Bs(this.i,this.l,K,null),$f(this,K);Pt==4&&qi(this),this.o&&!this.J&&(Pt==4?u0(this.j,this):(this.o=!1,Qu(this)))}else bM(this.g),_==400&&0<K.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),qi(this),Ta(this)}}}catch{}finally{}};function O_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dM(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?Uf:(_=Number(p.substring(_,b)),isNaN(_)?D_:(b+=1,b+_>p.length?Uf:(p=p.slice(b,b+_),c.C=b+_,p)))}Jr.prototype.cancel=function(){this.J=!0,qi(this)};function Qu(c){c.S=Date.now()+c.I,L_(c,c.I)}function L_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ea(f(c.ba,c),p)}function zf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Jr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(uM(this.i,this.A),this.L!=2&&(_a(),Bt(17)),qi(this),this.s=2,Ta(this)):L_(this,this.S-c)};function Ta(c){c.j.G==0||c.J||u0(c.j,c)}function qi(c){zf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,I_(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function $f(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Wf(_.h,c))){if(!c.K&&Wf(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ic(_),nc(_);else break e;Kf(_),Bt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ea(f(_.Za,_),6e3));if(1>=U_(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((c.K||_.g==c)&&ic(_),!E(p))for(j=_.Da.g.parse(p),p=0;p<j.length;p++){let Ae=j[p];if(_.T=Ae[0],Ae=Ae[1],_.G==2)if(Ae[0]=="c"){_.K=Ae[1],_.ia=Ae[2];const Rt=Ae[3];Rt!=null&&(_.la=Rt,_.j.info("VER="+_.la));const Pt=Ae[4];Pt!=null&&(_.Aa=Pt,_.j.info("SVER="+_.Aa));const Ws=Ae[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(b=1.5*Ws,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Dn=c.g;if(Dn){const oc=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var U=b.h;U.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Hf(U,U.h),U.h=null))}if(b.D){const Yf=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(b.ya=Yf,Oe(b.I,b.D,Yf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var K=c;if(b.qa=h0(b,b.J?b.ia:null,b.W),K.K){B_(b.h,K);var ke=K,yt=b.L;yt&&(ke.I=yt),ke.B&&(zf(ke),Qu(ke)),b.g=K}else a0(b);0<_.i.length&&rc(_)}else Ae[0]!="stop"&&Ae[0]!="close"||Qi(_,7);else _.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Qi(_,7):qf(_):Ae[0]!="noop"&&_.l&&_.l.ta(Ae),_.v=0)}}_a(4)}catch{}}var hM=class{constructor(c,p){this.g=c,this.map=p}};function F_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function j_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function U_(c){return c.h?1:c.g?c.g.size:0}function Wf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Hf(c,p){c.g?c.g.add(p):c.h=p}function B_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}F_.prototype.cancel=function(){if(this.i=z_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function z_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return x(c.i)}function fM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],_=c.length,b=0;b<_;b++)p.push(c[b]);return p}p=[],_=0;for(b in c)p[_++]=c[b];return p}function pM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const b in c)p[_++]=b;return p}}}function $_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=pM(c),b=fM(c),j=b.length,U=0;U<j;U++)p.call(void 0,b[U],_&&_[U],c)}var W_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mM(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var U=c[_].substring(0,b);j=c[_].substring(b+1)}else U=c[_];p(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ki){this.h=c.h,Yu(this,c.j),this.o=c.o,this.g=c.g,Xu(this,c.s),this.l=c.l;var p=c.i,_=new Ca;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),H_(this,_),this.m=c.m}else c&&(p=String(c).match(W_))?(this.h=!1,Yu(this,p[1]||"",!0),this.o=Sa(p[2]||""),this.g=Sa(p[3]||"",!0),Xu(this,p[4]),this.l=Sa(p[5]||"",!0),H_(this,p[6]||"",!0),this.m=Sa(p[7]||"")):(this.h=!1,this.i=new Ca(null,this.h))}Ki.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ia(p,G_,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ia(p,G_,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ia(_,_.charAt(0)=="/"?vM:yM,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ia(_,_M)),c.join("")};function wr(c){return new Ki(c)}function Yu(c,p,_){c.j=_?Sa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Xu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function H_(c,p,_){p instanceof Ca?(c.i=p,EM(c.i,c.h)):(_||(p=Ia(p,wM)),c.i=new Ca(p,c.h))}function Oe(c,p,_){c.i.set(p,_)}function Ju(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ia(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,gM),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var G_=/[#\/\?@]/g,yM=/[#\?:]/g,vM=/[#\?]/g,wM=/[#\?@]/g,_M=/#/g;function Ca(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Zr(c){c.g||(c.g=new Map,c.h=0,c.i&&mM(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Ca.prototype,t.add=function(c,p){Zr(this),this.i=null,c=zs(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function q_(c,p){Zr(c),p=zs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function K_(c,p){return Zr(c),p=zs(c,p),c.g.has(p)}t.forEach=function(c,p){Zr(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(p,j,b,this)},this)},this)},t.na=function(){Zr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const j=c[b];for(let U=0;U<j.length;U++)_.push(p[b])}return _},t.V=function(c){Zr(this);let p=[];if(typeof c=="string")K_(this,c)&&(p=p.concat(this.g.get(zs(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},t.set=function(c,p){return Zr(this),this.i=null,c=zs(this,c),K_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Q_(c,p,_){q_(c,p),0<_.length&&(c.i=null,c.g.set(zs(c,p),x(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const U=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var j=U;K[b]!==""&&(j+="="+encodeURIComponent(String(K[b]))),c.push(j)}}return this.i=c.join("&")};function zs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function EM(c,p){p&&!c.j&&(Zr(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(q_(this,b),Q_(this,j,_))},c)),c.j=p}function xM(c,p){const _=new xa;if(a.Image){const b=new Image;b.onload=m(ei,_,"TestLoadImage: loaded",!0,p,b),b.onerror=m(ei,_,"TestLoadImage: error",!1,p,b),b.onabort=m(ei,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=m(ei,_,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function TM(c,p){const _=new xa,b=new AbortController,j=setTimeout(()=>{b.abort(),ei(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(U=>{clearTimeout(j),U.ok?ei(_,"TestPingServer: ok",!0,p):ei(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),ei(_,"TestPingServer: error",!1,p)})}function ei(c,p,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function SM(){this.g=new oM}function IM(c,p,_){const b=_||"";try{$_(c,function(j,U){let K=j;u(j)&&(K=Vf(j)),p.push(b+U+"="+encodeURIComponent(K))})}catch(j){throw p.push(b+"type="+encodeURIComponent("_badmap")),j}}function Zu(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Zu,Of),Zu.prototype.g=function(){return new ec(this.l,this.j)},Zu.prototype.i=function(c){return function(){return c}}({});function ec(c,p){ot.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ec,ot),t=ec.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ba(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Y_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Y_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Aa(this):ba(this),this.readyState==3&&Y_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Aa(this))},t.Qa=function(c){this.g&&(this.response=c,Aa(this))},t.ga=function(){this.g&&Aa(this)};function Aa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ba(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function ba(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function X_(c){let p="";return O(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Gf(c,p,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=X_(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Oe(c,p,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(qe,ot);var CM=/^https?$/i,AM=["POST","PUT"];t=qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jf.g(),this.v=this.o?C_(this.o):C_(jf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){J_(this,U);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())_.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AM,p,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of _)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{t0(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){J_(this,U)}};function J_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Z_(c),tc(c)}function Z_(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),tc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tc(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?e0(this):this.bb())},t.bb=function(){e0(this)};function e0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||_r(c)!=4||c.Z()!=2)){if(c.u&&_r(c)==4)ga(c.Ea,0,c);else if(gt(c,"readystatechange"),_r(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var b;if(b=K===0){var j=String(c.D).match(W_)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),b=!CM.test(j?j.toLowerCase():"")}_=b}if(_)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var U=2<_r(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",Z_(c)}}finally{tc(c)}}}}function tc(c,p){if(c.g){t0(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function t0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function _r(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),sM(p)}};function n0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bM(c){const p={};c=(c.g&&2<=_r(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(E(c[b]))continue;var _=M(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=p[j]||[];p[j]=U,U.push(_)}C(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function r0(c){this.Aa=0,this.i=[],this.j=new xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new F_(c&&c.concurrentRequestLimit),this.Da=new SM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=r0.prototype,t.la=8,t.G=1,t.connect=function(c,p,_,b){Bt(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=h0(this,null,this.W),rc(this)};function qf(c){if(i0(c),c.G==3){var p=c.U++,_=wr(c.I);if(Oe(_,"SID",c.K),Oe(_,"RID",p),Oe(_,"TYPE","terminate"),Pa(c,_),p=new Jr(c,c.j,p),p.L=2,p.v=Ju(wr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=f0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Qu(p)}d0(c)}function nc(c){c.g&&(Qf(c),c.g.cancel(),c.g=null)}function i0(c){nc(c),c.u&&(a.clearTimeout(c.u),c.u=null),ic(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function rc(c){if(!j_(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||V(),F||(te(),F=!0),B.add(p,c),c.B=0}}function RM(c,p){return U_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ea(f(c.Ga,c,p),c0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Jr(this,this.j,c);let U=this.o;if(this.S&&(U?(U=T(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=o0(this,j,p),_=wr(this.I),Oe(_,"RID",c),Oe(_,"CVER",22),this.D&&Oe(_,"X-HTTP-Session-Id",this.D),Pa(this,_),U&&(this.O?p="headers="+encodeURIComponent(String(X_(U)))+"&"+p:this.m&&Gf(_,this.m,U)),Hf(this.h,j),this.Ua&&Oe(_,"TYPE","init"),this.P?(Oe(_,"$req",p),Oe(_,"SID","null"),j.T=!0,Bf(j,_,null)):Bf(j,_,p),this.G=2}}else this.G==3&&(c?s0(this,c):this.i.length==0||j_(this.h)||s0(this))};function s0(c,p){var _;p?_=p.l:_=c.U++;const b=wr(c.I);Oe(b,"SID",c.K),Oe(b,"RID",_),Oe(b,"AID",c.T),Pa(c,b),c.m&&c.o&&Gf(b,c.m,c.o),_=new Jr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=o0(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hf(c.h,_),Bf(_,b,p)}function Pa(c,p){c.H&&O(c.H,function(_,b){Oe(p,b,_)}),c.l&&$_({},function(_,b){Oe(p,b,_)})}function o0(c,p,_){_=Math.min(c.i.length,_);var b=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let U=-1;for(;;){const K=["count="+_];U==-1?0<_?(U=j[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let ke=!0;for(let yt=0;yt<_;yt++){let Ae=j[yt].g;const Rt=j[yt].map;if(Ae-=U,0>Ae)U=Math.max(0,j[yt].g-100),ke=!1;else try{IM(Rt,K,"req"+Ae+"_")}catch{b&&b(Rt)}}if(ke){b=K.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,b}function a0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||V(),F||(te(),F=!0),B.add(p,c),c.v=0}}function Kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ea(f(c.Fa,c),c0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,l0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ea(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),nc(this),l0(this))};function Qf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function l0(c){c.g=new Jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=wr(c.qa);Oe(p,"RID","rpc"),Oe(p,"SID",c.K),Oe(p,"AID",c.T),Oe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(p,"TO",c.ja),Oe(p,"TYPE","xmlhttp"),Pa(c,p),c.m&&c.o&&Gf(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ju(wr(p)),_.m=null,_.P=!0,V_(_,c)}t.Za=function(){this.C!=null&&(this.C=null,nc(this),Kf(this),Bt(19))};function ic(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function u0(c,p){var _=null;if(c.g==p){ic(c),Qf(c),c.g=null;var b=2}else if(Wf(c.h,p))_=p.D,B_(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;b=Gu(),gt(b,new k_(b,_)),rc(c)}else a0(c);else if(j=p.s,j==3||j==0&&0<p.X||!(b==1&&RM(c,p)||b==2&&Kf(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),j){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function c0(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Qi(c,p){if(c.j.info("Error code "+p),p==2){var _=f(c.fb,c),b=c.Xa;const j=!b;b=new Ki(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yu(b,"https"),Ju(b),j?xM(b.toString(),_):TM(b.toString(),_)}else Bt(2);c.G=0,c.l&&c.l.sa(p),d0(c),i0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function d0(c){if(c.G=0,c.ka=[],c.l){const p=z_(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function h0(c,p,_){var b=_ instanceof Ki?wr(_):new Ki(_);if(b.g!="")p&&(b.g=p+"."+b.g),Xu(b,b.s);else{var j=a.location;b=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var U=new Ki(null);b&&Yu(U,b),p&&(U.g=p),j&&Xu(U,j),_&&(U.l=_),b=U}return _=c.D,p=c.ya,_&&p&&Oe(b,_,p),Oe(b,"VER",c.la),Pa(c,b),b}function f0(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new Zu({eb:_})):new qe(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p0(){}t=p0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sc(){}sc.prototype.g=function(c,p){return new un(c,p)};function un(c,p){ot.call(this),this.g=new r0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new $s(this)}v(un,ot),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){qf(this.g)},un.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vf(c),c=_);p.i.push(new hM(p.Ya++,c)),p.G==3&&rc(p)},un.prototype.N=function(){this.g.l=null,delete this.j,qf(this.g),delete this.g,un.aa.N.call(this)};function m0(c){Lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}v(m0,Lf);function g0(){Ff.call(this),this.status=1}v(g0,Ff);function $s(c){this.g=c}v($s,p0),$s.prototype.ua=function(){gt(this.g,"a")},$s.prototype.ta=function(c){gt(this.g,new m0(c))},$s.prototype.sa=function(c){gt(this.g,new g0)},$s.prototype.ra=function(){gt(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Mb=function(){return new sc},Nb=function(){return Gu()},kb=Gi,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,ld=qu,N_.COMPLETE="complete",Pb=N_,A_.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Qa=A_,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Rb=qe}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const ax="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new qh("@firebase/firestore");function Ua(){return Ts.logLevel}function ee(t,...e){if(Ts.logLevel<=Ee.DEBUG){const n=e.map(Mv);Ts.debug(`Firestore (${ia}): ${t}`,...n)}}function zr(t,...e){if(Ts.logLevel<=Ee.ERROR){const n=e.map(Mv);Ts.error(`Firestore (${ia}): ${t}`,...n)}}function Uo(t,...e){if(Ts.logLevel<=Ee.WARN){const n=e.map(Mv);Ts.warn(`Firestore (${ia}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Ce(t,e){t||se()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class y4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v4{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Db(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Dt(e)}}class w4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new w4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new E4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=T4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ct(0,0))}static max(){return new ue(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends zl{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends zl{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Me.fromString(e))}static fromName(e){return new ie(Me.fromString(e).popFirst(5))}static empty(){return new ie(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Me(e.slice()))}}function I4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Ni(i,ie.empty(),e)}function C4(t){return new Ni(t.readTime,t.key,-1)}class Ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ni(ue.min(),ie.empty(),-1)}static max(){return new Ni(ue.max(),ie.empty(),-1)}}function A4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==b4)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function P4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dv.oe=-1;function Tu(t){return t==null}function th(t){return t===0&&1/t==-1/0}function k4(t){return typeof t=="number"&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ob(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(e){return new ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new fn([])}unionWith(e){let n=new St(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Lb("Invalid base64 string: "+s):s}}(e);return new At(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const N4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=N4.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ss(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ov(t){const e=t.mapValue.fields.__previous_value__;return Vv(e)?Ov(e):e}function $l(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vv(t)?4:V4(t)?9007199254740991:D4(t)?10:11:se()}function mr(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mi(i.timestampValue),a=Mi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ss(i.bytesValue).isEqual(Ss(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?th(o)===th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lx(o)!==lx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Hl(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function zo(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Je(s.integerValue||s.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cx(t.timestampValue,e.timestampValue);case 4:return cx($l(t),$l(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ss(s),l=Ss(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=be(a[u],l[u]);if(d!==0)return d}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(Je(s.latitude),Je(o.latitude));return a!==0?a:be(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,x=be(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:dx(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bc.mapValue&&o===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(o===bc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=be(l[h],d[h]);if(f!==0)return f;const m=zo(a[l[h]],u[d[h]]);if(m!==0)return m}return be(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function cx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Mi(t),r=Mi(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function dx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zo(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function $o(t){return vg(t)}function vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vg(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function hx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wg(t){return!!t&&"integerValue"in t}function Lv(t){return!!t&&"arrayValue"in t}function fx(t){return!!t&&"nullValue"in t}function px(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function D4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(cl(this.value))}}function Fb(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new Et([n]);if(ud(r)){const s=Fb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ue.min(),ue.min(),ue.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,ue.min(),ue.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ue.min(),ue.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function mx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function O4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{}class it extends jb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F4(e,n,r):n==="array-contains"?new B4(e,r):n==="in"?new z4(e,r):n==="not-in"?new $4(e,r):n==="array-contains-any"?new W4(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j4(e,r):new U4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends jb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gn(e,n)}matches(e){return Ub(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ub(t){return t.op==="and"}function Bb(t){return L4(t)&&Ub(t)}function L4(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function _g(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(Bb(t))return t.filters.map(e=>_g(e)).join(",");{const e=t.filters.map(n=>_g(n)).join(",");return`${t.op}(${e})`}}function zb(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zb(o,i.filters[a]),!0):!1}(t,e):void se()}function $b(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map($b).join(" ,")+"}"}(t):"Filter"}class F4 extends it{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class j4 extends it{constructor(e,n){super(e,"in",n),this.keys=Wb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U4 extends it{constructor(e,n){super(e,"not-in",n),this.keys=Wb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class B4 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lv(n)&&Hl(n.arrayValue,this.value)}}class z4 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class $4 extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class W4 extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function yx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new H4(t,e,n,r,i,s,o)}function Fv(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.ue=n}return e.ue}function jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!O4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gx(t.startAt,e.startAt)&&gx(t.endAt,e.endAt)}function Eg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function G4(t,e,n,r,i,s,o,a){return new sa(t,e,n,r,i,s,o,a)}function Xh(t){return new sa(t)}function vx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hb(t){return t.collectionGroup!==null}function dl(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gl(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Gl(Et.keyField(),r))}return e.ce}function lr(t){const e=fe(t);return e.le||(e.le=q4(e,dl(t))),e.le}function q4(t,e){if(t.limitType==="F")return yx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gl(i.field,s)});const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return yx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xg(t,e){const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rh(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jh(t,e){return jv(lr(t),lr(e))&&t.limitType===e.limitType}function Gb(t){return`${Fv(lr(t))}|lt:${t.limitType}`}function Ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$b(i)).join(", ")}]`),Tu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`}(lr(t))}; limitType=${t.limitType})`}function Zh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=mx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,dl(r),i)||r.endAt&&!function(o,a,l){const u=mx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,dl(r),i))}(t,e)}function K4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qb(t){return(e,n)=>{let r=!1;for(const i of dl(t)){const s=Q4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Q4(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?zo(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Ge(ie.comparator);function $r(){return Y4}const Kb=new Ge(ie.comparator);function Ya(...t){let e=Kb;for(const n of t)e=e.insert(n.key,n);return e}function Qb(t){let e=Kb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return hl()}function Yb(){return hl()}function hl(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const X4=new Ge(ie.comparator),J4=new St(ie.comparator);function _e(...t){let e=J4;for(const n of t)e=e.add(n);return e}const Z4=new St(be);function eU(){return Z4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function Xb(t){return{integerValue:""+t}}function tU(t,e){return k4(e)?Xb(e):Uv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function nU(t,e,n){return t instanceof ql?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vv(s)&&(s=Ov(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Kl?Zb(t,e):t instanceof Ql?eR(t,e):function(i,s){const o=Jb(i,s),a=wx(o)+wx(i.Pe);return wg(o)&&wg(i.Pe)?Xb(a):Uv(i.serializer,a)}(t,e)}function rU(t,e,n){return t instanceof Kl?Zb(t,e):t instanceof Ql?eR(t,e):n}function Jb(t,e){return t instanceof ih?function(r){return wg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ql extends ef{}class Kl extends ef{constructor(e){super(),this.elements=e}}function Zb(t,e){const n=tR(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ql extends ef{constructor(e){super(),this.elements=e}}function eR(t,e){let n=tR(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class ih extends ef{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wx(t){return Je(t.integerValue||t.doubleValue)}function tR(t){return Lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.field=e,this.transform=n}}function sU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kl&&i instanceof Kl||r instanceof Ql&&i instanceof Ql?Bo(r.elements,i.elements,mr):r instanceof ih&&i instanceof ih?mr(r.Pe,i.Pe):r instanceof ql&&i instanceof ql}(t.transform,e.transform)}class oU{constructor(e,n){this.version=e,this.transformResults=n}}class xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tf{}function nR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nf(t.key,xt.none()):new Su(t.key,t.data,xt.none());{const n=t.data,r=$t.empty();let i=new St(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $i(t.key,r,new fn(i.toArray()),xt.none())}}function aU(t,e,n){t instanceof Su?function(i,s,o){const a=i.value.clone(),l=Ex(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(i,s,o){if(!cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ex(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(rR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,r){return t instanceof Su?function(s,o,a,l){if(!cd(s.precondition,o))return a;const u=s.value.clone(),d=xx(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(s,o,a,l){if(!cd(s.precondition,o))return a;const u=xx(s.fieldTransforms,l,o),d=o.data;return d.setAll(rR(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Jb(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function _x(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(s,o)=>sU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends tf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends tf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ex(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rU(o,a,n[i]))}return r}function xx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nU(s,o,e))}return r}class nf extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iR extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Yb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=nR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>_x(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>_x(n,r))}}class Bv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return X4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Bv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,Te;function sR(t){switch(t){default:return se();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function oR(t){if(t===void 0)return zr("GRPC error has no .code"),z.UNKNOWN;switch(t){case tt.OK:return z.OK;case tt.CANCELLED:return z.CANCELLED;case tt.UNKNOWN:return z.UNKNOWN;case tt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case tt.INTERNAL:return z.INTERNAL;case tt.UNAVAILABLE:return z.UNAVAILABLE;case tt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case tt.NOT_FOUND:return z.NOT_FOUND;case tt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case tt.ABORTED:return z.ABORTED;case tt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case tt.DATA_LOSS:return z.DATA_LOSS;default:return se()}}(Te=tt||(tt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new ps([4294967295,4294967295],0);function Tx(t){const e=hU().encode(t),n=new bb;return n.update(e),new Uint8Array(n.digest())}function Sx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,s],0)]}class zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(r<0)throw new Xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(fU)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Tx(e),[r,i]=Sx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Tx(e),[r,i]=Sx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rf(ue.min(),i,new Ge(be),$r(),_e())}}class Iu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class aR{constructor(e,n){this.targetId=e,this.me=n}}class lR{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ix{constructor(){this.fe=0,this.ge=Ax(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Iu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ax()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pU{constructor(e){this.Le=e,this.Be=new Map,this.ke=$r(),this.qe=Cx(),this.Qe=new Ge(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Eg(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,ft.newNoDocument(o,ue.min()))}else Ce(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ss(r).toUint8Array()}catch(l){if(l instanceof Lb)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zv(o,i,s)}catch(l){return Uo(l instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Eg(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ft.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new rf(e,n,this.Qe,this.ke,r);return this.ke=$r(),this.qe=Cx(),this.Qe=new Ge(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ix,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ix),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Cx(){return new Ge(ie.comparator)}function Ax(){return new Ge(ie.comparator)}const mU={asc:"ASCENDING",desc:"DESCENDING"},gU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yU={and:"AND",or:"OR"};class vU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||Tu(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wU(t,e){return sh(t,e.toTimestamp())}function mn(t){return Ce(!!t),ue.fromTimestamp(function(n){const r=Mi(n);return new ct(r.seconds,r.nanos)}(t))}function $v(t,e){return Sg(t,e).canonicalString()}function Sg(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cR(t){const e=Me.fromString(t);return Ce(gR(e)),e}function oh(t,e){return $v(t.databaseId,e.path)}function pl(t,e){const n=cR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(hR(n))}function dR(t,e){return $v(t.databaseId,e)}function _U(t){const e=cR(t);return e.length===4?Me.emptyPath():hR(e)}function Ig(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hR(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bx(t,e,n){return{name:oh(t,e),fields:n.value.mapValue.fields}}function EU(t,e){return"found"in e?function(r,i){Ce(!!i.found),i.found.name,i.found.updateTime;const s=pl(r,i.found.name),o=mn(i.found.updateTime),a=i.found.createTime?mn(i.found.createTime):ue.min(),l=new $t({mapValue:{fields:i.found.fields}});return ft.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Ce(!!i.missing),Ce(!!i.readTime);const s=pl(r,i.missing),o=mn(i.readTime);return ft.newNoDocument(s,o)}(t,e):se()}function xU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string"),At.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),At.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:oR(u.code);return new Q(d,u.message||"")}(o);n=new lR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pl(t,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):ue.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new dd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pl(t,r.document),s=r.readTime?mn(r.readTime):ue.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pl(t,r.document),s=r.removedTargetIds||[];n=new dd([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new dU(i,s),a=r.targetId;n=new aR(a,o)}}return n}function fR(t,e){let n;if(e instanceof Su)n={update:bx(t,e.key,e.value)};else if(e instanceof nf)n={delete:oh(t,e.key)};else if(e instanceof $i)n={update:bx(t,e.key,e.data),updateMask:kU(e.fieldMask)};else{if(!(e instanceof iR))return se();n={verify:oh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ql)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ih)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function TU(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?mn(i.updateTime):mn(s);return o.isEqual(ue.min())&&(o=mn(s)),new oU(o,i.transformResults||[])}(n,e))):[]}function SU(t,e){return{documents:[dR(t,e.path)]}}function IU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dR(t,i);const s=function(u){if(u.length!==0)return mR(Gn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Xs(f.field),direction:bU(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function CU(t){let e=_U(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=pR(h);return f instanceof Gn&&Bb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Gl(Js(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Tu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new nh(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new nh(m,f)}(n.endAt)),G4(e,i,o,s,a,"F",l,u)}function AU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Js(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Js(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Js(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return it.create(Js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>pR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function bU(t){return mU[t]}function RU(t){return gU[t]}function PU(t){return yU[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Et.fromServerFormat(t.fieldPath)}function mR(t){return t instanceof it?function(n){if(n.op==="=="){if(px(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(fx(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(px(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(fx(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:RU(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(i=>mR(i));return r.length===1?r[0]:{compositeFilter:{op:PU(n.op),filters:r}}}(t):se()}function kU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.ct=e}}function MU(t){const e=CU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.un=new VU}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ni.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class VU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wo(0)}static kn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fl(r.mutation,i,fn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ya();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=hl(),a=function(){return hl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof $i)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),fl(d.mutation,u,d.mutation.getFieldMask(),ct.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new LU(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hl();let i=new Ge((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||fn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Yb();d.forEach(f=>{if(!s.has(f)){const m=nR(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(as());let a=-1,l=s;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:Qb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(h,f){return new sa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,ft.newInvalidDocument(d)))});let a=Ya();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&fl(d.mutation,u,fn.empty(),ct.now()),Zh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:MU(i.bundledQuery),readTime:mn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.overlays=new Ge(ie.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=as(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=as(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=as(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cU(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.Tr=new St(dt.Er),this.dr=new St(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new dt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new Me([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new Me([])),r=new dt(n,e),i=new dt(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new St(dt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(be);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ie(s),0);let a=new St(be);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new dt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.Mr=e,this.docs=function(){return new Ge(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||A4(C4(d),r)<=0||(i.has(d.key)||Zh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WU(this)}getSize(e){return $.resolve(this.size)}}class WU extends OU{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.persistence=e,this.Nr=new oa(n=>Fv(n),jv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wv,this.targetCount=0,this.kr=Wo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Dv(0),this.Kr=!1,this.Kr=!0,this.$r=new BU,this.referenceDelegate=e(this),this.Ur=new HU(this),this.indexManager=new DU,this.remoteDocumentCache=function(i){return new $U(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new NU(n),this.Gr=new jU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zU(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new qU(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qU extends R4{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.Jr=new Wv,this.Yr=null}static Zr(e){return new Hv(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qO()?8:P4(Ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KU;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ua()<=Ee.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Ua()<=Ee.DEBUG&&ee("QueryEngine","Query:",Ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ua()<=Ee.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):$.resolve())}Yi(e,n){if(vx(n))return $.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rh(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,rh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return vx(n)||i.isEqual(ue.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Ua()<=Ee.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ys(n)),this.rs(e,o,n,I4(i,-1)).next(a=>a))})}ts(e,n){let r=new St(qb(e));return n.forEach((i,s)=>{Zh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ua()<=Ee.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ys(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ge(be),this._s=new oa(s=>Fv(s),jv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function XU(t,e,n,r){return new YU(t,e,n,r)}async function yR(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function JU(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=$.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(x=>{const S=u.docVersions.get(v);Ce(S!==null),x.version.compareTo(S)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vR(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZU(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(At.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(x,S,g){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=$r(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(eB(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ue.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function eB(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function tB(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nB(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Cg(t,e,n){const r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xu(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Rx(t,e,n){const r=fe(t);let i=ue.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=fe(l),f=h._s.get(d);return f!==void 0?$.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:_e())).next(a=>(rB(r,K4(e),a),{documents:a,Ts:s})))}function rB(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Px{constructor(){this.activeTargetIds=eU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iB{constructor(){this.so=new Px,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Px,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function Np(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class lB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Np(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=oB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Np();return new Promise((o,a)=>{const l=new Rb;l.setWithCredentials(!0),l.listenOnce(Pb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ld.NO_ERROR:const d=l.getResponseJson();ee(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ld.TIMEOUT:ee(Mt,`RPC '${e}' ${s} timed out`),a(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const h=l.getStatus();if(ee(Mt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(S){const g=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(g)>=0?g:z.UNKNOWN}(m.status);a(new Q(v,m.message))}else a(new Q(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(z.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{ee(Mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Np(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Mb(),a=Nb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(Mt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const v=new aB({Io:S=>{m?ee(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(ee(Mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ee(Mt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),x=(S,g,E)=>{S.listen(g,I=>{try{E(I)}catch(P){setTimeout(()=>{throw P},0)}})};return x(h,Qa.EventType.OPEN,()=>{m||(ee(Mt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),x(h,Qa.EventType.CLOSE,()=>{m||(m=!0,ee(Mt,`RPC '${e}' stream ${i} transport closed`),v.So())}),x(h,Qa.EventType.ERROR,S=>{m||(m=!0,Uo(Mt,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),x(h,Qa.EventType.MESSAGE,S=>{var g;if(!m){const E=S.data[0];Ce(!!E);const I=E,P=I.error||((g=I[0])===null||g===void 0?void 0:g.error);if(P){ee(Mt,`RPC '${e}' stream ${i} received error:`,P);const k=P.status;let O=function(A){const R=tt[A];if(R!==void 0)return oR(R)}(k),C=P.message;O===void 0&&(O=z.INTERNAL,C="Unknown error status: "+k+" with message "+P.message),m=!0,v.So(new Q(O,C)),h.close()}else ee(Mt,`RPC '${e}' stream ${i} received:`,E),v.bo(E)}}),x(a,kb.STAT_EVENT,S=>{S.stat===yg.PROXY?ee(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===yg.NOPROXY&&ee(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return new vU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uB extends wR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?mn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ig(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Eg(l)?{documents:SU(s,l)}:{query:IU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uR(s,o.resumeToken);const u=Tg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=sh(s,o.snapshotVersion.toTimestamp());const u=Tg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=AU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ig(this.serializer),n.removeTarget=e,this.a_(n)}}class cB extends wR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=TU(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ig(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Sg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Sg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Vs(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.L_.add(4),await Cu(u),u.q_.set("Unknown"),u.L_.delete(4),await of(u)}(this))})}),this.q_=new hB(r,i)}}async function of(t){if(Vs(t))for(const e of t.B_)await e(!0)}async function Cu(t){for(const e of t.B_)await e(!1)}function _R(t,e){const n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Xv(n)?Yv(n):aa(n).r_()&&Qv(n,e))}function Kv(t,e){const n=fe(t),r=aa(n);n.N_.delete(e),r.r_()&&ER(n,e),n.N_.size===0&&(r.r_()?r.o_():Vs(n)&&n.q_.set("Unknown"))}function Qv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).A_(e)}function ER(t,e){t.Q_.xe(e),aa(t).R_(e)}function Yv(t){t.Q_=new pU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.q_.v_()}function Xv(t){return Vs(t)&&!aa(t).n_()&&t.N_.size>0}function Vs(t){return fe(t).L_.size===0}function xR(t){t.Q_=void 0}async function pB(t){t.q_.set("Online")}async function mB(t){t.N_.forEach((e,n)=>{Qv(t,e)})}async function gB(t,e){xR(t),Xv(t)?(t.q_.M_(e),Yv(t)):t.q_.set("Unknown")}async function yB(t,e,n){if(t.q_.set("Online"),e instanceof lR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(t,r)}else if(e instanceof dd?t.Q_.Ke(e):e instanceof aR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await vR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(At.EMPTY_BYTE_STRING,d.snapshotVersion)),ER(s,l);const h=new mi(d.target,l,u,d.sequenceNumber);Qv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await ah(t,r)}}async function ah(t,e,n){if(!xu(e))throw e;t.L_.add(1),await Cu(t),t.q_.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await of(t)})}function TR(t,e){return e().catch(n=>ah(t,n,e))}async function af(t){const e=fe(t),n=Di(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vB(e);)try{const i=await tB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,wB(e,i)}catch(i){await ah(e,i)}SR(e)&&IR(e)}function vB(t){return Vs(t)&&t.O_.length<10}function wB(t,e){t.O_.push(e);const n=Di(t);n.r_()&&n.V_&&n.m_(e.mutations)}function SR(t){return Vs(t)&&!Di(t).n_()&&t.O_.length>0}function IR(t){Di(t).start()}async function _B(t){Di(t).p_()}async function EB(t){const e=Di(t);for(const n of t.O_)e.m_(n.mutations)}async function xB(t,e,n){const r=t.O_.shift(),i=Bv.from(r,e,n);await TR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await af(t)}async function TB(t,e){e&&Di(t).V_&&await async function(r,i){if(function(o){return sR(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Di(r).s_(),await TR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await af(r)}}(t,e),SR(t)&&IR(t)}async function Nx(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Vs(n);n.L_.add(3),await Cu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await of(n)}async function SB(t,e){const n=fe(t);e?(n.L_.delete(2),await of(n)):e||(n.L_.add(2),await Cu(n),n.q_.set("Unknown"))}function aa(t){return t.K_||(t.K_=function(n,r,i){const s=fe(n);return s.w_(),new uB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:pB.bind(null,t),Ro:mB.bind(null,t),mo:gB.bind(null,t),d_:yB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Xv(t)?Yv(t):t.q_.set("Unknown")):(await t.K_.stop(),xR(t))})),t.K_}function Di(t){return t.U_||(t.U_=function(n,r,i){const s=fe(n);return s.w_(),new cB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_B.bind(null,t),mo:TB.bind(null,t),f_:EB.bind(null,t),g_:xB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await af(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Jv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zv(t,e){if(zr("AsyncQueue",`${e}: ${t}`),xu(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.W_=new Ge(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ho{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ho(e,n,bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CB{constructor(){this.queries=Dx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=Dx(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function Dx(){return new oa(t=>Gb(t),Jh)}async function ew(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new IB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Zv(o,`Initialization of query '${Ys(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&nw(n)}async function tw(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AB(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&nw(n)}function bB(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function nw(t){t.Y_.forEach(e=>{e.next()})}var Ag,Vx;(Vx=Ag||(Ag={})).ea="default",Vx.Cache="cache";class rw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.key=e}}class AR{constructor(e){this.key=e}}class RB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=qb(e),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Mx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Zh(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?v!==x&&(r.track({type:3,doc:m}),S=!0):this.ga(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,v){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return x(m)-x(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ho(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Mx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new AR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new CR(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ho.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class PB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kB{constructor(e){this.key=e,this.va=!1}}class NB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new oa(a=>Gb(a),Jh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(ie.comparator),this.Na=new Map,this.La=new Wv,this.Ba={},this.ka=new Map,this.qa=Wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MB(t,e,n=!0){const r=MR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await bR(r,e,n,!0),i}async function DB(t,e){const n=MR(t);await bR(n,e,!0,!1)}async function bR(t,e,n,r){const i=await nB(t.localStore,lr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await VB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_R(t.remoteStore,i),a}async function VB(t,e,n,r,i){t.Ka=(h,f,m)=>async function(x,S,g,E){let I=S.view.ma(g);I.ns&&(I=await Rx(x.localStore,S.query,!1).then(({documents:C})=>S.view.ma(C,I)));const P=E&&E.targetChanges.get(S.targetId),k=E&&E.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(I,x.isPrimaryClient,P,k);return Lx(x,S.targetId,O.wa),O.snapshot}(t,h,f,m);const s=await Rx(t.localStore,e,!0),o=new RB(e,s.Ts),a=o.ma(s.documents),l=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Lx(t,n,u.wa);const d=new PB(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function OB(t,e,n){const r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Jh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kv(r.remoteStore,i.targetId),bg(r,i.targetId)}).catch(Eu)):(bg(r,i.targetId),await Cg(r.localStore,i.targetId,!0))}async function LB(t,e){const n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(n.remoteStore,r.targetId))}async function FB(t,e,n){const r=HB(t);try{const i=await function(o,a){const l=fe(o),u=ct.now(),d=a.reduce((m,v)=>m.add(v.key),_e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=$r(),x=_e();return l.cs.getEntries(m,d).next(S=>{v=S,v.forEach((g,E)=>{E.isValidDocument()||(x=x.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(S=>{h=S;const g=[];for(const E of a){const I=lU(E,h.get(E.key).overlayedDocument);I!=null&&g.push(new $i(E.key,I,Fb(I.value.mapValue),xt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(S=>{f=S;const g=S.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(m,S.batchId,g)})}).then(()=>({batchId:f.batchId,changes:Qb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ge(be)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Au(r,i.changes),await af(r.remoteStore)}catch(i){const s=Zv(i,"Failed to persist write");n.reject(s)}}async function RR(t,e){const n=fe(t);try{const r=await ZU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),await Au(n,r,e)}catch(r){await Eu(r)}}function Ox(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&nw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jB(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ge(ie.comparator);o=o.insert(s,ft.newNoDocument(s,ue.min()));const a=_e().add(s),l=new rf(ue.min(),new Map,new Ge(be),o,a);await RR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),iw(r)}else await Cg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(Eu)}async function UB(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await JU(n.localStore,e);kR(n,r,null),PR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,i)}catch(i){await Eu(i)}}async function BB(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ce(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);kR(r,e,n),PR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,i)}catch(i){await Eu(i)}}function PR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kR(t,e,n){const r=fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||NR(t,r)})}function NR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Kv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iw(t))}function Lx(t,e,n){for(const r of n)r instanceof CR?(t.La.addReference(r.key,e),zB(t,r)):r instanceof AR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||NR(t,r.key)):se()}function zB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),iw(t))}function iw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new kB(n)),t.Oa=t.Oa.insert(n,r),_R(t.remoteStore,new mi(lr(Xh(n.path)),r,"TargetPurposeLimboResolution",Dv.oe))}}async function Au(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Gv.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!xu(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),v=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(f,x)}}}(r.localStore,s))}async function $B(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await yR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Q(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.hs)}}function WB(t,e){const n=fe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function MR(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jB.bind(null,e),e.Ca.d_=AB.bind(null,e.eventManager),e.Ca.$a=bB.bind(null,e.eventManager),e}function HB(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BB.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XU(this.persistence,new QU,e.initialUser,this.serializer)}Ga(e){return new GU(Hv.Zr,this.serializer)}Wa(e){return new iB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ox(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$B.bind(null,this.syncEngine),await SB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CB}()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),r=function(s){return new lB(s)}(e.databaseInfo);return function(s,o,a,l){return new dB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new fB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ox(this.syncEngine,n,0),function(){return kx.D()?new kx:new sB}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new NB(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Cu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=fe(i),a={documents:s.map(h=>oh(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Me.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=EU(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());Ce(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new iR(i,this.precondition(i)))}),await async function(r,i){const s=fe(r),o={writes:i.map(a=>fR(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,Me.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?xt.exists(!1):xt.updateTime(n):xt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new Q(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(n)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new qv(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new GB(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Tu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!sR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=Vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dp(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QB(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Nx(e.remoteStore,i)),t._onlineComponents=e}async function QB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Dp(t,new lh)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Dp(t,new lh);return t._offlineComponents}async function ow(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Fx(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Fx(t,new Rg))),t._onlineComponents}function YB(t){return ow(t).then(e=>e.syncEngine)}function XB(t){return ow(t).then(e=>e.datastore)}async function uh(t){const e=await ow(t),n=e.eventManager;return n.onListen=MB.bind(null,e.syncEngine),n.onUnlisten=OB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LB.bind(null,e.syncEngine),n}function JB(t,e,n={}){const r=new ar;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new sw({next:f=>{d.Za(),o.enqueueAndForget(()=>tw(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new rw(Xh(a.path),d,{includeMetadataChanges:!0,_a:!0});return ew(s,h)}(await uh(t),t.asyncQueue,e,n,r)),r.promise}function ZB(t,e,n={}){const r=new ar;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new sw({next:f=>{d.Za(),o.enqueueAndForget(()=>tw(s,h)),f.fromCache&&l.source==="server"?u.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new rw(a,d,{includeMetadataChanges:!0,_a:!0});return ew(s,h)}(await uh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ez(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ux(t){if(!ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bx(t){if(ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lf(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ez("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g4;switch(r.type){case"firstParty":return new _4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jx.get(n);r&&(ee("ComponentProvider","Removing Datastore"),jx.delete(n),r.terminate())}(this),Promise.resolve()}}function tz(t,e,n,r={}){var i;const s=(t=Gt(t,uf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=BO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(u)}t._authCredentials=new y4(new Db(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class Ai extends Xr{constructor(e,n,r){super(e,n,Xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ie(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function ur(t,e,...n){if(t=Ye(t),VR("collection","path",e),t instanceof uf){const r=Me.fromString(e,...n);return Bx(r),new Ai(t,null,r)}{if(!(t instanceof It||t instanceof Ai))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Bx(r),new Ai(t.firestore,null,r)}}function pt(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=Vb.newId()),VR("doc","path",e),t instanceof uf){const r=Me.fromString(e,...n);return Ux(r),new It(t,null,new ie(r))}{if(!(t instanceof It||t instanceof Ai))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Ux(r),new It(t.firestore,t instanceof Ai?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qv(this,"async_queue_retry"),this.Vu=()=>{const r=Mp();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ar;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xu(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Jv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Wx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gr extends uf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $x,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function nz(t,e){const n=typeof t=="object"?t:xv(),r=typeof t=="string"?t:"(default)",i=Ms(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jO("firestore");s&&tz(i,...s)}return i}function bu(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rz(t),t._firestoreClient}function rz(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new M4(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(At.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cs(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=/^__.*__$/;class sz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class OR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class uw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ch(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LR(this.Cu)&&iz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class oz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sf(e)}Qu(e,n,r,i=!1){return new uw({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(t){const e=t._freezeSettings(),n=sf(t._databaseId);return new oz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cw(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);hw("Data must be an object, but it was:",o,r);const a=UR(r,o);let l,u;if(s.merge)l=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Pg(e,h,n);if(!o.contains(f))throw new Q(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zR(d,f)||d.push(f)}l=new fn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new sz(new $t(a),l,u)}class df extends cf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class dw extends cf{_toFieldTransform(e){return new iU(e.path,new ql)}isEqual(e){return e instanceof dw}}function FR(t,e,n,r){const i=t.Qu(1,e,n);hw("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();Ds(r,(l,u)=>{const d=fw(e,l,n);u=Ye(u);const h=i.Nu(d);if(u instanceof df)s.push(d);else{const f=ku(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new fn(s);return new OR(o,a,i.fieldTransforms)}function jR(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Pg(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Pg(e,s[f])),l.push(s[f+1]);const u=[],d=$t.empty();for(let f=a.length-1;f>=0;--f)if(!zR(u,a[f])){const m=a[f];let v=l[f];v=Ye(v);const x=o.Nu(m);if(v instanceof df)u.push(m);else{const S=ku(v,x);S!=null&&(u.push(m),d.set(m,S))}}const h=new fn(u);return new OR(d,h,o.fieldTransforms)}function az(t,e,n,r=!1){return ku(n,t.Qu(r?4:3,e))}function ku(t,e){if(BR(t=Ye(t)))return hw("Unsupported field value:",e,t),UR(t,e);if(t instanceof cf)return function(r,i){if(!LR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ku(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ct.fromDate(r);return{timestampValue:sh(i.serializer,s)}}if(r instanceof ct){const s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,s)}}if(r instanceof aw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:uR(i.serializer,r._byteString)};if(r instanceof It){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$v(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Uv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${lf(r)}`)}(t,e)}function UR(t,e){const n={};return Ob(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=ku(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof aw||t instanceof Cs||t instanceof It||t instanceof cf||t instanceof lw)}function hw(t,e,n){if(!BR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Pg(t,e,n){if((e=Ye(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return fw(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const lz=new RegExp("[~\\*/\\[\\]]");function fw(t,e,n){if(e.search(lz)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(z.INVALID_ARGUMENT,a+t+l)}function zR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uz extends dh{data(){return super.data()}}function hf(t,e){return typeof e=="string"?fw(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pw{}class mw extends pw{}function Dr(t,e,...n){let r=[];e instanceof pw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof gw).length,a=s.filter(l=>l instanceof ff).length;if(o>1||o>0&&a>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ff extends mw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ff(e,n,r)}_apply(e){const n=this._parse(e);return HR(e._query,n),new Xr(e.firestore,e.converter,xg(e._query,n))}_parse(e){const n=Pu(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Gx(h,d);const m=[];for(const v of h)m.push(Hx(l,s,v));f={arrayValue:{values:m}}}else f=Hx(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Gx(h,d),f=az(a,o,h,d==="in"||d==="not-in");return it.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bi(t,e,n){const r=e,i=hf("where",t);return ff._create(i,r,n)}class gw extends pw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)HR(o,l),o=xg(o,l)}(e._query,n),new Xr(e.firestore,e.converter,xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yw extends mw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(s,o)}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new sa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function WR(t,e="asc"){const n=e,r=hf("orderBy",t);return yw._create(r,n)}class vw extends mw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new vw(e,n,r)}_apply(e){return new Xr(e.firestore,e.converter,rh(e._query,this._limit,this._limitType))}}function cz(t){return vw._create("limit",t,"F")}function Hx(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hb(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ie.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hx(t,new ie(r))}if(n instanceof It)return hx(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(n)}.`)}function Gx(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GR{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Je(o.doubleValue));return new lw(s)}convertGeoPoint(e){return new aw(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ce(gR(r));const i=new Wl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dz extends GR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _w extends dh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hd extends _w{data(e={}){return super.data(e)}}class qR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hd(this._firestore,this._userDataWriter,r.key,r,new ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new hd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new hd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:hz(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){t=Gt(t,It);const e=Gt(t.firestore,gr);return JB(bu(e),t._key).then(n=>KR(e,t,n))}class pf extends GR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Os(t){t=Gt(t,Xr);const e=Gt(t.firestore,gr),n=bu(e),r=new pf(e);return $R(t._query),ZB(n,t._query).then(i=>new qR(e,r,t,i))}function Vp(t,e,n){t=Gt(t,It);const r=Gt(t.firestore,gr),i=ww(t.converter,e,n);return mf(r,[cw(Pu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xt.none())])}function fz(t,e,n,...r){t=Gt(t,It);const i=Gt(t.firestore,gr),s=Pu(i);let o;return o=typeof(e=Ye(e))=="string"||e instanceof Ru?jR(s,"updateDoc",t._key,e,n,r):FR(s,"updateDoc",t._key,e),mf(i,[o.toMutation(t._key,xt.exists(!0))])}function gi(t){return mf(Gt(t.firestore,gr),[new nf(t._key,xt.none())])}function qx(t,e){const n=Gt(t.firestore,gr),r=pt(t),i=ww(t.converter,e);return mf(n,[cw(Pu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function pz(t,...e){var n,r,i;t=Ye(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Wx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Wx(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof It)u=Gt(t.firestore,gr),d=Xh(t._key.path),l={next:h=>{e[o]&&e[o](KR(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Gt(t,Xr);u=Gt(h.firestore,gr),d=h._query;const f=new pf(u);l={next:m=>{e[o]&&e[o](new qR(u,f,h,m))},error:e[o+1],complete:e[o+2]},$R(t._query)}return function(f,m,v,x){const S=new sw(x),g=new rw(m,S,v);return f.asyncQueue.enqueueAndForget(async()=>ew(await uh(f),g)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>tw(await uh(f),g))}}(bu(u),d,a,l)}function mf(t,e){return function(r,i){const s=new ar;return r.asyncQueue.enqueueAndForget(async()=>FB(await YB(r),i,s)),s.promise}(bu(t),e)}function KR(t,e,n){const r=n.docs.get(e._key),i=new pf(t);return new _w(t,i,e._key,r,new ho(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz={maxAttempts:5};function Ba(t,e){if((t=Ye(t)).firestore!==e)throw new Q(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Pu(n)}get(n){const r=Ba(n,this._firestore),i=new dz(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return se();const o=s[0];if(o.isFoundDocument())return new dh(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new dh(this._firestore,i,r._key,null,r.converter);throw se()})}set(n,r,i){const s=Ba(n,this._firestore),o=ww(s.converter,r,i),a=cw(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Ba(n,this._firestore);let a;return a=typeof(r=Ye(r))=="string"||r instanceof Ru?jR(this._dataReader,"Transaction.update",o._key,r,i,s):FR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ba(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ba(e,this._firestore),r=new pf(this._firestore);return super.get(e).then(i=>new _w(this._firestore,r,n._key,i._document,new ho(!1,!1),n.converter))}}function yz(t,e,n){t=Gt(t,gr);const r=Object.assign(Object.assign({},mz),n);return function(s){if(s.maxAttempts<1)throw new Q(z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new ar;return s.asyncQueue.enqueueAndForget(async()=>{const u=await XB(s);new qB(s.asyncQueue,u,a,o,l).au()}),l.promise}(bu(t),i=>e(new gz(t,i)),r)}function QR(){return new dw("serverTimestamp")}(function(e,n=!0){(function(i){ia=i})(na),fr(new Hn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gr(new v4(r.getProvider("auth-internal")),new x4(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),bn(ax,"4.7.3",e),bn(ax,"4.7.3","esm2017")})();const YR="@firebase/installations",Ew="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e4,JR=`w:${Ew}`,ZR="FIS_v2",vz="https://firebaseinstallations.googleapis.com/v1",wz=60*60*1e3,_z="installations",Ez="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},As=new Ns(_z,Ez,xz);function eP(t){return t instanceof Xn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP({projectId:t}){return`${vz}/projects/${t}/installations`}function nP(t){return{token:t.token,requestStatus:2,expiresIn:Sz(t.expiresIn),creationTime:Date.now()}}async function rP(t,e){const r=(await e.json()).error;return As.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tz(t,{refreshToken:e}){const n=iP(t);return n.append("Authorization",Iz(e)),n}async function sP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Sz(t){return Number(t.replace("s","000"))}function Iz(t){return`${ZR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=tP(t),i=iP(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:ZR,appId:t.appId,sdkVersion:JR},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await sP(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:nP(u.authToken)}}else throw await rP("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=/^[cdef][\w-]{21}$/,kg="";function Rz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Pz(t);return bz.test(n)?n:kg}catch{return kg}}function Pz(t){return Az(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Map;function lP(t,e){const n=gf(t);uP(n,e),kz(n,e)}function uP(t,e){const n=aP.get(t);if(n)for(const r of n)r(e)}function kz(t,e){const n=Nz();n&&n.postMessage({key:t,fid:e}),Mz()}let ls=null;function Nz(){return!ls&&"BroadcastChannel"in self&&(ls=new BroadcastChannel("[Firebase] FID Change"),ls.onmessage=t=>{uP(t.data.key,t.data.fid)}),ls}function Mz(){aP.size===0&&ls&&(ls.close(),ls=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="firebase-installations-database",Vz=1,bs="firebase-installations-store";let Op=null;function xw(){return Op||(Op=qA(Dz,Vz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bs)}}})),Op}async function hh(t,e){const n=gf(t),i=(await xw()).transaction(bs,"readwrite"),s=i.objectStore(bs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&lP(t,e.fid),e}async function cP(t){const e=gf(t),r=(await xw()).transaction(bs,"readwrite");await r.objectStore(bs).delete(e),await r.done}async function yf(t,e){const n=gf(t),i=(await xw()).transaction(bs,"readwrite"),s=i.objectStore(bs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&lP(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(t){let e;const n=await yf(t.appConfig,r=>{const i=Oz(r),s=Lz(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===kg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Oz(t){const e=t||{fid:Rz(),registrationStatus:0};return dP(e)}function Lz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(As.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Fz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jz(t)}:{installationEntry:e}}async function Fz(t,e){try{const n=await Cz(t,e);return hh(t.appConfig,n)}catch(n){throw eP(n)&&n.customData.serverCode===409?await cP(t.appConfig):await hh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jz(t){let e=await Kx(t.appConfig);for(;e.registrationStatus===1;)await oP(100),e=await Kx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Tw(t);return r||n}return e}function Kx(t){return yf(t,e=>{if(!e)throw As.create("installation-not-found");return dP(e)})}function dP(t){return Uz(t)?{fid:t.fid,registrationStatus:0}:t}function Uz(t){return t.registrationStatus===1&&t.registrationTime+XR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz({appConfig:t,heartbeatServiceProvider:e},n){const r=zz(t,n),i=Tz(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:JR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await sP(()=>fetch(r,a));if(l.ok){const u=await l.json();return nP(u)}else throw await rP("Generate Auth Token",l)}function zz(t,{fid:e}){return`${tP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(t,e=!1){let n;const r=await yf(t.appConfig,s=>{if(!hP(s))throw As.create("not-registered");const o=s.authToken;if(!e&&Hz(o))return s;if(o.requestStatus===1)return n=$z(t,e),s;{if(!navigator.onLine)throw As.create("app-offline");const a=qz(s);return n=Wz(t,a),a}});return n?await n:r.authToken}async function $z(t,e){let n=await Qx(t.appConfig);for(;n.authToken.requestStatus===1;)await oP(100),n=await Qx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Sw(t,e):r}function Qx(t){return yf(t,e=>{if(!hP(e))throw As.create("not-registered");const n=e.authToken;return Kz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Wz(t,e){try{const n=await Bz(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await hh(t.appConfig,r),n}catch(n){if(eP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await cP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hh(t.appConfig,r)}throw n}}function hP(t){return t!==void 0&&t.registrationStatus===2}function Hz(t){return t.requestStatus===2&&!Gz(t)}function Gz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wz}function qz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Kz(t){return t.requestStatus===1&&t.requestTime+XR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t){const e=t,{installationEntry:n,registrationPromise:r}=await Tw(e);return r?r.catch(console.error):Sw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e=!1){const n=t;return await Xz(n),(await Sw(n,e)).token}async function Xz(t){const{registrationPromise:e}=await Tw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){if(!t||!t.options)throw Lp("App Configuration");if(!t.name)throw Lp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Lp(t){return As.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="installations",Zz="installations-internal",e$=t=>{const e=t.getProvider("app").getImmediate(),n=Jz(e),r=Ms(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t$=t=>{const e=t.getProvider("app").getImmediate(),n=Ms(e,fP).getImmediate();return{getId:()=>Qz(n),getToken:i=>Yz(n,i)}};function n$(){fr(new Hn(fP,e$,"PUBLIC")),fr(new Hn(Zz,t$,"PRIVATE"))}n$();bn(YR,Ew);bn(YR,Ew,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="analytics",r$="firebase_id",i$="origin",s$=60*1e3,o$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Ns("analytics","Analytics",a$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){if(!t.startsWith(Iw)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return on.warn(e.message),""}return t}function pP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function u$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function c$(t,e){const n=u$("firebase-js-sdk-policy",{createScriptURL:l$}),r=document.createElement("script"),i=`${Iw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function d$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function h$(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await pP(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){on.error(a)}t("config",i,s)}async function f$(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await pP(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){on.error(s)}}function p$(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await f$(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await h$(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){on.error(a)}}return i}function m$(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=p$(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function g$(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Iw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=30,v$=1e3;class w${constructor(e={},n=v$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mP=new w$;function _$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function E$(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:_$(r)},s=o$.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function x$(t,e=mP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new I$;return setTimeout(async()=>{a.abort()},s$),gP({appId:r,apiKey:i,measurementId:s},o,a,e)}async function gP(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=mP){var s;const{appId:o,measurementId:a}=t;try{await T$(r,e)}catch(l){if(a)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await E$(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!S$(u)){if(i.deleteThrottleMetadata(o),a)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?DE(n,i.intervalMillis,y$):DE(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),on.debug(`Calling attemptFetch again in ${d} millis`),gP(t,h,r,i)}}function T$(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function S$(t){if(!(t instanceof Xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class I${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function C$(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(){if($A())try{await WA()}catch(t){return on.warn(gn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return on.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b$(t,e,n,r,i,s,o){var a;const l=x$(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>on.error(m)),e.push(l);const u=A$().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([l,u]);g$(s)||c$(s,d.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[i$]="firebase",f.update=!0,h!=null&&(f[r$]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.app=e}_delete(){return delete ml[this.app.options.appId],Promise.resolve()}}let ml={},Yx=[];const Xx={};let Fp="dataLayer",P$="gtag",Jx,yP,Zx=!1;function k$(){const t=[];if(zA()&&t.push("This is a browser extension environment."),KO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});on.warn(n.message)}}function N$(t,e,n){k$();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(ml[r]!=null)throw gn.create("already-exists",{id:r});if(!Zx){d$(Fp);const{wrappedGtag:s,gtagCore:o}=m$(ml,Yx,Xx,Fp,P$);yP=s,Jx=o,Zx=!0}return ml[r]=b$(t,Yx,Xx,e,Jx,Fp,n),new R$(t)}function M$(t=xv()){t=Ye(t);const e=Ms(t,fh);return e.isInitialized()?e.getImmediate():D$(t)}function D$(t,e={}){const n=Ms(t,fh);if(n.isInitialized()){const i=n.getImmediate();if(jl(e,n.getOptions()))return i;throw gn.create("already-initialized")}return n.initialize({options:e})}function V$(t,e,n,r){t=Ye(t),C$(yP,ml[t.app.options.appId],e,n,r).catch(i=>on.error(i))}const eT="@firebase/analytics",tT="0.10.8";function O$(){fr(new Hn(fh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return N$(r,i,n)},"PUBLIC")),fr(new Hn("analytics-internal",t,"PRIVATE")),bn(eT,tT),bn(eT,tT,"esm2017");function t(e){try{const n=e.getProvider(fh).getImmediate();return{logEvent:(r,i,s)=>V$(n,r,i,s)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}}}O$();const L$={apiKey:"AIzaSyBuB1qo6t7mfdBPVkSKS04reB4nCDJzGeE",authDomain:"surchop-9d786.firebaseapp.com",projectId:"surchop-9d786",storageBucket:"surchop-9d786.firebasestorage.app",messagingSenderId:"584554467419",appId:"1:584554467419:web:7237cbf2bf4a9f761e2f7e",measurementId:"G-QBMK24EM00"},Cw=KA(L$),Ne=nz(Cw),Aw=h4(Cw),F$=new Ir;M$(Cw);const vP=()=>Ej(Aw,F$),j$=()=>tj(Aw);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),nT=t=>{const e=B$(t);return e.charAt(0).toUpperCase()+e.slice(1)},wP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),z$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...$$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wP("lucide",i),...!s&&!z$(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(W$,{ref:s,iconNode:e,className:wP(`lucide-${U$(nT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=nT(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],G$=st("arrow-left",H$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],K$=st("camera",q$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y$=st("check",Q$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J$=st("chevron-right",X$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e5=st("circle",Z$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],n5=st("ellipsis-vertical",t5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],i5=st("film",r5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],o5=st("flag",s5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],l5=st("globe",a5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bw=st("heart",u5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rT=st("house",c5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h5=st("log-out",d5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],iT=st("play",f5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m5=st("search",p5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],y5=st("share-2",g5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],w5=st("sparkles",v5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pc=st("square-check-big",_5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_P=st("trash-2",E5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sT=st("user-plus",x5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],S5=st("x",T5);function I5({user:t}){const e=Yr(),n=(t==null?void 0:t.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",r=e.pathname==="/jouer",i=({to:o,label:a,icon:l,accent:u=!1})=>{const d=e.pathname===o;return w.jsxs(So,{to:o,className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition
          ${d?"bg-primary/10 text-primary":"text-foreground/70 hover:bg-muted hover:text-foreground"}
          ${u?"text-primary font-semibold":""}`,children:[w.jsx(l,{size:16}),a]})},s=({to:o,label:a,icon:l})=>{const u=e.pathname===o;return w.jsxs(So,{to:o,className:`flex flex-col items-center justify-center flex-1 py-1.5 text-[11px] transition
                    ${u?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[w.jsx(l,{size:18}),w.jsx("span",{className:"mt-0.5",children:a})]})};return w.jsxs(w.Fragment,{children:[w.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b border-border",children:w.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between",children:[w.jsxs(So,{to:"/",className:"font-semibold text-base sm:text-lg flex items-center gap-2 text-primary",children:[w.jsx(bw,{className:"text-primary",size:18}),"SURCHOPE"]}),w.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[w.jsx(i,{to:"/",label:"Couples",icon:rT}),t&&w.jsx(i,{to:"/mes-votes",label:"Mes votes",icon:Pc}),w.jsx(i,{to:"/jouer",label:"Jouer",icon:iT,accent:!0}),t&&w.jsx(i,{to:"/ajouter-couple",label:"Ajouter",icon:sT}),n&&w.jsx(i,{to:"/valider-couples",label:" valider",icon:Pc})]}),w.jsx("div",{className:"flex items-center gap-2",children:t?w.jsxs(w.Fragment,{children:[w.jsx("img",{className:"w-8 h-8 rounded-full border border-border object-cover",src:t.photoURL??"",alt:t.displayName??"Avatar"}),w.jsxs("button",{className:"hidden sm:flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground underline-offset-2 hover:underline transition",onClick:()=>j$(),title:"Se dconnecter",children:[w.jsx(h5,{size:16,className:"text-muted-foreground"}),"Dconnexion"]})]}):w.jsxs("button",{onClick:()=>vP(),className:`
        flex items-center justify-center gap-3
        px-4 py-2
        bg-white text-black
        border border-gray-300 rounded-full
        shadow-sm
        hover:bg-gray-50 active:scale-[0.98]
        transition
    `,children:[w.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/2048px-Google_%22G%22_logo.svg.png",alt:"Logo Google",className:"w-5 h-5",loading:"lazy"}),w.jsx("span",{className:"font-medium text-sm",children:"Connexion Google"})]})})]})}),!r&&w.jsx("nav",{className:"md:hidden fixed bottom-0 inset-x-0 z-50 bg-background/95 border-t border-border backdrop-blur",children:w.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-around px-2",children:[w.jsx(s,{to:"/",label:"Couples",icon:rT}),t&&w.jsx(s,{to:"/mes-votes",label:"Mes votes",icon:Pc}),w.jsx(s,{to:"/jouer",label:"Jouer",icon:iT}),t&&w.jsx(s,{to:"/ajouter-couple",label:"Ajouter",icon:sT}),n&&w.jsx(s,{to:"/valider-couples",label:"Valider",icon:Pc})]})})]})}const Rw=y.createContext({});function Pw(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const kw=typeof window<"u",EP=kw?y.useLayoutEffect:y.useEffect,vf=y.createContext(null);function Nw(t,e){t.indexOf(e)===-1&&t.push(e)}function Mw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wr=(t,e,n)=>n>e?e:n<t?t:n;let Dw=()=>{};const Hr={},xP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function TP(t){return typeof t=="object"&&t!==null}const SP=t=>/^0[^.\s]+$/u.test(t);function Vw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rn=t=>t,C5=(t,e)=>n=>e(t(n)),Nu=(...t)=>t.reduce(C5),Yl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ow{constructor(){this.subscriptions=[]}add(e){return Nw(this.subscriptions,e),()=>Mw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cr=t=>t*1e3,Cn=t=>t/1e3;function IP(t,e){return e?t*(1e3/e):0}const CP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,A5=1e-7,b5=12;function R5(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=CP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>A5&&++a<b5);return o}function Mu(t,e,n,r){if(t===e&&n===r)return Rn;const i=s=>R5(s,0,1,t,n);return s=>s===0||s===1?s:CP(i(s),e,r)}const AP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bP=t=>e=>1-t(1-e),RP=Mu(.33,1.53,.69,.99),Lw=bP(RP),PP=AP(Lw),kP=t=>(t*=2)<1?.5*Lw(t):.5*(2-Math.pow(2,-10*(t-1))),Fw=t=>1-Math.sin(Math.acos(t)),NP=bP(Fw),MP=AP(Fw),P5=Mu(.42,0,1,1),k5=Mu(0,0,.58,1),DP=Mu(.42,0,.58,1),N5=t=>Array.isArray(t)&&typeof t[0]!="number",VP=t=>Array.isArray(t)&&typeof t[0]=="number",M5={linear:Rn,easeIn:P5,easeInOut:DP,easeOut:k5,circIn:Fw,circInOut:MP,circOut:NP,backIn:Lw,backInOut:PP,backOut:RP,anticipate:kP},D5=t=>typeof t=="string",oT=t=>{if(VP(t)){Dw(t.length===4);const[e,n,r,i]=t;return Mu(e,n,r,i)}else if(D5(t))return M5[t];return t},kc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V5(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,h=!1,f=!1)=>{const v=f&&i?n:r;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const O5=40;function OP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=kc.reduce((I,P)=>(I[P]=V5(s),I),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:v}=o,x=()=>{const I=Hr.useManualTiming?i.timestamp:performance.now();n=!1,Hr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(I-i.timestamp,O5),1)),i.timestamp=I,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},S=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:kc.reduce((I,P)=>{const k=o[P];return I[P]=(O,C=!1,T=!1)=>(n||S(),k.schedule(O,C,T)),I},{}),cancel:I=>{for(let P=0;P<kc.length;P++)o[kc[P]].cancel(I)},state:i,steps:o}}const{schedule:Ue,cancel:Vi,state:wt,steps:jp}=OP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let fd;function L5(){fd=void 0}const tn={now:()=>(fd===void 0&&tn.set(wt.isProcessing||Hr.useManualTiming?wt.timestamp:performance.now()),fd),set:t=>{fd=t,queueMicrotask(L5)}},LP=t=>e=>typeof e=="string"&&e.startsWith(t),jw=LP("--"),F5=LP("var(--"),Uw=t=>F5(t)?j5.test(t.split("/*")[0].trim()):!1,j5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,la={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xl={...la,transform:t=>Wr(0,1,t)},Nc={...la,default:1},gl=t=>Math.round(t*1e5)/1e5,Bw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U5(t){return t==null}const B5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zw=(t,e)=>n=>!!(typeof n=="string"&&B5.test(n)&&n.startsWith(t)||e&&!U5(n)&&Object.prototype.hasOwnProperty.call(n,e)),FP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Bw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},z5=t=>Wr(0,255,t),Up={...la,transform:t=>Math.round(z5(t))},us={test:zw("rgb","red"),parse:FP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Up.transform(t)+", "+Up.transform(e)+", "+Up.transform(n)+", "+gl(Xl.transform(r))+")"};function $5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ng={test:zw("#"),parse:$5,transform:us.transform},Du=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ii=Du("deg"),dr=Du("%"),le=Du("px"),W5=Du("vh"),H5=Du("vw"),aT={...dr,parse:t=>dr.parse(t)/100,transform:t=>dr.transform(t*100)},fo={test:zw("hsl","hue"),parse:FP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+dr.transform(gl(e))+", "+dr.transform(gl(n))+", "+gl(Xl.transform(r))+")"},nt={test:t=>us.test(t)||Ng.test(t)||fo.test(t),parse:t=>us.test(t)?us.parse(t):fo.test(t)?fo.parse(t):Ng.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?us.transform(t):fo.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},G5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Bw))==null?void 0:e.length)||0)+(((n=t.match(G5))==null?void 0:n.length)||0)>0}const jP="number",UP="color",K5="var",Q5="var(",lT="${}",Y5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Y5,l=>(nt.test(l)?(r.color.push(s),i.push(UP),n.push(nt.parse(l))):l.startsWith(Q5)?(r.var.push(s),i.push(K5),n.push(l)):(r.number.push(s),i.push(jP),n.push(parseFloat(l))),++s,lT)).split(lT);return{values:n,split:a,indexes:r,types:i}}function BP(t){return Jl(t).values}function zP(t){const{split:e,types:n}=Jl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===jP?s+=gl(i[o]):a===UP?s+=nt.transform(i[o]):s+=i[o]}return s}}const X5=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function J5(t){const e=BP(t);return zP(t)(e.map(X5))}const Oi={test:q5,parse:BP,createTransformer:zP,getAnimatableNone:J5};function Bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Z5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Bp(l,a,t+1/3),s=Bp(l,a,t),o=Bp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ph(t,e){return n=>n>0?e:t}const $e=(t,e,n)=>t+(e-t)*n,zp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},e3=[Ng,us,fo],t3=t=>e3.find(e=>e.test(t));function uT(t){const e=t3(t);if(!e)return!1;let n=e.parse(t);return e===fo&&(n=Z5(n)),n}const cT=(t,e)=>{const n=uT(t),r=uT(e);if(!n||!r)return ph(t,e);const i={...n};return s=>(i.red=zp(n.red,r.red,s),i.green=zp(n.green,r.green,s),i.blue=zp(n.blue,r.blue,s),i.alpha=$e(n.alpha,r.alpha,s),us.transform(i))},Mg=new Set(["none","hidden"]);function n3(t,e){return Mg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function r3(t,e){return n=>$e(t,e,n)}function $w(t){return typeof t=="number"?r3:typeof t=="string"?Uw(t)?ph:nt.test(t)?cT:o3:Array.isArray(t)?$P:typeof t=="object"?nt.test(t)?cT:i3:ph}function $P(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>$w(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function i3(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=$w(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function s3(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const o3=(t,e)=>{const n=Oi.createTransformer(e),r=Jl(t),i=Jl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Mg.has(t)&&!i.values.length||Mg.has(e)&&!r.values.length?n3(t,e):Nu($P(s3(r,i),i.values),n):ph(t,e)};function WP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$e(t,e,n):$w(t)(t,e)}const a3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ue.update(e,n),stop:()=>Vi(e),now:()=>wt.isProcessing?wt.timestamp:tn.now()}},HP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mh=2e4;function Ww(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mh;)e+=n,r=t.next(e);return e>=mh?1/0:e}function l3(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ww(r),mh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Cn(i)}}const u3=5;function GP(t,e,n){const r=Math.max(e-u3,0);return IP(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$p=.001;function c3({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,o=1-e;o=Wr(Ke.minDamping,Ke.maxDamping,o),t=Wr(Ke.minDuration,Ke.maxDuration,Cn(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=Dg(u,o),v=Math.exp(-h);return $p-f/m*v},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),x=Dg(Math.pow(u,2),o);return(-i(u)+$p>0?-1:1)*((f-m)*v)/x}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-$p+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=h3(i,s,a);if(t=cr(t),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const d3=12;function h3(t,e,n){let r=n;for(let i=1;i<d3;i++)r=r-t(r)/e(r);return r}function Dg(t,e){return t*Math.sqrt(1-e*e)}const f3=["duration","bounce"],p3=["stiffness","damping","mass"];function dT(t,e){return e.some(n=>t[n]!==void 0)}function m3(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!dT(t,p3)&&dT(t,f3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Wr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=c3(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function gh(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=m3({...n,velocity:-Cn(n.velocity||0)}),v=f||0,x=u/(2*Math.sqrt(l*d)),S=o-s,g=Cn(Math.sqrt(l/d)),E=Math.abs(S)<5;r||(r=E?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=E?Ke.restDelta.granular:Ke.restDelta.default);let I;if(x<1){const k=Dg(g,x);I=O=>{const C=Math.exp(-x*g*O);return o-C*((v+x*g*S)/k*Math.sin(k*O)+S*Math.cos(k*O))}}else if(x===1)I=k=>o-Math.exp(-g*k)*(S+(v+g*S)*k);else{const k=g*Math.sqrt(x*x-1);I=O=>{const C=Math.exp(-x*g*O),T=Math.min(k*O,300);return o-C*((v+x*g*S)*Math.sinh(T)+k*S*Math.cosh(T))/k}}const P={calculatedDuration:m&&h||null,next:k=>{const O=I(k);if(m)a.done=k>=h;else{let C=k===0?v:0;x<1&&(C=k===0?cr(v):GP(I,k,O));const T=Math.abs(C)<=r,A=Math.abs(o-O)<=i;a.done=T&&A}return a.value=a.done?o:O,a},toString:()=>{const k=Math.min(Ww(P),mh),O=HP(C=>P.next(k*C).value,k,30);return k+"ms "+O},toTransition:()=>{}};return P}gh.applyToOptions=t=>{const e=l3(t,100,gh);return t.ease=e.ease,t.duration=cr(e.duration),t.type="keyframes",t};function Vg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let x=n*e;const S=h+x,g=o===void 0?S:o(S);g!==S&&(x=g-h);const E=T=>-x*Math.exp(-T/r),I=T=>g+E(T),P=T=>{const A=E(T),R=I(T);f.done=Math.abs(A)<=u,f.value=f.done?g:R};let k,O;const C=T=>{m(f.value)&&(k=T,O=gh({keyframes:[f.value,v(f.value)],velocity:GP(I,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let A=!1;return!O&&k===void 0&&(A=!0,P(T),C(T)),k!==void 0&&T>=k?O.next(T-k):(!A&&P(T),f)}}}function g3(t,e,n){const r=[],i=n||Hr.mix||WP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rn:e;a=Nu(l,a)}r.push(a)}return r}function y3(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Dw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=g3(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Yl(t[h],t[h+1],d);return a[h](f)};return n?d=>u(Wr(t[0],t[s-1],d)):u}function v3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Yl(0,e,r);t.push($e(n,1,i))}}function w3(t){const e=[0];return v3(e,t.length-1),e}function _3(t,e){return t.map(n=>n*e)}function E3(t,e){return t.map(()=>e||DP).splice(0,t.length-1)}function yl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=N5(r)?r.map(oT):oT(r),s={done:!1,value:e[0]},o=_3(n&&n.length===e.length?n:w3(e),t),a=y3(o,e,{ease:Array.isArray(i)?i:E3(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const x3=t=>t!==null;function Hw(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(x3),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const T3={decay:Vg,inertia:Vg,tween:yl,keyframes:yl,spring:gh};function qP(t){typeof t.type=="string"&&(t.type=T3[t.type])}class Gw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const S3=t=>t/100;class qw extends Gw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qP(e);const{type:n=yl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||yl;l!==yl&&typeof a[0]!="number"&&(this.mixKeyframes=Nu(S3,WP(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ww(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let I=this.currentTime,P=r;if(h){const T=Math.min(this.currentTime,i)/a;let A=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(P=o)),I=Wr(0,1,R)*a}const k=E?{done:!1,value:d[0]}:P.next(I);s&&(k.value=s(k.value));let{done:O}=k;!E&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&v!==Vg&&(k.value=Hw(d,this.options,S,this.speed)),x&&x(k.value),C&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return Cn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cn(e)}get time(){return Cn(this.currentTime)}set time(e){var n;e=cr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=a3,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function I3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cs=t=>t*180/Math.PI,Og=t=>{const e=cs(Math.atan2(t[1],t[0]));return Lg(e)},C3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Og,rotateZ:Og,skewX:t=>cs(Math.atan(t[1])),skewY:t=>cs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lg=t=>(t=t%360,t<0&&(t+=360),t),hT=Og,fT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),A3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fT,scaleY:pT,scale:t=>(fT(t)+pT(t))/2,rotateX:t=>Lg(cs(Math.atan2(t[6],t[5]))),rotateY:t=>Lg(cs(Math.atan2(-t[2],t[0]))),rotateZ:hT,rotate:hT,skewX:t=>cs(Math.atan(t[4])),skewY:t=>cs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fg(t){return t.includes("scale")?1:0}function jg(t,e){if(!t||t==="none")return Fg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=A3,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C3,i=a}if(!i)return Fg(e);const s=r[e],o=i[1].split(",").map(R3);return typeof s=="function"?s(o):o[s]}const b3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jg(n,e)};function R3(t){return parseFloat(t.trim())}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ca=new Set(ua),mT=t=>t===la||t===le,P3=new Set(["x","y","z"]),k3=ua.filter(t=>!P3.has(t));function N3(t){const e=[];return k3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ms={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jg(e,"x"),y:(t,{transform:e})=>jg(e,"y")};ms.translateX=ms.x;ms.translateY=ms.y;const gs=new Set;let Ug=!1,Bg=!1,zg=!1;function KP(){if(Bg){const t=Array.from(gs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=N3(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bg=!1,Ug=!1,gs.forEach(t=>t.complete(zg)),gs.clear()}function QP(){gs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bg=!0)})}function M3(){zg=!0,QP(),KP(),zg=!1}class Kw{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gs.add(this),Ug||(Ug=!0,Ue.read(QP),Ue.resolveKeyframes(KP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}I3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gs.delete(this)}cancel(){this.state==="scheduled"&&(gs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const D3=t=>t.startsWith("--");function V3(t,e,n){D3(e)?t.style.setProperty(e,n):t.style[e]=n}const O3=Vw(()=>window.ScrollTimeline!==void 0),L3={};function F3(t,e){const n=Vw(t);return()=>L3[e]??n()}const YP=F3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ja=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ja([0,.65,.55,1]),circOut:Ja([.55,0,1,.45]),backIn:Ja([.31,.01,.66,-.59]),backOut:Ja([.33,1.53,.69,.99])};function XP(t,e){if(t)return typeof t=="function"?YP()?HP(t,e):"ease-out":VP(t)?Ja(t):Array.isArray(t)?t.map(n=>XP(n,e)||gT.easeOut):gT[t]}function j3(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=XP(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function JP(t){return typeof t=="function"&&"applyToOptions"in t}function U3({type:t,...e}){return JP(t)&&YP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class B3 extends Gw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Dw(typeof e.type!="string");const u=U3(e);this.animation=j3(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Hw(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):V3(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Cn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cn(e)}get time(){return Cn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&O3()?(this.animation.timeline=e,Rn):n(this)}}const ZP={anticipate:kP,backInOut:PP,circInOut:MP};function z3(t){return t in ZP}function $3(t){typeof t.ease=="string"&&z3(t.ease)&&(t.ease=ZP[t.ease])}const yT=10;class W3 extends B3{constructor(e){$3(e),qP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new qw({...o,autoplay:!1}),l=cr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-yT).value,a.sample(l).value,yT),a.stop()}}const vT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oi.test(t)||t==="0")&&!t.startsWith("url("));function H3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G3(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=vT(i,e),a=vT(s,e);return!o||!a?!1:H3(t)||(n==="spring"||JP(n))&&r}function $g(t){t.duration=0,t.type="keyframes"}const q3=new Set(["opacity","clipPath","filter","transform"]),K3=Vw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q3(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return K3()&&n&&q3.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Y3=40;class X3 extends Gw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var x,S;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=tn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Kw;this.keyframeResolver=new m(a,(x,S,g)=>this.onKeyframesResolved(x,S,f,!g),l,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=tn.now(),G3(e,s,o,a)||((Hr.instantAnimations||!l)&&(d==null||d(Hw(e,r,n))),e[0]=e[e.length-1],$g(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Y3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&Q3(f)?new W3({...f,element:f.motionValue.owner.current}):new qw(f);m.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),M3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const J3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z3(t){const e=J3.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function e1(t,e,n=1){const[r,i]=Z3(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xP(o)?parseFloat(o):o}return Uw(i)?e1(i,e,n+1):i}function Qw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const t1=new Set(["width","height","top","left","right","bottom",...ua]),e9={test:t=>t==="auto",parse:t=>t},n1=t=>e=>e.test(t),r1=[la,le,dr,ii,H5,W5,e9],wT=t=>r1.find(n1(t));function t9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SP(t):!0}const n9=new Set(["brightness","contrast","saturate","opacity"]);function r9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Bw)||[];if(!r)return t;const i=n.replace(r,"");let s=n9.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const i9=/\b([a-z-]*)\(.*?\)/gu,Wg={...Oi,getAnimatableNone:t=>{const e=t.match(i9);return e?e.map(r9).join(" "):t}},_T={...la,transform:Math.round},s9={rotate:ii,rotateX:ii,rotateY:ii,rotateZ:ii,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:ii,skewX:ii,skewY:ii,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Xl,originX:aT,originY:aT,originZ:le},Yw={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...s9,zIndex:_T,fillOpacity:Xl,strokeOpacity:Xl,numOctaves:_T},o9={...Yw,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:Wg,WebkitFilter:Wg},i1=t=>o9[t];function s1(t,e){let n=i1(t);return n!==Wg&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a9=new Set(["auto","none","0"]);function l9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!a9.has(s)&&Jl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=s1(n,i)}class u9 extends Kw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Uw(u))){const d=e1(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!t1.has(r)||e.length!==2)return;const[i,s]=e,o=wT(i),a=wT(s);if(o!==a)if(mT(o)&&mT(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ms[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||t9(e[i]))&&r.push(i);r.length&&l9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ms[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ms[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function c9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const o1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function a1(t){return TP(t)&&"offsetHeight"in t}const ET=30,d9=t=>!isNaN(parseFloat(t));class h9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=tn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=d9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ow);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ET)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ET);return IP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Go(t,e){return new h9(t,e)}const{schedule:Xw}=OP(queueMicrotask,!1),On={x:!1,y:!1};function l1(){return On.x||On.y}function f9(t){return t==="x"||t==="y"?On[t]?null:(On[t]=!0,()=>{On[t]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function u1(t,e){const n=c9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function xT(t){return!(t.pointerType==="touch"||l1())}function p9(t,e,n={}){const[r,i,s]=u1(t,n),o=a=>{if(!xT(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{xT(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const c1=(t,e)=>e?t===e?!0:c1(t,e.parentElement):!1,Jw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g9(t){return m9.has(t.tagName)||t.tabIndex!==-1}const pd=new WeakSet;function TT(t){return e=>{e.key==="Enter"&&t(e)}}function Wp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=TT(()=>{if(pd.has(n))return;Wp(n,"down");const i=TT(()=>{Wp(n,"up")}),s=()=>Wp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ST(t){return Jw(t)&&!l1()}function v9(t,e,n={}){const[r,i,s]=u1(t,n),o=a=>{const l=a.currentTarget;if(!ST(a))return;pd.add(l);const u=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),pd.has(l)&&pd.delete(l),ST(m)&&typeof u=="function"&&u(m,{success:v})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||c1(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a1(a)&&(a.addEventListener("focus",u=>y9(u,i)),!g9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function d1(t){return TP(t)&&"ownerSVGElement"in t}function w9(t){return d1(t)&&t.tagName==="svg"}const Ot=t=>!!(t&&t.getVelocity),_9=[...r1,nt,Oi],E9=t=>_9.find(n1(t)),Zw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function IT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x9(...t){return e=>{let n=!1;const r=t.map(i=>{const s=IT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():IT(t[i],null)}}}}function T9(...t){return y.useCallback(x9(...t),t)}class S9 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=a1(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function I9({children:t,isPresent:e,anchorX:n,root:r}){const i=y.useId(),s=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=y.useContext(Zw),l=T9(s,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=o.current;if(e||!s.current||!u||!d)return;const v=n==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");a&&(x.nonce=a);const S=r??document.head;return S.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{S.contains(x)&&S.removeChild(x)}},[e]),w.jsx(S9,{isPresent:e,childRef:s,sizeRef:o,children:y.cloneElement(t,{ref:l})})}const C9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Pw(A9),d=y.useId();let h=!0,f=y.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&h&&(f={...f}),y.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=w.jsx(I9,{isPresent:n,anchorX:a,root:l,children:t})),w.jsx(vf.Provider,{value:f,children:t})};function A9(){return new Map}function h1(t=!0){const e=y.useContext(vf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=y.useId();y.useEffect(()=>{if(t)return i(s)},[t]);const o=y.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Mc=t=>t.key||"";function CT(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const yh=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=h1(o),h=y.useMemo(()=>CT(t),[t]),f=o&&!u?[]:h.map(Mc),m=y.useRef(!0),v=y.useRef(h),x=Pw(()=>new Map),[S,g]=y.useState(h),[E,I]=y.useState(h);EP(()=>{m.current=!1,v.current=h;for(let O=0;O<E.length;O++){const C=Mc(E[O]);f.includes(C)?x.delete(C):x.get(C)!==!0&&x.set(C,!1)}},[E,f.length,f.join("-")]);const P=[];if(h!==S){let O=[...h];for(let C=0;C<E.length;C++){const T=E[C],A=Mc(T);f.includes(A)||(O.splice(C,0,T),P.push(T))}return s==="wait"&&P.length&&(O=P),I(CT(O)),g(h),null}const{forceRender:k}=y.useContext(Rw);return w.jsx(w.Fragment,{children:E.map(O=>{const C=Mc(O),T=o&&!u?!1:h===E||f.includes(C),A=()=>{if(x.has(C))x.set(C,!0);else return;let R=!0;x.forEach(M=>{M||(R=!1)}),R&&(k==null||k(),I(v.current),o&&(d==null||d()),r&&r())};return w.jsx(C9,{isPresent:T,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:A,anchorX:a,children:O},C)})})},f1=y.createContext({strict:!1}),AT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const t in AT)qo[t]={isEnabled:e=>AT[t].some(n=>!!e[n])};function b9(t){for(const e in t)qo[e]={...qo[e],...t[e]}}const R9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R9.has(t)}let p1=t=>!vh(t);function P9(t){typeof t=="function"&&(p1=e=>e.startsWith("on")?!vh(e):t(e))}try{P9(require("@emotion/is-prop-valid").default)}catch{}function k9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(p1(i)||n===!0&&vh(i)||!e&&!vh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const wf=y.createContext({});function _f(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zl(t){return typeof t=="string"||Array.isArray(t)}const e_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t_=["initial",...e_];function Ef(t){return _f(t.animate)||t_.some(e=>Zl(t[e]))}function m1(t){return!!(Ef(t)||t.variants)}function N9(t,e){if(Ef(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zl(n)?n:void 0,animate:Zl(r)?r:void 0}}return t.inherit!==!1?e:{}}function M9(t){const{initial:e,animate:n}=N9(t,y.useContext(wf));return y.useMemo(()=>({initial:e,animate:n}),[bT(e),bT(n)])}function bT(t){return Array.isArray(t)?t.join(" "):t}const eu={};function D9(t){for(const e in t)eu[e]=t[e],jw(e)&&(eu[e].isCSSVariable=!0)}function g1(t,{layout:e,layoutId:n}){return ca.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!eu[t]||t==="opacity")}const V9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O9=ua.length;function L9(t,e,n){let r="",i=!0;for(let s=0;s<O9;s++){const o=ua[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=o1(a,Yw[o]);if(!l){i=!1;const d=V9[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function n_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ca.has(l)){o=!0;continue}else if(jw(l)){i[l]=u;continue}else{const d=o1(u,Yw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=L9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const r_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y1(t,e,n){for(const r in e)!Ot(e[r])&&!g1(r,n)&&(t[r]=e[r])}function F9({transformTemplate:t},e){return y.useMemo(()=>{const n=r_();return n_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function j9(t,e){const n=t.style||{},r={};return y1(r,n,t),Object.assign(r,F9(t,e)),r}function U9(t,e){const n={},r=j9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const B9={offset:"stroke-dashoffset",array:"stroke-dasharray"},z9={offset:"strokeDashoffset",array:"strokeDasharray"};function $9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?B9:z9;t[s.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function v1(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,d){if(n_(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&$9(h,i,s,o,!1)}const w1=()=>({...r_(),attrs:{}}),_1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W9(t,e,n,r){const i=y.useMemo(()=>{const s=w1();return v1(s,e,_1(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};y1(s,t.style,t),i.style={...s,...i.style}}return i}const H9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i_(t){return typeof t!="string"||t.includes("-")?!1:!!(H9.indexOf(t)>-1||/[A-Z]/u.test(t))}function G9(t,e,n,{latestValues:r},i,s=!1){const a=(i_(t)?W9:U9)(e,r,i,t),l=k9(e,typeof t=="string",s),u=t!==y.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=y.useMemo(()=>Ot(d)?d.get():d,[d]);return y.createElement(t,{...u,children:h})}function RT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s_(t,e,n,r){if(typeof e=="function"){const[i,s]=RT(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=RT(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function md(t){return Ot(t)?t.get():t}function q9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:K9(n,r,i,t),renderState:e()}}function K9(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=md(s[f]);let{initial:o,animate:a}=t;const l=Ef(t),u=m1(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!_f(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=s_(t,f[m]);if(v){const{transitionEnd:x,transition:S,...g}=v;for(const E in g){let I=g[E];if(Array.isArray(I)){const P=d?I.length-1:0;I=I[P]}I!==null&&(i[E]=I)}for(const E in x)i[E]=x[E]}}}return i}const E1=t=>(e,n)=>{const r=y.useContext(wf),i=y.useContext(vf),s=()=>q9(t,e,r,i);return n?s():Pw(s)};function o_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Ot(r[o])||e.style&&Ot(e.style[o])||g1(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Q9=E1({scrapeMotionValuesFromProps:o_,createRenderState:r_});function x1(t,e,n){const r=o_(t,e,n);for(const i in t)if(Ot(t[i])||Ot(e[i])){const s=ua.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Y9=E1({scrapeMotionValuesFromProps:x1,createRenderState:w1}),X9=Symbol.for("motionComponentSymbol");function po(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function J9(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):po(n)&&(n.current=r))},[e])}const a_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z9="framerAppearId",T1="data-"+a_(Z9),S1=y.createContext({});function e6(t,e,n,r,i){var x,S;const{visualElement:s}=y.useContext(wf),o=y.useContext(f1),a=y.useContext(vf),l=y.useContext(Zw).reducedMotion,u=y.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=y.useContext(S1);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&t6(u.current,n,i,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[T1],v=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return EP(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1),d.enteringChildren=void 0)}),d}function t6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:I1(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&po(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function I1(t){if(t)return t.options.allowProjection!==!1?t.projection:I1(t.parent)}function Hp(t,{forwardMotionProps:e=!1}={},n,r){n&&b9(n);const i=i_(t)?Y9:Q9;function s(a,l){let u;const d={...y.useContext(Zw),...a,layoutId:n6(a)},{isStatic:h}=d,f=M9(a),m=i(a,h);if(!h&&kw){r6();const v=i6(d);u=v.MeasureLayout,f.visualElement=e6(t,m,d,r,v.ProjectionNode)}return w.jsxs(wf.Provider,{value:f,children:[u&&f.visualElement?w.jsx(u,{visualElement:f.visualElement,...d}):null,G9(t,a,J9(m,f.visualElement,l),m,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(s);return o[X9]=t,o}function n6({layoutId:t}){const e=y.useContext(Rw).id;return e&&t!==void 0?e+"-"+t:t}function r6(t,e){y.useContext(f1).strict}function i6(t){const{drag:e,layout:n}=qo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function s6(t,e){if(typeof Proxy>"u")return Hp;const n=new Map,r=(s,o)=>Hp(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Hp(o,void 0,t,e)),n.get(o))})}function C1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function o6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function a6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gp(t){return t===void 0||t===1}function Hg({scale:t,scaleX:e,scaleY:n}){return!Gp(t)||!Gp(e)||!Gp(n)}function ts(t){return Hg(t)||A1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function A1(t){return PT(t.x)||PT(t.y)}function PT(t){return t&&t!=="0%"}function wh(t,e,n){const r=t-n,i=e*r;return n+i}function kT(t,e,n,r,i){return i!==void 0&&(t=wh(t,i,r)),wh(t,n,r)+e}function Gg(t,e=0,n=1,r,i){t.min=kT(t.min,e,n,r,i),t.max=kT(t.max,e,n,r,i)}function b1(t,{x:e,y:n}){Gg(t.x,e.translate,e.scale,e.originPoint),Gg(t.y,n.translate,n.scale,n.originPoint)}const NT=.999999999999,MT=1.0000000000001;function l6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&go(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,b1(t,o)),r&&ts(s.latestValues)&&go(t,s.latestValues))}e.x<MT&&e.x>NT&&(e.x=1),e.y<MT&&e.y>NT&&(e.y=1)}function mo(t,e){t.min=t.min+e,t.max=t.max+e}function DT(t,e,n,r,i=.5){const s=$e(t.min,t.max,i);Gg(t,e,n,s,r)}function go(t,e){DT(t.x,e.x,e.scaleX,e.scale,e.originX),DT(t.y,e.y,e.scaleY,e.scale,e.originY)}function R1(t,e){return C1(a6(t.getBoundingClientRect(),e))}function u6(t,e,n){const r=R1(t,n),{scroll:i}=e;return i&&(mo(r.x,i.offset.x),mo(r.y,i.offset.y)),r}const VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:VT(),y:VT()}),OT=()=>({min:0,max:0}),Xe=()=>({x:OT(),y:OT()}),qg={current:null},P1={current:!1};function c6(){if(P1.current=!0,!!kw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qg.current=t.matches;t.addEventListener("change",e),e()}else qg.current=!1}const d6=new WeakMap;function h6(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ot(i))t.addValue(r,i);else if(Ot(s))t.addValue(r,Go(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Go(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=tn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ue.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ef(n),this.isVariantNode=m1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Ot(m)&&m.set(l[f])}}mount(e){var n;this.current=e,d6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),P1.current||c6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ca.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qo){const n=qo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LT.length;r++){const i=LT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=h6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Go(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xP(r)||SP(r))?r=parseFloat(r):!E9(r)&&Oi.test(n)&&(r=s1(e,n)),this.setBaseTarget(e,Ot(r)?r.get():r)),Ot(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=s_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ot(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ow),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Xw.render(this.render)}}class k1 extends f6{constructor(){super(...arguments),this.KeyframeResolver=u9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function N1(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function p6(t){return window.getComputedStyle(t)}class m6 extends k1{constructor(){super(...arguments),this.type="html",this.renderInstance=N1}readValueFromInstance(e,n){var r;if(ca.has(n))return(r=this.projection)!=null&&r.isProjecting?Fg(n):b3(e,n);{const i=p6(e),s=(jw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return R1(e,n)}build(e,n,r){n_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return o_(e,n,r)}}const M1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g6(t,e,n,r){N1(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(M1.has(i)?i:a_(i),e.attrs[i])}class y6 extends k1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ca.has(n)){const r=i1(n);return r&&r.default||0}return n=M1.has(n)?n:a_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return x1(e,n,r)}build(e,n,r){v1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){g6(e,n,r,i)}mount(e){this.isSVGTag=_1(e.tagName),super.mount(e)}}const v6=(t,e)=>i_(t)?new y6(e):new m6(e,{allowProjection:t!==y.Fragment});function Ro(t,e,n){const r=t.getProps();return s_(r,e,n!==void 0?n:r.custom,t)}const Kg=t=>Array.isArray(t);function w6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Go(n))}function _6(t){return Kg(t)?t[t.length-1]||0:t}function E6(t,e){const n=Ro(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=_6(s[o]);w6(t,o,a)}}function x6(t){return!!(Ot(t)&&t.add)}function Qg(t,e){const n=t.getValue("willChange");if(x6(n))return n.add(e);if(!n&&Hr.WillChange){const r=new Hr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function D1(t){return t.props[T1]}const T6=t=>t!==null;function S6(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(T6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const I6={type:"spring",stiffness:500,damping:25,restSpeed:10},C6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),A6={type:"keyframes",duration:.8},b6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R6=(t,{keyframes:e})=>e.length>2?A6:ca.has(t)?t.startsWith("scale")?C6(e[1]):I6:b6;function P6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const l_=(t,e,n,r={},i,s)=>o=>{const a=Qw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-cr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};P6(a)||Object.assign(d,R6(t,d)),d.duration&&(d.duration=cr(d.duration)),d.repeatDelay&&(d.repeatDelay=cr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&($g(d),d.delay===0&&(h=!0)),(Hr.instantAnimations||Hr.skipAnimations)&&(h=!0,$g(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=S6(d.keyframes,a);if(f!==void 0){Ue.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new qw(d):new X3(d)};function k6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function V1(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||u&&k6(u,d))continue;const m={delay:n,...Qw(s||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=D1(t);if(g){const E=window.MotionHandoffAnimation(g,d,Ue);E!==null&&(m.startTime=E,x=!0)}}Qg(t,d),h.start(l_(d,h,f,t.shouldReduceMotion&&t1.has(d)?{type:!1}:m,t,x));const S=h.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{Ue.update(()=>{o&&E6(t,o)})}),l}function O1(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Yg(t,e,n={}){var l;const r=Ro(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(V1(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return N6(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function N6(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Yg(l,e,{...o,delay:n+(typeof r=="function"?0:r)+O1(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function M6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Yg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Yg(t,e,n);else{const i=typeof e=="function"?Ro(t,e,n.custom):e;r=Promise.all(V1(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function L1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const D6=t_.length;function F1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?F1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<D6;n++){const r=t_[n],i=t.props[r];(Zl(i)||i===!1)&&(e[r]=i)}return e}const V6=[...e_].reverse(),O6=e_.length;function L6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>M6(t,n,r)))}function F6(t){let e=L6(t),n=FT(),r=!0;const i=l=>(u,d)=>{var f;const h=Ro(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...x}=h;u={...u,...x,...v}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=F1(t.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let S=0;S<O6;S++){const g=V6[S],E=n[g],I=u[g]!==void 0?u[g]:d[g],P=Zl(I),k=g===l?E.isActive:null;k===!1&&(v=S);let O=I===d[g]&&I!==u[g]&&P;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),E.protectedKeys={...m},!E.isActive&&k===null||!I&&!E.prevProp||_f(I)||typeof I=="boolean")continue;const C=j6(E.prevProp,I);let T=C||g===l&&E.isActive&&!O&&P||S>v&&P,A=!1;const R=Array.isArray(I)?I:[I];let M=R.reduce(i(g),{});k===!1&&(M={});const{prevResolvedValues:L={}}=E,N={...L,...M},oe=te=>{T=!0,f.has(te)&&(A=!0,f.delete(te)),E.needsAnimating[te]=!0;const F=t.getValue(te);F&&(F.liveStyle=!1)};for(const te in N){const F=M[te],B=L[te];if(m.hasOwnProperty(te))continue;let V=!1;Kg(F)&&Kg(B)?V=!L1(F,B):V=F!==B,V?F!=null?oe(te):f.add(te):F!==void 0&&f.has(te)?oe(te):E.protectedKeys[te]=!0}E.prevProp=I,E.prevResolvedValues=M,E.isActive&&(m={...m,...M}),r&&t.blockInitialAnimation&&(T=!1);const me=O&&C;T&&(!me||A)&&h.push(...R.map(te=>{const F={type:g};if(typeof te=="string"&&r&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,V=Ro(B,te);if(B.enteringChildren&&V){const{delayChildren:D}=V.transition||{};F.delay=O1(B.enteringChildren,t,D)}}return{animation:te,options:F}}))}if(f.size){const S={};if(typeof u.initial!="boolean"){const g=Ro(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(S.transition=g.transition)}f.forEach(g=>{const E=t.getBaseTarget(g),I=t.getValue(g);I&&(I.liveStyle=!0),S[g]=E??null}),h.push({animation:S})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=FT()}}}function j6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!L1(e,t):!1}function Yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FT(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}class Wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class U6 extends Wi{constructor(e){super(e),e.animationState||(e.animationState=F6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_f(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let B6=0;class z6 extends Wi{constructor(){super(...arguments),this.id=B6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $6={animation:{Feature:U6},exit:{Feature:z6}};function tu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vu(t){return{point:{x:t.pageX,y:t.pageY}}}const W6=t=>e=>Jw(e)&&t(e,Vu(e));function vl(t,e,n,r){return tu(t,e,W6(n),r)}const j1=1e-4,H6=1-j1,G6=1+j1,U1=.01,q6=0-U1,K6=0+U1;function Wt(t){return t.max-t.min}function Q6(t,e,n){return Math.abs(t-e)<=n}function jT(t,e,n,r=.5){t.origin=r,t.originPoint=$e(e.min,e.max,t.origin),t.scale=Wt(n)/Wt(e),t.translate=$e(n.min,n.max,t.origin)-t.originPoint,(t.scale>=H6&&t.scale<=G6||isNaN(t.scale))&&(t.scale=1),(t.translate>=q6&&t.translate<=K6||isNaN(t.translate))&&(t.translate=0)}function wl(t,e,n,r){jT(t.x,e.x,n.x,r?r.originX:void 0),jT(t.y,e.y,n.y,r?r.originY:void 0)}function UT(t,e,n){t.min=n.min+e.min,t.max=t.min+Wt(e)}function Y6(t,e,n){UT(t.x,e.x,n.x),UT(t.y,e.y,n.y)}function BT(t,e,n){t.min=e.min-n.min,t.max=t.min+Wt(e)}function _l(t,e,n){BT(t.x,e.x,n.x),BT(t.y,e.y,n.y)}function xn(t){return[t("x"),t("y")]}const B1=({current:t})=>t?t.ownerDocument.defaultView:null,zT=(t,e)=>Math.abs(t-e);function X6(t,e){const n=zT(t.x,e.x),r=zT(t.y,e.y);return Math.sqrt(n**2+r**2)}class z1{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Kp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=X6(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:x}=f,{timestamp:S}=wt;this.history.push({...x,timestamp:S});const{onStart:g,onMove:E}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qp(m,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Kp(f.type==="pointercancel"?this.lastMoveEventInfo:qp(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,g),x&&x(f,g)},!Jw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Vu(e),l=qp(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=wt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Kp(l,this.history)),this.removeListeners=Nu(vl(this.contextWindow,"pointermove",this.handlePointerMove),vl(this.contextWindow,"pointerup",this.handlePointerUp),vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function qp(t,e){return e?{point:e(t.point)}:t}function $T(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kp({point:t},e){return{point:t,delta:$T(t,$1(e)),offset:$T(t,J6(e)),velocity:Z6(e,.1)}}function J6(t){return t[0]}function $1(t){return t[t.length-1]}function Z6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=$1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>cr(e)));)n--;if(!r)return{x:0,y:0};const s=Cn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$e(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$e(n,t,r.max):Math.min(t,n)),t}function WT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tW(t,{top:e,left:n,bottom:r,right:i}){return{x:WT(t.x,n,i),y:WT(t.y,e,r)}}function HT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nW(t,e){return{x:HT(t.x,e.x),y:HT(t.y,e.y)}}function rW(t,e){let n=.5;const r=Wt(t),i=Wt(e);return i>r?n=Yl(e.min,e.max-r,t.min):r>i&&(n=Yl(t.min,t.max-i,e.min)),Wr(0,1,n)}function iW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xg=.35;function sW(t=Xg){return t===!1?t=0:t===!0&&(t=Xg),{x:GT(t,"left","right"),y:GT(t,"top","bottom")}}function GT(t,e,n){return{min:qT(t,e),max:qT(t,n)}}function qT(t,e){return typeof t=="number"?t:t[e]||0}const oW=new WeakMap;class aW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vu(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f9(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(g=>{let E=this.getAxisMotionValue(g).get()||0;if(dr.test(E)){const{projection:I}=this.visualElement;if(I&&I.layout){const P=I.layout.layoutBox[g];P&&(E=Wt(P)*(parseFloat(E)/100))}}this.originPoint[g]=E}),x&&Ue.postRender(()=>x(h,f)),Qg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(v&&this.currentDirection===null){this.currentDirection=lW(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>xn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new z1(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:B1(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ue.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Dc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=eW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&po(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=tW(r.layoutBox,e):this.constraints=!1,this.elastic=sW(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iW(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!po(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=u6(r,i.root,this.visualElement.getTransformPagePoint());let o=nW(i.layout.layoutBox,s);if(n){const a=n(o6(o));this.hasMutatedConstraints=!!a,a&&(o=C1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=xn(d=>{if(!Dc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Qg(this.visualElement,e),r.start(l_(e,r,0,n,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xn(n=>{const{drag:r}=this.getProps();if(!Dc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-$e(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!po(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=rW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xn(o=>{if(!Dc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set($e(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;oW.set(this.visualElement,this);const e=this.visualElement.current,n=vl(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();po(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ue.read(r);const o=tu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(xn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Xg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Dc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uW extends Wi{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new aW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const KT=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class cW extends Wi{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new z1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:KT(e),onStart:KT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ue.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=QT(t,e.target.x),r=QT(t,e.target.y);return`${n}% ${r}%`}},dW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oi.parse(t);if(i.length>5)return r;const s=Oi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=$e(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Qp=!1;class hW extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;D9(fW),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Qp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Qp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ue.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Qp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W1(t){const[e,n]=h1(),r=y.useContext(Rw);return w.jsx(hW,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(S1),isPresent:e,safeToRemove:n})}const fW={borderRadius:{...za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:za,borderTopRightRadius:za,borderBottomLeftRadius:za,borderBottomRightRadius:za,boxShadow:dW};function pW(t,e,n){const r=Ot(t)?t:Go(t);return r.start(l_("",r,e,n)),r.animation}const mW=(t,e)=>t.depth-e.depth;class gW{constructor(){this.children=[],this.isDirty=!1}add(e){Nw(this.children,e),this.isDirty=!0}remove(e){Mw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mW),this.isDirty=!1,this.children.forEach(e)}}function yW(t,e){const n=tn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vi(r),t(s-e))};return Ue.setup(r,!0),()=>Vi(r)}const H1=["TopLeft","TopRight","BottomLeft","BottomRight"],vW=H1.length,YT=t=>typeof t=="string"?parseFloat(t):t,XT=t=>typeof t=="number"||le.test(t);function wW(t,e,n,r,i,s){i?(t.opacity=$e(0,n.opacity??1,_W(r)),t.opacityExit=$e(e.opacity??1,0,EW(r))):s&&(t.opacity=$e(e.opacity??1,n.opacity??1,r));for(let o=0;o<vW;o++){const a=`border${H1[o]}Radius`;let l=JT(e,a),u=JT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||XT(l)===XT(u)?(t[a]=Math.max($e(YT(l),YT(u),r),0),(dr.test(u)||dr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=$e(e.rotate||0,n.rotate||0,r))}function JT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _W=G1(0,.5,NP),EW=G1(.5,.95,Rn);function G1(t,e,n){return r=>r<t?0:r>e?1:n(Yl(t,e,r))}function ZT(t,e){t.min=e.min,t.max=e.max}function En(t,e){ZT(t.x,e.x),ZT(t.y,e.y)}function eS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tS(t,e,n,r,i){return t-=e,t=wh(t,1/n,r),i!==void 0&&(t=wh(t,1/i,r)),t}function xW(t,e=0,n=1,r=.5,i,s=t,o=t){if(dr.test(e)&&(e=parseFloat(e),e=$e(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$e(s.min,s.max,r);t===s&&(a-=e),t.min=tS(t.min,e,n,a,i),t.max=tS(t.max,e,n,a,i)}function nS(t,e,[n,r,i],s,o){xW(t,e[n],e[r],e[i],e.scale,s,o)}const TW=["x","scaleX","originX"],SW=["y","scaleY","originY"];function rS(t,e,n,r){nS(t.x,e,TW,n?n.x:void 0,r?r.x:void 0),nS(t.y,e,SW,n?n.y:void 0,r?r.y:void 0)}function iS(t){return t.translate===0&&t.scale===1}function q1(t){return iS(t.x)&&iS(t.y)}function sS(t,e){return t.min===e.min&&t.max===e.max}function IW(t,e){return sS(t.x,e.x)&&sS(t.y,e.y)}function oS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K1(t,e){return oS(t.x,e.x)&&oS(t.y,e.y)}function aS(t){return Wt(t.x)/Wt(t.y)}function lS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class CW{constructor(){this.members=[]}add(e){Nw(this.members,e),e.scheduleRender()}remove(e){if(Mw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AW(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Yp=["","X","Y","Z"],bW=1e3;let RW=0;function Xp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Q1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=D1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Q1(r)}function Y1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=RW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NW),this.nodes.forEach(OW),this.nodes.forEach(LW),this.nodes.forEach(MW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ow),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=d1(o)&&!w9(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=yW(f,250),gd.hasAnimatedSinceResize&&(gd.hasAnimatedSinceResize=!1,this.nodes.forEach(dS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||zW,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=u.getProps(),g=!this.targetLayout||!K1(this.targetLayout,m),E=!h&&f;if(this.options.layoutRoot||this.resumeFrom||E||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...Qw(v,"layout"),onPlay:x,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(d,E)}else h||dS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VW),this.nodes.forEach(PW),this.nodes.forEach(kW)):this.nodes.forEach(cS),this.clearAllSnapshots();const a=tn.now();wt.delta=Wr(0,1e3/60,a-wt.timestamp),wt.timestamp=a,wt.isProcessing=!0,jp.update.process(wt),jp.preRender.process(wt),jp.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DW),this.sharedNodes.forEach(jW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wt(this.snapshot.measuredBox.x)&&!Wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!q1(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||ts(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$W(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Xe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(WW))){const{scroll:d}=this.root;d&&(mo(a.x,d.offset.x),mo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Xe();if(En(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&En(a,o),mo(a.x,h.offset.x),mo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Xe();En(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&go(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ts(d.latestValues)&&go(l,d.latestValues)}return ts(this.latestValues)&&go(l,this.latestValues),l}removeTransform(o){const a=Xe();En(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ts(u.latestValues))continue;Hg(u.latestValues)&&u.updateSnapshot();const d=Xe(),h=u.measurePageBox();En(d,h),rS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ts(this.latestValues)&&rS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),_l(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),b1(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),_l(this.relativeTargetOrigin,this.target,m.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||A1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;En(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;l6(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Xe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eS(this.prevProjectionDelta.x,this.projectionDelta.x),eS(this.prevProjectionDelta.y,this.projectionDelta.y)),wl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!lS(this.projectionDelta.x,this.prevProjectionDelta.x)||!lS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Xe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,S=this.getStack(),g=!S||S.members.length<=1,E=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(BW));this.animationProgress=0;let I;this.mixTargetDelta=P=>{const k=P/1e3;hS(h.x,o.x,k),hS(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_l(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UW(this.relativeTarget,this.relativeTargetOrigin,f,k),I&&IW(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Xe()),En(I,this.relativeTarget)),x&&(this.animationValues=d,wW(d,u,this.latestValues,k,E,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Go(0)),this.currentAnimation=pW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&X1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Xe();const h=Wt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Wt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}En(a,l),go(a,d),wl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new CW),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Xp("z",o,u,this.animationValues);for(let d=0;d<Yp.length;d++)Xp(`rotate${Yp[d]}`,o,u,this.animationValues),Xp(`skew${Yp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=md(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=md(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ts(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=AW(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in eu){if(d[v]===void 0)continue;const{correct:x,applyTo:S,isCSSVariable:g}=eu[v],E=h==="none"?d[v]:x(d[v],u);if(S){const I=S.length;for(let P=0;P<I;P++)o[S[P]]=E}else g?this.options.visualElement.renderState.vars[v]=E:o[v]=E}this.options.layoutId&&(o.pointerEvents=u===this?md(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(uS),this.root.sharedNodes.clear()}}}function PW(t){t.updateLayout()}function kW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?xn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Wt(f);f.min=r[h].min,f.max=f.min+m}):X1(s,e.layoutBox,r)&&xn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Wt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=yo();wl(a,r,e.layoutBox);const l=yo();o?wl(l,t.applyTransform(i,!0),e.measuredBox):wl(l,r,e.layoutBox);const u=!q1(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=Xe();_l(v,e.layoutBox,f.layoutBox);const x=Xe();_l(x,r,m.layoutBox),K1(v,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function NW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DW(t){t.clearSnapshot()}function uS(t){t.clearMeasurements()}function cS(t){t.isLayoutDirty=!1}function VW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OW(t){t.resolveTargetDelta()}function LW(t){t.calcProjection()}function FW(t){t.resetSkewAndRotation()}function jW(t){t.removeLeadSnapshot()}function hS(t,e,n){t.translate=$e(e.translate,0,n),t.scale=$e(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fS(t,e,n,r){t.min=$e(e.min,n.min,r),t.max=$e(e.max,n.max,r)}function UW(t,e,n,r){fS(t.x,e.x,n.x,r),fS(t.y,e.y,n.y,r)}function BW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zW={duration:.45,ease:[.4,0,.1,1]},pS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mS=pS("applewebkit/")&&!pS("chrome/")?Math.round:Rn;function gS(t){t.min=mS(t.min),t.max=mS(t.max)}function $W(t){gS(t.x),gS(t.y)}function X1(t,e,n){return t==="position"||t==="preserve-aspect"&&!Q6(aS(e),aS(n),.2)}function WW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const HW=Y1({attachResizeListener:(t,e)=>tu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},J1=Y1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jp.current){const t=new HW({});t.mount(window),t.setOptions({layoutScroll:!0}),Jp.current=t}return Jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GW={pan:{Feature:cW},drag:{Feature:uW,ProjectionNode:J1,MeasureLayout:W1}};function yS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ue.postRender(()=>s(e,Vu(e)))}class qW extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=p9(e,(n,r)=>(yS(this.node,r,"Start"),i=>yS(this.node,i,"End"))))}unmount(){}}class KW extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nu(tu(this.node.current,"focus",()=>this.onFocus()),tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ue.postRender(()=>s(e,Vu(e)))}class QW extends Wi{mount(){const{current:e}=this.node;e&&(this.unmount=v9(e,(n,r)=>(vS(this.node,r,"Start"),(i,{success:s})=>vS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jg=new WeakMap,Zp=new WeakMap,YW=t=>{const e=Jg.get(t.target);e&&e(t)},XW=t=>{t.forEach(YW)};function JW({root:t,...e}){const n=t||document;Zp.has(n)||Zp.set(n,{});const r=Zp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(XW,{root:t,...e})),r[i]}function ZW(t,e,n){const r=JW(e);return Jg.set(t,n),r.observe(t),()=>{Jg.delete(t),r.unobserve(t)}}const eH={some:0,all:1};class tH extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:eH[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return ZW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nH(e,n))&&this.startObserver()}unmount(){}}function nH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rH={inView:{Feature:tH},tap:{Feature:QW},focus:{Feature:KW},hover:{Feature:qW}},iH={layout:{ProjectionNode:J1,MeasureLayout:W1}},sH={...$6,...rH,...GW,...iH},nr=s6(sH,v6);function xf(){return w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-primary bg-transparent",children:[w.jsx(nr.img,{src:"/icons/favicon.svg",alt:"Surchope",className:"w-40 h-40 drop-shadow-[0_4px_10px_hsl(var(--primary)/0.4)]",animate:{scale:[1,1.15,1],opacity:[.8,1,.8]},transition:{duration:1.2,ease:"easeInOut",repeat:1/0}}),w.jsx(nr.p,{className:"mt-10 text-xl sm:text-2xl font-semibold text-primary drop-shadow-sm",initial:{opacity:0},animate:{opacity:1},transition:{duration:1.3,repeat:1/0,repeatType:"reverse"},children:"a surchope fort "})]})}function oH({name:t,onClose:e}){const[n,r]=y.useState(!0),[i,s]=y.useState(null);return y.useEffect(()=>{if(!t)return;(async()=>{var a,l,u;try{const d=await fetch(`https://fr.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(t)}`);if(!d.ok)throw new Error("Pas d'info trouve");const h=await d.json();s({title:h.title,summary:h.extract,image:(a=h.thumbnail)==null?void 0:a.source,source:(u=(l=h.content_urls)==null?void 0:l.desktop)==null?void 0:u.page})}catch{s(null)}finally{r(!1)}})()},[t]),w.jsx(yh,{children:w.jsx(nr.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:w.jsxs(nr.div,{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 max-w-sm w-full shadow-lg relative overflow-hidden animate-fadeIn",initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.25,ease:"easeOut"},onClick:o=>o.stopPropagation(),children:[w.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2",title:"Fermer",children:w.jsx(S5,{size:18})}),w.jsx("div",{className:"min-h-[250px] flex flex-col items-center justify-center text-center",children:w.jsx(yh,{mode:"wait",children:n?w.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:w.jsx(xf,{})},"loader"):i?w.jsxs(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-col items-center text-center",children:[i.image&&w.jsx("img",{src:i.image,alt:i.title,className:"max-w-full max-h-64 rounded-lg mb-3 object-contain border border-border"}),w.jsx("h2",{className:"text-lg font-semibold text-primary mb-1",children:i.title}),w.jsxs("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:[i.summary.slice(0,200),"..."]}),w.jsx("a",{href:i.source,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-sm font-medium underline underline-offset-2 transition",children:"Voir sur Wikipdia"})]},"content"):w.jsx(nr.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-muted-foreground",children:"Aucune information trouve "},"noinfo")})})]},"modal")},"backdrop")})}function aH({couple:t,user:e,onDelete:n,compact:r}){const i=(e==null?void 0:e.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",s=async o=>{var d;o.stopPropagation();const l=`${window.location.origin}/couple/${t.id}`,u=` Vote pour ce couple sur Surchope : ${(d=t.personA)==null?void 0:d.display_name} & ${t.personB.display_name} `;if(navigator.share)try{await navigator.share({title:"Surchope ",text:u,url:l})}catch(h){console.log("Partage annul :",h)}};return w.jsxs("div",{className:"flex items-center gap-3 opacity-90 hover:opacity-100 transition",children:[t.isFictional!==void 0&&w.jsx("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium
                        ${t.isFictional?"bg-purple-100 text-purple-700":"bg-pink-100 text-pink-700"}
                    `,title:t.isFictional?"Couple fictif":"Couple rel",children:t.isFictional?w.jsxs(w.Fragment,{children:[w.jsx(i5,{size:14,strokeWidth:2})," ",w.jsx("span",{children:"Fictif"})]}):w.jsxs(w.Fragment,{children:[w.jsx(bw,{size:14,strokeWidth:2.2})," ",w.jsx("span",{children:"Rel"})]})}),i&&n&&w.jsx("button",{onClick:o=>{o.stopPropagation(),confirm("Supprimer ce couple et les donnes associes ?")&&n(t.id,e.uid)},title:"Supprimer ce couple",className:"p-1.5 rounded-full text-destructive/80 hover:text-destructive focus:outline-none focus:ring-2 focus:ring-[hsl(var(--destructive))]/40 transition active:scale-95",children:w.jsx(_P,{size:18})}),!r&&w.jsx("button",{onClick:s,title:"Partager",className:"p-1.5 rounded-full text-primary hover:text-primary/80 hover:bg-primary/10 transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/40",children:w.jsx(y5,{size:20,strokeWidth:2.1})})]})}function lH({couple:t}){var h;const[e,n]=y.useState(0),r=t.count_a||0,i=t.count_b||0,s=Math.max(1,r+i),o=r/s*100,a=i/s*100,l=r>i,u=i>r,d=Math.max(o,a);return y.useEffect(()=>{const f=e,m=d,v=1e3,x=performance.now(),S=g=>{const E=g-x,I=Math.min(E/v,1),P=1-Math.cos(I*Math.PI/2);n(f+(m-f)*P),I<1&&requestAnimationFrame(S)};requestAnimationFrame(S)},[d]),w.jsxs("div",{className:"w-full mt-3 select-none",children:[w.jsx("div",{className:"relative w-full h-4 bg-muted rounded-full overflow-hidden shadow-inner",children:w.jsx("div",{className:"absolute top-0 bottom-0 bg-primary transition-all duration-300 ease-out rounded-full",style:{width:`${e}%`,left:l?0:void 0,right:u?0:void 0}})}),w.jsx("div",{className:"text-xs mt-2 text-center text-muted-foreground",children:r===i?w.jsx("span",{className:"italic",children:"galit parfaite "}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"font-semibold text-primary",children:l?(h=t.personA)==null?void 0:h.display_name:t.personB.display_name})," ","surchope "," ",w.jsxs("span",{className:"text-foreground font-medium",children:[Math.round(d)," %"]})]})})]})}function uH({couple:t,myChoice:e,onlyMyVotes:n,onSelectPerson:r}){var o,a;const i=(l,u)=>{const d=u==="A"?"ring-primary bg-primary/25 text-primary":"ring-secondary bg-secondary/25 text-secondary";return w.jsxs("div",{className:"flex items-center gap-2 flex-col cursor-pointer relative",onClick:()=>r(l==null?void 0:l.display_name),children:[w.jsx("div",{className:`absolute w-32 h-32 md:w-40 md:h-40 rounded-full blur-md animate-pulse-ring -z-10 ${d}`}),w.jsx("div",{className:"relative flex items-center justify-center",children:w.jsx("div",{className:"relative w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden flex items-center justify-center transition-transform duration-300 bg-muted hover:scale-105 shadow-lg ring-4 ring-white",style:{zIndex:1},children:l!=null&&l.image_url?w.jsx("img",{src:l.image_url,alt:l==null?void 0:l.display_name,className:"object-cover w-full h-full"}):w.jsx("span",{className:"text-lg font-semibold text-muted-foreground",children:l==null?void 0:l.display_name[0]})})}),w.jsx("div",{className:"font-medium text-base text-center transition-colors duration-200",children:l==null?void 0:l.display_name})]},u)},s=e==="A"?`${(o=t.personA)==null?void 0:o.display_name} surchope `:e==="B"?`${(a=t.personB)==null?void 0:a.display_name} surchope `:"galit parfaite ";return w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
          @keyframes pulse-ring {
            0% { transform: scale(0.9); opacity: 0.6; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.9); opacity: 0.6; }
          }
          .animate-pulse-ring {
            animation: pulse-ring 1.6s infinite ease-in-out;
          }
        `}),w.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4 relative",children:[i(t.personA,"A"),w.jsx("span",{className:"text-muted-foreground text-lg font-semibold select-none",children:"vs"}),i(t.personB,"B")]}),w.jsx("div",{className:"w-48 mt-3",children:n?w.jsxs("div",{className:"text-xs text-center text-muted-foreground italic",children:["Pour toi, ",w.jsx("span",{className:"text-primary font-medium",children:s})]}):w.jsx(lH,{couple:t})})]})}function cH({couple:t,user:e,canVote:n,myChoice:r,onVote:i,onLoginClick:s}){const[o,a]=y.useState(null),[l,u]=y.useState(!1),d=v=>{if(!n){u(!0),setTimeout(()=>u(!1),2e3);return}i&&(a(v),i(t,v),setTimeout(()=>a(null),700))},h="flex-1 px-3 py-2 rounded-full border font-medium text-sm transition-all duration-200 ease-out active:scale-95 text-center focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/50 focus:ring-offset-2",f=n?"":"opacity-60 cursor-pointer",m=v=>o!==v?"":v==="tie"?"animate-[pop_0.4s_ease-out] bg-secondary/10 border-secondary text-secondary":"animate-[pop_0.4s_ease-out] bg-primary/10 border-primary text-primary shadow-sm";return w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
                @keyframes pop {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.12); }
                    100% { transform: scale(1); }
                }
            `}),w.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2 w-full",children:[w.jsx("div",{className:"flex gap-3 justify-center w-full",children:["A","tie","B"].map(v=>{var x,S;return w.jsx("button",{onClick:()=>d(v),className:`${h} ${f} ${r===v?v==="tie"?"bg-secondary/10 border-secondary text-secondary":"bg-primary/10 border-primary text-primary":"bg-background border-border text-foreground hover:bg-muted"} ${m(v)}`,children:v==="A"?(x=t.personA)==null?void 0:x.display_name:v==="B"?(S=t.personB)==null?void 0:S.display_name:"galit"},v)})}),l&&!e&&w.jsx("div",{className:"text-sm text-primary mt-2 animate-pulse",children:"Connecte-toi pour voter "}),!e&&l&&s&&w.jsx("button",{onClick:s,className:"mt-2 px-4 py-1.5 text-sm rounded-full bg-primary text-primary-foreground hover:bg-primary/90 transition",children:"Se connecter avec Google"})]})]})}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tf(...t){return e=>{let n=!1;const r=t.map(i=>{const s=wS(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():wS(t[i],null)}}}}function an(...t){return y.useCallback(Tf(...t),t)}function Ou(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var g;const{scope:f,children:m,...v}=h,x=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,S=y.useMemo(()=>v,Object.values(v));return w.jsx(x.Provider,{value:S,children:m})};u.displayName=s+"Provider";function d(h,f){var x;const m=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,v=y.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,dH(i,...e)]}function dH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Li=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},hH=vI[" useInsertionEffect ".trim().toString()]||Li;function Z1({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=fH({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const f=pH(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,u]}function fH({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),i=y.useRef(n),s=y.useRef(e);return hH(()=>{s.current=e},[e]),y.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function pH(t){return typeof t=="function"}function _h(t){const e=mH(t),n=y.forwardRef((r,i)=>{const{children:s,...o}=r,a=y.Children.toArray(s),l=a.find(yH);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return w.jsx(e,{...o,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return w.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function mH(t){const e=y.forwardRef((n,r)=>{const{children:i,...s}=n;if(y.isValidElement(i)){const o=wH(i),a=vH(s,i.props);return i.type!==y.Fragment&&(a.ref=r?Tf(r,o):o),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gH=Symbol("radix.slottable");function yH(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gH}function vH(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function wH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _H=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qt=_H.reduce((t,e)=>{const n=_h(`Primitive.${e}`),r=y.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ek(t,e){t&&$h.flushSync(()=>t.dispatchEvent(e))}function tk(t){const e=t+"CollectionProvider",[n,r]=Ou(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:g}=x,E=xr.useRef(null),I=xr.useRef(new Map).current;return w.jsx(i,{scope:S,itemMap:I,collectionRef:E,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=_h(a),u=xr.forwardRef((x,S)=>{const{scope:g,children:E}=x,I=s(a,g),P=an(S,I.collectionRef);return w.jsx(l,{ref:P,children:E})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=_h(d),m=xr.forwardRef((x,S)=>{const{scope:g,children:E,...I}=x,P=xr.useRef(null),k=an(S,P),O=s(d,g);return xr.useEffect(()=>(O.itemMap.set(P,{ref:P,...I}),()=>void O.itemMap.delete(P))),w.jsx(f,{[h]:"",ref:k,children:E})});m.displayName=d;function v(x){const S=s(t+"CollectionConsumer",x);return xr.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const I=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((O,C)=>I.indexOf(O.ref.current)-I.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var EH=y.createContext(void 0);function nk(t){const e=y.useContext(EH);return t||e||"ltr"}function Gr(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xH(t,e=globalThis==null?void 0:globalThis.document){const n=Gr(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TH="DismissableLayer",Zg="dismissableLayer.update",SH="dismissableLayer.pointerDownOutside",IH="dismissableLayer.focusOutside",_S,rk=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ik=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(rk),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),v=an(e,C=>h(C)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(S),E=d?x.indexOf(d):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,P=E>=g,k=bH(C=>{const T=C.target,A=[...u.branches].some(R=>R.contains(T));!P||A||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),O=RH(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return xH(C=>{E===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_S=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ES(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_S)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ES())},[d,u]),y.useEffect(()=>{const C=()=>m({});return document.addEventListener(Zg,C),()=>document.removeEventListener(Zg,C)},[]),w.jsx(Qt.div,{...l,ref:v,style:{pointerEvents:I?P?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,k.onPointerDownCapture)})});ik.displayName=TH;var CH="DismissableLayerBranch",AH=y.forwardRef((t,e)=>{const n=y.useContext(rk),r=y.useRef(null),i=an(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),w.jsx(Qt.div,{...t,ref:i})});AH.displayName=CH;function bH(t,e=globalThis==null?void 0:globalThis.document){const n=Gr(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){sk(SH,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RH(t,e=globalThis==null?void 0:globalThis.document){const n=Gr(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&sk(IH,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ES(){const t=new CustomEvent(Zg);document.dispatchEvent(t)}function sk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ek(i,s):i.dispatchEvent(s)}var em=0;function PH(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xS()),document.body.insertAdjacentElement("beforeend",t[1]??xS()),em++,()=>{em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),em--}},[])}function xS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",TS={bubbles:!1,cancelable:!0},kH="FocusScope",ok=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),u=Gr(i),d=Gr(s),h=y.useRef(null),f=an(e,x=>l(x)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let x=function(I){if(m.paused||!a)return;const P=I.target;a.contains(P)?h.current=P:si(h.current,{select:!0})},S=function(I){if(m.paused||!a)return;const P=I.relatedTarget;P!==null&&(a.contains(P)||si(h.current,{select:!0}))},g=function(I){if(document.activeElement===document.body)for(const k of I)k.removedNodes.length>0&&si(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const E=new MutationObserver(g);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),E.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){IS.add(m);const x=document.activeElement;if(!a.contains(x)){const g=new CustomEvent(tm,TS);a.addEventListener(tm,u),a.dispatchEvent(g),g.defaultPrevented||(NH(LH(ak(a)),{select:!0}),document.activeElement===x&&si(a))}return()=>{a.removeEventListener(tm,u),setTimeout(()=>{const g=new CustomEvent(nm,TS);a.addEventListener(nm,d),a.dispatchEvent(g),g.defaultPrevented||si(x??document.body,{select:!0}),a.removeEventListener(nm,d),IS.remove(m)},0)}}},[a,u,d,m]);const v=y.useCallback(x=>{if(!n&&!r||m.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(S&&g){const E=x.currentTarget,[I,P]=MH(E);I&&P?!x.shiftKey&&g===P?(x.preventDefault(),n&&si(I,{select:!0})):x.shiftKey&&g===I&&(x.preventDefault(),n&&si(P,{select:!0})):g===E&&x.preventDefault()}},[n,r,m.paused]);return w.jsx(Qt.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});ok.displayName=kH;function NH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(si(r,{select:e}),document.activeElement!==n)return}function MH(t){const e=ak(t),n=SS(e,t),r=SS(e.reverse(),t);return[n,r]}function ak(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SS(t,e){for(const n of t)if(!DH(n,{upTo:e}))return n}function DH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VH(t){return t instanceof HTMLInputElement&&"select"in t}function si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&VH(t)&&e&&t.select()}}var IS=OH();function OH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=CS(t,e),t.unshift(e)},remove(e){var n;t=CS(t,e),(n=t[0])==null||n.resume()}}}function CS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LH(t){return t.filter(e=>e.tagName!=="A")}var FH=vI[" useId ".trim().toString()]||(()=>{}),jH=0;function ey(t){const[e,n]=y.useState(FH());return Li(()=>{n(r=>r??String(jH++))},[t]),e?`radix-${e}`:""}const UH=["top","right","bottom","left"],Fi=Math.min,dn=Math.max,Eh=Math.round,Vc=Math.floor,hr=t=>({x:t,y:t}),BH={left:"right",right:"left",bottom:"top",top:"bottom"},zH={start:"end",end:"start"};function ty(t,e,n){return dn(t,Fi(e,n))}function qr(t,e){return typeof t=="function"?t(e):t}function Kr(t){return t.split("-")[0]}function da(t){return t.split("-")[1]}function u_(t){return t==="x"?"y":"x"}function c_(t){return t==="y"?"height":"width"}const $H=new Set(["top","bottom"]);function rr(t){return $H.has(Kr(t))?"y":"x"}function d_(t){return u_(rr(t))}function WH(t,e,n){n===void 0&&(n=!1);const r=da(t),i=d_(t),s=c_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xh(o)),[o,xh(o)]}function HH(t){const e=xh(t);return[ny(t),e,ny(e)]}function ny(t){return t.replace(/start|end/g,e=>zH[e])}const AS=["left","right"],bS=["right","left"],GH=["top","bottom"],qH=["bottom","top"];function KH(t,e,n){switch(t){case"top":case"bottom":return n?e?bS:AS:e?AS:bS;case"left":case"right":return e?GH:qH;default:return[]}}function QH(t,e,n,r){const i=da(t);let s=KH(Kr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(ny)))),s}function xh(t){return t.replace(/left|right|bottom|top/g,e=>BH[e])}function YH(t){return{top:0,right:0,bottom:0,left:0,...t}}function lk(t){return typeof t!="number"?YH(t):{top:t,right:t,bottom:t,left:t}}function Th(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function RS(t,e,n){let{reference:r,floating:i}=t;const s=rr(e),o=d_(e),a=c_(o),l=Kr(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(da(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const XH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=RS(u,r,l),f=r,m={},v=0;for(let x=0;x<a.length;x++){const{name:S,fn:g}=a[x],{x:E,y:I,data:P,reset:k}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=I??h,m={...m,[S]:{...m[S],...P}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:h}=RS(u,f,l)),x=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function nu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=qr(e,t),v=lk(m),S=a[f?h==="floating"?"reference":"floating":h],g=Th(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},k=Th(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:I,strategy:l}):E);return{top:(g.top-k.top+v.top)/P.y,bottom:(k.bottom-g.bottom+v.bottom)/P.y,left:(g.left-k.left+v.left)/P.x,right:(k.right-g.right+v.right)/P.x}}const JH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=qr(t,e)||{};if(u==null)return{};const h=lk(d),f={x:n,y:r},m=d_(i),v=c_(m),x=await o.getDimensions(u),S=m==="y",g=S?"top":"left",E=S?"bottom":"right",I=S?"clientHeight":"clientWidth",P=s.reference[v]+s.reference[m]-f[m]-s.floating[v],k=f[m]-s.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=O?O[I]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[I]||s.floating[v]);const T=P/2-k/2,A=C/2-x[v]/2-1,R=Fi(h[g],A),M=Fi(h[E],A),L=R,N=C-x[v]-M,oe=C/2-x[v]/2+T,me=ty(L,oe,N),ae=!l.arrow&&da(i)!=null&&oe!==me&&s.reference[v]/2-(oe<L?R:M)-x[v]/2<0,te=ae?oe<L?oe-L:oe-N:0;return{[m]:f[m]+te,data:{[m]:me,centerOffset:oe-me-te,...ae&&{alignmentOffset:te}},reset:ae}}}),ZH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...S}=qr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Kr(i),E=rr(a),I=Kr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=f||(I||!x?[xh(a)]:HH(a)),O=v!=="none";!f&&O&&k.push(...QH(a,x,v,P));const C=[a,...k],T=await nu(e,S),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[g]),h){const oe=WH(i,o,P);A.push(T[oe[0]],T[oe[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(oe=>oe<=0)){var M,L;const oe=(((M=s.flip)==null?void 0:M.index)||0)+1,me=C[oe];if(me&&(!(h==="alignment"?E!==rr(me):!1)||R.every(F=>rr(F.placement)===E?F.overflows[0]>0:!0)))return{data:{index:oe,overflows:R},reset:{placement:me}};let ae=(L=R.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!ae)switch(m){case"bestFit":{var N;const te=(N=R.filter(F=>{if(O){const B=rr(F.placement);return B===E||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:N[0];te&&(ae=te);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function PS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kS(t){return UH.some(e=>t[e]>=0)}const e8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qr(t,e);switch(r){case"referenceHidden":{const s=await nu(e,{...i,elementContext:"reference"}),o=PS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kS(o)}}}case"escaped":{const s=await nu(e,{...i,altBoundary:!0}),o=PS(s,n.floating);return{data:{escapedOffsets:o,escaped:kS(o)}}}default:return{}}}}},uk=new Set(["left","top"]);async function t8(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Kr(n),a=da(n),l=rr(n)==="y",u=uk.has(o)?-1:1,d=s&&l?-1:1,h=qr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const n8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await t8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},r8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:g,y:E}=S;return{x:g,y:E}}},...l}=qr(t,e),u={x:n,y:r},d=await nu(e,l),h=rr(Kr(i)),f=u_(h);let m=u[f],v=u[h];if(s){const S=f==="y"?"top":"left",g=f==="y"?"bottom":"right",E=m+d[S],I=m-d[g];m=ty(E,m,I)}if(o){const S=h==="y"?"top":"left",g=h==="y"?"bottom":"right",E=v+d[S],I=v-d[g];v=ty(E,v,I)}const x=a.fn({...e,[f]:m,[h]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:s,[h]:o}}}}}},i8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=qr(t,e),d={x:n,y:r},h=rr(i),f=u_(h);let m=d[f],v=d[h];const x=qr(a,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const I=f==="y"?"height":"width",P=s.reference[f]-s.floating[I]+S.mainAxis,k=s.reference[f]+s.reference[I]-S.mainAxis;m<P?m=P:m>k&&(m=k)}if(u){var g,E;const I=f==="y"?"width":"height",P=uk.has(Kr(i)),k=s.reference[h]-s.floating[I]+(P&&((g=o.offset)==null?void 0:g[h])||0)+(P?0:S.crossAxis),O=s.reference[h]+s.reference[I]+(P?0:((E=o.offset)==null?void 0:E[h])||0)-(P?S.crossAxis:0);v<k?v=k:v>O&&(v=O)}return{[f]:m,[h]:v}}}},s8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=qr(t,e),d=await nu(e,u),h=Kr(i),f=da(i),m=rr(i)==="y",{width:v,height:x}=s.floating;let S,g;h==="top"||h==="bottom"?(S=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,S=f==="end"?"top":"bottom");const E=x-d.top-d.bottom,I=v-d.left-d.right,P=Fi(x-d[S],E),k=Fi(v-d[g],I),O=!e.middlewareData.shift;let C=P,T=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=E),O&&!f){const R=dn(d.left,0),M=dn(d.right,0),L=dn(d.top,0),N=dn(d.bottom,0);m?T=v-2*(R!==0||M!==0?R+M:dn(d.left,d.right)):C=x-2*(L!==0||N!==0?L+N:dn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const A=await o.getDimensions(a.floating);return v!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Sf(){return typeof window<"u"}function ha(t){return ck(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vr(t){var e;return(e=(ck(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ck(t){return Sf()?t instanceof Node||t instanceof yn(t).Node:!1}function qn(t){return Sf()?t instanceof Element||t instanceof yn(t).Element:!1}function yr(t){return Sf()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function NS(t){return!Sf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}const o8=new Set(["inline","contents"]);function Lu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!o8.has(i)}const a8=new Set(["table","td","th"]);function l8(t){return a8.has(ha(t))}const u8=[":popover-open",":modal"];function If(t){return u8.some(e=>{try{return t.matches(e)}catch{return!1}})}const c8=["transform","translate","scale","rotate","perspective"],d8=["transform","translate","scale","rotate","perspective","filter"],h8=["paint","layout","strict","content"];function h_(t){const e=f_(),n=qn(t)?Kn(t):t;return c8.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||d8.some(r=>(n.willChange||"").includes(r))||h8.some(r=>(n.contain||"").includes(r))}function f8(t){let e=ji(t);for(;yr(e)&&!Ko(e);){if(h_(e))return e;if(If(e))return null;e=ji(e)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p8=new Set(["html","body","#document"]);function Ko(t){return p8.has(ha(t))}function Kn(t){return yn(t).getComputedStyle(t)}function Cf(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ji(t){if(ha(t)==="html")return t;const e=t.assignedSlot||t.parentNode||NS(t)&&t.host||vr(t);return NS(e)?e.host:e}function dk(t){const e=ji(t);return Ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&Lu(e)?e:dk(e)}function ru(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=dk(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=yn(i);if(s){const a=ry(o);return e.concat(o,o.visualViewport||[],Lu(i)?i:[],a&&n?ru(a):[])}return e.concat(i,ru(i,[],n))}function ry(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hk(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=yr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Eh(n)!==s||Eh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function p_(t){return qn(t)?t:t.contextElement}function Po(t){const e=p_(t);if(!yr(e))return hr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=hk(e);let o=(s?Eh(n.width):n.width)/r,a=(s?Eh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const m8=hr(0);function fk(t){const e=yn(t);return!f_()||!e.visualViewport?m8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function Rs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=p_(t);let o=hr(1);e&&(r?qn(r)&&(o=Po(r)):o=Po(t));const a=g8(s,n,r)?fk(s):hr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=yn(s),m=r&&qn(r)?yn(r):r;let v=f,x=ry(v);for(;x&&r&&m!==v;){const S=Po(x),g=x.getBoundingClientRect(),E=Kn(x),I=g.left+(x.clientLeft+parseFloat(E.paddingLeft))*S.x,P=g.top+(x.clientTop+parseFloat(E.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=I,u+=P,v=yn(x),x=ry(v)}}return Th({width:d,height:h,x:l,y:u})}function Af(t,e){const n=Cf(t).scrollLeft;return e?e.left+n:Rs(vr(t)).left+n}function pk(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Af(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function y8(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=vr(r),a=e?If(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=hr(1);const d=hr(0),h=yr(r);if((h||!h&&!s)&&((ha(r)!=="body"||Lu(o))&&(l=Cf(r)),yr(r))){const m=Rs(r);u=Po(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?pk(o,l):hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function v8(t){return Array.from(t.getClientRects())}function w8(t){const e=vr(t),n=Cf(t),r=t.ownerDocument.body,i=dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Af(t);const a=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=dn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const MS=25;function _8(t,e){const n=yn(t),r=vr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=f_();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Af(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-m);v<=MS&&(s-=v)}else u<=MS&&(s+=u);return{width:s,height:o,x:a,y:l}}const E8=new Set(["absolute","fixed"]);function x8(t,e){const n=Rs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=yr(t)?Po(t):hr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function DS(t,e,n){let r;if(e==="viewport")r=_8(t,n);else if(e==="document")r=w8(vr(t));else if(qn(e))r=x8(e,n);else{const i=fk(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Th(r)}function mk(t,e){const n=ji(t);return n===e||!qn(n)||Ko(n)?!1:Kn(n).position==="fixed"||mk(n,e)}function T8(t,e){const n=e.get(t);if(n)return n;let r=ru(t,[],!1).filter(a=>qn(a)&&ha(a)!=="body"),i=null;const s=Kn(t).position==="fixed";let o=s?ji(t):t;for(;qn(o)&&!Ko(o);){const a=Kn(o),l=h_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&E8.has(i.position)||Lu(o)&&!l&&mk(t,o))?r=r.filter(d=>d!==o):i=a,o=ji(o)}return e.set(t,r),r}function S8(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?If(e)?[]:T8(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=DS(e,d,i);return u.top=dn(h.top,u.top),u.right=Fi(h.right,u.right),u.bottom=Fi(h.bottom,u.bottom),u.left=dn(h.left,u.left),u},DS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I8(t){const{width:e,height:n}=hk(t);return{width:e,height:n}}function C8(t,e,n){const r=yr(e),i=vr(e),s=n==="fixed",o=Rs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=hr(0);function u(){l.x=Af(i)}if(r||!r&&!s)if((ha(e)!=="body"||Lu(i))&&(a=Cf(e)),r){const m=Rs(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?pk(i,a):hr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function rm(t){return Kn(t).position==="static"}function VS(t,e){if(!yr(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vr(t)===n&&(n=n.ownerDocument.body),n}function gk(t,e){const n=yn(t);if(If(t))return n;if(!yr(t)){let i=ji(t);for(;i&&!Ko(i);){if(qn(i)&&!rm(i))return i;i=ji(i)}return n}let r=VS(t,e);for(;r&&l8(r)&&rm(r);)r=VS(r,e);return r&&Ko(r)&&rm(r)&&!h_(r)?n:r||f8(t)||n}const A8=async function(t){const e=this.getOffsetParent||gk,n=this.getDimensions,r=await n(t.floating);return{reference:C8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b8(t){return Kn(t).direction==="rtl"}const R8={convertOffsetParentRelativeRectToViewportRelativeRect:y8,getDocumentElement:vr,getClippingRect:S8,getOffsetParent:gk,getElementRects:A8,getClientRects:v8,getDimensions:I8,getScale:Po,isElement:qn,isRTL:b8};function yk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function P8(t,e){let n=null,r;const i=vr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const v=Vc(h),x=Vc(i.clientWidth-(d+f)),S=Vc(i.clientHeight-(h+m)),g=Vc(d),I={rootMargin:-v+"px "+-x+"px "+-S+"px "+-g+"px",threshold:dn(0,Fi(1,l))||1};let P=!0;function k(O){const C=O[0].intersectionRatio;if(C!==l){if(!P)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!yk(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,I)}n.observe(t)}return o(!0),s}function k8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=p_(t),d=i||s?[...u?ru(u):[],...ru(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=u&&a?P8(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[E]=g;E&&E.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var I;(I=m)==null||I.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,x=l?Rs(t):null;l&&S();function S(){const g=Rs(t);x&&!yk(x,g)&&n(),x=g,v=requestAnimationFrame(S)}return n(),()=>{var g;d.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const N8=n8,M8=r8,D8=ZH,V8=s8,O8=e8,OS=JH,L8=i8,F8=(t,e,n)=>{const r=new Map,i={platform:R8,...n},s={...i.platform,_c:r};return XH(t,e,{...i,platform:s})};var j8=typeof document<"u",U8=function(){},yd=j8?y.useLayoutEffect:U8;function Sh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Sh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function vk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LS(t,e){const n=vk(t);return Math.round(e*n)/n}function im(t){const e=y.useRef(t);return yd(()=>{e.current=t}),e}function B8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(r);Sh(f,r)||m(r);const[v,x]=y.useState(null),[S,g]=y.useState(null),E=y.useCallback(F=>{F!==O.current&&(O.current=F,x(F))},[]),I=y.useCallback(F=>{F!==C.current&&(C.current=F,g(F))},[]),P=s||v,k=o||S,O=y.useRef(null),C=y.useRef(null),T=y.useRef(d),A=l!=null,R=im(l),M=im(i),L=im(u),N=y.useCallback(()=>{if(!O.current||!C.current)return;const F={placement:e,strategy:n,middleware:f};M.current&&(F.platform=M.current),F8(O.current,C.current,F).then(B=>{const V={...B,isPositioned:L.current!==!1};oe.current&&!Sh(T.current,V)&&(T.current=V,$h.flushSync(()=>{h(V)}))})},[f,e,n,M,L]);yd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const oe=y.useRef(!1);yd(()=>(oe.current=!0,()=>{oe.current=!1}),[]),yd(()=>{if(P&&(O.current=P),k&&(C.current=k),P&&k){if(R.current)return R.current(P,k,N);N()}},[P,k,N,R,A]);const me=y.useMemo(()=>({reference:O,floating:C,setReference:E,setFloating:I}),[E,I]),ae=y.useMemo(()=>({reference:P,floating:k}),[P,k]),te=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!ae.floating)return F;const B=LS(ae.floating,d.x),V=LS(ae.floating,d.y);return a?{...F,transform:"translate("+B+"px, "+V+"px)",...vk(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:V}},[n,a,ae.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:N,refs:me,elements:ae,floatingStyles:te}),[d,N,me,ae,te])}const z8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OS({element:r.current,padding:i}).fn(n):{}:r?OS({element:r,padding:i}).fn(n):{}}}},$8=(t,e)=>({...N8(t),options:[t,e]}),W8=(t,e)=>({...M8(t),options:[t,e]}),H8=(t,e)=>({...L8(t),options:[t,e]}),G8=(t,e)=>({...D8(t),options:[t,e]}),q8=(t,e)=>({...V8(t),options:[t,e]}),K8=(t,e)=>({...O8(t),options:[t,e]}),Q8=(t,e)=>({...z8(t),options:[t,e]});var Y8="Arrow",wk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return w.jsx(Qt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});wk.displayName=Y8;var X8=wk;function J8(t){const[e,n]=y.useState(void 0);return Li(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var m_="Popper",[_k,Ek]=Ou(m_),[Z8,xk]=_k(m_),Tk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return w.jsx(Z8,{scope:e,anchor:r,onAnchorChange:i,children:n})};Tk.displayName=m_;var Sk="PopperAnchor",Ik=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=xk(Sk,n),o=y.useRef(null),a=an(e,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:w.jsx(Qt.div,{...i,ref:a})});Ik.displayName=Sk;var g_="PopperContent",[eG,tG]=_k(g_),Ck=y.forwardRef((t,e)=>{var q,ce,de,ye,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,S=xk(g_,n),[g,E]=y.useState(null),I=an(e,Pe=>E(Pe)),[P,k]=y.useState(null),O=J8(P),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],L=M.length>0,N={padding:R,boundary:M.filter(rG),altBoundary:L},{refs:oe,floatingStyles:me,placement:ae,isPositioned:te,middlewareData:F}=B8({strategy:"fixed",placement:A,whileElementsMounted:(...Pe)=>k8(...Pe,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[$8({mainAxis:i+T,alignmentAxis:o}),l&&W8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?H8():void 0,...N}),l&&G8({...N}),q8({...N,apply:({elements:Pe,rects:pe,availableWidth:et,availableHeight:bt})=>{const{width:jt,height:ln}=pe.reference,Ut=Pe.floating.style;Ut.setProperty("--radix-popper-available-width",`${et}px`),Ut.setProperty("--radix-popper-available-height",`${bt}px`),Ut.setProperty("--radix-popper-anchor-width",`${jt}px`),Ut.setProperty("--radix-popper-anchor-height",`${ln}px`)}}),P&&Q8({element:P,padding:a}),iG({arrowWidth:C,arrowHeight:T}),f&&K8({strategy:"referenceHidden",...N})]}),[B,V]=Rk(ae),D=Gr(v);Li(()=>{te&&(D==null||D())},[te,D]);const W=(q=F.arrow)==null?void 0:q.x,G=(ce=F.arrow)==null?void 0:ce.y,Y=((de=F.arrow)==null?void 0:de.centerOffset)!==0,[ne,re]=y.useState();return Li(()=>{g&&re(window.getComputedStyle(g).zIndex)},[g]),w.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:te?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ye=F.transformOrigin)==null?void 0:ye.x,(ve=F.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=F.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(eG,{scope:n,placedSide:B,onArrowChange:k,arrowX:W,arrowY:G,shouldHideArrow:Y,children:w.jsx(Qt.div,{"data-side":B,"data-align":V,...x,ref:I,style:{...x.style,animation:te?void 0:"none"}})})})});Ck.displayName=g_;var Ak="PopperArrow",nG={top:"bottom",right:"left",bottom:"top",left:"right"},bk=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=tG(Ak,r),o=nG[s.placedSide];return w.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:w.jsx(X8,{...i,ref:n,style:{...i.style,display:"block"}})})});bk.displayName=Ak;function rG(t){return t!==null}var iG=t=>({name:"transformOrigin",options:t,fn(e){var S,g,E;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=Rk(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let v="",x="";return u==="bottom"?(v=o?h:`${f}px`,x=`${-l}px`):u==="top"?(v=o?h:`${f}px`,x=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,x=o?h:`${m}px`):u==="left"&&(v=`${r.floating.width+l}px`,x=o?h:`${m}px`),{data:{x:v,y:x}}}});function Rk(t){const[e,n="center"]=t.split("-");return[e,n]}var sG=Tk,oG=Ik,aG=Ck,lG=bk,uG="Portal",Pk=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);Li(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rV.createPortal(w.jsx(Qt.div,{...r,ref:e}),o):null});Pk.displayName=uG;function cG(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Fu=t=>{const{present:e,children:n}=t,r=dG(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=an(r.ref,hG(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Fu.displayName="Presence";function dG(t){const[e,n]=y.useState(),r=y.useRef(null),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=cG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Oc(r.current);s.current=a==="mounted"?u:"none"},[a]),Li(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,m=Oc(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Li(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const x=Oc(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&x&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},f=m=>{m.target===e&&(s.current=Oc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Oc(t){return(t==null?void 0:t.animationName)||"none"}function hG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sm="rovingFocusGroup.onEntryFocus",fG={bubbles:!1,cancelable:!0},ju="RovingFocusGroup",[iy,kk,pG]=tk(ju),[mG,Nk]=Ou(ju,[pG]),[gG,yG]=mG(ju),Mk=y.forwardRef((t,e)=>w.jsx(iy.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(iy.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(vG,{...t,ref:e})})}));Mk.displayName=ju;var vG=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),m=an(e,f),v=nk(s),[x,S]=Z1({prop:o,defaultProp:a??null,onChange:l,caller:ju}),[g,E]=y.useState(!1),I=Gr(u),P=kk(n),k=y.useRef(!1),[O,C]=y.useState(0);return y.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(sm,I),()=>T.removeEventListener(sm,I)},[I]),w.jsx(gG,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:y.useCallback(T=>S(T),[S]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>C(T=>T-1),[]),children:w.jsx(Qt.div,{tabIndex:g||O===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{k.current=!0}),onFocus:Se(t.onFocus,T=>{const A=!k.current;if(T.target===T.currentTarget&&A&&!g){const R=new CustomEvent(sm,fG);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=P().filter(ae=>ae.focusable),L=M.find(ae=>ae.active),N=M.find(ae=>ae.id===x),me=[L,N,...M].filter(Boolean).map(ae=>ae.ref.current);Ok(me,d)}}k.current=!1}),onBlur:Se(t.onBlur,()=>E(!1))})})}),Dk="RovingFocusGroupItem",Vk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=ey(),u=s||l,d=yG(Dk,n),h=d.currentTabStopId===u,f=kk(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=d;return y.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),w.jsx(iy.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:w.jsx(Qt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Se(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Se(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Se(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const g=EG(S,d.orientation,d.dir);if(g!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let I=f().filter(P=>P.focusable).map(P=>P.ref.current);if(g==="last")I.reverse();else if(g==="prev"||g==="next"){g==="prev"&&I.reverse();const P=I.indexOf(S.currentTarget);I=d.loop?xG(I,P+1):I.slice(P+1)}setTimeout(()=>Ok(I))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});Vk.displayName=Dk;var wG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _G(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function EG(t,e,n){const r=_G(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wG[r]}function Ok(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function xG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TG=Mk,SG=Vk,IG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gs=new WeakMap,Lc=new WeakMap,Fc={},om=0,Lk=function(t){return t&&(t.host||Lk(t.parentNode))},CG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Lk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},AG=function(t,e,n,r){var i=CG(e,Array.isArray(t)?t:[t]);Fc[n]||(Fc[n]=new WeakMap);var s=Fc[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",x=(Gs.get(f)||0)+1,S=(s.get(f)||0)+1;Gs.set(f,x),s.set(f,S),o.push(f),x===1&&v&&Lc.set(f,!0),S===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),a.clear(),om++,function(){o.forEach(function(h){var f=Gs.get(h)-1,m=s.get(h)-1;Gs.set(h,f),s.set(h,m),f||(Lc.has(h)||h.removeAttribute(r),Lc.delete(h)),m||h.removeAttribute(n)}),om--,om||(Gs=new WeakMap,Gs=new WeakMap,Lc=new WeakMap,Fc={})}},bG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=IG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),AG(r,i,n,"aria-hidden")):function(){return null}},vd="right-scroll-bar-position",wd="width-before-scroll-bar",RG="with-scroll-bars-hidden",PG="--removed-body-scroll-bar-size";function am(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kG(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var NG=typeof window<"u"?y.useLayoutEffect:y.useEffect,FS=new WeakMap;function MG(t,e){var n=kG(null,function(r){return t.forEach(function(i){return am(i,r)})});return NG(function(){var r=FS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||am(a,null)}),s.forEach(function(a){i.has(a)||am(a,o)})}FS.set(n,t)},[t]),n}function DG(t){return t}function VG(t,e){e===void 0&&(e=DG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function OG(t){t===void 0&&(t={});var e=VG(null);return e.options=De({async:!0,ssr:!1},t),e}var Fk=function(t){var e=t.sideCar,n=yu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,De({},n))};Fk.isSideCarExport=!0;function LG(t,e){return t.useMedium(e),Fk}var jk=OG(),lm=function(){},bf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,v=t.noIsolation,x=t.inert,S=t.allowPinchZoom,g=t.as,E=g===void 0?"div":g,I=t.gapMode,P=yu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,O=MG([n,e]),C=De(De({},P),i);return y.createElement(y.Fragment,null,d&&y.createElement(k,{sideCar:jk,removeScrollBar:u,shards:h,noRelative:m,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:I}),o?y.cloneElement(y.Children.only(a),De(De({},C),{ref:O})):y.createElement(E,De({},C,{className:l,ref:O}),a))});bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bf.classNames={fullWidth:wd,zeroRight:vd};var FG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=FG();return e&&t.setAttribute("nonce",e),t}function UG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function BG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jG())&&(UG(e,n),BG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$G=function(){var t=zG();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Uk=function(){var t=$G(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},WG={left:0,top:0,right:0,gap:0},um=function(t){return parseInt(t||"",10)||0},HG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[um(n),um(r),um(i)]},GG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WG;var e=HG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qG=Uk(),ko="data-scroll-locked",KG=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(RG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(PG,": ").concat(a,`px;
  }
`)},jS=function(){var t=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(t)?t:0},QG=function(){y.useEffect(function(){return document.body.setAttribute(ko,(jS()+1).toString()),function(){var t=jS()-1;t<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,t.toString())}},[])},YG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;QG();var s=y.useMemo(function(){return GG(i)},[i]);return y.createElement(qG,{styles:KG(s,!e,i,n?"":"!important")})},sy=!1;if(typeof window<"u")try{var jc=Object.defineProperty({},"passive",{get:function(){return sy=!0,!0}});window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{sy=!1}var qs=sy?{passive:!1}:!1,XG=function(t){return t.tagName==="TEXTAREA"},Bk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!XG(t)&&n[e]==="visible")},JG=function(t){return Bk(t,"overflowY")},ZG=function(t){return Bk(t,"overflowX")},US=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zk(t,r);if(i){var s=$k(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},tq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zk=function(t,e){return t==="v"?JG(e):ZG(e)},$k=function(t,e){return t==="v"?eq(e):tq(e)},nq=function(t,e){return t==="h"&&e==="rtl"?-1:1},rq=function(t,e,n,r,i){var s=nq(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=$k(t,a),v=m[0],x=m[1],S=m[2],g=x-S-s*v;(v||g)&&zk(t,a)&&(h+=g,f+=v);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Uc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BS=function(t){return[t.deltaX,t.deltaY]},zS=function(t){return t&&"current"in t?t.current:t},iq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oq=0,Ks=[];function aq(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(oq++)[0],s=y.useState(Uk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=fF([t.lockRef.current],(t.shards||[]).map(zS),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Uc(x),E=n.current,I="deltaX"in x?x.deltaX:E[0]-g[0],P="deltaY"in x?x.deltaY:E[1]-g[1],k,O=x.target,C=Math.abs(I)>Math.abs(P)?"h":"v";if("touches"in x&&C==="h"&&O.type==="range")return!1;var T=US(C,O);if(!T)return!0;if(T?k=C:(k=C==="v"?"h":"v",T=US(C,O)),!T)return!1;if(!r.current&&"changedTouches"in x&&(I||P)&&(r.current=k),!k)return!0;var A=r.current||k;return rq(A,S,x,A==="h"?I:P)},[]),l=y.useCallback(function(x){var S=x;if(!(!Ks.length||Ks[Ks.length-1]!==s)){var g="deltaY"in S?BS(S):Uc(S),E=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&iq(k.delta,g)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var I=(o.current.shards||[]).map(zS).filter(Boolean).filter(function(k){return k.contains(S.target)}),P=I.length>0?a(S,I[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),u=y.useCallback(function(x,S,g,E){var I={name:x,delta:S,target:g,should:E,shadowParent:lq(g)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(P){return P!==I})},1)},[]),d=y.useCallback(function(x){n.current=Uc(x),r.current=void 0},[]),h=y.useCallback(function(x){u(x.type,BS(x),x.target,a(x,t.lockRef.current))},[]),f=y.useCallback(function(x){u(x.type,Uc(x),x.target,a(x,t.lockRef.current))},[]);y.useEffect(function(){return Ks.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,qs),document.addEventListener("touchmove",l,qs),document.addEventListener("touchstart",d,qs),function(){Ks=Ks.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,qs),document.removeEventListener("touchmove",l,qs),document.removeEventListener("touchstart",d,qs)}},[]);var m=t.removeScrollBar,v=t.inert;return y.createElement(y.Fragment,null,v?y.createElement(s,{styles:sq(i)}):null,m?y.createElement(YG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uq=LG(jk,aq);var Wk=y.forwardRef(function(t,e){return y.createElement(bf,De({},t,{ref:e,sideCar:uq}))});Wk.classNames=bf.classNames;var oy=["Enter"," "],cq=["ArrowDown","PageUp","Home"],Hk=["ArrowUp","PageDown","End"],dq=[...cq,...Hk],hq={ltr:[...oy,"ArrowRight"],rtl:[...oy,"ArrowLeft"]},fq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uu="Menu",[iu,pq,mq]=tk(Uu),[Ls,Gk]=Ou(Uu,[mq,Ek,Nk]),Rf=Ek(),qk=Nk(),[gq,Fs]=Ls(Uu),[yq,Bu]=Ls(Uu),Kk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Rf(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Gr(s),f=nk(i);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),w.jsx(sG,{...a,children:w.jsx(gq,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:w.jsx(yq,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};Kk.displayName=Uu;var vq="MenuAnchor",y_=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Rf(n);return w.jsx(oG,{...i,...r,ref:e})});y_.displayName=vq;var v_="MenuPortal",[wq,Qk]=Ls(v_,{forceMount:void 0}),Yk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Fs(v_,e);return w.jsx(wq,{scope:e,forceMount:n,children:w.jsx(Fu,{present:n||s.open,children:w.jsx(Pk,{asChild:!0,container:i,children:r})})})};Yk.displayName=v_;var Pn="MenuContent",[_q,w_]=Ls(Pn),Xk=y.forwardRef((t,e)=>{const n=Qk(Pn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Fs(Pn,t.__scopeMenu),o=Bu(Pn,t.__scopeMenu);return w.jsx(iu.Provider,{scope:t.__scopeMenu,children:w.jsx(Fu,{present:r||s.open,children:w.jsx(iu.Slot,{scope:t.__scopeMenu,children:o.modal?w.jsx(Eq,{...i,ref:e}):w.jsx(xq,{...i,ref:e})})})})}),Eq=y.forwardRef((t,e)=>{const n=Fs(Pn,t.__scopeMenu),r=y.useRef(null),i=an(e,r);return y.useEffect(()=>{const s=r.current;if(s)return bG(s)},[]),w.jsx(__,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xq=y.forwardRef((t,e)=>{const n=Fs(Pn,t.__scopeMenu);return w.jsx(__,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Tq=_h("MenuContent.ScrollLock"),__=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:v,...x}=t,S=Fs(Pn,n),g=Bu(Pn,n),E=Rf(n),I=qk(n),P=pq(n),[k,O]=y.useState(null),C=y.useRef(null),T=an(e,C,S.onContentChange),A=y.useRef(0),R=y.useRef(""),M=y.useRef(0),L=y.useRef(null),N=y.useRef("right"),oe=y.useRef(0),me=v?Wk:y.Fragment,ae=v?{as:Tq,allowPinchZoom:!0}:void 0,te=B=>{var q,ce;const V=R.current+B,D=P().filter(de=>!de.disabled),W=document.activeElement,G=(q=D.find(de=>de.ref.current===W))==null?void 0:q.textValue,Y=D.map(de=>de.textValue),ne=Vq(Y,V,G),re=(ce=D.find(de=>de.textValue===ne))==null?void 0:ce.ref.current;(function de(ye){R.current=ye,window.clearTimeout(A.current),ye!==""&&(A.current=window.setTimeout(()=>de(""),1e3))})(V),re&&setTimeout(()=>re.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),PH();const F=y.useCallback(B=>{var D,W;return N.current===((D=L.current)==null?void 0:D.side)&&Lq(B,(W=L.current)==null?void 0:W.area)},[]);return w.jsx(_q,{scope:n,searchRef:R,onItemEnter:y.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:y.useCallback(B=>{var V;F(B)||((V=C.current)==null||V.focus(),O(null))},[F]),onTriggerLeave:y.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:M,onPointerGraceIntentChange:y.useCallback(B=>{L.current=B},[]),children:w.jsx(me,{...ae,children:w.jsx(ok,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,B=>{var V;B.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:w.jsx(ik,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:w.jsx(TG,{asChild:!0,...I,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:Se(l,B=>{g.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(aG,{role:"menu","aria-orientation":"vertical","data-state":fN(S.open),"data-radix-menu-content":"",dir:g.dir,...E,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:Se(x.onKeyDown,B=>{const D=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,G=B.key.length===1;D&&(B.key==="Tab"&&B.preventDefault(),!W&&G&&te(B.key));const Y=C.current;if(B.target!==Y||!dq.includes(B.key))return;B.preventDefault();const re=P().filter(q=>!q.disabled).map(q=>q.ref.current);Hk.includes(B.key)&&re.reverse(),Mq(re)}),onBlur:Se(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:Se(t.onPointerMove,su(B=>{const V=B.target,D=oe.current!==B.clientX;if(B.currentTarget.contains(V)&&D){const W=B.clientX>oe.current?"right":"left";N.current=W,oe.current=B.clientX}}))})})})})})})});Xk.displayName=Pn;var Sq="MenuGroup",E_=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Qt.div,{role:"group",...r,ref:e})});E_.displayName=Sq;var Iq="MenuLabel",Jk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Qt.div,{...r,ref:e})});Jk.displayName=Iq;var Ih="MenuItem",$S="menu.itemSelect",Pf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=y.useRef(null),o=Bu(Ih,t.__scopeMenu),a=w_(Ih,t.__scopeMenu),l=an(e,s),u=y.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent($S,{bubbles:!0,cancelable:!0});h.addEventListener($S,m=>r==null?void 0:r(m),{once:!0}),ek(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return w.jsx(Zk,{...i,ref:l,disabled:n,onClick:Se(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Se(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Se(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||oy.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Pf.displayName=Ih;var Zk=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=w_(Ih,n),a=qk(n),l=y.useRef(null),u=an(e,l),[d,h]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[s.children]),w.jsx(iu.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:w.jsx(SG,{asChild:!0,...a,focusable:!r,children:w.jsx(Qt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Se(t.onPointerMove,su(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,su(v=>o.onItemLeave(v))),onFocus:Se(t.onFocus,()=>h(!0)),onBlur:Se(t.onBlur,()=>h(!1))})})})}),Cq="MenuCheckboxItem",eN=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return w.jsx(sN,{scope:t.__scopeMenu,checked:n,children:w.jsx(Pf,{role:"menuitemcheckbox","aria-checked":Ch(n)?"mixed":n,...i,ref:e,"data-state":T_(n),onSelect:Se(i.onSelect,()=>r==null?void 0:r(Ch(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eN.displayName=Cq;var tN="MenuRadioGroup",[Aq,bq]=Ls(tN,{value:void 0,onValueChange:()=>{}}),nN=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Gr(r);return w.jsx(Aq,{scope:t.__scopeMenu,value:n,onValueChange:s,children:w.jsx(E_,{...i,ref:e})})});nN.displayName=tN;var rN="MenuRadioItem",iN=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=bq(rN,t.__scopeMenu),s=n===i.value;return w.jsx(sN,{scope:t.__scopeMenu,checked:s,children:w.jsx(Pf,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":T_(s),onSelect:Se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});iN.displayName=rN;var x_="MenuItemIndicator",[sN,Rq]=Ls(x_,{checked:!1}),oN=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Rq(x_,n);return w.jsx(Fu,{present:r||Ch(s.checked)||s.checked===!0,children:w.jsx(Qt.span,{...i,ref:e,"data-state":T_(s.checked)})})});oN.displayName=x_;var Pq="MenuSeparator",aN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Qt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});aN.displayName=Pq;var kq="MenuArrow",lN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Rf(n);return w.jsx(lG,{...i,...r,ref:e})});lN.displayName=kq;var Nq="MenuSub",[cQ,uN]=Ls(Nq),Za="MenuSubTrigger",cN=y.forwardRef((t,e)=>{const n=Fs(Za,t.__scopeMenu),r=Bu(Za,t.__scopeMenu),i=uN(Za,t.__scopeMenu),s=w_(Za,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),w.jsx(y_,{asChild:!0,...u,children:w.jsx(Zk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":fN(n.open),...t,ref:Tf(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,su(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Se(t.onPointerLeave,su(h=>{var m,v;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const x=(v=n.content)==null?void 0:v.dataset.side,S=x==="right",g=S?-5:5,E=f[S?"left":"right"],I=f[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:E,y:f.top},{x:I,y:f.top},{x:I,y:f.bottom},{x:E,y:f.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,h=>{var m;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||hq[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});cN.displayName=Za;var dN="MenuSubContent",hN=y.forwardRef((t,e)=>{const n=Qk(Pn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Fs(Pn,t.__scopeMenu),o=Bu(Pn,t.__scopeMenu),a=uN(dN,t.__scopeMenu),l=y.useRef(null),u=an(e,l);return w.jsx(iu.Provider,{scope:t.__scopeMenu,children:w.jsx(Fu,{present:r||s.open,children:w.jsx(iu.Slot,{scope:t.__scopeMenu,children:w.jsx(__,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Se(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Se(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=fq[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});hN.displayName=dN;function fN(t){return t?"open":"closed"}function Ch(t){return t==="indeterminate"}function T_(t){return Ch(t)?"indeterminate":t?"checked":"unchecked"}function Mq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Dq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Vq(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Dq(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Oq(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function Lq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Oq(n,e)}function su(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Fq=Kk,jq=y_,Uq=Yk,Bq=Xk,zq=E_,$q=Jk,Wq=Pf,Hq=eN,Gq=nN,qq=iN,Kq=oN,Qq=aN,Yq=lN,Xq=cN,Jq=hN,kf="DropdownMenu",[Zq]=Ou(kf,[Gk]),Yt=Gk(),[eK,pN]=Zq(kf),mN=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Yt(e),u=y.useRef(null),[d,h]=Z1({prop:i,defaultProp:s??!1,onChange:o,caller:kf});return w.jsx(eK,{scope:e,triggerId:ey(),triggerRef:u,contentId:ey(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:a,children:w.jsx(Fq,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};mN.displayName=kf;var gN="DropdownMenuTrigger",yN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=pN(gN,n),o=Yt(n);return w.jsx(jq,{asChild:!0,...o,children:w.jsx(Qt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Tf(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});yN.displayName=gN;var tK="DropdownMenuPortal",vN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Yt(e);return w.jsx(Uq,{...r,...n})};vN.displayName=tK;var wN="DropdownMenuContent",_N=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=pN(wN,n),s=Yt(n),o=y.useRef(!1);return w.jsx(Bq,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_N.displayName=wN;var nK="DropdownMenuGroup",rK=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(zq,{...i,...r,ref:e})});rK.displayName=nK;var iK="DropdownMenuLabel",EN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx($q,{...i,...r,ref:e})});EN.displayName=iK;var sK="DropdownMenuItem",xN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Wq,{...i,...r,ref:e})});xN.displayName=sK;var oK="DropdownMenuCheckboxItem",TN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Hq,{...i,...r,ref:e})});TN.displayName=oK;var aK="DropdownMenuRadioGroup",lK=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Gq,{...i,...r,ref:e})});lK.displayName=aK;var uK="DropdownMenuRadioItem",SN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(qq,{...i,...r,ref:e})});SN.displayName=uK;var cK="DropdownMenuItemIndicator",IN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Kq,{...i,...r,ref:e})});IN.displayName=cK;var dK="DropdownMenuSeparator",CN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Qq,{...i,...r,ref:e})});CN.displayName=dK;var hK="DropdownMenuArrow",fK=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Yq,{...i,...r,ref:e})});fK.displayName=hK;var pK="DropdownMenuSubTrigger",AN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Xq,{...i,...r,ref:e})});AN.displayName=pK;var mK="DropdownMenuSubContent",bN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yt(n);return w.jsx(Jq,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bN.displayName=mK;var gK=mN,yK=yN,vK=vN,RN=_N,PN=EN,kN=xN,NN=TN,MN=SN,DN=IN,VN=CN,ON=AN,LN=bN;function FN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wK(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FN(t))&&(r&&(r+=" "),r+=e);return r}const S_="-",_K=t=>{const e=xK(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(S_);return a[0]===""&&a.length!==1&&a.shift(),jN(a,e)||EK(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},jN=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?jN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(S_);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},WS=/^\[(.+)\]$/,EK=t=>{if(WS.test(t)){const e=WS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xK=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)ay(n[i],r,i,e);return r},ay=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:HS(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(TK(i)){ay(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ay(o,HS(e,s),n,r)})})},HS=(t,e)=>{let n=t;return e.split(S_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TK=t=>t.isThemeGetter,SK=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},ly="!",uy=":",IK=uy.length,CK=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;for(let v=0;v<i.length;v++){let x=i[v];if(o===0&&a===0){if(x===uy){s.push(i.slice(l,v)),l=v+IK;continue}if(x==="/"){u=v;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const d=s.length===0?i:i.substring(l),h=AK(d),f=h!==d,m=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+uy,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},AK=t=>t.endsWith(ly)?t.substring(0,t.length-1):t.startsWith(ly)?t.substring(1):t,bK=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},RK=t=>({cache:SK(t.cacheSize),parseClassName:CK(t),sortModifiers:bK(t),..._K(t)}),PK=/\s+/,kK=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(PK);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let S=!!x,g=r(S?v.substring(0,x):v);if(!g){if(!S){l=d+(l.length>0?" "+l:l);continue}if(g=r(v),!g){l=d+(l.length>0?" "+l:l);continue}S=!1}const E=s(f).join(":"),I=m?E+ly:E,P=I+g;if(o.includes(P))continue;o.push(P);const k=i(g,S);for(let O=0;O<k.length;++O){const C=k[O];o.push(I+C)}l=d+(l.length>0?" "+l:l)}return l};function NK(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=UN(e))&&(r&&(r+=" "),r+=n);return r}const UN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=UN(t[r]))&&(n&&(n+=" "),n+=e);return n};function MK(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=RK(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=kK(l,n);return i(l,d),d}return function(){return s(NK.apply(null,arguments))}}const at=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,DK=/^\d+\/\d+$/,VK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,FK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>DK.test(t),ge=t=>!!t&&!Number.isNaN(Number(t)),ri=t=>!!t&&Number.isInteger(Number(t)),cm=t=>t.endsWith("%")&&ge(t.slice(0,-1)),Er=t=>VK.test(t),UK=()=>!0,BK=t=>OK.test(t)&&!LK.test(t),$N=()=>!1,zK=t=>FK.test(t),$K=t=>jK.test(t),WK=t=>!J(t)&&!Z(t),HK=t=>fa(t,GN,$N),J=t=>BN.test(t),Xi=t=>fa(t,qN,BK),dm=t=>fa(t,YK,ge),GS=t=>fa(t,WN,$N),GK=t=>fa(t,HN,$K),Bc=t=>fa(t,KN,zK),Z=t=>zN.test(t),$a=t=>pa(t,qN),qK=t=>pa(t,XK),qS=t=>pa(t,WN),KK=t=>pa(t,GN),QK=t=>pa(t,HN),zc=t=>pa(t,KN,!0),fa=(t,e,n)=>{const r=BN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},pa=(t,e,n=!1)=>{const r=zN.exec(t);return r?r[1]?e(r[1]):n:!1},WN=t=>t==="position"||t==="percentage",HN=t=>t==="image"||t==="url",GN=t=>t==="length"||t==="size"||t==="bg-size",qN=t=>t==="length",YK=t=>t==="number",XK=t=>t==="family-name",KN=t=>t==="shadow",JK=()=>{const t=at("color"),e=at("font"),n=at("text"),r=at("font-weight"),i=at("tracking"),s=at("leading"),o=at("breakpoint"),a=at("container"),l=at("spacing"),u=at("radius"),d=at("shadow"),h=at("inset-shadow"),f=at("text-shadow"),m=at("drop-shadow"),v=at("blur"),x=at("perspective"),S=at("aspect"),g=at("ease"),E=at("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Z,J],O=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[Z,J,l],A=()=>[Qs,"full","auto",...T()],R=()=>[ri,"none","subgrid",Z,J],M=()=>["auto",{span:["full",ri,Z,J]},ri,Z,J],L=()=>[ri,"auto",Z,J],N=()=>["auto","min","max","fr",Z,J],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...T()],te=()=>[Qs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],F=()=>[t,Z,J],B=()=>[...P(),qS,GS,{position:[Z,J]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",KK,HK,{size:[Z,J]}],W=()=>[cm,$a,Xi],G=()=>["","none","full",u,Z,J],Y=()=>["",ge,$a,Xi],ne=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[ge,cm,qS,GS],ce=()=>["","none",v,Z,J],de=()=>["none",ge,Z,J],ye=()=>["none",ge,Z,J],ve=()=>[ge,Z,J],xe=()=>[Qs,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Er],breakpoint:[Er],color:[UK],container:[Er],"drop-shadow":[Er],ease:["in","out","in-out"],font:[WK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Er],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Er],shadow:[Er],spacing:["px",ge],text:[Er],"text-shadow":[Er],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qs,J,Z,S]}],container:["container"],columns:[{columns:[ge,J,Z,a]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[ri,"auto",Z,J]}],basis:[{basis:[Qs,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,Qs,"auto","initial","none",J]}],grow:[{grow:["",ge,Z,J]}],shrink:[{shrink:["",ge,Z,J]}],order:[{order:[ri,"first","last","none",Z,J]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[a,"screen",...te()]}],"min-w":[{"min-w":[a,"screen","none",...te()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,$a,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,dm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cm,J]}],"font-family":[{font:[qK,J,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Z,J]}],"line-clamp":[{"line-clamp":[ge,"none",Z,dm]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",Z,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",Z,Xi]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[ge,"auto",Z,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ri,Z,J],radial:["",Z,J],conic:[ri,Z,J]},QK,GK]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,Z,J]}],"outline-w":[{outline:["",ge,$a,Xi]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,zc,Bc]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",h,zc,Bc]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[ge,Xi]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",f,zc,Bc]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[ge,Z,J]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Z,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,J]}],filter:[{filter:["","none",Z,J]}],blur:[{blur:ce()}],brightness:[{brightness:[ge,Z,J]}],contrast:[{contrast:[ge,Z,J]}],"drop-shadow":[{"drop-shadow":["","none",m,zc,Bc]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",ge,Z,J]}],"hue-rotate":[{"hue-rotate":[ge,Z,J]}],invert:[{invert:["",ge,Z,J]}],saturate:[{saturate:[ge,Z,J]}],sepia:[{sepia:["",ge,Z,J]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,J]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[ge,Z,J]}],"backdrop-contrast":[{"backdrop-contrast":[ge,Z,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,Z,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,Z,J]}],"backdrop-invert":[{"backdrop-invert":["",ge,Z,J]}],"backdrop-opacity":[{"backdrop-opacity":[ge,Z,J]}],"backdrop-saturate":[{"backdrop-saturate":[ge,Z,J]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,Z,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",Z,J]}],ease:[{ease:["linear","initial",g,Z,J]}],delay:[{delay:[ge,Z,J]}],animate:[{animate:["none",E,Z,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Z,J]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Z,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,J]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[ge,$a,Xi,dm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZK=MK(JK);function Mn(...t){return ZK(wK(t))}const e7=gK,t7=yK,n7=y.forwardRef(({className:t,inset:e,children:n,...r},i)=>w.jsxs(ON,{ref:i,className:Mn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,w.jsx(J$,{className:"ml-auto"})]}));n7.displayName=ON.displayName;const r7=y.forwardRef(({className:t,...e},n)=>w.jsx(LN,{ref:n,className:Mn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));r7.displayName=LN.displayName;const QN=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(vK,{children:w.jsx(RN,{ref:r,sideOffset:e,className:Mn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));QN.displayName=RN.displayName;const YN=y.forwardRef(({className:t,inset:e,...n},r)=>w.jsx(kN,{ref:r,className:Mn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));YN.displayName=kN.displayName;const i7=y.forwardRef(({className:t,children:e,checked:n,...r},i)=>w.jsxs(NN,{ref:i,className:Mn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(DN,{children:w.jsx(Y$,{className:"h-4 w-4"})})}),e]}));i7.displayName=NN.displayName;const s7=y.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(MN,{ref:r,className:Mn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(DN,{children:w.jsx(e5,{className:"h-2 w-2 fill-current"})})}),e]}));s7.displayName=MN.displayName;const o7=y.forwardRef(({className:t,inset:e,...n},r)=>w.jsx(PN,{ref:r,className:Mn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));o7.displayName=PN.displayName;const a7=y.forwardRef(({className:t,...e},n)=>w.jsx(VN,{ref:n,className:Mn("-mx-1 my-1 h-px bg-muted",t),...e}));a7.displayName=VN.displayName;function l7({user:t,couple:e}){const n=()=>{if(!window.confirm(`Souhaites-tu signaler le couple "${e.personA.display_name} et ${e.personB.display_name}" ?`))return;const i=t.displayName??"Utilisateur anonyme",s=`Signalement d'un couple : ${e.personA.display_name} & ${e.personB.display_name}`,o=`
Bonjour,

Un utilisateur a signal un couple sur Surchope :

 Utilisateur : ${i}
 Lien : https://surchope.fr/couple/${e.id}
 Raison : ( complter)

Merci.
    `.trim(),a=`mailto:contact@surchope.fr?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(o)}`;window.location.href=a};return w.jsxs(e7,{children:[w.jsx(t7,{asChild:!0,children:w.jsx("button",{className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2",title:"Plus doptions",children:w.jsx(n5,{size:18})})}),w.jsx(QN,{align:"end",sideOffset:6,className:"bg-card text-card-foreground border border-border rounded-lg shadow-md p-1",children:w.jsxs(YN,{onClick:n,className:"flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer text-muted-foreground hover:text-foreground hover:bg-muted transition",children:[w.jsx(o5,{size:14,className:"text-amber-500"}),w.jsx("span",{children:"Signaler ce couple"})]})})]})}function Nf({couple:t,user:e,myChoice:n,onVote:r,compact:i=!1,onlyMyVotes:s=!1,onDelete:o}){const[a,l]=y.useState(null);return w.jsxs("div",{className:"relative p-4 rounded-2xl bg-card text-card-foreground border border-border shadow-sm hover:shadow-md transition-all duration-200",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsx(aH,{couple:t,user:e,onDelete:o,compact:i}),e&&!i&&w.jsx(l7,{user:e,couple:t})]}),w.jsx("div",{className:"flex flex-col items-center gap-4",children:w.jsx(uH,{couple:t,myChoice:n,onlyMyVotes:s,onSelectPerson:l})}),!i&&w.jsx("div",{className:"mt-3",children:w.jsx(cH,{couple:t,user:e,canVote:!!e&&!!r,myChoice:n,onVote:r,onLoginClick:()=>vP()})}),!e&&!i&&w.jsx("div",{className:"mt-4 text-center",children:w.jsx("div",{className:"inline-block bg-primary/10 text-primary text-sm font-medium px-3 py-2 rounded-full shadow-sm",children:"Connecte-toi pour voter"})}),a&&w.jsx(oH,{name:a,onClose:()=>l(null)})]})}function ou({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i,...s}){const o="inline-flex items-center justify-center font-medium rounded-full transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2",a={primary:"bg-primary text-primary-foreground hover:opacity-90 focus:ring-[hsl(var(--primary))]",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus:ring-[hsl(var(--secondary))]",outline:"border border-border text-foreground hover:bg-muted focus:ring-[hsl(var(--ring))]",ghost:"text-foreground/70 hover:bg-muted focus:ring-[hsl(var(--ring))]"},l={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};return w.jsx("button",{className:Mn(o,a[e],l[n],r&&"w-full",i),...s,children:t})}function u7({onClose:t}){return w.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 max-w-sm mx-4 text-center shadow-lg animate-fadeIn",children:[w.jsx("h2",{className:"text-xl font-semibold text-primary mb-3",children:"Bienvenue sur Surchope "}),w.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed mb-5",children:["Ici, on ",w.jsx("span",{className:"font-semibold text-primary",children:"surchope"})," : cest quand on est en couple avec quelquun de plus attractif que soi  celui ou celle qui a un peu trop bien russi son coup ",w.jsx("br",{}),"Tout a avec humour et bienveillance "]}),w.jsx(ou,{onClick:t,variant:"primary",size:"sm",className:"rounded-full px-5",children:"Jai compris"})]})})}function cy(){return w.jsx("footer",{className:"text-center text-xs text-muted-foreground mt-10 pt-4 border-t border-border italic",children:"Surchoper : cest quand on est en couple avec quelquun dun peu trop canon pour soi "})}function XN({value:t,onChange:e,placeholder:n="Rechercher...",className:r}){return w.jsxs("div",{className:Mn("relative w-full sm:w-80 flex items-center",r),children:[w.jsx(m5,{size:18,className:"absolute left-3 text-muted-foreground/80 pointer-events-none"}),w.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),placeholder:n,className:"w-full border border-border rounded-full pl-10 pr-4 py-2 text-sm bg-background text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] placeholder:text-muted-foreground/60"})]})}function c7({user:t,myVotes:e,onVote:n,loading:r,deleteCouple:i}){const[s,o]=y.useState(""),[a,l]=y.useState(!1),[u,d]=y.useState([]),[h,f]=y.useState("all"),[m,v]=y.useState(r);y.useEffect(()=>{(async()=>{v(!0);try{let g=Dr(ur(Ne,"couples"),bi("validated","==",!0));h==="fictional"?g=Dr(g,bi("isFictional","==",!0)):h==="real"&&(g=Dr(g,bi("isFictional","==",!1)));const E=await Os(g),P=[...await Promise.all(E.docs.map(async k=>{let O=k.data();const[C,T]=await Promise.all([Ri(pt(Ne,"people",O.people_a_id)),Ri(pt(Ne,"people",O.people_b_id))]);console.log(O.count_a);const A=C.exists()?C.data():null;A.id=O.people_a_id;const R=T.exists()?T.data():null;return R.id=O.people_b_id,{id:k.id,...O,personA:A,personB:R}}))].sort((k,O)=>{const C=!!e[k.id],T=!!e[O.id];return C===T?0:C?1:-1});d(P)}catch(g){console.error("Erreur de chargement des couples :",g)}finally{v(!1)}})()},[h]),y.useEffect(()=>{localStorage.getItem("surchope_intro_seen")||(l(!0),localStorage.setItem("surchope_intro_seen","true"))},[]);const x=y.useMemo(()=>{const S=s.trim().toLowerCase();return u.filter(g=>S===""?!0:`${g.personA.display_name} ${g.personB.display_name}`.toLowerCase().includes(S))},[u,s]);return w.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6 relative text-foreground",children:[a&&w.jsx(u7,{onClose:()=>l(!1)}),m?w.jsx(xf,{}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:[w.jsx("div",{className:"flex gap-2 border border-gray-200 rounded-full p-1 bg-white/80 backdrop-blur-sm shadow-sm",children:[{value:"all",label:"Tous",icon:w.jsx(l5,{size:18})},{value:"fictional",label:"Fictifs",icon:w.jsx(w5,{size:18})},{value:"real",label:"Rels",icon:w.jsx(bw,{size:18})}].map(S=>{const g=h===S.value;return w.jsxs("button",{onClick:()=>f(S.value),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-medium transition-all
            ${g?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-md scale-[1.05]":"text-gray-700 hover:bg-gray-100 hover:shadow-sm"}`,children:[w.jsx("span",{className:`transition-transform ${g?"scale-110 drop-shadow-sm":"opacity-80"}`,children:S.icon}),w.jsx("span",{children:S.label})]},S.value)})}),w.jsx(XN,{value:s,onChange:o,placeholder:"Rechercher un couple ou un prnom..."})]}),x.length===0?w.jsx("p",{className:"text-center text-muted-foreground mt-6",children:"Aucun couple trouv "}):w.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-2 gap-4 pb-24",children:x.map(S=>S.personA&&S.personB?w.jsx(Nf,{couple:S,user:t,myChoice:e[S.id],onVote:n,onlyMyVotes:!1,onDelete:i},S.id):null)})]}),w.jsx(cy,{})]})}function KS({children:t,className:e}){return w.jsx("div",{className:Mn("bg-card text-card-foreground border border-border rounded-2xl shadow-sm hover:shadow-md transition p-4",e),children:t})}function d7({icon:t,label:e,onClick:n,color:r="default",className:i}){const s={default:"bg-muted hover:bg-muted/80 text-foreground/80 focus:ring-[hsl(var(--ring))]",primary:"bg-primary text-primary-foreground hover:opacity-90 focus:ring-[hsl(var(--primary))]",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus:ring-[hsl(var(--secondary))]"};return w.jsx("button",{onClick:n,title:e,className:Mn("flex items-center justify-center rounded-full p-2 transition focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95",s[r],i),children:w.jsx(t,{size:18})})}function au({to:t="/",label:e="Retour  la liste",className:n}){return w.jsx("div",{className:`flex justify-center ${n??""}`,children:w.jsx(So,{to:t,children:w.jsxs(ou,{variant:"outline",size:"sm",className:"group flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:bg-muted transition",children:[w.jsx(G$,{size:16,className:"text-primary transition-transform group-hover:-translate-x-1"}),w.jsx("span",{children:e})]})})})}function h7({user:t,couples:e,votesAll:n}){pu();const[r,i]=y.useState(!0),[s,o]=y.useState([]);y.useEffect(()=>{(async()=>{if(!t){o([]),i(!1);return}const l=Dr(ur(Ne,"votes"),bi("uid","==",t.uid),WR("updatedAt","desc")),u=await Os(l),d=[];u.forEach(h=>{var S,g;const f=h.data(),m=e.find(E=>E.id===f.couple_id);if(!m)return;let v;f.people_voted_id==="tie"?v="tie":v=f.people_voted_id===m.personA.id?"A":"B";const x=(g=(S=f.updatedAt)==null?void 0:S.toDate)==null?void 0:g.call(S);d.push({id:h.id,couple:m,choice:v,updatedAt:x})}),o(d),i(!1)})()},[t,e]);const a=async l=>{if(confirm("Supprimer ce vote ?"))try{await gi(pt(Ne,"votes",l)),o(u=>u.filter(d=>d.id!==l))}catch(u){console.error("Erreur suppression vote:",u),alert("Erreur lors de la suppression du vote.")}};return t?w.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-4 text-foreground",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4 text-primary",children:"Mon historique"}),r&&w.jsx(xf,{}),!r&&s.length===0&&w.jsx("div",{className:"text-muted-foreground text-sm",children:"Tu nas encore vot pour aucun couple "}),w.jsx(yh,{children:!r&&s.map(l=>w.jsx(nr.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:w.jsxs(KS,{className:"relative p-3 flex flex-col gap-2",children:[w.jsx("div",{className:"",children:w.jsx(d7,{icon:_P,label:"Supprimer ce vote",color:"default",onClick:()=>a(l.id)})}),w.jsx(Nf,{couple:l.couple,user:t,myChoice:l.choice,onlyMyVotes:!0,compact:!0})]})},l.id))})]}):w.jsx("main",{className:"max-w-5xl mx-auto px-4 py-10",children:w.jsxs(KS,{className:"p-6 text-center bg-card text-card-foreground",children:[w.jsx("h2",{className:"text-lg font-semibold mb-2 text-primary",children:"Mes votes"}),w.jsx("p",{className:"text-muted-foreground",children:"Connecte-toi pour voir ton historique de votes."}),w.jsx(au,{to:"/",label:"Retour  la liste",className:"mt-8"})]})})}async function QS(t){const e="2857d634922be62f9aec8e82cb24cf90",n=new FormData;n.append("key",e),n.append("image",t);const i=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:n})).json();if(i.success)return i.data.url;throw new Error("Upload  ImgBB chou : "+JSON.stringify(i))}function f7(t,e,n,r){const[i,s]=y.useState({display_name:"",image_url:"",file:null}),[o,a]=y.useState({display_name:"",image_url:"",file:null}),[l,u]=y.useState(!1),[d,h]=y.useState({}),[f,m]=y.useState(null),[v,x]=y.useState(!1);async function S(P){if(!P.trim())return!1;const k=Dr(ur(Ne,"people"),bi("display_name","==",P.trim()));return!(await Os(k)).empty}const g=async P=>{const k=P==="A"?i:o;if(!(k!=null&&k.display_name.trim()))return;const O=await S(k==null?void 0:k.display_name);h(C=>({...C,[P]:O?`Le nom "${k==null?void 0:k.display_name}" existe dj dans un autre couple.`:""}))},E=async P=>{if(P.preventDefault(),r===null){m("Veuillez indiquer si le couple est fictif ou rel.");return}if(!i.display_name||!o.display_name){m("Les deux noms sont obligatoires.");return}if(!l){m("Vous devez certifier avoir obtenu le consentement des deux personnes.");return}if(!i.file&&!i.image_url||!o.file&&!o.image_url){m("Chaque personne doit avoir au moins une image ou une URL dimage.");return}if(d.A||d.B){m("Un des noms existe dj. Modifiez-le avant de continuer.");return}m(null),x(!0);try{let k=i.image_url,O=o.image_url;i.file&&(k=await QS(i.file)),o.file&&(O=await QS(o.file));const C=ur(Ne,"people"),T=await qx(C,{display_name:i.display_name,image_url:k??""}),A=await qx(C,{display_name:o.display_name,image_url:O??""}),R=pt(ur(Ne,"couples"));await Vp(R,{id:R.id,people_a_id:T.id,people_b_id:A.id,count_a:0,count_b:0,createdBy:t.uid,createdAt:QR(),consentCertified:!0,category:n,validated:!1,isFictional:r}),await Promise.all([Vp(T,{couple_id:R.id},{merge:!0}),Vp(A,{couple_id:R.id},{merge:!0})]),e("/")}catch(k){console.error(k),m("Erreur lors de lenregistrement : "+k.message)}finally{x(!1)}},I=!v&&l&&i.display_name.trim()!==""&&o.display_name.trim()!==""&&(i.file||i.image_url.trim()!=="")&&(o.file||o.image_url.trim()!=="")&&!d.A&&!d.B;return{personA:i,personB:o,setPersonA:s,setPersonB:a,consentChecked:l,setConsentChecked:u,nameErrors:d,error:f,loading:v,canSubmit:I,handleBlur:g,handleSubmit:E}}const hm=new Map;let YS=0;const XS=400;async function p7(t){var r;if(!t.trim()||t.length<2)return[];if(hm.has(t))return hm.get(t);const n=Date.now()-YS;n<XS&&await new Promise(i=>setTimeout(i,XS-n)),YS=Date.now();try{const i=`https://fr.wikipedia.org/w/api.php?action=query&generator=prefixsearch&gpssearch=${encodeURIComponent(t)}&prop=pageimages&piprop=thumbnail&pithumbsize=100&format=json&origin=*&gpslimit=5`,o=await(await fetch(i)).json(),a=(r=o==null?void 0:o.query)==null?void 0:r.pages;if(!a)return[];const l=Object.values(a).map(u=>{var d;return{title:u.title,thumbnail:(d=u.thumbnail)==null?void 0:d.source}});return hm.set(t,l),l}catch(i){return console.error("Erreur Wikipdia autocomplete:",i),[]}}async function m7(t){var e,n,r;try{const i=`https://fr.wikipedia.org/w/api.php?action=query&titles=${encodeURIComponent(t)}&prop=pageimages&piprop=original|thumbnail&pithumbsize=1000&format=json&origin=*`,o=await(await fetch(i)).json(),a=(e=o==null?void 0:o.query)==null?void 0:e.pages;if(!a)return null;const l=Object.values(a)[0];return((n=l==null?void 0:l.original)==null?void 0:n.source)||((r=l==null?void 0:l.thumbnail)==null?void 0:r.source)||null}catch(i){return console.error("Erreur rcupration image HD Wikipdia:",i),null}}var JS=!1,ns,dy,hy,_d,Ed,JN,xd,fy,py,my,ZN,gy,yy,eM,tM;function Jt(){if(!JS){JS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(gy=/\b(iPhone|iP[ao]d)/.exec(t),yy=/\b(iP[ao]d)/.exec(t),my=/Android/i.exec(t),eM=/FBAN\/\w+;/i.exec(t),tM=/Mobile/i.exec(t),ZN=!!/Win64/.exec(t),e){ns=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ns&&document&&document.documentMode&&(ns=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);JN=r?parseFloat(r[1])+4:ns,dy=e[2]?parseFloat(e[2]):NaN,hy=e[3]?parseFloat(e[3]):NaN,_d=e[4]?parseFloat(e[4]):NaN,_d?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Ed=e&&e[1]?parseFloat(e[1]):NaN):Ed=NaN}else ns=dy=hy=Ed=_d=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);xd=i?parseFloat(i[1].replace("_",".")):!0}else xd=!1;fy=!!n[2],py=!!n[3]}else xd=fy=py=!1}}var vy={ie:function(){return Jt()||ns},ieCompatibilityMode:function(){return Jt()||JN>ns},ie64:function(){return vy.ie()&&ZN},firefox:function(){return Jt()||dy},opera:function(){return Jt()||hy},webkit:function(){return Jt()||_d},safari:function(){return vy.webkit()},chrome:function(){return Jt()||Ed},windows:function(){return Jt()||fy},osx:function(){return Jt()||xd},linux:function(){return Jt()||py},iphone:function(){return Jt()||gy},mobile:function(){return Jt()||gy||yy||my||tM},nativeApp:function(){return Jt()||eM},android:function(){return Jt()||my},ipad:function(){return Jt()||yy}},g7=vy,y7=!!(typeof window<"u"&&window.document&&window.document.createElement),v7={canUseDOM:y7},w7=v7,nM=w7,rM;nM.canUseDOM&&(rM=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function _7(t,e){if(!nM.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&rM&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var E7=_7,x7=g7,T7=E7,ZS=10,eI=40,tI=800;function iM(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*ZS,i=n*ZS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=eI,i*=eI):(r*=tI,i*=tI)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}iM.getEventType=function(){return x7.firefox()?"DOMMouseScroll":T7("wheel")?"wheel":"mousewheel"};var S7=iM,I7=S7;const C7=wy(I7);function A7(t,e,n,r,i,s){s===void 0&&(s=0);var o=Qo(t,e,s),a=o.width,l=o.height,u=Math.min(a,n),d=Math.min(l,r);return u>d*i?{width:d*i,height:d}:{width:u,height:u/i}}function b7(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Wa(t,e,n,r,i){i===void 0&&(i=0);var s=Qo(e.width,e.height,i),o=s.width,a=s.height;return{x:nI(t.x,o,n.width,r),y:nI(t.y,a,n.height,r)}}function nI(t,e,n,r){var i=e*r/2-n/2;return Mf(t,-i,i)}function rI(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function iI(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function R7(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?P7:k7,l=Qo(e.width,e.height,s),u=Qo(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(u.width,d.width*u.width/100)),f=Math.round(a(u.height,d.height*u.height/100)),m=u.width>=u.height*r,v=m?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},x=De(De({},v),{x:Math.round(a(u.width-v.width,d.x*u.width/100)),y:Math.round(a(u.height-v.height,d.y*u.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:x}}function P7(t,e){return Math.min(t,Math.max(0,e))}function k7(t,e){return e}function N7(t,e,n,r,i,s){var o=Qo(e.width,e.height,n),a=Mf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function M7(t,e,n){var r=b7(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function D7(t,e,n,r,i,s){n===void 0&&(n=0);var o=Qo(e.naturalWidth,e.naturalHeight,n),a=Mf(M7(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,u={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:u,zoom:a}}function sI(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function V7(t){return t*Math.PI/180}function Qo(t,e,n){var r=V7(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Mf(t,e,n){return Math.min(Math.max(t,e),n)}function $c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var O7=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,L7=1,F7=3,j7=1,U7=function(t){hF(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=y.createRef(),n.imageRef=y.createRef(),n.videoRef=y.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=N7(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=D7(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,u=n.imageRef.current||n.videoRef.current;if(u&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,m=u.offsetWidth<h||u.offsetHeight<f,v=h/f,x=void 0;if(m)switch(n.state.mediaObjectFit){default:case"contain":x=d>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":x={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":x={width:n.containerRect.height*v,height:n.containerRect.height};break}else x={width:u.offsetWidth,height:u.offsetHeight};n.mediaSize=De(De({},x),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:A7(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==S.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=De({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},u=n.props.restrictPosition?Wa(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(u)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=C7(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var u=Mf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*u-d.x,y:h.y*u-d.y},m=n.props.restrictPosition?Wa(f,n.mediaSize,n.state.cropSize,u,n.props.rotation):f;n.props.onCropChange(m)}n.props.onZoomChange(u)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Wa(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return R7(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.crop;if(n.isInitialized&&n.previousCropSize){var i=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(i){var s=n.state.cropSize.width/n.previousCropSize.width,o=n.state.cropSize.height/n.previousCropSize.height;r={x:n.props.crop.x*s,y:n.props.crop.y*o}}}var a=n.props.restrictPosition?Wa(r,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):r;n.previousCropSize=n.state.cropSize,n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,u=o.keyboardStep,d=o.zoom,h=o.rotation,f=u;if(n.state.cropSize){r.shiftKey&&(f*=.2);var m=De({},a);switch(r.key){case"ArrowUp":m.y-=f,r.preventDefault();break;case"ArrowDown":m.y+=f,r.preventDefault();break;case"ArrowLeft":m.x-=f,r.preventDefault();break;case"ArrowRight":m.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(m=Wa(m,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(m)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=O7,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,u,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=n.crop)===null||u===void 0?void 0:u.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/u;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=rI(r,i),this.lastPinchRotation=iI(r,i),this.onDragStart(sI(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=sI(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=rI(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var u=iI(i,s),d=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=u})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,u=i.transform,d=i.crop,h=d.x,f=d.y,m=i.rotation,v=i.zoom,x=i.cropShape,S=i.showGrid,g=i.roundCropAreaPixels,E=i.style,I=E.containerStyle,P=E.cropAreaStyle,k=E.mediaStyle,O=i.classes,C=O.containerClassName,T=O.cropAreaClassName,A=O.mediaClassName,R=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return y.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(L){return n.containerRef=L},"data-testid":"container",style:I,className:$c("reactEasyCrop_Container",C)},s?y.createElement("img",De({alt:"",className:$c("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{src:s,ref:this.imageRef,style:De(De({},k),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&y.createElement("video",De({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:$c("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:De(De({},k),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(M){return y.createElement("source",De({key:M.src},M))})),this.state.cropSize&&y.createElement("div",De({ref:this.cropperRef,style:De(De({},P),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:$c("reactEasyCrop_CropArea",x==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",T)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:F7,minZoom:L7,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:j7},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(y.Component);function B7({imageSrc:t,onCancel:e,onCrop:n}){const[r,i]=y.useState({x:0,y:0}),[s,o]=y.useState(1),[a,l]=y.useState(null),[u,d]=y.useState(!1),[h,f]=y.useState(null),m=y.useCallback((g,E)=>{l(E)},[]),v=async g=>{if(g.startsWith("data:")||g.startsWith("blob:"))return x(g);const E=`https://corsproxy.io/?${encodeURIComponent(g)}`,I=await fetch(E);if(!I.ok)throw new Error(`Erreur proxy: ${I.status}`);const P=await I.blob(),k=URL.createObjectURL(P);return x(k)},x=g=>new Promise((E,I)=>{const P=new Image;P.onload=()=>E(P),P.onerror=k=>I(k),P.src=g}),S=async()=>{if(!a){f("Zone de recadrage non dfinie");return}d(!0),f(null);try{const g=await v(t),E=document.createElement("canvas"),I=E.getContext("2d");if(!I)throw new Error("Impossible d'obtenir le contexte du canvas");const{width:P,height:k,x:O,y:C}=a;E.width=P,E.height=k,I.drawImage(g,O,C,P,k,0,0,P,k),E.toBlob(T=>{d(!1),T?n(T):f("chec de la conversion en image.")},"image/jpeg",.9)}catch(g){console.error("Erreur lors du recadrage :",g),f(g.message||"Erreur inconnue lors du recadrage."),d(!1)}};return w.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 w-80 sm:w-96 flex flex-col items-center shadow-lg animate-fadeIn",children:[w.jsx("div",{className:"relative w-64 h-64 bg-muted rounded-full overflow-hidden border border-border",children:w.jsx(U7,{image:t,crop:r,zoom:s,aspect:1,cropShape:"round",showGrid:!1,restrictPosition:!1,onCropChange:i,onZoomChange:o,onCropComplete:m})}),w.jsx("input",{type:"range",min:.1,max:10,step:.01,value:s,onChange:g=>o(Number(g.target.value)),className:"w-full mt-5 accent-[hsl(var(--primary))] cursor-pointer"}),w.jsxs("div",{className:"flex gap-3 mt-5",children:[w.jsx(ou,{onClick:e,variant:"outline",size:"sm",disabled:u,className:"rounded-full",children:"Annuler"}),w.jsx(ou,{onClick:S,variant:"primary",size:"sm",disabled:u,className:`rounded-full ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Recadrage...":"Valider "})]}),h&&w.jsx("p",{className:"text-destructive text-xs mt-3 text-center",children:h})]})})}function z7({label:t,imageUrl:e,file:n,onFileChange:r,onUrlChange:i}){const[s,o]=y.useState(!1),[a,l]=y.useState(null),u=v=>{const x=new FileReader;x.onload=S=>{var g;return l((g=S.target)==null?void 0:g.result)},x.readAsDataURL(v)},d=v=>{var S;const x=(S=v.target.files)==null?void 0:S[0];x&&u(x)},h=v=>{var S;v.preventDefault(),o(!1);const x=(S=v.dataTransfer.files)==null?void 0:S[0];x&&u(x)},f=v=>{const x=new File([v],"cropped.jpg",{type:"image/jpeg"});r(x),l(null)},m=async()=>{e&&l(e)};return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{onDrop:h,onDragOver:v=>{v.preventDefault(),o(!0)},onDragLeave:()=>o(!1),className:`relative w-32 h-32 rounded-full border-2 border-dashed flex items-center justify-center cursor-pointer transition-all duration-200 ${s?"border-primary bg-primary/10":"border-border bg-muted hover:bg-muted/80"}`,children:[n||e?w.jsx("img",{src:n?URL.createObjectURL(n):e,alt:"Aperu",className:"object-cover w-full h-full rounded-full border border-border shadow-sm"}):w.jsx(K$,{className:"text-muted-foreground w-10 h-10"}),w.jsx("label",{htmlFor:`${t}-file`,className:"absolute bottom-2 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs font-medium px-2 py-1 rounded-full cursor-pointer shadow hover:opacity-90 transition",children:n||e?"Changer":"Choisir"}),w.jsx("input",{id:`${t}-file`,type:"file",accept:"image/*",onChange:d,className:"hidden"})]}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("input",{type:"text",placeholder:"Ou coller une URL dimage",value:e,onChange:v=>i(v.target.value),className:"flex-1 bg-background border border-border rounded-full px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2 transition"}),w.jsx(ou,{type:"button",onClick:m,disabled:!e,variant:e?"primary":"outline",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium ${e?"":"opacity-60 cursor-not-allowed"}`,children:"Recadrer"})]}),a&&w.jsx(B7,{imageSrc:a,onCancel:()=>l(null),onCrop:f})]})}function oI({label:t,person:e,setPerson:n,err:r,handleBlur:i}){const[s,o]=y.useState([]),a=y.useRef(null),l=async u=>{const d=u.target.value;if(n({...e,display_name:d}),d.length>1){const h=await p7(d);o(h)}else o([])};return y.useEffect(()=>{const u=d=>{a.current&&!a.current.contains(d.target)&&o([])};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),w.jsxs("div",{className:"relative",ref:a,children:[w.jsx("h3",{className:"font-medium mb-2",children:t}),w.jsx("input",{type:"text",placeholder:"Nom",value:e.display_name,onChange:l,onBlur:()=>i(t==="Personne A"?"A":"B"),className:`w-full border rounded p-2 mb-2 ${r?"border-red-500 bg-red-50":"border-gray-300"}`}),s.length>0&&w.jsx("ul",{className:"absolute z-10 bg-white border border-gray-200 rounded-md shadow-md w-full mt-1 max-h-48 overflow-y-auto",children:s.map((u,d)=>w.jsxs("li",{onClick:async()=>{n({...e,display_name:u.title,image_url:u.thumbnail||""}),o([]);const h=await m7(u.title);h&&n({...e,display_name:u.title,image_url:h})},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer flex items-center gap-3",children:[u.thumbnail?w.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-10 h-10 rounded-full object-cover"}):w.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full text-xs text-gray-600",children:u.title[0]}),w.jsx("span",{className:"text-sm",children:u.title})]},d))}),r&&w.jsx("div",{className:"text-xs text-red-600 mb-2",children:r}),w.jsx(z7,{label:t,imageUrl:e.image_url,file:e.file,onFileChange:u=>n({...e,file:u}),onUrlChange:u=>n({...e,image_url:u})})]})}function $7({user:t}){const e=pu(),[n,r]=y.useState("people"),[i,s]=y.useState(!1),{personA:o,personB:a,setPersonA:l,setPersonB:u,consentChecked:d,setConsentChecked:h,nameErrors:f,error:m,loading:v,canSubmit:x,handleBlur:S,handleSubmit:g}=f7(t,e,n,i);return t?w.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10",children:[w.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Ajouter un nouveau couple"}),w.jsxs("div",{className:"border-t pt-6 mt-8 mb-8",children:[w.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-3",children:["Type de couple ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("div",{className:"flex gap-9",children:[{label:"Fictif",value:!0,description:"Personnages historique, films, sries, etc.",color:"from-purple-500 to-pink-500",icon:""},{label:"Rel",value:!1,description:"Vrai couple (clbrits, amis, etc.)",color:"from-blue-500 to-green-500",icon:""}].map(E=>w.jsx("button",{type:"button",onClick:()=>s(E.value),className:`flex-1 p-4 rounded-xl border-2 transition-all duration-200 text-left shadow-sm 
          ${i===E.value?`border-transparent bg-gradient-to-r ${E.color} text-white scale-105`:"border-gray-300 bg-white hover:border-gray-400"}`,children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-2xl",children:E.icon}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold",children:E.label}),w.jsx("p",{className:`text-xs ${i===E.value?"text-white/90":"text-gray-500"}`,children:E.description})]})]})},E.label))})]}),w.jsxs("form",{onSubmit:E=>{E.preventDefault(),g(E)},className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx(oI,{label:"Personne A",person:o,setPerson:l,err:f.A,handleBlur:S}),w.jsx(oI,{label:"Personne B",person:a,setPerson:u,err:f.B,handleBlur:S})]}),w.jsxs("div",{className:"flex items-start gap-2 border-t pt-4 mt-6",children:[w.jsx("input",{id:"consent",type:"checkbox",checked:d,onChange:E=>h(E.target.checked),className:"mt-1"}),w.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:["Je certifie avoir obtenu le ",w.jsx("strong",{children:"consentement explicite"})," des deux personnes reprsentes (textes et images) pour la publication sur Surchope. Jassume lentire responsabilit en cas de contenu non autoris."]})]}),m&&w.jsx("div",{className:"text-red-600 text-sm",children:m}),w.jsx("button",{type:"submit",disabled:!x||i===null,className:`px-4 py-2 rounded text-white ${x&&i!==null?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:v?"Enregistrement...":"Crer le couple"})]})]}):w.jsx("main",{className:"max-w-3xl mx-auto px-4 py-10",children:w.jsxs("div",{className:"p-6 border rounded-2xl bg-white",children:[w.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Ajouter un couple"}),w.jsx("p",{className:"text-gray-600",children:"Connecte-toi pour pouvoir ajouter un couple."}),w.jsx(au,{to:"/",label:"Retour  la liste",className:"mt-8"})]})})}function W7(){return w.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10 text-sm leading-relaxed text-gray-700",children:[w.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Politique de confidentialit"}),w.jsxs("p",{className:"mb-4",children:["Le site ",w.jsx("strong",{children:"Surchope"})," est un projet communautaire et ludique, sans but commercial, permettant aux utilisateurs de voter anonymement sur des couples fictifs ou rels."]}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"1. Donnes collectes"}),w.jsx("p",{children:"Le site collecte uniquement les donnes strictement ncessaires  son fonctionnement :"}),w.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[w.jsx("li",{children:"Adresse e-mail et photo de profil via Google (connexion Firebase Auth)"}),w.jsx("li",{children:"Identifiants anonymes de vote (UID, couple_id, choix A/B)"}),w.jsx("li",{children:"ventuellement des images fournies par les utilisateurs (hberges sur ImgBB)"})]}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"2. Finalit du traitement"}),w.jsx("p",{children:"Ces donnes sont utilises uniquement pour permettre laffichage des couples, la gestion des votes, et la modration des contenus. Aucune donne nest vendue, partage ou exploite  des fins commerciales."}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"3. Base lgale"}),w.jsxs("p",{children:["Le traitement repose sur le ",w.jsx("strong",{children:"consentement explicite"})," des utilisateurs, notamment lors de la cration dun couple et du tlchargement dimages."]}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"4. Dure de conservation"}),w.jsx("p",{children:"Les donnes sont conserves tant que le compte utilisateur existe ou que le couple reste publi. Les utilisateurs peuvent demander la suppression de leurs donnes  tout moment."}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"5. Droit daccs et de suppression"}),w.jsx("p",{children:"Conformment au Rglement Gnral sur la Protection des Donnes (RGPD), vous pouvez demander :"}),w.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[w.jsx("li",{children:"laccs  vos donnes,"}),w.jsx("li",{children:"leur rectification ou leur suppression,"}),w.jsx("li",{children:"la suppression de vos votes ou de vos couples ajouts."})]}),w.jsxs("p",{children:["Pour exercer ces droits, vous pouvez contacter ladministrateur du site  ladresse :",w.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"6. Hbergement et sous-traitants"}),w.jsx("p",{children:"Les donnes sont hberges par :"}),w.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Firebase (Google Cloud)"}),"  authentification, base de donnes et stockage"]}),w.jsxs("li",{children:[w.jsx("strong",{children:"ImgBB"}),"  hbergement des images uploades"]})]}),w.jsx("p",{children:"Ces services peuvent transfrer des donnes hors de lUnion europenne, conformment aux clauses contractuelles types de la Commission europenne."}),w.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"7. Contact"}),w.jsxs("p",{children:["Pour toute question ou rclamation concernant vos donnes, contactez :",w.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),w.jsxs("p",{className:"mt-6 text-xs text-gray-500",children:["Dernire mise  jour : ",new Date().toLocaleDateString("fr-FR")]})]})}function H7(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),i=new Map;return y.useEffect(()=>{const o=Dr(ur(Ne,"couples"),bi("validated","==",!0)),a=pz(o,u=>{const d=u.docChanges();d.length!==0&&(d.forEach(async h=>{const f=h.doc.data(),m=h.doc.id;if(h.type==="removed"){e(g=>g.filter(E=>E.id!==m));return}const[v,x]=await Promise.all([l(f.people_a_id),l(f.people_b_id)]);if(!v||!x)return;const S={...f,id:m,personA:v,personB:x};e(g=>{const E=g.find(I=>I.id===m);return!E&&h.type==="added"?[...g,S]:E&&h.type==="modified"?g.map(I=>I.id===m?S:I):g})}),r(!1))});async function l(u){if(i.has(u))return i.get(u);const d=await Ri(pt(Ne,"people",u));if(!d.exists())return null;const h={id:d.id,...d.data()};return i.set(u,h),h}return()=>a()},[]),{couples:t,loading:n,deleteCouple:async(o,a)=>{if(a!=="EuindCjjeTYx5ABLPCRWdflHy2c2"){alert("Tu nas pas les droits pour supprimer ce couple.");return}try{const l=pt(Ne,"couples",o),u=await Ri(l);if(!u.exists())return alert("Couple introuvable.");const d=u.data(),f=(await Os(Dr(ur(Ne,"votes"),bi("couple_id","==",o)))).docs.map(m=>gi(m.ref));await Promise.all([...f,gi(pt(Ne,"people",d.people_a_id)),gi(pt(Ne,"people",d.people_b_id)),gi(l)]),e(m=>m.filter(v=>v.id!==o)),alert(" Couple supprim avec succs.")}catch(l){console.error("Erreur pendant la suppression du couple :",l),alert(" Erreur lors de la suppression du couple.")}}}}function G7(t,e){const[n,r]=y.useState([]),[i,s]=y.useState({});return y.useEffect(()=>{(async()=>{try{const u=(await Os(ur(Ne,"votes"))).docs.map(d=>{var m,v;const h=d.data(),f=(v=(m=h.updatedAt)==null?void 0:m.toDate)==null?void 0:v.call(m);return{id:d.id,...h,updatedAt:f}});r(u)}catch(l){console.error("Erreur de chargement des votes :",l)}})()},[]),y.useEffect(()=>{if(!t)return s({});const a={};for(const l of n){if(l.uid!==t.uid)continue;const u=e.find(d=>d.id===l.couple_id);u&&(l.people_voted_id==="tie"?a[l.couple_id]="tie":a[l.couple_id]=l.people_voted_id===u.personA.id?"A":"B")}s(a)},[t,n,e]),{votesAll:n,myVotes:i,handleVote:async(a,l)=>{if(!t)return;const u=`${a.id}_${t.uid}`,d=pt(Ne,"votes",u),h=pt(Ne,"couples",a.id),f=l==="A"?a.personA.id:l==="B"?a.personB.id:"tie";try{await yz(Ne,async m=>{const[v,x]=await Promise.all([m.get(d),m.get(h)]);if(!x.exists())throw new Error("Couple not found");const S=x.data();let{count_a:g=0,count_b:E=0,count_tie:I=0}=S;if(!v.exists())l==="A"?g++:l==="B"?E++:I++;else{const P=v.data(),k=P.people_voted_id===a.personA.id?"A":P.people_voted_id===a.personB.id?"B":"tie";if(k===l)return;k==="A"?g--:k==="B"?E--:I--,l==="A"?g++:l==="B"?E++:I++}m.set(h,{count_a:g,count_b:E,count_tie:I},{merge:!0}),m.set(d,{couple_id:a.id,uid:t.uid,people_voted_id:f,updatedAt:QR()},{merge:!0})}),s(m=>({...m,[a.id]:l})),r(m=>{const v=m.find(S=>S.id===`${a.id}_${t.uid}`),x={id:`${a.id}_${t.uid}`,couple_id:a.id,uid:t.uid,people_voted_id:f,updatedAt:new Date};return v?m.map(S=>S.id===v.id?x:S):[...m,x]})}catch(m){console.error("Erreur pendant le vote :",m)}}}}function q7({couples:t,user:e,onVote:n}){const{id:r}=MV(),i=t.find(l=>l.id===r),[s,o]=y.useState(void 0);if(y.useEffect(()=>{i&&o(void 0)},[i]),!i)return w.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-muted-foreground",children:[w.jsx(xf,{}),w.jsx("p",{children:"Chargement du couple... "})]});const a=(l,u)=>{o(u),n(l,u)};return w.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 text-foreground",children:[w.jsxs("h1",{className:"text-2xl font-semibold text-center text-primary mb-4",children:[" ",i.personA.display_name," & ",i.personB.display_name]}),w.jsx(Nf,{couple:i,user:e,onVote:a,compact:!1,onlyMyVotes:!1,myChoice:s}),w.jsx(au,{to:"/",label:"Retour  la liste",className:"mt-8"})]})}var zu={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var V=new OffscreenCanvas(1,1),D=V.getContext("2d");D.fillRect(0,0,1,1);var W=V.transferToImageBitmap();try{D.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function u(V){var D=n.exports.Promise,W=D!==void 0?D:e.Promise;return typeof W=="function"?new W(V):(V(l,l),null)}var d=function(V,D){return{transform:function(W){if(V)return W;if(D.has(W))return D.get(W);var G=new OffscreenCanvas(W.width,W.height),Y=G.getContext("2d");return Y.drawImage(W,0,0),D.set(W,G),G},clear:function(){D.clear()}}}(a,new Map),h=function(){var V=Math.floor(16.666666666666668),D,W,G={},Y=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(ne){var re=Math.random();return G[re]=requestAnimationFrame(function q(ce){Y===ce||Y+V-1<ce?(Y=ce,delete G[re],ne()):G[re]=requestAnimationFrame(q)}),re},W=function(ne){G[ne]&&cancelAnimationFrame(G[ne])}):(D=function(ne){return setTimeout(ne,V)},W=function(ne){return clearTimeout(ne)}),{frame:D,cancel:W}}(),f=function(){var V,D,W={};function G(Y){function ne(re,q){Y.postMessage({options:re||{},callback:q})}Y.init=function(q){var ce=q.transferControlToOffscreen();Y.postMessage({canvas:ce},[ce])},Y.fire=function(q,ce,de){if(D)return ne(q,null),D;var ye=Math.random().toString(36).slice(2);return D=u(function(ve){function xe(Pe){Pe.data.callback===ye&&(delete W[ye],Y.removeEventListener("message",xe),D=null,d.clear(),de(),ve())}Y.addEventListener("message",xe),ne(q,ye),W[ye]=xe.bind(null,{data:{callback:ye}})}),D},Y.reset=function(){Y.postMessage({reset:!0});for(var q in W)W[q](),delete W[q]}}return function(){if(V)return V;if(!r&&s){var Y=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{V=new Worker(URL.createObjectURL(new Blob([Y])))}catch(ne){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ne),null}G(V)}return V}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(V,D){return D?D(V):V}function x(V){return V!=null}function S(V,D,W){return v(V&&x(V[D])?V[D]:m[D],W)}function g(V){return V<0?0:Math.floor(V)}function E(V,D){return Math.floor(Math.random()*(D-V))+V}function I(V){return parseInt(V,16)}function P(V){return V.map(k)}function k(V){var D=String(V).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:I(D.substring(0,2)),g:I(D.substring(2,4)),b:I(D.substring(4,6))}}function O(V){var D=S(V,"origin",Object);return D.x=S(D,"x",Number),D.y=S(D,"y",Number),D}function C(V){V.width=document.documentElement.clientWidth,V.height=document.documentElement.clientHeight}function T(V){var D=V.getBoundingClientRect();V.width=D.width,V.height=D.height}function A(V){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=V,D}function R(V,D,W,G,Y,ne,re,q,ce){V.save(),V.translate(D,W),V.rotate(ne),V.scale(G,Y),V.arc(0,0,1,re,q,ce),V.restore()}function M(V){var D=V.angle*(Math.PI/180),W=V.spread*(Math.PI/180);return{x:V.x,y:V.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:V.startVelocity*.5+Math.random()*V.startVelocity,angle2D:-D+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:V.color,shape:V.shape,tick:0,totalTicks:V.ticks,decay:V.decay,drift:V.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:V.gravity*3,ovalScalar:.6,scalar:V.scalar,flat:V.flat}}function L(V,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var W=D.tick++/D.totalTicks,G=D.x+D.random*D.tiltCos,Y=D.y+D.random*D.tiltSin,ne=D.wobbleX+D.random*D.tiltCos,re=D.wobbleY+D.random*D.tiltSin;if(V.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-W)+")",V.beginPath(),o&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))V.fill(te(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(ne-G)*.1,Math.abs(re-Y)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var q=Math.PI/10*D.wobble,ce=Math.abs(ne-G)*.1,de=Math.abs(re-Y)*.1,ye=D.shape.bitmap.width*D.scalar,ve=D.shape.bitmap.height*D.scalar,xe=new DOMMatrix([Math.cos(q)*ce,Math.sin(q)*ce,-Math.sin(q)*de,Math.cos(q)*de,D.x,D.y]);xe.multiplySelf(new DOMMatrix(D.shape.matrix));var Pe=V.createPattern(d.transform(D.shape.bitmap),"no-repeat");Pe.setTransform(xe),V.globalAlpha=1-W,V.fillStyle=Pe,V.fillRect(D.x-ye/2,D.y-ve/2,ye,ve),V.globalAlpha=1}else if(D.shape==="circle")V.ellipse?V.ellipse(D.x,D.y,Math.abs(ne-G)*D.ovalScalar,Math.abs(re-Y)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):R(V,D.x,D.y,Math.abs(ne-G)*D.ovalScalar,Math.abs(re-Y)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var pe=Math.PI/2*3,et=4*D.scalar,bt=8*D.scalar,jt=D.x,ln=D.y,Ut=5,Xt=Math.PI/Ut;Ut--;)jt=D.x+Math.cos(pe)*bt,ln=D.y+Math.sin(pe)*bt,V.lineTo(jt,ln),pe+=Xt,jt=D.x+Math.cos(pe)*et,ln=D.y+Math.sin(pe)*et,V.lineTo(jt,ln),pe+=Xt;else V.moveTo(Math.floor(D.x),Math.floor(D.y)),V.lineTo(Math.floor(D.wobbleX),Math.floor(Y)),V.lineTo(Math.floor(ne),Math.floor(re)),V.lineTo(Math.floor(G),Math.floor(D.wobbleY));return V.closePath(),V.fill(),D.tick<D.totalTicks}function N(V,D,W,G,Y){var ne=D.slice(),re=V.getContext("2d"),q,ce,de=u(function(ye){function ve(){q=ce=null,re.clearRect(0,0,G.width,G.height),d.clear(),Y(),ye()}function xe(){r&&!(G.width===i.width&&G.height===i.height)&&(G.width=V.width=i.width,G.height=V.height=i.height),!G.width&&!G.height&&(W(V),G.width=V.width,G.height=V.height),re.clearRect(0,0,G.width,G.height),ne=ne.filter(function(Pe){return L(re,Pe)}),ne.length?q=h.frame(xe):ve()}q=h.frame(xe),ce=ve});return{addFettis:function(ye){return ne=ne.concat(ye),de},canvas:V,promise:de,reset:function(){q&&h.cancel(q),ce&&ce()}}}function oe(V,D){var W=!V,G=!!S(D||{},"resize"),Y=!1,ne=S(D,"disableForReducedMotion",Boolean),re=s&&!!S(D||{},"useWorker"),q=re?f():null,ce=W?C:T,de=V&&q?!!V.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function xe(pe,et,bt){for(var jt=S(pe,"particleCount",g),ln=S(pe,"angle",Number),Ut=S(pe,"spread",Number),Xt=S(pe,"startVelocity",Number),$u=S(pe,"decay",Number),Df=S(pe,"gravity",Number),ma=S(pe,"drift",Number),js=S(pe,"colors",P),Wu=S(pe,"ticks",Number),ot=S(pe,"shapes"),gt=S(pe,"scalar"),Us=!!S(pe,"flat"),ga=O(pe),ya=jt,va=[],Hi=V.width*ga.x,Hu=V.height*ga.y;ya--;)va.push(M({x:Hi,y:Hu,angle:ln,spread:Ut,startVelocity:Xt,color:js[ya%js.length],shape:ot[E(0,ot.length)],ticks:Wu,decay:$u,gravity:Df,drift:ma,scalar:gt,flat:Us}));return ve?ve.addFettis(va):(ve=N(V,va,ce,et,bt),ve.promise)}function Pe(pe){var et=ne||S(pe,"disableForReducedMotion",Boolean),bt=S(pe,"zIndex",Number);if(et&&ye)return u(function(Xt){Xt()});W&&ve?V=ve.canvas:W&&!V&&(V=A(bt),document.body.appendChild(V)),G&&!de&&ce(V);var jt={width:V.width,height:V.height};q&&!de&&q.init(V),de=!0,q&&(V.__confetti_initialized=!0);function ln(){if(q){var Xt={getBoundingClientRect:function(){if(!W)return V.getBoundingClientRect()}};ce(Xt),q.postMessage({resize:{width:Xt.width,height:Xt.height}});return}jt.width=jt.height=null}function Ut(){ve=null,G&&(Y=!1,e.removeEventListener("resize",ln)),W&&V&&(document.body.contains(V)&&document.body.removeChild(V),V=null,de=!1)}return G&&!Y&&(Y=!0,e.addEventListener("resize",ln,!1)),q?q.fire(pe,jt,Ut):xe(pe,jt,Ut)}return Pe.reset=function(){q&&q.reset(),ve&&ve.reset()},Pe}var me;function ae(){return me||(me=oe(null,{useWorker:!0,resize:!0})),me}function te(V,D,W,G,Y,ne,re){var q=new Path2D(V),ce=new Path2D;ce.addPath(q,new DOMMatrix(D));var de=new Path2D;return de.addPath(ce,new DOMMatrix([Math.cos(re)*Y,Math.sin(re)*Y,-Math.sin(re)*ne,Math.cos(re)*ne,W,G])),de}function F(V){if(!o)throw new Error("path confetti are not supported in this browser");var D,W;typeof V=="string"?D=V:(D=V.path,W=V.matrix);var G=new Path2D(D),Y=document.createElement("canvas"),ne=Y.getContext("2d");if(!W){for(var re=1e3,q=re,ce=re,de=0,ye=0,ve,xe,Pe=0;Pe<re;Pe+=2)for(var pe=0;pe<re;pe+=2)ne.isPointInPath(G,Pe,pe,"nonzero")&&(q=Math.min(q,Pe),ce=Math.min(ce,pe),de=Math.max(de,Pe),ye=Math.max(ye,pe));ve=de-q,xe=ye-ce;var et=10,bt=Math.min(et/ve,et/xe);W=[bt,0,0,bt,-Math.round(ve/2+q)*bt,-Math.round(xe/2+ce)*bt]}return{type:"path",path:D,matrix:W}}function B(V){var D,W=1,G="#000000",Y='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof V=="string"?D=V:(D=V.text,W="scalar"in V?V.scalar:W,Y="fontFamily"in V?V.fontFamily:Y,G="color"in V?V.color:G);var ne=10*W,re=""+ne+"px "+Y,q=new OffscreenCanvas(ne,ne),ce=q.getContext("2d");ce.font=re;var de=ce.measureText(D),ye=Math.ceil(de.actualBoundingBoxRight+de.actualBoundingBoxLeft),ve=Math.ceil(de.actualBoundingBoxAscent+de.actualBoundingBoxDescent),xe=2,Pe=de.actualBoundingBoxLeft+xe,pe=de.actualBoundingBoxAscent+xe;ye+=xe+xe,ve+=xe+xe,q=new OffscreenCanvas(ye,ve),ce=q.getContext("2d"),ce.font=re,ce.fillStyle=G,ce.fillText(D,Pe,pe);var et=1/W;return{type:"bitmap",bitmap:q.transferToImageBitmap(),matrix:[et,0,0,et,-ye*et/2,-ve*et/2]}}n.exports=function(){return ae().apply(this,arguments)},n.exports.reset=function(){ae().reset()},n.exports.create=oe,n.exports.shapeFromPath=F,n.exports.shapeFromText=B})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),zu,!1);const K7=zu.exports;zu.exports.create;function Q7({couples:t,user:e,myVotes:n,onVote:r}){pu();const[i]=y.useState(()=>t.filter(g=>!n[g.id])),[s,o]=y.useState(0),[a,l]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(null),m=()=>{s+1<i.length?o(g=>g+1):l(!0),f(null)},v=(g,E)=>{u||(d(!0),r(g,E),f(E==="A"?"left":E==="B"?"right":"down"),setTimeout(()=>{m(),d(!1)},400))};y.useEffect(()=>{(a||i.length===0)&&K7({particleCount:120,spread:70,origin:{y:.6},colors:["#ec4899","#f472b6","#fde68a"]})},[a,i.length]);const x=i[s];if(a||i.length===0)return w.jsxs("main",{className:"max-w-md mx-auto px-4 py-12 flex flex-col items-center justify-center text-center space-y-6",children:[w.jsx("h1",{className:"text-3xl font-extrabold text-primary drop-shadow-sm",children:" Bravo !"}),w.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Tu as vot pour tous les couples disponibles  ",w.jsx("br",{}),"Reviens bientt, de nouveaux duos tattendent !"]}),w.jsx(au,{to:"/",label:"Retour  la liste"}),w.jsx(nr.div,{className:"mt-8 text-4xl",initial:{scale:0},animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0},children:""}),w.jsx(cy,{})]});const S={left:{opacity:0,x:-200,rotate:-10},right:{opacity:0,x:200,rotate:10},down:{opacity:0,y:100,scale:.9},none:{opacity:0,x:0}};return w.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 flex flex-col items-center justify-center gap-6",children:[w.jsxs("div",{className:"flex justify-between w-full items-center",children:[w.jsx(au,{to:"/",label:"Retour  la liste"}),w.jsxs("div",{className:"text-sm text-muted-foreground",children:[s+1,"/",i.length]})]}),w.jsx("h2",{className:"text-xl font-extrabold text-center text-primary mt-2 tracking-wide",children:" Qui surchope ?"}),w.jsx(yh,{mode:"wait",children:w.jsx(nr.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:S[h??"none"],transition:{duration:.4},className:"w-full",children:x&&w.jsx(Nf,{couple:x,user:e,onVote:v,compact:!1,onlyMyVotes:!1})},x==null?void 0:x.id)}),w.jsx(cy,{})]})}function Y7(){const t=[{name:"primary",label:"Primary "},{name:"secondary",label:"Secondary "},{name:"accent",label:"Accent "},{name:"muted",label:"Muted "},{name:"card",label:"Card "}],[e,n]=y.useState("");return w.jsxs("main",{className:"max-w-4xl mx-auto p-8 space-y-10 text-foreground",children:[w.jsxs("header",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-extrabold text-primary drop-shadow-sm mb-2",children:" Styleguide Surchope"}),w.jsx("p",{className:"text-muted-foreground text-sm",children:"Aperu de la palette, des composants et des styles de lapplication "})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Barre de recherche"}),w.jsx("div",{className:"flex justify-center",children:w.jsx(XN,{value:e,onChange:n,placeholder:" Recherche dexemple...",className:"max-w-sm"})}),w.jsx("p",{className:"text-center text-muted-foreground text-xs mt-2",children:"Tape quelque chose pour tester le comportement du champ "})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Couleurs"}),w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:t.map(({name:r,label:i})=>w.jsxs("div",{className:`flex flex-col items-center text-center rounded-xl overflow-hidden border border-border bg-${r} text-${r}-foreground shadow-sm`,children:[w.jsx("div",{className:`w-full h-16 bg-${r}`}),w.jsx("div",{className:"p-2 text-xs font-medium text-foreground",children:i}),w.jsx("code",{className:"text-[10px] text-muted-foreground mb-2",children:`bg-${r}`})]},r))})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Boutons"}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsx("button",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-full font-medium shadow-sm hover:opacity-90 transition",children:"Surchope "}),w.jsx("button",{className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-full font-medium shadow-sm hover:opacity-90 transition",children:"Partager"}),w.jsx("button",{className:"border border-border text-foreground px-4 py-2 rounded-full hover:bg-muted transition",children:"Neutre"})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Tags"}),w.jsxs("div",{className:"flex gap-3 flex-wrap",children:[w.jsx("span",{className:"bg-primary/10 text-primary text-xs font-semibold px-3 py-1 rounded-full",children:"Surchope "}),w.jsx("span",{className:"bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full",children:"galit "}),w.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",children:"Nouveau "})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Card"}),w.jsxs("div",{className:"bg-card border border-border rounded-2xl shadow-sm p-5 max-w-sm text-card-foreground",children:[w.jsx("h3",{className:"font-semibold mb-2 text-foreground",children:"Exemple de carte "}),w.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Les cartes servent  encadrer du contenu (comme les couples ou les informations utilisateur). Elles utilisent une ombre douce et des arrondis cohrents avec le reste de lUI."}),w.jsx("div",{className:"mt-4 flex justify-end",children:w.jsx("button",{className:"bg-primary hover:opacity-90 text-primary-foreground text-sm px-3 py-1.5 rounded-full shadow-sm transition",children:"Action "})})]})]})]})}function X7(){const[t,e]=y.useState([]),[n,r]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const o=Dr(ur(Ne,"couples"),bi("validated","!=",!0)),a=await Os(o),l=[];for(const u of a.docs){const d=u.data(),[h,f]=await Promise.all([Ri(pt(Ne,"people",d.people_a_id)),Ri(pt(Ne,"people",d.people_b_id))]);if(!h.exists()||!f.exists())continue;const m={id:h.id,...h.data()},v={id:f.id,...f.data()};l.push({...d,id:u.id,personA:m,personB:v})}e(l)}catch(o){console.error("Erreur de chargement des couples  valider :",o)}finally{r(!1)}})()},[]);async function i(o){await fz(pt(Ne,"couples",o),{validated:!0}),e(a=>a.filter(l=>l.id!==o))}async function s(o){if(!confirm("Supprimer dfinitivement ce couple ?"))return;const a=pt(Ne,"couples",o),l=await Ri(a);if(!l.exists())return;const u=l.data();await Promise.all([gi(pt(Ne,"people",u.people_a_id)),gi(pt(Ne,"people",u.people_b_id)),gi(a)]),e(d=>d.filter(h=>h.id!==o))}return n?w.jsx("div",{className:"p-6 text-center text-gray-500",children:"Chargement des couples"}):t.length===0?w.jsx("div",{className:"p-6 text-center text-gray-500",children:"Aucun couple  valider "}):w.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[w.jsx("h2",{className:"text-xl font-semibold mb-6 text-primary",children:"Validation des couples"}),w.jsx("div",{className:"grid gap-6",children:t.map(o=>{var a,l;return w.jsxs("div",{className:"p-4 border rounded-xl bg-white shadow-sm flex flex-col sm:flex-row items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"flex -space-x-4",children:[o.personA,o.personB].map(u=>u&&w.jsx("img",{src:u.image_url,alt:u.display_name,className:"w-14 h-14 rounded-full object-cover border-2 border-white shadow-sm"},u.id))}),w.jsxs("div",{children:[w.jsxs("div",{className:"font-medium",children:[(a=o.personA)==null?void 0:a.display_name,"  ",(l=o.personB)==null?void 0:l.display_name]}),w.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:[o.category==="friends"?" Amis":" People",o.isFictional&&w.jsx("span",{className:"ml-2 inline-flex items-center text-purple-600 font-medium",children:" Fictif"})]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>i(o.id),className:"px-3 py-1 rounded bg-green-600 text-white text-sm hover:bg-green-700",children:" Valider"}),w.jsx("button",{onClick:()=>s(o.id),className:"px-3 py-1 rounded bg-red-600 text-white text-sm hover:bg-red-700",children:" Refuser"})]})]},o.id)})})]})}function J7(){const[t,e]=y.useState(null),{couples:n,loading:r,deleteCouple:i}=H7(),{votesAll:s,myVotes:o,handleVote:a}=G7(t,n);return y.useEffect(()=>ej(Aw,e),[]),w.jsxs("div",{className:"pb-16 md:pb-0",children:[w.jsx(I5,{user:t}),w.jsxs(QV,{children:[w.jsx(Zn,{path:"/",element:w.jsx(c7,{user:t,couples:n,myVotes:o,onVote:a,loading:r,deleteCouple:i})}),w.jsx(Zn,{path:"/jouer",element:w.jsx(Q7,{couples:n,user:t,myVotes:o,onVote:a})}),w.jsx(Zn,{path:"/mes-votes",element:w.jsx(h7,{user:t,couples:n,votesAll:s})}),w.jsx(Zn,{path:"/ajouter-couple",element:w.jsx($7,{user:t})}),w.jsx(Zn,{path:"/couple/:id",element:w.jsx(q7,{couples:n,user:t,onVote:a})}),w.jsx(Zn,{path:"/valider-couples",element:w.jsx(X7,{})}),w.jsx(Zn,{path:"/confidentialite",element:w.jsx(W7,{})}),w.jsx(Zn,{path:"/style",element:w.jsx(Y7,{})}),w.jsx(Zn,{path:"*",element:w.jsx(qV,{to:"/",replace:!0})})]}),w.jsxs("footer",{className:"text-center text-xs text-gray-500 py-6",children:["Fait avec amour, aucun jugement  "," ",w.jsx("a",{href:"/confidentialite",className:"underline hover:text-gray-700",children:"Politique de confidentialit"})]})]})}async function Z7(t){if(!("Notification"in window))return;Notification.permission!=="granted"&&await Notification.requestPermission();const e=async()=>{const n=await t();if(!n)return;const{id:r,personA:i,personB:s}=n;JSON.parse(localStorage.getItem("myVotes")||"{}")[r]||new Notification(" Voici le couple du jour",{body:`${i.display_name} & ${s.display_name}`,icon:"/pwa-192x192.png",data:{url:`https://surchope.fr/couple/${r}`}})};e(),setInterval(e,24*60*60*1e3)}const eQ=document.getElementById("root"),tQ=EA(eQ);tQ.render(w.jsx(xr.StrictMode,{children:w.jsx(vO,{basename:"/",children:w.jsx(J7,{})})}));kO({immediate:!0,onOfflineReady(){console.log("Lapplication est prte  tre utilise hors ligne.")}});const fm=new Map;async function aI(t){if(fm.has(t))return fm.get(t);const e=await Ri(pt(Ne,"people",t));if(!e.exists())return null;const n={id:e.id,...e.data()};return fm.set(t,n),n}async function nQ(){try{const t=Dr(ur(Ne,"couples"),WR("createdAt","desc"),cz(1)),e=await Os(t);if(e.empty)return null;const n=e.docs[0],r=n.data(),i=await aI(r.people_a_id),s=await aI(r.people_b_id);return!i||!s?null:{id:n.id,personA:i,personB:s,countA:r.count_a??0,countB:r.count_b??0,countTie:r.count_tie??0,category:r.category??"friends"}}catch(t){return console.error("Erreur lors de la rcupration du dernier couple :",t),null}}Z7(nQ)});export default rQ();
