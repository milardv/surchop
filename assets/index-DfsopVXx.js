var CN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Y7=CN((iQ,Fu)=>{function AN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function my(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sI={exports:{}},xh={},oI={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),bN=Symbol.for("react.portal"),RN=Symbol.for("react.fragment"),PN=Symbol.for("react.strict_mode"),kN=Symbol.for("react.profiler"),MN=Symbol.for("react.provider"),NN=Symbol.for("react.context"),DN=Symbol.for("react.forward_ref"),ON=Symbol.for("react.suspense"),VN=Symbol.for("react.memo"),LN=Symbol.for("react.lazy"),p0=Symbol.iterator;function FN(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var aI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lI=Object.assign,uI={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=uI,this.updater=n||aI}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cI(){}cI.prototype=Ho.prototype;function gy(t,e,n){this.props=t,this.context=e,this.refs=uI,this.updater=n||aI}var yy=gy.prototype=new cI;yy.constructor=gy;lI(yy,Ho.prototype);yy.isPureReactComponent=!0;var m0=Array.isArray,dI=Object.prototype.hasOwnProperty,vy={current:null},hI={key:!0,ref:!0,__self:!0,__source:!0};function fI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dI.call(e,r)&&!hI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ou,type:t,key:s,ref:o,props:i,_owner:vy.current}}function jN(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function UN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g0=/\/+/g;function Gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UN(""+t.key):e.toString(36)}function jc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case bN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gf(o,0):r,m0(i)?(n="",t!=null&&(n=t.replace(g0,"$&/")+"/"),jc(i,e,n,"",function(u){return u})):i!=null&&(wy(i)&&(i=jN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(g0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",m0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Gf(s,a);o+=jc(s,e,n,l,i)}else if(l=FN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Gf(s,a++),o+=jc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rc(t,e,n){if(t==null)return t;var r=[],i=0;return jc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Uc={transition:null},$N={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:vy};function pI(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:rc,forEach:function(t,e,n){rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rc(t,function(){e++}),e},toArray:function(t){return rc(t,function(e){return e})||[]},only:function(t){if(!wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Ho;we.Fragment=RN;we.Profiler=kN;we.PureComponent=gy;we.StrictMode=PN;we.Suspense=ON;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$N;we.act=pI;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dI.call(e,l)&&!hI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ou,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:NN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MN,_context:t},t.Consumer=t};we.createElement=fI;we.createFactory=function(t){var e=fI.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:DN,render:t}};we.isValidElement=wy;we.lazy=function(t){return{$$typeof:LN,_payload:{_status:-1,_result:t},_init:BN}};we.memo=function(t,e){return{$$typeof:VN,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}};we.unstable_act=pI;we.useCallback=function(t,e){return Ht.current.useCallback(t,e)};we.useContext=function(t){return Ht.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};we.useEffect=function(t,e){return Ht.current.useEffect(t,e)};we.useId=function(){return Ht.current.useId()};we.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Ht.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};we.useRef=function(t){return Ht.current.useRef(t)};we.useState=function(t){return Ht.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Ht.current.useTransition()};we.version="18.3.1";oI.exports=we;var y=oI.exports;const _r=my(y),mI=AN({__proto__:null,default:_r},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN=y,WN=Symbol.for("react.element"),HN=Symbol.for("react.fragment"),qN=Object.prototype.hasOwnProperty,GN=zN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KN={key:!0,ref:!0,__self:!0,__source:!0};function gI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qN.call(e,r)&&!KN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WN,type:t,key:s,ref:o,props:i,_owner:GN.current}}xh.Fragment=HN;xh.jsx=gI;xh.jsxs=gI;sI.exports=xh;var S=sI.exports,yI={exports:{}},vn={},vI={exports:{}},wI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var O=F.length;F.push(B);e:for(;0<O;){var D=O-1>>>1,W=F[D];if(0<i(W,B))F[D]=B,F[O]=W,O=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],O=F.pop();if(O!==B){F[0]=O;e:for(var D=0,W=F.length,q=W>>>1;D<q;){var Y=2*(D+1)-1,ne=F[Y],re=Y+1,G=F[re];if(0>i(ne,O))re<W&&0>i(G,ne)?(F[D]=G,F[re]=O,D=re):(F[D]=ne,F[Y]=O,D=Y);else if(re<W&&0>i(G,O))F[D]=G,F[re]=O,D=re;else break e}}return B}function i(F,B){var O=F.sortIndex-B.sortIndex;return O!==0?O:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,w=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=F)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function R(F){if(_=!1,x(F),!w)if(n(l)!==null)w=!0,ae(M);else{var B=n(u);B!==null&&te(R,B.startTime-F)}}function M(F,B){w=!1,_&&(_=!1,g(T),T=-1),m=!0;var O=f;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!N());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var W=D(h.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?h.callback=W:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var q=!0;else{var Y=n(u);Y!==null&&te(R,Y.startTime-B),q=!1}return q}finally{h=null,f=O,m=!1}}var L=!1,C=null,T=-1,A=5,P=-1;function N(){return!(t.unstable_now()-P<A)}function V(){if(C!==null){var F=t.unstable_now();P=F;var B=!0;try{B=C(!0,F)}finally{B?k():(L=!1,C=null)}}else L=!1}var k;if(typeof E=="function")k=function(){E(V)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=V,k=function(){me.postMessage(null)}}else k=function(){I(V,0)};function ae(F){C=F,L||(L=!0,k())}function te(F,B){T=I(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ae(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var O=f;f=B;try{return F()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var O=f;f=F;try{return B()}finally{f=O}},t.unstable_scheduleCallback=function(F,B,O){var D=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,F={id:d++,callback:B,priorityLevel:F,startTime:O,expirationTime:W,sortIndex:-1},O>D?(F.sortIndex=O,e(u,F),n(l)===null&&F===n(u)&&(_?(g(T),T=-1):_=!0,te(R,O-D))):(F.sortIndex=W,e(l,F),w||m||(w=!0,ae(M))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var B=f;return function(){var O=f;f=B;try{return F.apply(this,arguments)}finally{f=O}}}})(wI);vI.exports=wI;var QN=vI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=y,yn=QN;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _I=new Set,vl={};function Cs(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(vl[t]=e,t=0;t<e.length;t++)_I.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,XN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0={},v0={};function JN(t){return um.call(v0,t)?!0:um.call(y0,t)?!1:XN.test(t)?v0[t]=!0:(y0[t]=!0,!1)}function ZN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eD(t,e,n,r){if(e===null||typeof e>"u"||ZN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _y=/[\-:]([a-z])/g;function Ey(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_y,Ey);Tt[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_y,Ey);Tt[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_y,Ey);Tt[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function xy(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eD(e,n,i,r)&&(n=null),r||i===null?JN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ic=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),EI=Symbol.for("react.provider"),xI=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),Iy=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),TI=Symbol.for("react.offscreen"),w0=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Kf;function Ba(t){if(Kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kf=e&&e[1]||""}return`
`+Kf+t}var Qf=!1;function Yf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ba(t):""}function tD(t){switch(t.tag){case 5:return Ba(t.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return t=Yf(t.type,!1),t;case 11:return t=Yf(t.type.render,!1),t;case 1:return t=Yf(t.type,!0),t;default:return""}}function fm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qs:return"Fragment";case Ks:return"Portal";case cm:return"Profiler";case Ty:return"StrictMode";case dm:return"Suspense";case hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xI:return(t.displayName||"Context")+".Consumer";case EI:return(t._context.displayName||"Context")+".Provider";case Sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iy:return e=t.displayName||null,e!==null?e:fm(t.type)||"Memo";case si:e=t._payload,t=t._init;try{return fm(t(e))}catch{}}return null}function nD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(e);case 8:return e===Ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rD(t){var e=SI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sc(t){t._valueTracker||(t._valueTracker=rD(t))}function II(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pm(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CI(t,e){e=e.checked,e!=null&&xy(t,"checked",e,!1)}function mm(t,e){CI(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gm(t,e.type,n):e.hasOwnProperty("defaultValue")&&gm(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gm(t,e,n){(e!=="number"||vd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $a=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ym(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if($a(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function AI(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oc,RI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iD=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){iD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function PI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function kI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sD=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wm(t,e){if(e){if(sD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function _m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xm=null,po=null,mo=null;function S0(t){if(t=uu(t)){if(typeof xm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Ah(e),xm(t.stateNode,t.type,e))}}function MI(t){po?mo?mo.push(t):mo=[t]:po=t}function NI(){if(po){var t=po,e=mo;if(mo=po=null,S0(t),e)for(t=0;t<e.length;t++)S0(e[t])}}function DI(t,e){return t(e)}function OI(){}var Xf=!1;function VI(t,e,n){if(Xf)return t(e,n);Xf=!0;try{return DI(t,e,n)}finally{Xf=!1,(po!==null||mo!==null)&&(OI(),NI())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=Ah(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Tm=!1;if(Nr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Tm=!1}function oD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ja=!1,wd=null,_d=!1,Sm=null,aD={onError:function(t){Ja=!0,wd=t}};function lD(t,e,n,r,i,s,o,a,l){Ja=!1,wd=null,oD.apply(aD,arguments)}function uD(t,e,n,r,i,s,o,a,l){if(lD.apply(this,arguments),Ja){if(Ja){var u=wd;Ja=!1,wd=null}else throw Error(H(198));_d||(_d=!0,Sm=u)}}function As(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I0(t){if(As(t)!==t)throw Error(H(188))}function cD(t){var e=t.alternate;if(!e){if(e=As(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return I0(i),t;if(s===r)return I0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function FI(t){return t=cD(t),t!==null?jI(t):null}function jI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jI(t);if(e!==null)return e;t=t.sibling}return null}var UI=yn.unstable_scheduleCallback,C0=yn.unstable_cancelCallback,dD=yn.unstable_shouldYield,hD=yn.unstable_requestPaint,Xe=yn.unstable_now,fD=yn.unstable_getCurrentPriorityLevel,Ay=yn.unstable_ImmediatePriority,BI=yn.unstable_UserBlockingPriority,Ed=yn.unstable_NormalPriority,pD=yn.unstable_LowPriority,$I=yn.unstable_IdlePriority,Th=null,rr=null;function mD(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Th,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:vD,gD=Math.log,yD=Math.LN2;function vD(t){return t>>>=0,t===0?32:31-(gD(t)/yD|0)|0}var ac=64,lc=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=za(a):(s&=o,s!==0&&(r=za(s)))}else o=n&~i,o!==0?r=za(o):s!==0&&(r=za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),i=1<<n,r|=t[n],e&=~i;return r}function wD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _D(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=wD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Im(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zI(){var t=ac;return ac<<=1,!(ac&4194240)&&(ac=64),t}function Jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function ED(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function by(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function WI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HI,Ry,qI,GI,KI,Cm=!1,uc=[],mi=null,gi=null,yi=null,El=new Map,xl=new Map,ai=[],xD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A0(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":El.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function Ra(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uu(e),e!==null&&Ry(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TD(t,e,n,r,i){switch(e){case"focusin":return mi=Ra(mi,t,e,n,r,i),!0;case"dragenter":return gi=Ra(gi,t,e,n,r,i),!0;case"mouseover":return yi=Ra(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return El.set(s,Ra(El.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xl.set(s,Ra(xl.get(s)||null,t,e,n,r,i)),!0}return!1}function QI(t){var e=Zi(t.target);if(e!==null){var n=As(e);if(n!==null){if(e=n.tag,e===13){if(e=LI(n),e!==null){t.blockedOn=e,KI(t.priority,function(){qI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Em=r,n.target.dispatchEvent(r),Em=null}else return e=uu(n),e!==null&&Ry(e),t.blockedOn=n,!1;e.shift()}return!0}function b0(t,e,n){Bc(t)&&n.delete(e)}function SD(){Cm=!1,mi!==null&&Bc(mi)&&(mi=null),gi!==null&&Bc(gi)&&(gi=null),yi!==null&&Bc(yi)&&(yi=null),El.forEach(b0),xl.forEach(b0)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Cm||(Cm=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,SD)))}function Tl(t){function e(i){return Pa(i,t)}if(0<uc.length){Pa(uc[0],t);for(var n=1;n<uc.length;n++){var r=uc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&Pa(mi,t),gi!==null&&Pa(gi,t),yi!==null&&Pa(yi,t),El.forEach(e),xl.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)QI(n),n.blockedOn===null&&ai.shift()}var go=Kr.ReactCurrentBatchConfig,Td=!0;function ID(t,e,n,r){var i=Re,s=go.transition;go.transition=null;try{Re=1,Py(t,e,n,r)}finally{Re=i,go.transition=s}}function CD(t,e,n,r){var i=Re,s=go.transition;go.transition=null;try{Re=4,Py(t,e,n,r)}finally{Re=i,go.transition=s}}function Py(t,e,n,r){if(Td){var i=Am(t,e,n,r);if(i===null)lp(t,e,r,Sd,n),A0(t,r);else if(TD(i,t,e,n,r))r.stopPropagation();else if(A0(t,r),e&4&&-1<xD.indexOf(t)){for(;i!==null;){var s=uu(i);if(s!==null&&HI(s),s=Am(t,e,n,r),s===null&&lp(t,e,r,Sd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lp(t,e,r,null,n)}}var Sd=null;function Am(t,e,n,r){if(Sd=null,t=Cy(r),t=Zi(t),t!==null)if(e=As(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sd=t,null}function YI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fD()){case Ay:return 1;case BI:return 4;case Ed:case pD:return 16;case $I:return 536870912;default:return 16}default:return 16}}var hi=null,ky=null,$c=null;function XI(){if($c)return $c;var t,e=ky,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $c=i.slice(t,1<r?1-r:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cc(){return!0}function R0(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cc:R0,this.isPropagationStopped=R0,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),e}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},My=wn(qo),lu=We({},qo,{view:0,detail:0}),AD=wn(lu),Zf,ep,ka,Sh=We({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ny,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(Zf=t.screenX-ka.screenX,ep=t.screenY-ka.screenY):ep=Zf=0,ka=t),Zf)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),P0=wn(Sh),bD=We({},Sh,{dataTransfer:0}),RD=wn(bD),PD=We({},lu,{relatedTarget:0}),tp=wn(PD),kD=We({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),MD=wn(kD),ND=We({},qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DD=wn(ND),OD=We({},qo,{data:0}),k0=wn(OD),VD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FD[t])?!!e[t]:!1}function Ny(){return jD}var UD=We({},lu,{key:function(t){if(t.key){var e=VD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ny,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BD=wn(UD),$D=We({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=wn($D),zD=We({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ny}),WD=wn(zD),HD=We({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qD=wn(HD),GD=We({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KD=wn(GD),QD=[9,13,27,32],Dy=Nr&&"CompositionEvent"in window,Za=null;Nr&&"documentMode"in document&&(Za=document.documentMode);var YD=Nr&&"TextEvent"in window&&!Za,JI=Nr&&(!Dy||Za&&8<Za&&11>=Za),N0=" ",D0=!1;function ZI(t,e){switch(t){case"keyup":return QD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function XD(t,e){switch(t){case"compositionend":return eC(e);case"keypress":return e.which!==32?null:(D0=!0,N0);case"textInput":return t=e.data,t===N0&&D0?null:t;default:return null}}function JD(t,e){if(Ys)return t==="compositionend"||!Dy&&ZI(t,e)?(t=XI(),$c=ky=hi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JI&&e.locale!=="ko"?null:e.data;default:return null}}var ZD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZD[t.type]:e==="textarea"}function tC(t,e,n,r){MI(r),e=Id(e,"onChange"),0<e.length&&(n=new My("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,Sl=null;function e2(t){hC(t,0)}function Ih(t){var e=Zs(t);if(II(e))return t}function t2(t,e){if(t==="change")return e}var nC=!1;if(Nr){var np;if(Nr){var rp="oninput"in document;if(!rp){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),rp=typeof V0.oninput=="function"}np=rp}else np=!1;nC=np&&(!document.documentMode||9<document.documentMode)}function L0(){el&&(el.detachEvent("onpropertychange",rC),Sl=el=null)}function rC(t){if(t.propertyName==="value"&&Ih(Sl)){var e=[];tC(e,Sl,t,Cy(t)),VI(e2,e)}}function n2(t,e,n){t==="focusin"?(L0(),el=e,Sl=n,el.attachEvent("onpropertychange",rC)):t==="focusout"&&L0()}function r2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ih(Sl)}function i2(t,e){if(t==="click")return Ih(e)}function s2(t,e){if(t==="input"||t==="change")return Ih(e)}function o2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:o2;function Il(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!um.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function F0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j0(t,e){var n=F0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F0(n)}}function iC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sC(){for(var t=window,e=vd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vd(t.document)}return e}function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a2(t){var e=sC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iC(n.ownerDocument.documentElement,n)){if(r!==null&&Oy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j0(n,s);var o=j0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l2=Nr&&"documentMode"in document&&11>=document.documentMode,Xs=null,bm=null,tl=null,Rm=!1;function U0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rm||Xs==null||Xs!==vd(r)||(r=Xs,"selectionStart"in r&&Oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&Il(tl,r)||(tl=r,r=Id(bm,"onSelect"),0<r.length&&(e=new My("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xs)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Js={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},ip={},oC={};Nr&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Ch(t){if(ip[t])return ip[t];if(!Js[t])return t;var e=Js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oC)return ip[t]=e[n];return t}var aC=Ch("animationend"),lC=Ch("animationiteration"),uC=Ch("animationstart"),cC=Ch("transitionend"),dC=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){dC.set(t,e),Cs(e,[t])}for(var sp=0;sp<B0.length;sp++){var op=B0[sp],u2=op.toLowerCase(),c2=op[0].toUpperCase()+op.slice(1);Vi(u2,"on"+c2)}Vi(aC,"onAnimationEnd");Vi(lC,"onAnimationIteration");Vi(uC,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(cC,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function $0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uD(r,e,void 0,t),t.currentTarget=null}function hC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$0(i,a,u),s=l}}}if(_d)throw t=Sm,_d=!1,Sm=null,t}function Ve(t,e){var n=e[Dm];n===void 0&&(n=e[Dm]=new Set);var r=t+"__bubble";n.has(r)||(fC(e,t,2,!1),n.add(r))}function ap(t,e,n){var r=0;e&&(r|=4),fC(n,t,r,e)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[hc]){t[hc]=!0,_I.forEach(function(n){n!=="selectionchange"&&(d2.has(n)||ap(n,!1,t),ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hc]||(e[hc]=!0,ap("selectionchange",!1,e))}}function fC(t,e,n,r){switch(YI(e)){case 1:var i=ID;break;case 4:i=CD;break;default:i=Py}n=i.bind(null,e,n,t),i=void 0,!Tm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}VI(function(){var u=s,d=Cy(n),h=[];e:{var f=dC.get(t);if(f!==void 0){var m=My,w=t;switch(t){case"keypress":if(zc(n)===0)break e;case"keydown":case"keyup":m=BD;break;case"focusin":w="focus",m=tp;break;case"focusout":w="blur",m=tp;break;case"beforeblur":case"afterblur":m=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WD;break;case aC:case lC:case uC:m=MD;break;case cC:m=qD;break;case"scroll":m=AD;break;case"wheel":m=KD;break;case"copy":case"cut":case"paste":m=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=M0}var _=(e&4)!==0,I=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var E=u,x;E!==null;){x=E;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,g!==null&&(R=_l(E,g),R!=null&&_.push(Al(E,R,x)))),I)break;E=E.return}0<_.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Em&&(w=n.relatedTarget||n.fromElement)&&(Zi(w)||w[Dr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Zi(w):null,w!==null&&(I=As(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(_=P0,R="onMouseLeave",g="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=M0,R="onPointerLeave",g="onPointerEnter",E="pointer"),I=m==null?f:Zs(m),x=w==null?f:Zs(w),f=new _(R,E+"leave",m,n,d),f.target=I,f.relatedTarget=x,R=null,Zi(d)===u&&(_=new _(g,E+"enter",w,n,d),_.target=x,_.relatedTarget=I,R=_),I=R,m&&w)t:{for(_=m,g=w,E=0,x=_;x;x=Us(x))E++;for(x=0,R=g;R;R=Us(R))x++;for(;0<E-x;)_=Us(_),E--;for(;0<x-E;)g=Us(g),x--;for(;E--;){if(_===g||g!==null&&_===g.alternate)break t;_=Us(_),g=Us(g)}_=null}else _=null;m!==null&&z0(h,f,m,_,!1),w!==null&&I!==null&&z0(h,I,w,_,!0)}}e:{if(f=u?Zs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var M=t2;else if(O0(f))if(nC)M=s2;else{M=r2;var L=n2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=i2);if(M&&(M=M(t,u))){tC(h,M,n,d);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&gm(f,"number",f.value)}switch(L=u?Zs(u):window,t){case"focusin":(O0(L)||L.contentEditable==="true")&&(Xs=L,bm=u,tl=null);break;case"focusout":tl=bm=Xs=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,U0(h,n,d);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":U0(h,n,d)}var C;if(Dy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ys?ZI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(JI&&n.locale!=="ko"&&(Ys||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ys&&(C=XI()):(hi=d,ky="value"in hi?hi.value:hi.textContent,Ys=!0)),L=Id(u,T),0<L.length&&(T=new k0(T,t,null,n,d),h.push({event:T,listeners:L}),C?T.data=C:(C=eC(n),C!==null&&(T.data=C)))),(C=YD?XD(t,n):JD(t,n))&&(u=Id(u,"onBeforeInput"),0<u.length&&(d=new k0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}hC(h,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Id(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_l(t,n),s!=null&&r.unshift(Al(t,s,i)),s=_l(t,e),s!=null&&r.push(Al(t,s,i))),t=t.return}return r}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_l(n,s),l!=null&&o.unshift(Al(n,l,a))):i||(l=_l(n,s),l!=null&&o.push(Al(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h2=/\r\n?/g,f2=/\u0000|\uFFFD/g;function W0(t){return(typeof t=="string"?t:""+t).replace(h2,`
`).replace(f2,"")}function fc(t,e,n){if(e=W0(e),W0(t)!==e&&n)throw Error(H(425))}function Cd(){}var Pm=null,km=null;function Mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(t){return H0.resolve(null).then(t).catch(g2)}:Nm;function g2(t){setTimeout(function(){throw t})}function up(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tl(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Go,bl="__reactProps$"+Go,Dr="__reactContainer$"+Go,Dm="__reactEvents$"+Go,y2="__reactListeners$"+Go,v2="__reactHandles$"+Go;function Zi(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q0(t);t!==null;){if(n=t[Zn])return n;t=q0(t)}return e}t=n,n=t.parentNode}return null}function uu(t){return t=t[Zn]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ah(t){return t[bl]||null}var Om=[],eo=-1;function Li(t){return{current:t}}function Le(t){0>eo||(t.current=Om[eo],Om[eo]=null,eo--)}function De(t,e){eo++,Om[eo]=t.current,t.current=e}var Ai={},Vt=Li(Ai),en=Li(!1),fs=Ai;function Ao(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function Ad(){Le(en),Le(Vt)}function G0(t,e,n){if(Vt.current!==Ai)throw Error(H(168));De(Vt,e),De(en,n)}function pC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,nD(t)||"Unknown",i));return We({},n,r)}function bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,fs=Vt.current,De(Vt,t),De(en,en.current),!0}function K0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=pC(t,e,fs),r.__reactInternalMemoizedMergedChildContext=t,Le(en),Le(Vt),De(Vt,t)):Le(en),De(en,n)}var xr=null,bh=!1,cp=!1;function mC(t){xr===null?xr=[t]:xr.push(t)}function w2(t){bh=!0,mC(t)}function Fi(){if(!cp&&xr!==null){cp=!0;var t=0,e=Re;try{var n=xr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,bh=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),UI(Ay,Fi),i}finally{Re=e,cp=!1}}return null}var to=[],no=0,Rd=null,Pd=0,xn=[],Tn=0,ps=null,Sr=1,Ir="";function Ki(t,e){to[no++]=Pd,to[no++]=Rd,Rd=t,Pd=e}function gC(t,e,n){xn[Tn++]=Sr,xn[Tn++]=Ir,xn[Tn++]=ps,ps=t;var r=Sr;t=Ir;var i=32-jn(r)-1;r&=~(1<<i),n+=1;var s=32-jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sr=1<<32-jn(e)+i|n<<i|r,Ir=s+t}else Sr=1<<s|n<<i|r,Ir=t}function Vy(t){t.return!==null&&(Ki(t,1),gC(t,1,0))}function Ly(t){for(;t===Rd;)Rd=to[--no],to[no]=null,Pd=to[--no],to[no]=null;for(;t===ps;)ps=xn[--Tn],xn[Tn]=null,Ir=xn[--Tn],xn[Tn]=null,Sr=xn[--Tn],xn[Tn]=null}var hn=null,cn=null,Fe=!1,Fn=null;function yC(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,cn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:Sr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,cn=null,!0):!1;default:return!1}}function Vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lm(t){if(Fe){var e=cn;if(e){var n=e;if(!Q0(t,e)){if(Vm(t))throw Error(H(418));e=vi(n.nextSibling);var r=hn;e&&Q0(t,e)?yC(r,n):(t.flags=t.flags&-4097|2,Fe=!1,hn=t)}}else{if(Vm(t))throw Error(H(418));t.flags=t.flags&-4097|2,Fe=!1,hn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function pc(t){if(t!==hn)return!1;if(!Fe)return Y0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mm(t.type,t.memoizedProps)),e&&(e=cn)){if(Vm(t))throw vC(),Error(H(418));for(;e;)yC(t,e),e=vi(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=hn?vi(t.stateNode.nextSibling):null;return!0}function vC(){for(var t=cn;t;)t=vi(t.nextSibling)}function bo(){cn=hn=null,Fe=!1}function Fy(t){Fn===null?Fn=[t]:Fn.push(t)}var _2=Kr.ReactCurrentBatchConfig;function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function mc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X0(t){var e=t._init;return e(t._payload)}function wC(t){function e(g,E){if(t){var x=g.deletions;x===null?(g.deletions=[E],g.flags|=16):x.push(E)}}function n(g,E){if(!t)return null;for(;E!==null;)e(g,E),E=E.sibling;return null}function r(g,E){for(g=new Map;E!==null;)E.key!==null?g.set(E.key,E):g.set(E.index,E),E=E.sibling;return g}function i(g,E){return g=xi(g,E),g.index=0,g.sibling=null,g}function s(g,E,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<E?(g.flags|=2,E):x):(g.flags|=2,E)):(g.flags|=1048576,E)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,E,x,R){return E===null||E.tag!==6?(E=yp(x,g.mode,R),E.return=g,E):(E=i(E,x),E.return=g,E)}function l(g,E,x,R){var M=x.type;return M===Qs?d(g,E,x.props.children,R,x.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===si&&X0(M)===E.type)?(R=i(E,x.props),R.ref=Ma(g,E,x),R.return=g,R):(R=Yc(x.type,x.key,x.props,null,g.mode,R),R.ref=Ma(g,E,x),R.return=g,R)}function u(g,E,x,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=vp(x,g.mode,R),E.return=g,E):(E=i(E,x.children||[]),E.return=g,E)}function d(g,E,x,R,M){return E===null||E.tag!==7?(E=ls(x,g.mode,R,M),E.return=g,E):(E=i(E,x),E.return=g,E)}function h(g,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=yp(""+E,g.mode,x),E.return=g,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ic:return x=Yc(E.type,E.key,E.props,null,g.mode,x),x.ref=Ma(g,null,E),x.return=g,x;case Ks:return E=vp(E,g.mode,x),E.return=g,E;case si:var R=E._init;return h(g,R(E._payload),x)}if($a(E)||Aa(E))return E=ls(E,g.mode,x,null),E.return=g,E;mc(g,E)}return null}function f(g,E,x,R){var M=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:a(g,E,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ic:return x.key===M?l(g,E,x,R):null;case Ks:return x.key===M?u(g,E,x,R):null;case si:return M=x._init,f(g,E,M(x._payload),R)}if($a(x)||Aa(x))return M!==null?null:d(g,E,x,R,null);mc(g,x)}return null}function m(g,E,x,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return g=g.get(x)||null,a(E,g,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ic:return g=g.get(R.key===null?x:R.key)||null,l(E,g,R,M);case Ks:return g=g.get(R.key===null?x:R.key)||null,u(E,g,R,M);case si:var L=R._init;return m(g,E,x,L(R._payload),M)}if($a(R)||Aa(R))return g=g.get(x)||null,d(E,g,R,M,null);mc(E,R)}return null}function w(g,E,x,R){for(var M=null,L=null,C=E,T=E=0,A=null;C!==null&&T<x.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var P=f(g,C,x[T],R);if(P===null){C===null&&(C=A);break}t&&C&&P.alternate===null&&e(g,C),E=s(P,E,T),L===null?M=P:L.sibling=P,L=P,C=A}if(T===x.length)return n(g,C),Fe&&Ki(g,T),M;if(C===null){for(;T<x.length;T++)C=h(g,x[T],R),C!==null&&(E=s(C,E,T),L===null?M=C:L.sibling=C,L=C);return Fe&&Ki(g,T),M}for(C=r(g,C);T<x.length;T++)A=m(C,g,T,x[T],R),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),E=s(A,E,T),L===null?M=A:L.sibling=A,L=A);return t&&C.forEach(function(N){return e(g,N)}),Fe&&Ki(g,T),M}function _(g,E,x,R){var M=Aa(x);if(typeof M!="function")throw Error(H(150));if(x=M.call(x),x==null)throw Error(H(151));for(var L=M=null,C=E,T=E=0,A=null,P=x.next();C!==null&&!P.done;T++,P=x.next()){C.index>T?(A=C,C=null):A=C.sibling;var N=f(g,C,P.value,R);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(g,C),E=s(N,E,T),L===null?M=N:L.sibling=N,L=N,C=A}if(P.done)return n(g,C),Fe&&Ki(g,T),M;if(C===null){for(;!P.done;T++,P=x.next())P=h(g,P.value,R),P!==null&&(E=s(P,E,T),L===null?M=P:L.sibling=P,L=P);return Fe&&Ki(g,T),M}for(C=r(g,C);!P.done;T++,P=x.next())P=m(C,g,T,P.value,R),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),E=s(P,E,T),L===null?M=P:L.sibling=P,L=P);return t&&C.forEach(function(V){return e(g,V)}),Fe&&Ki(g,T),M}function I(g,E,x,R){if(typeof x=="object"&&x!==null&&x.type===Qs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ic:e:{for(var M=x.key,L=E;L!==null;){if(L.key===M){if(M=x.type,M===Qs){if(L.tag===7){n(g,L.sibling),E=i(L,x.props.children),E.return=g,g=E;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===si&&X0(M)===L.type){n(g,L.sibling),E=i(L,x.props),E.ref=Ma(g,L,x),E.return=g,g=E;break e}n(g,L);break}else e(g,L);L=L.sibling}x.type===Qs?(E=ls(x.props.children,g.mode,R,x.key),E.return=g,g=E):(R=Yc(x.type,x.key,x.props,null,g.mode,R),R.ref=Ma(g,E,x),R.return=g,g=R)}return o(g);case Ks:e:{for(L=x.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){n(g,E.sibling),E=i(E,x.children||[]),E.return=g,g=E;break e}else{n(g,E);break}else e(g,E);E=E.sibling}E=vp(x,g.mode,R),E.return=g,g=E}return o(g);case si:return L=x._init,I(g,E,L(x._payload),R)}if($a(x))return w(g,E,x,R);if(Aa(x))return _(g,E,x,R);mc(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(n(g,E.sibling),E=i(E,x),E.return=g,g=E):(n(g,E),E=yp(x,g.mode,R),E.return=g,g=E),o(g)):n(g,E)}return I}var Ro=wC(!0),_C=wC(!1),kd=Li(null),Md=null,ro=null,jy=null;function Uy(){jy=ro=Md=null}function By(t){var e=kd.current;Le(kd),t._currentValue=e}function Fm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){Md=t,jy=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(jy!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Md===null)throw Error(H(308));ro=t,Md.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var es=null;function $y(t){es===null?es=[t]:es.push(t)}function EC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$y(e)):(n.next=i.next,i.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function zy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Or(t,n)}return i=r.interleaved,i===null?(e.next=e,$y(r)):(e.next=i.next,i.next=e),r.interleaved=e,Or(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}function J0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nd(t,e,n,r){var i=t.updateQueue;oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(f=e,m=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=We({},h,f);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gs|=o,t.lanes=o,t.memoizedState=h}}function Z0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var cu={},ir=Li(cu),Rl=Li(cu),Pl=Li(cu);function ts(t){if(t===cu)throw Error(H(174));return t}function Wy(t,e){switch(De(Pl,e),De(Rl,t),De(ir,cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vm(e,t)}Le(ir),De(ir,e)}function Po(){Le(ir),Le(Rl),Le(Pl)}function TC(t){ts(Pl.current);var e=ts(ir.current),n=vm(e,t.type);e!==n&&(De(Rl,t),De(ir,n))}function Hy(t){Rl.current===t&&(Le(ir),Le(Rl))}var Be=Li(0);function Dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function qy(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Hc=Kr.ReactCurrentDispatcher,hp=Kr.ReactCurrentBatchConfig,ms=0,ze=null,at=null,dt=null,Od=!1,nl=!1,kl=0,E2=0;function bt(){throw Error(H(321))}function Gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Ky(t,e,n,r,i,s){if(ms=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?I2:C2,t=n(r,i),nl){s=0;do{if(nl=!1,kl=0,25<=s)throw Error(H(301));s+=1,dt=at=null,e.updateQueue=null,Hc.current=A2,t=n(r,i)}while(nl)}if(Hc.current=Vd,e=at!==null&&at.next!==null,ms=0,dt=at=ze=null,Od=!1,e)throw Error(H(300));return t}function Qy(){var t=kl!==0;return kl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?ze.memoizedState=dt=t:dt=dt.next=t,dt}function kn(){if(at===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=dt===null?ze.memoizedState:dt.next;if(e!==null)dt=e,at=t;else{if(t===null)throw Error(H(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?ze.memoizedState=dt=t:dt=dt.next=t}return dt}function Ml(t,e){return typeof e=="function"?e(t):e}function fp(t){var e=kn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ms&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=d,gs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,$n(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,gs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pp(t){var e=kn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$n(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function SC(){}function IC(t,e){var n=ze,r=kn(),i=e(),s=!$n(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,Yy(bC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,AC.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(H(349));ms&30||CC(n,e,i)}return i}function CC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AC(t,e,n,r){e.value=n,e.getSnapshot=r,RC(e)&&PC(t)}function bC(t,e,n){return n(function(){RC(e)&&PC(t)})}function RC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function PC(t){var e=Or(t,1);e!==null&&Un(e,t,1,-1)}function eE(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=S2.bind(null,ze,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kC(){return kn().memoizedState}function qc(t,e,n,r){var i=Jn();ze.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function Rh(t,e,n,r){var i=kn();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&Gy(r,o.deps)){i.memoizedState=Nl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Nl(1|e,n,s,r)}function tE(t,e){return qc(8390656,8,t,e)}function Yy(t,e){return Rh(2048,8,t,e)}function MC(t,e){return Rh(4,2,t,e)}function NC(t,e){return Rh(4,4,t,e)}function DC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OC(t,e,n){return n=n!=null?n.concat([t]):null,Rh(4,4,DC.bind(null,e,t),n)}function Xy(){}function VC(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LC(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FC(t,e,n){return ms&21?($n(n,e)||(n=zI(),ze.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function x2(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=hp.transition;hp.transition={};try{t(!1),e()}finally{Re=n,hp.transition=r}}function jC(){return kn().memoizedState}function T2(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UC(t))BC(e,n);else if(n=EC(t,e,n,r),n!==null){var i=Wt();Un(n,t,r,i),$C(n,e,r)}}function S2(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UC(t))BC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,o)){var l=e.interleaved;l===null?(i.next=i,$y(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EC(t,e,i,r),n!==null&&(i=Wt(),Un(n,t,r,i),$C(n,e,r))}}function UC(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function BC(t,e){nl=Od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $C(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}var Vd={readContext:Pn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},I2={readContext:Pn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:tE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qc(4194308,4,DC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return qc(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T2.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:eE,useDebugValue:Xy,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=eE(!1),e=t[0];return t=x2.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Jn();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),pt===null)throw Error(H(349));ms&30||CC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tE(bC.bind(null,r,s,t),[t]),r.flags|=2048,Nl(9,AC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=pt.identifierPrefix;if(Fe){var n=Ir,r=Sr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C2={readContext:Pn,useCallback:VC,useContext:Pn,useEffect:Yy,useImperativeHandle:OC,useInsertionEffect:MC,useLayoutEffect:NC,useMemo:LC,useReducer:fp,useRef:kC,useState:function(){return fp(Ml)},useDebugValue:Xy,useDeferredValue:function(t){var e=kn();return FC(e,at.memoizedState,t)},useTransition:function(){var t=fp(Ml)[0],e=kn().memoizedState;return[t,e]},useMutableSource:SC,useSyncExternalStore:IC,useId:jC,unstable_isNewReconciler:!1},A2={readContext:Pn,useCallback:VC,useContext:Pn,useEffect:Yy,useImperativeHandle:OC,useInsertionEffect:MC,useLayoutEffect:NC,useMemo:LC,useReducer:pp,useRef:kC,useState:function(){return pp(Ml)},useDebugValue:Xy,useDeferredValue:function(t){var e=kn();return at===null?e.memoizedState=t:FC(e,at.memoizedState,t)},useTransition:function(){var t=pp(Ml)[0],e=kn().memoizedState;return[t,e]},useMutableSource:SC,useSyncExternalStore:IC,useId:jC,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?As(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ei(t),s=Pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Un(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=Ei(t),s=Pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Un(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Ei(t),i=Pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(Un(e,t,r,n),Wc(e,t,r))}};function nE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Il(n,r)||!Il(i,s):!0}function zC(t,e,n){var r=!1,i=Ai,s=e.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(i=tn(e)?fs:Vt.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):Ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function Um(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pn(s):(s=tn(e)?fs:Vt.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ph.enqueueReplaceState(i,i.state,null),Nd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",r=e;do n+=tD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function WC(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fd||(Fd=!0,Xm=r),Bm(t,e)},n}function HC(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bm(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$2.bind(null,t,e,n),e.then(t,t))}function sE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var R2=Kr.ReactCurrentOwner,Jt=!1;function Bt(t,e,n,r){e.child=t===null?_C(e,null,n,r):Ro(e,t.child,n,r)}function aE(t,e,n,r,i){n=n.render;var s=e.ref;return yo(e,i),r=Ky(t,e,n,r,s,i),n=Qy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(Fe&&n&&Vy(e),e.flags|=1,Bt(t,e,r,i),e.child)}function lE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qC(t,e,s,r,i)):(t=Yc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(o,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function qC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Il(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return $m(t,e,n,r,i)}function GC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(so,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(so,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(so,ln),ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(so,ln),ln|=r;return Bt(t,e,i,n),e.child}function KC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $m(t,e,n,r,i){var s=tn(n)?fs:Vt.current;return s=Ao(e,s),yo(e,i),n=Ky(t,e,n,r,s,i),r=Qy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(Fe&&r&&Vy(e),e.flags|=1,Bt(t,e,n,i),e.child)}function uE(t,e,n,r,i){if(tn(n)){var s=!0;bd(e)}else s=!1;if(yo(e,i),e.stateNode===null)Gc(t,e),zC(e,n,r),Um(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=tn(n)?fs:Vt.current,u=Ao(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rE(e,o,r,u),oi=!1;var f=e.memoizedState;o.state=f,Nd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||en.current||oi?(typeof d=="function"&&(jm(e,n,d,r),l=e.memoizedState),(a=oi||nE(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=tn(n)?fs:Vt.current,l=Ao(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&rE(e,o,r,l),oi=!1,f=e.memoizedState,o.state=f,Nd(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||en.current||oi?(typeof m=="function"&&(jm(e,n,m,r),w=e.memoizedState),(u=oi||nE(e,n,u,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zm(t,e,n,r,s,i)}function zm(t,e,n,r,i,s){KC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K0(e,n,!1),Vr(t,e,s);r=e.stateNode,R2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ro(e,t.child,null,s),e.child=Ro(e,null,a,s)):Bt(t,e,a,s),e.memoizedState=r.state,i&&K0(e,n,!0),e.child}function QC(t){var e=t.stateNode;e.pendingContext?G0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G0(t,e.context,!1),Wy(t,e.containerInfo)}function cE(t,e,n,r,i){return bo(),Fy(i),e.flags|=256,Bt(t,e,n,r),e.child}var Wm={dehydrated:null,treeContext:null,retryLane:0};function Hm(t){return{baseLanes:t,cachePool:null,transitions:null}}function YC(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return Lm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nh(o,r,0,null),t=ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hm(n),e.memoizedState=Wm,t):Jy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return P2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wm,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jy(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gc(t,e,n,r){return r!==null&&Fy(r),Ro(e,t.child,null,n),t=Jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mp(Error(H(422))),gc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nh({mode:"visible",children:r.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ro(e,t.child,null,o),e.child.memoizedState=Hm(o),e.memoizedState=Wm,s);if(!(e.mode&1))return gc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=mp(s,r,void 0),gc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Or(t,i),Un(r,t,i,-1))}return iv(),r=mp(Error(H(421))),gc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=vi(i.nextSibling),hn=e,Fe=!0,Fn=null,t!==null&&(xn[Tn++]=Sr,xn[Tn++]=Ir,xn[Tn++]=ps,Sr=t.id,Ir=t.overflow,ps=e),e=Jy(e,r.children),e.flags|=4096,e)}function dE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fm(t.return,e,n)}function gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dE(t,n,e);else if(t.tag===19)dE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gp(e,!0,n,null,s);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k2(t,e,n){switch(e.tag){case 3:QC(e),bo();break;case 5:TC(e);break;case 1:tn(e.type)&&bd(e);break;case 4:Wy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?YC(t,e,n):(De(Be,Be.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,GC(t,e,n)}return Vr(t,e,n)}var JC,qm,ZC,eA;JC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qm=function(){};ZC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(ir.current);var s=null;switch(n){case"input":i=pm(t,i),r=pm(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=ym(t,i),r=ym(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cd)}wm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Na(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M2(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return tn(e.type)&&Ad(),Rt(e),null;case 3:return r=e.stateNode,Po(),Le(en),Le(Vt),qy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(eg(Fn),Fn=null))),qm(t,e),Rt(e),null;case 5:Hy(e);var i=ts(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)ZC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Rt(e),null}if(t=ts(ir.current),pc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zn]=e,r[bl]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Wa.length;i++)Ve(Wa[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":_0(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":x0(r,s),Ve("invalid",r)}wm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fc(r.textContent,a,t),i=["children",""+a]):vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":sc(r),E0(r,s,!0);break;case"textarea":sc(r),T0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[bl]=r,JC(t,e,!1,!1),e.stateNode=t;e:{switch(o=_m(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wa.length;i++)Ve(Wa[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":_0(t,r),i=pm(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":x0(t,r),i=ym(t,r),Ve("invalid",t);break;default:i=r}wm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&xy(t,s,l,o))}switch(n){case"input":sc(t),E0(t,r,!1);break;case"textarea":sc(t),T0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)eA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ts(Pl.current),ts(ir.current),pc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:fc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Rt(e),null;case 13:if(Le(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&cn!==null&&e.mode&1&&!(e.flags&128))vC(),bo(),e.flags|=98560,s=!1;else if(s=pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Zn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),s=!1}else Fn!==null&&(eg(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?lt===0&&(lt=3):iv())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return Po(),qm(t,e),t===null&&Cl(e.stateNode.containerInfo),Rt(e),null;case 10:return By(e.type._context),Rt(e),null;case 17:return tn(e.type)&&Ad(),Rt(e),null;case 19:if(Le(Be),s=e.memoizedState,s===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Na(s,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dd(t),o!==null){for(e.flags|=128,Na(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Mo&&(e.flags|=128,r=!0,Na(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Na(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Rt(e),null}else 2*Xe()-s.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,Na(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return rv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function N2(t,e){switch(Ly(e),e.tag){case 1:return tn(e.type)&&Ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),Le(en),Le(Vt),qy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hy(e),null;case 13:if(Le(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Be),null;case 4:return Po(),null;case 10:return By(e.type._context),null;case 22:case 23:return rv(),null;case 24:return null;default:return null}}var yc=!1,Mt=!1,D2=typeof WeakSet=="function"?WeakSet:Set,X=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Gm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var hE=!1;function O2(t,e){if(Pm=Td,t=sC(),Oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:t,selectionRange:n},Td=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,I=w.memoizedState,g=e.stateNode,E=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Vn(e.type,_),I);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(R){Ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=hE,hE=!1,w}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gm(e,n,s)}i=i.next}while(i!==r)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Km(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tA(t){var e=t.alternate;e!==null&&(t.alternate=null,tA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[bl],delete e[Dm],delete e[y2],delete e[v2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nA(t){return t.tag===5||t.tag===3||t.tag===4}function fE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cd));else if(r!==4&&(t=t.child,t!==null))for(Qm(t,e,n),t=t.sibling;t!==null;)Qm(t,e,n),t=t.sibling}function Ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}var yt=null,Ln=!1;function ei(t,e,n){for(n=n.child;n!==null;)rA(t,e,n),n=n.sibling}function rA(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Th,n)}catch{}switch(n.tag){case 5:Mt||io(n,e);case 6:var r=yt,i=Ln;yt=null,ei(t,e,n),yt=r,Ln=i,yt!==null&&(Ln?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Ln?(t=yt,n=n.stateNode,t.nodeType===8?up(t.parentNode,n):t.nodeType===1&&up(t,n),Tl(t)):up(yt,n.stateNode));break;case 4:r=yt,i=Ln,yt=n.stateNode.containerInfo,Ln=!0,ei(t,e,n),yt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gm(n,e,o),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!Mt&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,ei(t,e,n),Mt=r):ei(t,e,n);break;default:ei(t,e,n)}}function pE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D2),e.forEach(function(r){var i=W2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Ln=!1;break e;case 3:yt=a.stateNode.containerInfo,Ln=!0;break e;case 4:yt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(yt===null)throw Error(H(160));rA(s,o,i),yt=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iA(e,t),e=e.sibling}function iA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Xn(t),r&4){try{rl(3,t,t.return),kh(3,t)}catch(_){Ke(t,t.return,_)}try{rl(5,t,t.return)}catch(_){Ke(t,t.return,_)}}break;case 1:Dn(e,t),Xn(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(Dn(e,t),Xn(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(_){Ke(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CI(i,s),_m(a,o);var u=_m(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?kI(i,h):d==="dangerouslySetInnerHTML"?RI(i,h):d==="children"?wl(i,h):xy(i,d,h,u)}switch(a){case"input":mm(i,s);break;case"textarea":AI(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?fo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[bl]=s}catch(_){Ke(t,t.return,_)}}break;case 6:if(Dn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ke(t,t.return,_)}}break;case 3:if(Dn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tl(e.containerInfo)}catch(_){Ke(t,t.return,_)}break;case 4:Dn(e,t),Xn(t);break;case 13:Dn(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tv=Xe())),r&4&&pE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||d,Dn(e,t),Mt=u):Dn(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:io(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){Ke(r,n,_)}}break;case 5:io(f,f.return);break;case 22:if(f.memoizedState!==null){gE(h);continue}}m!==null?(m.return=f,X=m):gE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PI("display",o))}catch(_){Ke(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ke(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dn(e,t),Xn(t),r&4&&pE(t);break;case 21:break;default:Dn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nA(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=fE(t);Ym(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fE(t);Qm(t,a,o);break;default:throw Error(H(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V2(t,e,n){X=t,sA(t)}function sA(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=yc;var u=Mt;if(yc=o,(Mt=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?yE(i):l!==null?(l.return=o,X=l):yE(i);for(;s!==null;)X=s,sA(s),s=s.sibling;X=i,yc=a,Mt=u}mE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):mE(t)}}function mE(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Z0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Z0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Tl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Mt||e.flags&512&&Km(e)}catch(f){Ke(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function gE(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function yE(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{Km(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{Km(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var L2=Math.ceil,Ld=Kr.ReactCurrentDispatcher,Zy=Kr.ReactCurrentOwner,Cn=Kr.ReactCurrentBatchConfig,Ie=0,pt=null,nt=null,Et=0,ln=0,so=Li(0),lt=0,Dl=null,gs=0,Mh=0,ev=0,il=null,Xt=null,tv=0,Mo=1/0,Er=null,Fd=!1,Xm=null,_i=null,vc=!1,fi=null,jd=0,sl=0,Jm=null,Kc=-1,Qc=0;function Wt(){return Ie&6?Xe():Kc!==-1?Kc:Kc=Xe()}function Ei(t){return t.mode&1?Ie&2&&Et!==0?Et&-Et:_2.transition!==null?(Qc===0&&(Qc=zI()),Qc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:YI(t.type)),t):1}function Un(t,e,n,r){if(50<sl)throw sl=0,Jm=null,Error(H(185));au(t,n,r),(!(Ie&2)||t!==pt)&&(t===pt&&(!(Ie&2)&&(Mh|=n),lt===4&&li(t,Et)),nn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Mo=Xe()+500,bh&&Fi()))}function nn(t,e){var n=t.callbackNode;_D(t,e);var r=xd(t,t===pt?Et:0);if(r===0)n!==null&&C0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C0(n),e===1)t.tag===0?w2(vE.bind(null,t)):mC(vE.bind(null,t)),m2(function(){!(Ie&6)&&Fi()}),n=null;else{switch(WI(r)){case 1:n=Ay;break;case 4:n=BI;break;case 16:n=Ed;break;case 536870912:n=$I;break;default:n=Ed}n=fA(n,oA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oA(t,e){if(Kc=-1,Qc=0,Ie&6)throw Error(H(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=xd(t,t===pt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ud(t,r);else{e=r;var i=Ie;Ie|=2;var s=lA();(pt!==t||Et!==e)&&(Er=null,Mo=Xe()+500,as(t,e));do try{U2();break}catch(a){aA(t,a)}while(!0);Uy(),Ld.current=s,Ie=i,nt!==null?e=0:(pt=null,Et=0,e=lt)}if(e!==0){if(e===2&&(i=Im(t),i!==0&&(r=i,e=Zm(t,i))),e===1)throw n=Dl,as(t,0),li(t,r),nn(t,Xe()),n;if(e===6)li(t,r);else{if(i=t.current.alternate,!(r&30)&&!F2(i)&&(e=Ud(t,r),e===2&&(s=Im(t),s!==0&&(r=s,e=Zm(t,s))),e===1))throw n=Dl,as(t,0),li(t,r),nn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Qi(t,Xt,Er);break;case 3:if(li(t,r),(r&130023424)===r&&(e=tv+500-Xe(),10<e)){if(xd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nm(Qi.bind(null,t,Xt,Er),e);break}Qi(t,Xt,Er);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L2(r/1960))-r,10<r){t.timeoutHandle=Nm(Qi.bind(null,t,Xt,Er),r);break}Qi(t,Xt,Er);break;case 5:Qi(t,Xt,Er);break;default:throw Error(H(329))}}}return nn(t,Xe()),t.callbackNode===n?oA.bind(null,t):null}function Zm(t,e){var n=il;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&eg(e)),t}function eg(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function F2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~ev,e&=~Mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function vE(t){if(Ie&6)throw Error(H(327));vo();var e=xd(t,0);if(!(e&1))return nn(t,Xe()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var r=Im(t);r!==0&&(e=r,n=Zm(t,r))}if(n===1)throw n=Dl,as(t,0),li(t,e),nn(t,Xe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qi(t,Xt,Er),nn(t,Xe()),null}function nv(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Mo=Xe()+500,bh&&Fi())}}function ys(t){fi!==null&&fi.tag===0&&!(Ie&6)&&vo();var e=Ie;Ie|=1;var n=Cn.transition,r=Re;try{if(Cn.transition=null,Re=1,t)return t()}finally{Re=r,Cn.transition=n,Ie=e,!(Ie&6)&&Fi()}}function rv(){ln=so.current,Le(so)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,p2(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ad();break;case 3:Po(),Le(en),Le(Vt),qy();break;case 5:Hy(r);break;case 4:Po();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:By(r.type._context);break;case 22:case 23:rv()}n=n.return}if(pt=t,nt=t=xi(t.current,null),Et=ln=e,lt=0,Dl=null,ev=Mh=gs=0,Xt=il=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}es=null}return t}function aA(t,e){do{var n=nt;try{if(Uy(),Hc.current=Vd,Od){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(ms=0,dt=at=ze=null,nl=!1,kl=0,Zy.current=null,n===null||n.return===null){lt=1,Dl=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sE(o);if(m!==null){m.flags&=-257,oE(m,o,a,s,e),m.mode&1&&iE(s,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){iE(s,u,e),iv();break e}l=Error(H(426))}}else if(Fe&&a.mode&1){var I=sE(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),oE(I,o,a,s,e),Fy(ko(l,a));break e}}s=l=ko(l,a),lt!==4&&(lt=2),il===null?il=[s]:il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=WC(s,l,e);J0(s,g);break e;case 1:a=l;var E=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_i===null||!_i.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=HC(s,a,e);J0(s,R);break e}}s=s.return}while(s!==null)}cA(n)}catch(M){e=M,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function lA(){var t=Ld.current;return Ld.current=Vd,t===null?Vd:t}function iv(){(lt===0||lt===3||lt===2)&&(lt=4),pt===null||!(gs&268435455)&&!(Mh&268435455)||li(pt,Et)}function Ud(t,e){var n=Ie;Ie|=2;var r=lA();(pt!==t||Et!==e)&&(Er=null,as(t,e));do try{j2();break}catch(i){aA(t,i)}while(!0);if(Uy(),Ie=n,Ld.current=r,nt!==null)throw Error(H(261));return pt=null,Et=0,lt}function j2(){for(;nt!==null;)uA(nt)}function U2(){for(;nt!==null&&!dD();)uA(nt)}function uA(t){var e=hA(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?cA(t):nt=e,Zy.current=null}function cA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N2(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,nt=null;return}}else if(n=M2(n,e,ln),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);lt===0&&(lt=5)}function Qi(t,e,n){var r=Re,i=Cn.transition;try{Cn.transition=null,Re=1,B2(t,e,n,r)}finally{Cn.transition=i,Re=r}return null}function B2(t,e,n,r){do vo();while(fi!==null);if(Ie&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ED(t,s),t===pt&&(nt=pt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vc||(vc=!0,fA(Ed,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=Re;Re=1;var a=Ie;Ie|=4,Zy.current=null,O2(t,n),iA(n,t),a2(km),Td=!!Pm,km=Pm=null,t.current=n,V2(n),hD(),Ie=a,Re=o,Cn.transition=s}else t.current=n;if(vc&&(vc=!1,fi=t,jd=i),s=t.pendingLanes,s===0&&(_i=null),mD(n.stateNode),nn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fd)throw Fd=!1,t=Xm,Xm=null,t;return jd&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===Jm?sl++:(sl=0,Jm=t):sl=0,Fi(),null}function vo(){if(fi!==null){var t=WI(jd),e=Cn.transition,n=Re;try{if(Cn.transition=null,Re=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,jd=0,Ie&6)throw Error(H(331));var i=Ie;for(Ie|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(tA(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,X=g;break e}X=s.return}}var E=t.current;for(X=E;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(M){Ke(a,a.return,M)}if(a===o){X=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,X=R;break e}X=a.return}}if(Ie=i,Fi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Th,t)}catch{}r=!0}return r}finally{Re=n,Cn.transition=e}}return!1}function wE(t,e,n){e=ko(n,e),e=WC(t,e,1),t=wi(t,e,1),e=Wt(),t!==null&&(au(t,1,e),nn(t,e))}function Ke(t,e,n){if(t.tag===3)wE(t,t,n);else for(;e!==null;){if(e.tag===3){wE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=ko(n,t),t=HC(e,t,1),e=wi(e,t,1),t=Wt(),e!==null&&(au(e,1,t),nn(e,t));break}}e=e.return}}function $2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(Et&n)===n&&(lt===4||lt===3&&(Et&130023424)===Et&&500>Xe()-tv?as(t,0):ev|=n),nn(t,e)}function dA(t,e){e===0&&(t.mode&1?(e=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):e=1);var n=Wt();t=Or(t,e),t!==null&&(au(t,e,n),nn(t,n))}function z2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dA(t,n)}function W2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),dA(t,n)}var hA;hA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,k2(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Fe&&e.flags&1048576&&gC(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=Ao(e,Vt.current);yo(e,n),i=Ky(null,e,r,t,i,n);var s=Qy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zy(e),i.updater=Ph,e.stateNode=i,i._reactInternals=e,Um(e,r,t,n),e=zm(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Vy(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q2(r),t=Vn(r,t),i){case 0:e=$m(null,e,r,t,n);break e;case 1:e=uE(null,e,r,t,n);break e;case 11:e=aE(null,e,r,t,n);break e;case 14:e=lE(null,e,r,Vn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),$m(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),uE(t,e,r,i,n);case 3:e:{if(QC(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xC(t,e),Nd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ko(Error(H(423)),e),e=cE(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(H(424)),e),e=cE(t,e,r,n,i);break e}else for(cn=vi(e.stateNode.containerInfo.firstChild),hn=e,Fe=!0,Fn=null,n=_C(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bo(),r===i){e=Vr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return TC(e),t===null&&Lm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mm(r,i)?o=null:s!==null&&Mm(r,s)&&(e.flags|=32),KC(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&Lm(e),null;case 13:return YC(t,e,n);case 4:return Wy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),aE(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(kd,r._currentValue),r._currentValue=o,s!==null)if($n(s.value,o)){if(s.children===i.children&&!en.current){e=Vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=Pn(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),lE(t,e,r,i,n);case 15:return qC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Gc(t,e),e.tag=1,tn(r)?(t=!0,bd(e)):t=!1,yo(e,n),zC(e,r,i),Um(e,r,i,n),zm(null,e,r,!0,t,n);case 19:return XC(t,e,n);case 22:return GC(t,e,n)}throw Error(H(156,e.tag))};function fA(t,e){return UI(t,e)}function H2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new H2(t,e,n,r)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q2(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sy)return 11;if(t===Iy)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qs:return ls(n.children,i,s,e);case Ty:o=8,i|=8;break;case cm:return t=Sn(12,n,e,i|2),t.elementType=cm,t.lanes=s,t;case dm:return t=Sn(13,n,e,i),t.elementType=dm,t.lanes=s,t;case hm:return t=Sn(19,n,e,i),t.elementType=hm,t.lanes=s,t;case TI:return Nh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EI:o=10;break e;case xI:o=9;break e;case Sy:o=11;break e;case Iy:o=14;break e;case si:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ls(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Nh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=TI,t.lanes=n,t.stateNode={isHidden:!1},t}function yp(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ov(t,e,n,r,i,s,o,a,l){return t=new G2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zy(s),t}function K2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pA(t){if(!t)return Ai;t=t._reactInternals;e:{if(As(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(tn(n))return pC(t,n,e)}return e}function mA(t,e,n,r,i,s,o,a,l){return t=ov(n,r,!0,t,i,s,o,a,l),t.context=pA(null),n=t.current,r=Wt(),i=Ei(n),s=Pr(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,au(t,i,r),nn(t,r),t}function Dh(t,e,n,r){var i=e.current,s=Wt(),o=Ei(i);return n=pA(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(Un(t,i,o,s),Wc(t,i,o)),o}function Bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _E(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function av(t,e){_E(t,e),(t=t.alternate)&&_E(t,e)}function Q2(){return null}var gA=typeof reportError=="function"?reportError:function(t){console.error(t)};function lv(t){this._internalRoot=t}Oh.prototype.render=lv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Dh(t,e,null,null)};Oh.prototype.unmount=lv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Dh(null,t,null,null)}),e[Dr]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=GI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&QI(t)}};function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EE(){}function Y2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Bd(o);s.call(u)}}var o=mA(e,r,t,0,null,!1,!1,"",EE);return t._reactRootContainer=o,t[Dr]=o.current,Cl(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Bd(l);a.call(u)}}var l=ov(t,0,!1,null,null,!1,!1,"",EE);return t._reactRootContainer=l,t[Dr]=l.current,Cl(t.nodeType===8?t.parentNode:t),ys(function(){Dh(e,l,n,r)}),l}function Lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bd(o);a.call(l)}}Dh(e,o,t,i)}else o=Y2(n,e,t,i,r);return Bd(o)}HI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(by(e,n|1),nn(e,Xe()),!(Ie&6)&&(Mo=Xe()+500,Fi()))}break;case 13:ys(function(){var r=Or(t,1);if(r!==null){var i=Wt();Un(r,t,1,i)}}),av(t,1)}};Ry=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Wt();Un(e,t,134217728,n)}av(t,134217728)}};qI=function(t){if(t.tag===13){var e=Ei(t),n=Or(t,e);if(n!==null){var r=Wt();Un(n,t,e,r)}av(t,e)}};GI=function(){return Re};KI=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};xm=function(t,e,n){switch(e){case"input":if(mm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ah(r);if(!i)throw Error(H(90));II(r),mm(r,i)}}}break;case"textarea":AI(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};DI=nv;OI=ys;var X2={usingClientEntryPoint:!1,Events:[uu,Zs,Ah,MI,NI,nv]},Da={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J2={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FI(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Th=wc.inject(J2),rr=wc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(e))throw Error(H(200));return K2(t,e,null,n)};vn.createRoot=function(t,e){if(!uv(t))throw Error(H(299));var n=!1,r="",i=gA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ov(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,Cl(t.nodeType===8?t.parentNode:t),new lv(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=FI(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return ys(t)};vn.hydrate=function(t,e,n){if(!Vh(e))throw Error(H(200));return Lh(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!uv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mA(e,null,t,1,n??null,i,!1,s,o),t[Dr]=e.current,Cl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oh(e)};vn.render=function(t,e,n){if(!Vh(e))throw Error(H(200));return Lh(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Vh(t))throw Error(H(40));return t._reactRootContainer?(ys(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};vn.unstable_batchedUpdates=nv;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Lh(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function yA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yA)}catch(t){console.error(t)}}yA(),yI.exports=vn;var Fh=yI.exports;const Z2=my(Fh);var vA,xE=Fh;vA=xE.createRoot,xE.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function eO(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return tg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ol(i)}return nO(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tO(){return Math.random().toString(36).substring(2,10)}function SE(t,e){return{usr:t.state,key:t.key,idx:e}}function tg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:n,key:e&&e.key||r||tO()}}function Ol({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function nO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let I=d(),g=I==null?null:I-u;u=I,l&&l({action:a,location:_.location,delta:g})}function f(I,g){a="PUSH";let E=tg(_.location,I,g);u=d()+1;let x=SE(E,u),R=_.createHref(E);try{o.pushState(x,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}s&&l&&l({action:a,location:_.location,delta:1})}function m(I,g){a="REPLACE";let E=tg(_.location,I,g);u=d();let x=SE(E,u),R=_.createHref(E);o.replaceState(x,"",R),s&&l&&l({action:a,location:_.location,delta:0})}function w(I){return rO(I)}let _={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TE,h),l=I,()=>{i.removeEventListener(TE,h),l=null}},createHref(I){return e(i,I)},createURL:w,encodeLocation(I){let g=w(I);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(I){return o.go(I)}};return _}function rO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ol(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wA(t,e,n="/"){return iO(t,e,n,!1)}function iO(t,e,n,r){let i=typeof e=="string"?Ko(e):e,s=Lr(i.pathname||"/",n);if(s==null)return null;let o=_A(t);sO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gO(s);a=pO(o[l],u,r)}return a}function _A(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=kr([r,d.relativePath]),f=n.concat(d);o.children&&o.children.length>0&&(Ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),_A(o.children,e,f,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:hO(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of EA(o.path))s(o,a,!0,u)}),e}function EA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=EA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oO=/^:[\w-]+$/,aO=3,lO=2,uO=1,cO=10,dO=-2,IE=t=>t==="*";function hO(t,e){let n=t.split("/"),r=n.length;return n.some(IE)&&(r+=dO),e&&(r+=lO),n.filter(i=>!IE(i)).reduce((i,s)=>i+(oO.test(s)?aO:s===""?uO:cO),r)}function fO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pO(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:kr([s,h.pathname]),pathnameBase:_O(kr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=kr([s,h.pathnameBase]))}return o}function $d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mO(t,e=!1,n=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ko(t):t;return{pathname:n?n.startsWith("/")?n:vO(n,e):e,search:EO(r),hash:xO(i)}}function vO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cv(t){let e=wO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function dv(t,e,n,r=!1){let i;typeof t=="string"?i=Ko(t):(i={...t},Ue(!i.pathname||!i.pathname.includes("?"),wp("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),wp("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),wp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=yO(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var kr=t=>t.join("/").replace(/\/\/+/g,"/"),_O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xA=["POST","PUT","PATCH","DELETE"];new Set(xA);var SO=["GET",...xA];new Set(SO);var Qo=y.createContext(null);Qo.displayName="DataRouter";var jh=y.createContext(null);jh.displayName="DataRouterState";y.createContext(!1);var TA=y.createContext({isTransitioning:!1});TA.displayName="ViewTransition";var IO=y.createContext(new Map);IO.displayName="Fetchers";var CO=y.createContext(null);CO.displayName="Await";var Kn=y.createContext(null);Kn.displayName="Navigation";var du=y.createContext(null);du.displayName="Location";var Qn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var hv=y.createContext(null);hv.displayName="RouteError";function AO(t,{relative:e}={}){Ue(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Kn),{hash:i,pathname:s,search:o}=hu(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:kr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Yo(){return y.useContext(du)!=null}function Qr(){return Ue(Yo(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(du).location}var SA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IA(t){y.useContext(Kn).static||y.useLayoutEffect(t)}function Xo(){let{isDataRoute:t}=y.useContext(Qn);return t?BO():bO()}function bO(){Ue(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(Qo),{basename:e,navigator:n}=y.useContext(Kn),{matches:r}=y.useContext(Qn),{pathname:i}=Qr(),s=JSON.stringify(cv(r)),o=y.useRef(!1);return IA(()=>{o.current=!0}),y.useCallback((l,u={})=>{if(zn(o.current,SA),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=dv(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:kr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}y.createContext(null);function RO(){let{matches:t}=y.useContext(Qn),e=t[t.length-1];return e?e.params:{}}function hu(t,{relative:e}={}){let{matches:n}=y.useContext(Qn),{pathname:r}=Qr(),i=JSON.stringify(cv(n));return y.useMemo(()=>dv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function PO(t,e){return CA(t,e)}function CA(t,e,n,r,i){var E;Ue(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Kn),{matches:o}=y.useContext(Qn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";AA(u,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Qr(),m;if(e){let x=typeof e=="string"?Ko(e):e;Ue(d==="/"||((E=x.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=f;let w=m.pathname||"/",_=w;if(d!=="/"){let x=d.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let I=wA(t,{pathname:_});zn(h||I!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),zn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=OO(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:kr([d,s.encodeLocation?s.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:kr([d,s.encodeLocation?s.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,n,r,i);return e&&g?y.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function kO(){let t=UO(),e=TO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,o)}var MO=y.createElement(kO,null),NO=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(Qn.Provider,{value:this.props.routeContext},y.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DO({routeContext:t,match:e,children:n}){let r=y.useContext(Qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Qn.Provider,{value:t},n)}function OO(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ue(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let f,m=!1,w=null,_=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||MO,a&&(l<0&&h===0?(AA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):l===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,h+1)),g=()=>{let E;return f?E=w:m?E=_:d.route.Component?E=y.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,y.createElement(DO,{match:d,routeContext:{outlet:u,matches:I,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(NO,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:g(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):g()},null)}function fv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VO(t){let e=y.useContext(Qo);return Ue(e,fv(t)),e}function LO(t){let e=y.useContext(jh);return Ue(e,fv(t)),e}function FO(t){let e=y.useContext(Qn);return Ue(e,fv(t)),e}function pv(t){let e=FO(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jO(){return pv("useRouteId")}function UO(){var r;let t=y.useContext(hv),e=LO("useRouteError"),n=pv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function BO(){let{router:t}=VO("useNavigate"),e=pv("useNavigate"),n=y.useRef(!1);return IA(()=>{n.current=!0}),y.useCallback(async(i,s={})=>{zn(n.current,SA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var CE={};function AA(t,e,n){!e&&!CE[t]&&(CE[t]=!0,zn(!1,n))}y.memo($O);function $O({routes:t,future:e,state:n,unstable_onError:r}){return CA(t,void 0,n,r,e)}function zO({to:t,replace:e,state:n,relative:r}){Ue(Yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Kn);zn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(Qn),{pathname:o}=Qr(),a=Xo(),l=dv(t,cv(s),o,r==="path"),u=JSON.stringify(l);return y.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function wr(t){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ue(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ko(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=y.useMemo(()=>{let w=Lr(l,o);return w==null?null:{location:{pathname:w,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return zn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(Kn.Provider,{value:a},y.createElement(du.Provider,{children:e,value:m}))}function HO({children:t,location:e}){return PO(ng(t),e)}function ng(t,e=[]){let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,ng(r.props.children,s));return}Ue(r.type===wr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ng(r.props.children,s)),n.push(o)}),n}var Xc="get",Jc="application/x-www-form-urlencoded";function Uh(t){return t!=null&&typeof t.tagName=="string"}function qO(t){return Uh(t)&&t.tagName.toLowerCase()==="button"}function GO(t){return Uh(t)&&t.tagName.toLowerCase()==="form"}function KO(t){return Uh(t)&&t.tagName.toLowerCase()==="input"}function QO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YO(t,e){return t.button===0&&(!e||e==="_self")&&!QO(t)}var _c=null;function XO(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var JO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(t){return t!=null&&!JO.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):t}function ZO(t,e){let n,r,i,s,o;if(GO(t)){let a=t.getAttribute("action");r=a?Lr(a,e):null,n=t.getAttribute("method")||Xc,i=_p(t.getAttribute("enctype"))||Jc,s=new FormData(t)}else if(qO(t)||KO(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Lr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Xc,i=_p(t.getAttribute("formenctype"))||_p(a.getAttribute("enctype"))||Jc,s=new FormData(a,t),!XO()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Uh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,r=null,i=Jc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eV(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Lr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function tV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rV(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await tV(s,n);return o.links?o.links():[]}return[]}));return aV(r.flat(1).filter(nV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AE(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function iV(t,e,{includeHydrateFallback:n}={}){return sV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function sV(t){return[...new Set(t)]}function oV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aV(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(oV(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function bA(){let t=y.useContext(Qo);return mv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lV(){let t=y.useContext(jh);return mv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gv=y.createContext(void 0);gv.displayName="FrameworkContext";function RA(){let t=y.useContext(gv);return mv(t,"You must render this element inside a <HydratedRouter> element"),t}function uV(t,e){let n=y.useContext(gv),[r,i]=y.useState(!1),[s,o]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=g=>{g.forEach(E=>{o(E.isIntersecting)})},I=new IntersectionObserver(_,{threshold:.5});return f.current&&I.observe(f.current),()=>{I.disconnect()}}},[t]),y.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Oa(a,m),onBlur:Oa(l,w),onMouseEnter:Oa(u,m),onMouseLeave:Oa(d,w),onTouchStart:Oa(h,m)}]:[!1,f,{}]}function Oa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cV({page:t,...e}){let{router:n}=bA(),r=y.useMemo(()=>wA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(hV,{page:t,matches:r,...e}):null}function dV(t){let{manifest:e,routeModules:n}=RA(),[r,i]=y.useState([]);return y.useEffect(()=>{let s=!1;return rV(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function hV({page:t,matches:e,...n}){let r=Qr(),{manifest:i,routeModules:s}=RA(),{basename:o}=bA(),{loaderData:a,matches:l}=lV(),u=y.useMemo(()=>AE(t,e,l,i,r,"data"),[t,e,l,i,r]),d=y.useMemo(()=>AE(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(g=>{var x;let E=i.routes[g.route.id];!E||!E.hasLoader||(!u.some(R=>R.route.id===g.route.id)&&g.route.id in a&&((x=s[g.route.id])!=null&&x.shouldRevalidate)||E.hasClientLoader?_=!0:w.add(g.route.id))}),w.size===0)return[];let I=eV(t,o,"data");return _&&w.size>0&&I.searchParams.set("_routes",e.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[I.pathname+I.search]},[o,a,r,i,u,e,t,s]),f=y.useMemo(()=>iV(d,i),[d,i]),m=dV(d);return y.createElement(y.Fragment,null,h.map(w=>y.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>y.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),m.map(({key:w,link:_})=>y.createElement("link",{key:w,nonce:n.nonce,..._})))}function fV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PA&&(window.__reactRouterVersion="7.9.4")}catch{}function pV({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=eO({window:n,v5Compat:!0}));let i=r.current,[s,o]=y.useState({action:i.action,location:i.location}),a=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>i.listen(a),[i,a]),y.createElement(WO,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var kA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:w}=y.useContext(Kn),_=typeof u=="string"&&kA.test(u),I,g=!1;if(typeof u=="string"&&_&&(I=u,PA))try{let A=new URL(window.location.href),P=u.startsWith("//")?new URL(A.protocol+u):new URL(u),N=Lr(P.pathname,w);P.origin===A.origin&&N!=null?u=N+P.search+P.hash:g=!0}catch{zn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=AO(u,{relative:i}),[x,R,M]=uV(r,f),L=vV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function C(A){e&&e(A),A.defaultPrevented||L(A)}let T=y.createElement("a",{...f,...M,href:I||E,onClick:g||s?e:C,ref:fV(m,R),target:l,"data-discover":!_&&n==="render"?"true":void 0});return x&&!_?y.createElement(y.Fragment,null,T,y.createElement(cV,{page:E})):T});Vl.displayName="Link";var mV=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=hu(o,{relative:u.relative}),f=Qr(),m=y.useContext(jh),{navigator:w,basename:_}=y.useContext(Kn),I=m!=null&&TV(h)&&a===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,E=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&_&&(x=Lr(x,_)||x);const R=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let M=E===g||!i&&E.startsWith(g)&&E.charAt(R)==="/",L=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),C={isActive:M,isPending:L,isTransitioning:I},T=M?e:void 0,A;typeof r=="function"?A=r(C):A=[r,M?"active":null,L?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(C):s;return y.createElement(Vl,{...u,"aria-current":T,className:A,ref:d,style:P,to:o,viewTransition:a},typeof l=="function"?l(C):l)});mV.displayName="NavLink";var gV=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Xc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let w=EV(),_=xV(a,{relative:u}),I=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&kA.test(a),E=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let R=x.nativeEvent.submitter,M=(R==null?void 0:R.getAttribute("formmethod"))||o;w(R||x.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return y.createElement("form",{ref:m,method:I,action:_,onSubmit:r?l:E,...f,"data-discover":!g&&t==="render"?"true":void 0})});gV.displayName="Form";function yV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(t){let e=y.useContext(Qo);return Ue(e,yV(t)),e}function vV(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Xo(),l=Qr(),u=hu(t,{relative:s});return y.useCallback(d=>{if(YO(d,e)){d.preventDefault();let h=n!==void 0?n:Ol(l)===Ol(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var wV=0,_V=()=>`__${String(++wV)}__`;function EV(){let{router:t}=MA("useSubmit"),{basename:e}=y.useContext(Kn),n=jO();return y.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=ZO(r,e);if(i.navigate===!1){let d=i.fetcherKey||_V();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xV(t,{relative:e}={}){let{basename:n}=y.useContext(Kn),r=y.useContext(Qn);Ue(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...hu(t||".",{relative:e})},o=Qr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:kr([n,s.pathname])),Ol(s)}function TV(t,{relative:e}={}){let n=y.useContext(TA);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MA("useViewTransitionState"),i=hu(t,{relative:e});if(!n.isTransitioning)return!1;let s=Lr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Lr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $d(i.pathname,o)!=null||$d(i.pathname,s)!=null}const SV="modulepreload",IV=function(t){return"/"+t},bE={},CV=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=IV(l),l in bE)return;bE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":SV,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function AV(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await CV(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:e}).then(h=>{s?s("/sw.js",h):i==null||i(h)}).catch(h=>{o==null||o(h)})}}return l=d(),u}var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new RV;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PV=function(t){const e=NA(t);return DA.encodeByteArray(e,!0)},zd=function(t){return PV(t).replace(/\./g,"")},OA=function(t){try{return DA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=()=>kV().__FIREBASE_DEFAULTS__,NV=()=>{if(typeof process>"u"||typeof RE>"u")return;const t=RE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OA(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return MV()||NV()||DV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VA=t=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OV=t=>{const e=VA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LA=()=>{var t;return(t=Bh())===null||t===void 0?void 0:t.config},FA=t=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zd(JSON.stringify(n)),zd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function jV(){var t;const e=(t=Bh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $V(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zV(){return!jV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function BA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function WV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HV,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bs.prototype.create)}}class bs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,r)}}function qV(t,e){return t.replace(GV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GV=/\{\$([^}]+)}/g;function KV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PE(s)&&PE(o)){if(!Ll(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QV(t,e){const n=new YV(t,e);return n.subscribe.bind(n)}class YV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ep),i.error===void 0&&(i.error=Ep),i.complete===void 0&&(i.complete=Ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=1e3,ZV=2,eL=4*60*60*1e3,tL=.5;function kE(t,e=JV,n=ZV){const r=e*Math.pow(n,t),i=Math.round(tL*r*(Math.random()-.5)*2);return Math.min(eL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Wn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iL(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rL(t){return t===Yi?void 0:t}function iL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const oL={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},aL=Ee.INFO,lL={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},uL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $h{constructor(e){this.name=e,this._logLevel=aL,this._logHandler=uL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const cL=(t,e)=>e.some(n=>t instanceof n);let ME,NE;function dL(){return ME||(ME=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hL(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $A=new WeakMap,rg=new WeakMap,zA=new WeakMap,xp=new WeakMap,yv=new WeakMap;function fL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$A.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function pL(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rg.set(t,e)}let ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mL(t){ig=t(ig)}function gL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tp(this),e,...n);return zA.set(r,e.sort?e.sort():[e]),Ti(r)}:hL().includes(t)?function(...e){return t.apply(Tp(this),e),Ti($A.get(this))}:function(...e){return Ti(t.apply(Tp(this),e))}}function yL(t){return typeof t=="function"?gL(t):(t instanceof IDBTransaction&&pL(t),cL(t,dL())?new Proxy(t,ig):t)}function Ti(t){if(t instanceof IDBRequest)return fL(t);if(xp.has(t))return xp.get(t);const e=yL(t);return e!==t&&(xp.set(t,e),yv.set(e,t)),e}const Tp=t=>yv.get(t);function WA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ti(o.result),l.oldVersion,l.newVersion,Ti(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vL=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],Sp=new Map;function DE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Sp.set(e,s),s}mL(t=>({...t,get:(e,n,r)=>DE(e,n)||t.get(e,n,r),has:(e,n)=>!!DE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",OE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new $h("@firebase/app"),xL="@firebase/app-compat",TL="@firebase/analytics-compat",SL="@firebase/analytics",IL="@firebase/app-check-compat",CL="@firebase/app-check",AL="@firebase/auth",bL="@firebase/auth-compat",RL="@firebase/database",PL="@firebase/data-connect",kL="@firebase/database-compat",ML="@firebase/functions",NL="@firebase/functions-compat",DL="@firebase/installations",OL="@firebase/installations-compat",VL="@firebase/messaging",LL="@firebase/messaging-compat",FL="@firebase/performance",jL="@firebase/performance-compat",UL="@firebase/remote-config",BL="@firebase/remote-config-compat",$L="@firebase/storage",zL="@firebase/storage-compat",WL="@firebase/firestore",HL="@firebase/vertexai-preview",qL="@firebase/firestore-compat",GL="firebase",KL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",QL={[sg]:"fire-core",[xL]:"fire-core-compat",[SL]:"fire-analytics",[TL]:"fire-analytics-compat",[CL]:"fire-app-check",[IL]:"fire-app-check-compat",[AL]:"fire-auth",[bL]:"fire-auth-compat",[RL]:"fire-rtdb",[PL]:"fire-data-connect",[kL]:"fire-rtdb-compat",[ML]:"fire-fn",[NL]:"fire-fn-compat",[DL]:"fire-iid",[OL]:"fire-iid-compat",[VL]:"fire-fcm",[LL]:"fire-fcm-compat",[FL]:"fire-perf",[jL]:"fire-perf-compat",[UL]:"fire-rc",[BL]:"fire-rc-compat",[$L]:"fire-gcs",[zL]:"fire-gcs-compat",[WL]:"fire-fst",[qL]:"fire-fst-compat",[HL]:"fire-vertex","fire-js":"fire-js",[GL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,YL=new Map,ag=new Map;function VE(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){const e=t.name;if(ag.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of Wd.values())VE(n,t);for(const n of YL.values())VE(n,t);return!0}function Rs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new bs("app","Firebase",XL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=KL;function HA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=LA()),!n)throw Si.create("no-options");const s=Wd.get(i);if(s){if(Ll(n,s.options)&&Ll(r,s.config))return s;throw Si.create("duplicate-app",{appName:i})}const o=new sL(i);for(const l of ag.values())o.addComponent(l);const a=new JL(n,r,o);return Wd.set(i,a),a}function vv(t=og){const e=Wd.get(t);if(!e&&t===og&&LA())return HA();if(!e)throw Si.create("no-app",{appName:t});return e}function An(t,e,n){var r;let i=(r=QL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}dr(new Wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebase-heartbeat-database",eF=1,Fl="firebase-heartbeat-store";let Ip=null;function qA(){return Ip||(Ip=WA(ZL,eF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function tF(t){try{const n=(await qA()).transaction(Fl),r=await n.objectStore(Fl).get(GA(t));return await n.done,r}catch(e){if(e instanceof Yn)Fr.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function LE(t,e){try{const r=(await qA()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,GA(t)),await r.done}catch(n){if(n instanceof Yn)Fr.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(r.message)}}}function GA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=1024,rF=30*24*60*60*1e3;class iF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FE(),{heartbeatsToSend:r,unsentEntries:i}=sF(this._heartbeatsCache.heartbeats),s=zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fr.warn(n),""}}}function FE(){return new Date().toISOString().substring(0,10)}function sF(t,e=nF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?BA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jE(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){dr(new Wn("platform-logger",e=>new _L(e),"PRIVATE")),dr(new Wn("heartbeat",e=>new iF(e),"PRIVATE")),An(sg,OE,t),An(sg,OE,"esm2017"),An("fire-js","")}aF("");var lg=function(t,e){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},lg(t,e)};function lF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ne=function(){return Ne=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ne.apply(this,arguments)};function pu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uF(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function KA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cF=KA,QA=new bs("auth","Firebase",KA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new $h("@firebase/auth");function dF(t,...e){Hd.logLevel<=Ee.WARN&&Hd.warn(`Auth (${Jo}): ${t}`,...e)}function Zc(t,...e){Hd.logLevel<=Ee.ERROR&&Hd.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw _v(t,...e)}function Bn(t,...e){return _v(t,...e)}function wv(t,e,n){const r=Object.assign(Object.assign({},cF()),{[e]:n});return new bs("auth","Firebase",r).create(e,{appName:t.name})}function us(t){return wv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hr(t,"argument-error"),wv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QA.create(t,...e)}function he(t,e,...n){if(!t)throw _v(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zc(e),new Error(e)}function jr(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fF(){return UE()==="http:"||UE()==="https:"}function UE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fF()||jA()||"connection"in navigator)?navigator.onLine:!0}function mF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=FV()||BV()}get(){return pF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new mu(3e4,6e4);function xv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zo(t,e,n,r,i={}){return XA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=fu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return UV()||(u.referrerPolicy="no-referrer"),YA.fetch()(JA(t,t.config.apiHost,n,a),u)})}async function XA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gF),e);try{const i=new wF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ec(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ec(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ec(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wv(t,d,u);hr(t,d)}}catch(i){if(i instanceof Yn)throw i;hr(t,"network-request-failed",{message:String(i)})}}async function vF(t,e,n,r,i={}){const s=await Zo(t,e,n,r,i);return"mfaPendingCredential"in s&&hr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function JA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ev(t.config,i):`${t.config.apiScheme}://${i}`}class wF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),yF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ec(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function ZA(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EF(t,e=!1){const n=Je(t),r=await n.getIdToken(e),i=Tv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ol(Cp(i.auth_time)),issuedAtTime:ol(Cp(i.iat)),expirationTime:ol(Cp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cp(t){return Number(t)*1e3}function Tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const i=OA(n);return i?JSON.parse(i):(Zc("Failed to decode base64 JWT payload"),null)}catch(i){return Zc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BE(t){const e=Tv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&xF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,ZA(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eb(s.providerUserInfo):[],a=IF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function SF(t){const e=Je(t);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eb(t){return t.map(e=>{var{providerId:n}=e,r=pu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e){const n=await XA(t,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AF(t,e){return Zo(t,"POST","/v2/accounts:revokeToken",xv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=BE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await CF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wo;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EF(this,e)}reload(){return SF(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await jl(this,_F(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:R,isAnonymous:M,providerData:L,stsTokenManager:C}=n;he(x&&C,e,"internal-error");const T=wo.fromJSON(this.name,C);he(typeof x=="string",e,"internal-error"),ti(h,e.name),ti(f,e.name),he(typeof R=="boolean",e,"internal-error"),he(typeof M=="boolean",e,"internal-error"),ti(m,e.name),ti(w,e.name),ti(_,e.name),ti(I,e.name),ti(g,e.name),ti(E,e.name);const A=new br({uid:x,auth:e,email:f,emailVerified:R,displayName:h,isAnonymous:M,photoURL:w,phoneNumber:m,tenantId:_,stsTokenManager:T,createdAt:g,lastLoginAt:E});return L&&Array.isArray(L)&&(A.providerData=L.map(P=>Object.assign({},P))),I&&(A._redirectEventId=I),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new wo;i.updateFromServerResponse(n);const s=new br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new wo;a.updateFromIdToken(r);const l=new br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function Rr(t){jr(t instanceof Function,"Expected a class definition");let e=$E.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tb.type="NONE";const zE=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ed(this.userKey,i.apiKey,s),this.fullPersistenceKey=ed("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(Rr(zE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Rr(zE);const o=ed(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=br._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new _o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ab(e))return"Blackberry";if(lb(e))return"Webos";if(rb(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(ob(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nb(t=Lt()){return/firefox\//i.test(t)}function rb(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(t=Lt()){return/crios\//i.test(t)}function sb(t=Lt()){return/iemobile/i.test(t)}function ob(t=Lt()){return/android/i.test(t)}function ab(t=Lt()){return/blackberry/i.test(t)}function lb(t=Lt()){return/webos/i.test(t)}function Sv(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bF(t=Lt()){var e;return Sv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RF(){return $V()&&document.documentMode===10}function ub(t=Lt()){return Sv(t)||ob(t)||lb(t)||ab(t)||/windows phone/i.test(t)||sb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e=[]){let n;switch(t){case"Browser":n=WE(Lt());break;case"Worker":n=`${WE(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e={}){return Zo(t,"GET","/v2/passwordPolicy",xv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=6;class NF{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:MF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new PF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZA(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(us(this));const n=e?Je(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kF(this),n=new NF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zh(t){return Je(t)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QV(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OF(t){Iv=t}function VF(t){return Iv.loadJS(t)}function LF(){return Iv.gapiScript}function FF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e){const n=Rs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ll(s,e??{}))return i;hr(i,"already-initialized")}return n.initialize({options:e})}function UF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BF(t,e,n){const r=zh(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=db(e),{host:o,port:a}=$F(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),zF()}function db(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $F(t){const e=db(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qE(o)}}}function qE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return vF(t,"POST","/v1/accounts:signInWithIdp",xv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="http://localhost";class vs extends hb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:WF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Cv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends gu{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends gu{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends gu{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await br._fromIdTokenResponse(e,r,i),o=GE(r);return new No({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GE(r);return new No({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gd(e,n,r,i)}}function fb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(t,s,e,r):s})}async function HF(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(us(r));const i="reauthenticate";try{const s=await jl(t,fb(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=Tv(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),No._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e,n=!1){if(Cr(t.app))return Promise.reject(us(t));const r="signIn",i=await fb(t,r,e),s=await No._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function KF(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function QF(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function YF(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function XF(t){return Je(t).signOut()}const Kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=1e3,ZF=10;class mb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const ej=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gb.type="SESSION";const yb=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await tj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Av("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function rj(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function ij(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oj(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",aj=1,Qd="firebaseLocalStorage",_b="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function lj(){const t=indexedDB.deleteDatabase(wb);return new yu(t).toPromise()}function dg(){const t=indexedDB.open(wb,aj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:_b})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await lj(),e(await dg()))})})}async function KE(t,e,n){const r=Hh(t,!0).put({[_b]:e,value:n});return new yu(r).toPromise()}async function uj(t,e){const n=Hh(t,!1).get(e),r=await new yu(n).toPromise();return r===void 0?null:r.value}function QE(t,e){const n=Hh(t,!0).delete(e);return new yu(n).toPromise()}const cj=800,dj=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(oj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ij(),!this.activeServiceWorker)return;this.sender=new nj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await KE(e,Kd,"1"),await QE(e,Kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hh(i,!1).getAll();return new yu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const hj=Eb;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){return e?Rr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends hb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fj(t){return GF(t.auth,new bv(t),t.bypassAuthState)}function pj(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),qF(n,new bv(t),t.bypassAuthState)}async function mj(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),HF(n,new bv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fj;case"linkViaPopup":case"linkViaRedirect":return mj;case"reauthViaPopup":case"reauthViaRedirect":return pj;default:hr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new mu(2e3,1e4);async function yj(t,e,n){if(Cr(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=zh(t);hF(t,e,Cv);const i=xb(r,n);return new ns(r,"signInViaPopup",e,i).executeNotNull()}class ns extends Tb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gj.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="pendingRedirect",td=new Map;class wj extends Tb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const r=await _j(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _j(t,e){const n=Tj(e),r=xj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ej(t,e){td.set(t._key(),e)}function xj(t){return Rr(t._redirectPersistence)}function Tj(t){return ed(vj,t.config.apiKey,t.name)}async function Sj(t,e,n=!1){if(Cr(t.app))return Promise.reject(us(t));const r=zh(t),i=xb(r,e),o=await new wj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=10*60*1e3;class Cj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Aj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Sb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ij&&this.cachedEventUids.clear(),this.cachedEventUids.has(YE(e))}saveEventToCache(e){this.cachedEventUids.add(YE(e)),this.lastProcessedEventTime=Date.now()}}function YE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Sb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Aj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e={}){return Zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pj=/^https?/;async function kj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bj(t);for(const n of e)try{if(Mj(n))return}catch{}hr(t,"unauthorized-domain")}function Mj(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Pj.test(n))return!1;if(Rj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new mu(3e4,6e4);function XE(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dj(t){return new Promise((e,n)=>{var r,i,s;function o(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(Bn(t,"network-request-failed"))},timeout:Nj.get()})}if(!((i=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sr().gapi)===null||s===void 0)&&s.load)o();else{const a=FF("iframefcb");return sr()[a]=()=>{gapi.load?o():n(Bn(t,"network-request-failed"))},VF(`${LF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nd=null,e})}let nd=null;function Oj(t){return nd=nd||Dj(t),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new mu(5e3,15e3),Lj="__/auth/iframe",Fj="emulator/auth/iframe",jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bj(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ev(e,Fj):`https://${t.config.authDomain}/${Lj}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},i=Uj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fu(r).slice(1)}`}async function $j(t){const e=await Oj(t),n=sr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:Bj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),a=sr().setTimeout(()=>{s(o)},Vj.get());function l(){sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wj=500,Hj=600,qj="_blank",Gj="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kj(t,e,n,r=Wj,i=Hj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Lt().toLowerCase();n&&(a=ib(u)?qj:n),nb(u)&&(e=e||Gj,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(bF(u)&&a!=="_self")return Qj(e||"",a),new JE(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new JE(h)}function Qj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="__/auth/handler",Xj="emulator/auth/handler",Jj=encodeURIComponent("fac");async function ZE(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(e instanceof Cv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof gu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Jj}=${encodeURIComponent(l)}`:"";return`${Zj(t)}?${fu(a).slice(1)}${u}`}function Zj({config:t}){return t.emulator?Ev(t,Xj):`https://${t.authDomain}/${Yj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class eU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yb,this._completeRedirectFn=Sj,this._overrideRedirectResult=Ej}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ZE(e,n,r,ug(),i);return Kj(e,o,Av())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ZE(e,n,r,ug(),i);return rj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $j(e),r=new Cj(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ap,{type:Ap},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ap];o!==void 0&&n(!!o),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||rb()||Sv()}}const tU=eU;var ex="@firebase/auth",tx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iU(t){dr(new Wn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cb(t)},u=new DF(r,i,s,l);return UF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dr(new Wn("auth-internal",e=>{const n=zh(e.getProvider("auth").getImmediate());return(r=>new nU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(ex,tx,rU(t)),An(ex,tx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=5*60,oU=FA("authIdTokenMaxAge")||sU;let nx=null;const aU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oU)return;const i=n==null?void 0:n.token;nx!==i&&(nx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lU(t=vv()){const e=Rs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jF(t,{popupRedirectResolver:tU,persistence:[hj,ej,yb]}),r=FA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=aU(s.toString());QF(n,o,()=>o(n.currentUser)),KF(n,a=>o(a))}}const i=VA("auth");return i&&BF(n,`http://${i}`),n}function uU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iU("Browser");var cU="firebase",dU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(cU,dU,"app");var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,Ib;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(P,N,V){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return T.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)P[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],N=C.g[2];var V=C.g[3],k=T+(V^A&(N^V))+P[0]+3614090360&4294967295;T=A+(k<<7&4294967295|k>>>25),k=V+(N^T&(A^N))+P[1]+3905402710&4294967295,V=T+(k<<12&4294967295|k>>>20),k=N+(A^V&(T^A))+P[2]+606105819&4294967295,N=V+(k<<17&4294967295|k>>>15),k=A+(T^N&(V^T))+P[3]+3250441966&4294967295,A=N+(k<<22&4294967295|k>>>10),k=T+(V^A&(N^V))+P[4]+4118548399&4294967295,T=A+(k<<7&4294967295|k>>>25),k=V+(N^T&(A^N))+P[5]+1200080426&4294967295,V=T+(k<<12&4294967295|k>>>20),k=N+(A^V&(T^A))+P[6]+2821735955&4294967295,N=V+(k<<17&4294967295|k>>>15),k=A+(T^N&(V^T))+P[7]+4249261313&4294967295,A=N+(k<<22&4294967295|k>>>10),k=T+(V^A&(N^V))+P[8]+1770035416&4294967295,T=A+(k<<7&4294967295|k>>>25),k=V+(N^T&(A^N))+P[9]+2336552879&4294967295,V=T+(k<<12&4294967295|k>>>20),k=N+(A^V&(T^A))+P[10]+4294925233&4294967295,N=V+(k<<17&4294967295|k>>>15),k=A+(T^N&(V^T))+P[11]+2304563134&4294967295,A=N+(k<<22&4294967295|k>>>10),k=T+(V^A&(N^V))+P[12]+1804603682&4294967295,T=A+(k<<7&4294967295|k>>>25),k=V+(N^T&(A^N))+P[13]+4254626195&4294967295,V=T+(k<<12&4294967295|k>>>20),k=N+(A^V&(T^A))+P[14]+2792965006&4294967295,N=V+(k<<17&4294967295|k>>>15),k=A+(T^N&(V^T))+P[15]+1236535329&4294967295,A=N+(k<<22&4294967295|k>>>10),k=T+(N^V&(A^N))+P[1]+4129170786&4294967295,T=A+(k<<5&4294967295|k>>>27),k=V+(A^N&(T^A))+P[6]+3225465664&4294967295,V=T+(k<<9&4294967295|k>>>23),k=N+(T^A&(V^T))+P[11]+643717713&4294967295,N=V+(k<<14&4294967295|k>>>18),k=A+(V^T&(N^V))+P[0]+3921069994&4294967295,A=N+(k<<20&4294967295|k>>>12),k=T+(N^V&(A^N))+P[5]+3593408605&4294967295,T=A+(k<<5&4294967295|k>>>27),k=V+(A^N&(T^A))+P[10]+38016083&4294967295,V=T+(k<<9&4294967295|k>>>23),k=N+(T^A&(V^T))+P[15]+3634488961&4294967295,N=V+(k<<14&4294967295|k>>>18),k=A+(V^T&(N^V))+P[4]+3889429448&4294967295,A=N+(k<<20&4294967295|k>>>12),k=T+(N^V&(A^N))+P[9]+568446438&4294967295,T=A+(k<<5&4294967295|k>>>27),k=V+(A^N&(T^A))+P[14]+3275163606&4294967295,V=T+(k<<9&4294967295|k>>>23),k=N+(T^A&(V^T))+P[3]+4107603335&4294967295,N=V+(k<<14&4294967295|k>>>18),k=A+(V^T&(N^V))+P[8]+1163531501&4294967295,A=N+(k<<20&4294967295|k>>>12),k=T+(N^V&(A^N))+P[13]+2850285829&4294967295,T=A+(k<<5&4294967295|k>>>27),k=V+(A^N&(T^A))+P[2]+4243563512&4294967295,V=T+(k<<9&4294967295|k>>>23),k=N+(T^A&(V^T))+P[7]+1735328473&4294967295,N=V+(k<<14&4294967295|k>>>18),k=A+(V^T&(N^V))+P[12]+2368359562&4294967295,A=N+(k<<20&4294967295|k>>>12),k=T+(A^N^V)+P[5]+4294588738&4294967295,T=A+(k<<4&4294967295|k>>>28),k=V+(T^A^N)+P[8]+2272392833&4294967295,V=T+(k<<11&4294967295|k>>>21),k=N+(V^T^A)+P[11]+1839030562&4294967295,N=V+(k<<16&4294967295|k>>>16),k=A+(N^V^T)+P[14]+4259657740&4294967295,A=N+(k<<23&4294967295|k>>>9),k=T+(A^N^V)+P[1]+2763975236&4294967295,T=A+(k<<4&4294967295|k>>>28),k=V+(T^A^N)+P[4]+1272893353&4294967295,V=T+(k<<11&4294967295|k>>>21),k=N+(V^T^A)+P[7]+4139469664&4294967295,N=V+(k<<16&4294967295|k>>>16),k=A+(N^V^T)+P[10]+3200236656&4294967295,A=N+(k<<23&4294967295|k>>>9),k=T+(A^N^V)+P[13]+681279174&4294967295,T=A+(k<<4&4294967295|k>>>28),k=V+(T^A^N)+P[0]+3936430074&4294967295,V=T+(k<<11&4294967295|k>>>21),k=N+(V^T^A)+P[3]+3572445317&4294967295,N=V+(k<<16&4294967295|k>>>16),k=A+(N^V^T)+P[6]+76029189&4294967295,A=N+(k<<23&4294967295|k>>>9),k=T+(A^N^V)+P[9]+3654602809&4294967295,T=A+(k<<4&4294967295|k>>>28),k=V+(T^A^N)+P[12]+3873151461&4294967295,V=T+(k<<11&4294967295|k>>>21),k=N+(V^T^A)+P[15]+530742520&4294967295,N=V+(k<<16&4294967295|k>>>16),k=A+(N^V^T)+P[2]+3299628645&4294967295,A=N+(k<<23&4294967295|k>>>9),k=T+(N^(A|~V))+P[0]+4096336452&4294967295,T=A+(k<<6&4294967295|k>>>26),k=V+(A^(T|~N))+P[7]+1126891415&4294967295,V=T+(k<<10&4294967295|k>>>22),k=N+(T^(V|~A))+P[14]+2878612391&4294967295,N=V+(k<<15&4294967295|k>>>17),k=A+(V^(N|~T))+P[5]+4237533241&4294967295,A=N+(k<<21&4294967295|k>>>11),k=T+(N^(A|~V))+P[12]+1700485571&4294967295,T=A+(k<<6&4294967295|k>>>26),k=V+(A^(T|~N))+P[3]+2399980690&4294967295,V=T+(k<<10&4294967295|k>>>22),k=N+(T^(V|~A))+P[10]+4293915773&4294967295,N=V+(k<<15&4294967295|k>>>17),k=A+(V^(N|~T))+P[1]+2240044497&4294967295,A=N+(k<<21&4294967295|k>>>11),k=T+(N^(A|~V))+P[8]+1873313359&4294967295,T=A+(k<<6&4294967295|k>>>26),k=V+(A^(T|~N))+P[15]+4264355552&4294967295,V=T+(k<<10&4294967295|k>>>22),k=N+(T^(V|~A))+P[6]+2734768916&4294967295,N=V+(k<<15&4294967295|k>>>17),k=A+(V^(N|~T))+P[13]+1309151649&4294967295,A=N+(k<<21&4294967295|k>>>11),k=T+(N^(A|~V))+P[4]+4149444226&4294967295,T=A+(k<<6&4294967295|k>>>26),k=V+(A^(T|~N))+P[11]+3174756917&4294967295,V=T+(k<<10&4294967295|k>>>22),k=N+(T^(V|~A))+P[2]+718787259&4294967295,N=V+(k<<15&4294967295|k>>>17),k=A+(V^(N|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,P=this.B,N=this.h,V=0;V<T;){if(N==0)for(;V<=A;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<T;)if(P[N++]=C.charCodeAt(V++),N==this.blockSize){i(this,P),N=0;break}}else for(;V<T;)if(P[N++]=C[V++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)C[A++]=this.g[T]>>>P&255;return C};function s(C,T){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function o(C,T){this.h=T;for(var A=[],P=!0,N=C.length-1;0<=N;N--){var V=C[N]|0;P&&V==T||(A[N]=V,P=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return I(u(-C));for(var T=[],A=1,P=0;C>=A;P++)T[P]=C/A|0,A*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return I(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),P=h,N=0;N<C.length;N+=8){var V=Math.min(8,C.length-N),k=parseInt(C.substring(N,N+V),T);8>V?(V=u(Math.pow(T,V)),P=P.j(V).add(u(k))):(P=P.j(A),P=P.add(u(k)))}return P}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(_(this))return"-"+I(this).toString(C);for(var T=u(Math.pow(C,6)),A=this,P="";;){var N=R(A,T).g;A=g(A,N.j(T));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=N,w(A))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function _(C){return C.h==-1}t.l=function(C){return C=g(this,C),_(C)?-1:w(C)?0:1};function I(C){for(var T=C.g.length,A=[],P=0;P<T;P++)A[P]=~C.g[P];return new o(A,~C.h).add(f)}t.abs=function(){return _(this)?I(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0,N=0;N<=T;N++){var V=P+(this.i(N)&65535)+(C.i(N)&65535),k=(V>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=k>>>16,V&=65535,k&=65535,A[N]=k<<16|V}return new o(A,A[A.length-1]&-2147483648?-1:0)};function g(C,T){return C.add(I(T))}t.j=function(C){if(w(this)||w(C))return h;if(_(this))return _(C)?I(this).j(I(C)):I(I(this).j(C));if(_(C))return I(this.j(I(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var V=this.i(P)>>>16,k=this.i(P)&65535,oe=C.i(N)>>>16,me=C.i(N)&65535;A[2*P+2*N]+=k*me,E(A,2*P+2*N),A[2*P+2*N+1]+=V*me,E(A,2*P+2*N+1),A[2*P+2*N+1]+=k*oe,E(A,2*P+2*N+1),A[2*P+2*N+2]+=V*oe,E(A,2*P+2*N+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new o(A,0)};function E(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function x(C,T){this.g=C,this.h=T}function R(C,T){if(w(T))throw Error("division by zero");if(w(C))return new x(h,h);if(_(C))return T=R(I(C),T),new x(I(T.g),I(T.h));if(_(T))return T=R(C,I(T)),new x(I(T.g),T.h);if(30<C.g.length){if(_(C)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,P=T;0>=P.l(C);)A=M(A),P=M(P);var N=L(A,1),V=L(P,1);for(P=L(P,2),A=L(A,2);!w(P);){var k=V.add(P);0>=k.l(C)&&(N=N.add(A),V=k),P=L(P,1),A=L(A,1)}return T=g(C,N.j(T)),new x(N,T)}for(N=h;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=u(A),k=V.j(T);_(k)||0<k.l(C);)A-=P,V=u(A),k=V.j(T);w(V)&&(V=f),N=N.add(V),C=g(C,k)}return new x(N,C)}t.A=function(C){return R(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function M(C){for(var T=C.g.length+1,A=[],P=0;P<T;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function L(C,T){var A=T>>5;T%=32;for(var P=C.g.length-A,N=[],V=0;V<P;V++)N[V]=0<T?C.i(V+A)>>>T|C.i(V+A+1)<<32-T:C.i(V+A);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ib=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,cs=o}).apply(typeof rx<"u"?rx:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,Ha,Ab,rd,hg,bb,Rb,Pb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in v))break e;v=v[j]}c=c[c.length-1],b=v[c],p=p(b),p!=b&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,b=!1,j={next:function(){if(!b&&v<c.length){var U=v++;return{value:p(U,c[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function h(c,p,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function f(c,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function w(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,j,U){for(var K=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)K[ke-2]=arguments[ke];return p.prototype[j].apply(b,K)}}function _(c){const p=c.length;if(0<p){const v=Array(p);for(let b=0;b<p;b++)v[b]=c[b];return v}return[]}function I(c,p){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(l(b)){const j=c.length||0,U=b.length||0;c.length=j+U;for(let K=0;K<U;K++)c[j+K]=b[K]}else c.push(b)}}class g{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(c,p,v){for(const b in c)p.call(v,c[b],b,c)}function C(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function T(c){const p={};for(const v in c)p[v]=c[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)c[v]=b[v];for(let U=0;U<A.length;U++)v=A[U],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function N(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function V(c){a.setTimeout(()=>{throw c},0)}function k(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class oe{constructor(){this.h=this.g=null}add(p,v){const b=me.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var me=new g(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,B=new oe,O=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(D)}};var D=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){V(v)}var p=me;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function ne(c,p){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(M){e:{try{R(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ne.aa.h.call(this)}}w(ne,q);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),ce=0;function de(c,p,v,b,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=j,this.key=++ce,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,p,v,b,j){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var K=Pe(c,p,b,j);return-1<K?(p=c[K],v||(p.fa=!1)):(p=new de(p,this.src,U,!!b,j),p.fa=v,c.push(p)),p};function xe(c,p){var v=p.type;if(v in c.g){var b=c.g[v],j=Array.prototype.indexOf.call(b,p,void 0),U;(U=0<=j)&&Array.prototype.splice.call(b,j,1),U&&(ye(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Pe(c,p,v,b){for(var j=0;j<c.length;++j){var U=c[j];if(!U.da&&U.listener==p&&U.capture==!!v&&U.ha==b)return j}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ze={};function It(c,p,v,b,j){if(Array.isArray(p)){for(var U=0;U<p.length;U++)It(c,p[U],v,b,j);return null}return v=Uu(v),c&&c[G]?c.K(p,v,u(b)?!!b.capture:!1,j):Ft(c,p,v,!1,b,j)}function Ft(c,p,v,b,j,U){if(!p)throw Error("Invalid event type");var K=u(j)?!!j.capture:!!j,ke=da(c);if(ke||(c[pe]=ke=new ve(c)),v=ke.add(p,v,b,K,U),v.proxy)return v;if(b=on(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)Y||(j=K),j===void 0&&(j=!1),c.addEventListener(p.toString(),b,j);else if(c.attachEvent)c.attachEvent(ju(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function on(){function c(v){return p.call(c.src,c.listener,v)}const p=Pf;return c}function jt(c,p,v,b,j){if(Array.isArray(p))for(var U=0;U<p.length;U++)jt(c,p[U],v,b,j);else b=u(b)?!!b.capture:!!b,v=Uu(v),c&&c[G]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],v=Pe(U,v,b,j),-1<v&&(ye(U[v]),Array.prototype.splice.call(U,v,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=da(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Pe(p,v,b,j)),(v=-1<c?p[c]:null)&&Qt(v))}function Qt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[G])xe(p.i,c);else{var v=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(v,b,c.capture):p.detachEvent?p.detachEvent(ju(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=da(p))?(xe(v,c),v.h==0&&(v.src=null,p[pe]=null)):ye(c)}}}function ju(c){return c in Ze?Ze[c]:Ze[c]="on"+c}function Pf(c,p){if(c.da)c=!0;else{p=new ne(p,this);var v=c.listener,b=c.ha||c.src;c.fa&&Qt(c),c=v.call(b,p)}return c}function da(c){return c=c[pe],c instanceof ve?c:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uu(c){return typeof c=="function"?c:(c[Ds]||(c[Ds]=function(p){return c.handleEvent(p)}),c[Ds])}function st(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}w(st,W),st.prototype[G]=!0,st.prototype.removeEventListener=function(c,p,v,b){jt(this,c,p,v,b)};function mt(c,p){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new q(p,c);else if(p instanceof q)p.target=p.target||c;else{var j=p;p=new q(b,c),P(p,j)}if(j=!0,v)for(var U=v.length-1;0<=U;U--){var K=p.g=v[U];j=Os(K,b,!0,p)&&j}if(K=p.g=c,j=Os(K,b,!0,p)&&j,j=Os(K,b,!1,p)&&j,v)for(U=0;U<v.length;U++)K=p.g=v[U],j=Os(K,b,!1,p)&&j}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],b=0;b<v.length;b++)ye(v[b]);delete c.g[p],c.h--}}this.F=null},st.prototype.K=function(c,p,v,b){return this.i.add(String(c),p,!1,v,b)},st.prototype.L=function(c,p,v,b){return this.i.add(String(c),p,!0,v,b)};function Os(c,p,v,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,U=0;U<p.length;++U){var K=p[U];if(K&&!K.da&&K.capture==v){var ke=K.listener,gt=K.ha||K.src;K.fa&&xe(c.i,K),j=ke.call(gt,b)!==!1&&j}}return j&&!b.defaultPrevented}function ha(c,p,v){if(typeof c=="function")v&&(c=f(c,v));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function fa(c){c.g=ha(()=>{c.g=null,c.i&&(c.i=!1,fa(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class pa extends W{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(c){W.call(this),this.h=c,this.g={}}w(Bi,W);var Bu=[];function x_(c){L(c.g,function(p,v){this.g.hasOwnProperty(v)&&Qt(p)},c),c.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),x_(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kf=a.JSON.stringify,tN=a.JSON.parse,nN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Mf(){}Mf.prototype.h=null;function T_(c){return c.h||(c.h=c.i())}function S_(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nf(){q.call(this,"d")}w(Nf,q);function Df(){q.call(this,"c")}w(Df,q);var $i={},I_=null;function $u(){return I_=I_||new st}$i.La="serverreachability";function C_(c){q.call(this,$i.La,c)}w(C_,q);function ga(c){const p=$u();mt(p,new C_(p))}$i.STAT_EVENT="statevent";function A_(c,p){q.call(this,$i.STAT_EVENT,c),this.stat=p}w(A_,q);function Ut(c){const p=$u();mt(p,new A_(p,c))}$i.Ma="timingevent";function b_(c,p){q.call(this,$i.Ma,c),this.size=p}w(b_,q);function ya(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function rN(c,p,v,b,j,U){c.info(function(){if(c.g)if(U)for(var K="",ke=U.split("&"),gt=0;gt<ke.length;gt++){var Ae=ke[gt].split("=");if(1<Ae.length){var Ct=Ae[0];Ae=Ae[1];var At=Ct.split("_");K=2<=At.length&&At[1]=="type"?K+(Ct+"="+Ae+"&"):K+(Ct+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+p+`
`+v+`
`+K})}function iN(c,p,v,b,j,U,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+p+`
`+v+`
`+U+" "+K})}function Vs(c,p,v,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+oN(c,v)+(b?" "+b:"")})}function sN(c,p){c.info(function(){return"TIMEOUT: "+p})}va.prototype.info=function(){};function oN(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<j.length;K++)j[K]=""}}}}return kf(v)}catch{return p}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},R_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Of;function Wu(){}w(Wu,Mf),Wu.prototype.g=function(){return new XMLHttpRequest},Wu.prototype.i=function(){return{}},Of=new Wu;function Xr(c,p,v,b){this.j=c,this.i=p,this.l=v,this.R=b||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P_}function P_(){this.i=null,this.g="",this.h=!1}var k_={},Vf={};function Lf(c,p,v){c.L=1,c.v=Ku(gr(p)),c.m=v,c.P=!0,M_(c,null)}function M_(c,p){c.F=Date.now(),Hu(c),c.A=gr(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),q_(v.i,"t",b),c.C=0,v=c.j.J,c.h=new P_,c.g=c0(c.j,v?p:null,!c.m),0<c.O&&(c.M=new pa(f(c.Y,c,c.g),c.O)),p=c.U,v=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Bu[0]=j.toString()),j=Bu);for(var U=0;U<j.length;U++){var K=It(v,j[U],b||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ga(),rN(c.i,c.u,c.A,c.l,c.R,c.m)}Xr.prototype.ca=function(c){c=c.target;const p=this.M;p&&yr(c)==3?p.j():this.Y(c)},Xr.prototype.Y=function(c){try{if(c==this.g)e:{const At=yr(this.g);var p=this.g.Ba();const js=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Z_(this.g)))){this.J||At!=4||p==7||(p==8||0>=js?ga(3):ga(2)),Ff(this);var v=this.g.Z();this.X=v;t:if(N_(this)){var b=Z_(this.g);c="";var j=b.length,U=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),wa(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(U&&p==j-1)});b.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,iN(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,gt=this.g;if((ke=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var Ae=ke;break t}}Ae=null}if(v=Ae)Vs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jf(this,v);else{this.o=!1,this.s=3,Ut(12),zi(this),wa(this);break e}}if(this.P){v=!0;let Nn;for(;!this.J&&this.C<K.length;)if(Nn=aN(this,K),Nn==Vf){At==4&&(this.s=4,Ut(14),v=!1),Vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==k_){this.s=4,Ut(15),Vs(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else Vs(this.i,this.l,Nn,null),jf(this,Nn);if(N_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||K.length!=0||this.h.h||(this.s=1,Ut(16),v=!1),this.o=this.o&&v,!v)Vs(this.i,this.l,K,"[Invalid Chunked Response]"),zi(this),wa(this);else if(0<K.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Hf(Ct),Ct.M=!0,Ut(11))}}else Vs(this.i,this.l,K,null),jf(this,K);At==4&&zi(this),this.o&&!this.J&&(At==4?o0(this.j,this):(this.o=!1,Hu(this)))}else SN(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),zi(this),wa(this)}}}catch{}finally{}};function N_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function aN(c,p){var v=c.C,b=p.indexOf(`
`,v);return b==-1?Vf:(v=Number(p.substring(v,b)),isNaN(v)?k_:(b+=1,b+v>p.length?Vf:(p=p.slice(b,b+v),c.C=b+v,p)))}Xr.prototype.cancel=function(){this.J=!0,zi(this)};function Hu(c){c.S=Date.now()+c.I,D_(c,c.I)}function D_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(f(c.ba,c),p)}function Ff(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(sN(this.i,this.A),this.L!=2&&(ga(),Ut(17)),zi(this),this.s=2,wa(this)):D_(this,this.S-c)};function wa(c){c.j.G==0||c.J||o0(c.j,c)}function zi(c){Ff(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,x_(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function jf(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Uf(v.h,c))){if(!c.K&&Uf(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ec(v),Ju(v);else break e;Wf(v),Ut(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ya(f(v.Za,v),6e3));if(1>=L_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Hi(v,11)}else if((c.K||v.g==c)&&ec(v),!E(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Ae=j[p];if(v.T=Ae[0],Ae=Ae[1],v.G==2)if(Ae[0]=="c"){v.K=Ae[1],v.ia=Ae[2];const Ct=Ae[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const At=Ae[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const js=Ae[5];js!=null&&typeof js=="number"&&0<js&&(b=1.5*js,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Nn=c.g;if(Nn){const nc=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nc){var U=b.h;U.g||nc.indexOf("spdy")==-1&&nc.indexOf("quic")==-1&&nc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Bf(U,U.h),U.h=null))}if(b.D){const qf=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;qf&&(b.ya=qf,Oe(b.I,b.D,qf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var K=c;if(b.qa=u0(b,b.J?b.ia:null,b.W),K.K){F_(b.h,K);var ke=K,gt=b.L;gt&&(ke.I=gt),ke.B&&(Ff(ke),Hu(ke)),b.g=K}else i0(b);0<v.i.length&&Zu(v)}else Ae[0]!="stop"&&Ae[0]!="close"||Hi(v,7);else v.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Hi(v,7):zf(v):Ae[0]!="noop"&&v.l&&v.l.ta(Ae),v.v=0)}}ga(4)}catch{}}var lN=class{constructor(c,p){this.g=c,this.map=p}};function O_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function L_(c){return c.h?1:c.g?c.g.size:0}function Uf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Bf(c,p){c.g?c.g.add(p):c.h=p}function F_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}O_.prototype.cancel=function(){if(this.i=j_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function j_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return _(c.i)}function uN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,b=0;b<v;b++)p.push(c[b]);return p}p=[],v=0;for(b in c)p[v++]=c[b];return p}function cN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const b in c)p[v++]=b;return p}}}function U_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=cN(c),b=uN(c),j=b.length,U=0;U<j;U++)p.call(void 0,b[U],v&&v[U],c)}var B_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dN(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),j=null;if(0<=b){var U=c[v].substring(0,b);j=c[v].substring(b+1)}else U=c[v];p(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wi){this.h=c.h,qu(this,c.j),this.o=c.o,this.g=c.g,Gu(this,c.s),this.l=c.l;var p=c.i,v=new xa;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),$_(this,v),this.m=c.m}else c&&(p=String(c).match(B_))?(this.h=!1,qu(this,p[1]||"",!0),this.o=_a(p[2]||""),this.g=_a(p[3]||"",!0),Gu(this,p[4]),this.l=_a(p[5]||"",!0),$_(this,p[6]||"",!0),this.m=_a(p[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}Wi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ea(p,z_,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ea(p,z_,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ea(v,v.charAt(0)=="/"?pN:fN,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ea(v,gN)),c.join("")};function gr(c){return new Wi(c)}function qu(c,p,v){c.j=v?_a(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Gu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function $_(c,p,v){p instanceof xa?(c.i=p,yN(c.i,c.h)):(v||(p=Ea(p,mN)),c.i=new xa(p,c.h))}function Oe(c,p,v){c.i.set(p,v)}function Ku(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _a(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ea(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,hN),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var z_=/[#\/\?@]/g,fN=/[#\?:]/g,pN=/[#\?]/g,mN=/[#\?@]/g,gN=/#/g;function xa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&dN(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=xa.prototype,t.add=function(c,p){Jr(this),this.i=null,c=Ls(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function W_(c,p){Jr(c),p=Ls(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function H_(c,p){return Jr(c),p=Ls(c,p),c.g.has(p)}t.forEach=function(c,p){Jr(this),this.g.forEach(function(v,b){v.forEach(function(j){c.call(p,j,b,this)},this)},this)},t.na=function(){Jr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let b=0;b<p.length;b++){const j=c[b];for(let U=0;U<j.length;U++)v.push(p[b])}return v},t.V=function(c){Jr(this);let p=[];if(typeof c=="string")H_(this,c)&&(p=p.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return Jr(this),this.i=null,c=Ls(this,c),H_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function q_(c,p,v){W_(c,p),0<v.length&&(c.i=null,c.g.set(Ls(c,p),_(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var b=p[v];const U=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var j=U;K[b]!==""&&(j+="="+encodeURIComponent(String(K[b]))),c.push(j)}}return this.i=c.join("&")};function Ls(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function yN(c,p){p&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(W_(this,b),q_(this,j,v))},c)),c.j=p}function vN(c,p){const v=new va;if(a.Image){const b=new Image;b.onload=m(Zr,v,"TestLoadImage: loaded",!0,p,b),b.onerror=m(Zr,v,"TestLoadImage: error",!1,p,b),b.onabort=m(Zr,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=m(Zr,v,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function wN(c,p){const v=new va,b=new AbortController,j=setTimeout(()=>{b.abort(),Zr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(U=>{clearTimeout(j),U.ok?Zr(v,"TestPingServer: ok",!0,p):Zr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Zr(v,"TestPingServer: error",!1,p)})}function Zr(c,p,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function _N(){this.g=new nN}function EN(c,p,v){const b=v||"";try{U_(c,function(j,U){let K=j;u(j)&&(K=kf(j)),p.push(b+U+"="+encodeURIComponent(K))})}catch(j){throw p.push(b+"type="+encodeURIComponent("_badmap")),j}}function Qu(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Qu,Mf),Qu.prototype.g=function(){return new Yu(this.l,this.j)},Qu.prototype.i=function(c){return function(){return c}}({});function Yu(c,p){st.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Yu,st),t=Yu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Sa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;G_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function G_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ta(this):Sa(this),this.readyState==3&&G_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ta(this))},t.Qa=function(c){this.g&&(this.response=c,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function K_(c){let p="";return L(c,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function $f(c,p,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=K_(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Oe(c,p,v))}function qe(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(qe,st);var xN=/^https?$/i,TN=["POST","PUT"];t=qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Of.g(),this.v=this.o?T_(this.o):T_(Of),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){Q_(this,U);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())v.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TN,p,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of v)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{J_(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){Q_(this,U)}};function Q_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Y_(c),Xu(c)}function Y_(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?X_(this):this.bb())},t.bb=function(){X_(this)};function X_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||yr(c)!=4||c.Z()!=2)){if(c.u&&yr(c)==4)ha(c.Ea,0,c);else if(mt(c,"readystatechange"),yr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var b;if(b=K===0){var j=String(c.D).match(B_)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),b=!xN.test(j?j.toLowerCase():"")}v=b}if(v)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var U=2<yr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",Y_(c)}}finally{Xu(c)}}}}function Xu(c,p){if(c.g){J_(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||mt(c,"ready");try{v.onreadystatechange=b}catch{}}}function J_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function yr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),tN(p)}};function Z_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SN(c){const p={};c=(c.g&&2<=yr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(E(c[b]))continue;var v=N(c[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const U=p[j]||[];p[j]=U,U.push(v)}C(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function e0(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new O_(c&&c.concurrentRequestLimit),this.Da=new _N,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=e0.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,b){Ut(0),this.W=c,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=u0(this,null,this.W),Zu(this)};function zf(c){if(t0(c),c.G==3){var p=c.U++,v=gr(c.I);if(Oe(v,"SID",c.K),Oe(v,"RID",p),Oe(v,"TYPE","terminate"),Ca(c,v),p=new Xr(c,c.j,p),p.L=2,p.v=Ku(gr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=c0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Hu(p)}l0(c)}function Ju(c){c.g&&(Hf(c),c.g.cancel(),c.g=null)}function t0(c){Ju(c),c.u&&(a.clearTimeout(c.u),c.u=null),ec(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Zu(c){if(!V_(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||O(),F||(te(),F=!0),B.add(p,c),c.B=0}}function IN(c,p){return L_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(f(c.Ga,c,p),a0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Xr(this,this.j,c);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=r0(this,j,p),v=gr(this.I),Oe(v,"RID",c),Oe(v,"CVER",22),this.D&&Oe(v,"X-HTTP-Session-Id",this.D),Ca(this,v),U&&(this.O?p="headers="+encodeURIComponent(String(K_(U)))+"&"+p:this.m&&$f(v,this.m,U)),Bf(this.h,j),this.Ua&&Oe(v,"TYPE","init"),this.P?(Oe(v,"$req",p),Oe(v,"SID","null"),j.T=!0,Lf(j,v,null)):Lf(j,v,p),this.G=2}}else this.G==3&&(c?n0(this,c):this.i.length==0||V_(this.h)||n0(this))};function n0(c,p){var v;p?v=p.l:v=c.U++;const b=gr(c.I);Oe(b,"SID",c.K),Oe(b,"RID",v),Oe(b,"AID",c.T),Ca(c,b),c.m&&c.o&&$f(b,c.m,c.o),v=new Xr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=r0(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bf(c.h,v),Lf(v,b,p)}function Ca(c,p){c.H&&L(c.H,function(v,b){Oe(p,b,v)}),c.l&&U_({},function(v,b){Oe(p,b,v)})}function r0(c,p,v){v=Math.min(c.i.length,v);var b=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let U=-1;for(;;){const K=["count="+v];U==-1?0<v?(U=j[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let ke=!0;for(let gt=0;gt<v;gt++){let Ae=j[gt].g;const Ct=j[gt].map;if(Ae-=U,0>Ae)U=Math.max(0,j[gt].g-100),ke=!1;else try{EN(Ct,K,"req"+Ae+"_")}catch{b&&b(Ct)}}if(ke){b=K.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,b}function i0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||O(),F||(te(),F=!0),B.add(p,c),c.v=0}}function Wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(f(c.Fa,c),a0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,s0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Ju(this),s0(this))};function Hf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function s0(c){c.g=new Xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=gr(c.qa);Oe(p,"RID","rpc"),Oe(p,"SID",c.K),Oe(p,"AID",c.T),Oe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(p,"TO",c.ja),Oe(p,"TYPE","xmlhttp"),Ca(c,p),c.m&&c.o&&$f(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ku(gr(p)),v.m=null,v.P=!0,M_(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Ju(this),Wf(this),Ut(19))};function ec(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function o0(c,p){var v=null;if(c.g==p){ec(c),Hf(c),c.g=null;var b=2}else if(Uf(c.h,p))v=p.D,F_(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;b=$u(),mt(b,new b_(b,v)),Zu(c)}else i0(c);else if(j=p.s,j==3||j==0&&0<p.X||!(b==1&&IN(c,p)||b==2&&Wf(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function a0(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Hi(c,p){if(c.j.info("Error code "+p),p==2){var v=f(c.fb,c),b=c.Xa;const j=!b;b=new Wi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(b,"https"),Ku(b),j?vN(b.toString(),v):wN(b.toString(),v)}else Ut(2);c.G=0,c.l&&c.l.sa(p),l0(c),t0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function l0(c){if(c.G=0,c.ka=[],c.l){const p=j_(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function u0(c,p,v){var b=v instanceof Wi?gr(v):new Wi(v);if(b.g!="")p&&(b.g=p+"."+b.g),Gu(b,b.s);else{var j=a.location;b=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var U=new Wi(null);b&&qu(U,b),p&&(U.g=p),j&&Gu(U,j),v&&(U.l=v),b=U}return v=c.D,p=c.ya,v&&p&&Oe(b,v,p),Oe(b,"VER",c.la),Ca(c,b),b}function c0(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new Qu({eb:v})):new qe(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function d0(){}t=d0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tc(){}tc.prototype.g=function(c,p){return new an(c,p)};function an(c,p){st.call(this),this.g=new e0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Fs(this)}w(an,st),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){zf(this.g)},an.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=kf(c),c=v);p.i.push(new lN(p.Ya++,c)),p.G==3&&Zu(p)},an.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,an.aa.N.call(this)};function h0(c){Nf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(h0,Nf);function f0(){Df.call(this),this.status=1}w(f0,Df);function Fs(c){this.g=c}w(Fs,d0),Fs.prototype.ua=function(){mt(this.g,"a")},Fs.prototype.ta=function(c){mt(this.g,new h0(c))},Fs.prototype.sa=function(c){mt(this.g,new f0)},Fs.prototype.ra=function(){mt(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Pb=function(){return new tc},Rb=function(){return $u()},bb=$i,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,rd=zu,R_.COMPLETE="complete",Ab=R_,S_.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",st.prototype.listen=st.prototype.K,Ha=S_,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Cb=qe}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const ix="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new $h("@firebase/firestore");function Va(){return ws.logLevel}function ee(t,...e){if(ws.logLevel<=Ee.DEBUG){const n=e.map(Rv);ws.debug(`Firestore (${ea}): ${t}`,...n)}}function Ur(t,...e){if(ws.logLevel<=Ee.ERROR){const n=e.map(Rv);ws.error(`Firestore (${ea}): ${t}`,...n)}}function Do(t,...e){if(ws.logLevel<=Ee.WARN){const n=e.map(Rv);ws.warn(`Firestore (${ea}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function Ce(t,e){t||se()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class fU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pU{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new kb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new kt(e)}}class mU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new yU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ut(0,0))}static max(){return new ue(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Ul{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const _U=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ul{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return _U.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Me.fromString(e))}static fromName(e){return new ie(Me.fromString(e).popFirst(5))}static empty(){return new ie(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Me(e.slice()))}}function EU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new bi(i,ie.empty(),e)}function xU(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(ue.min(),ie.empty(),-1)}static max(){return new bi(ue.max(),ie.empty(),-1)}}function TU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==SU)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pv.oe=-1;function _u(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function AU(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new dn([])}unionWith(e){let n=new xt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Db("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const bU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=bU.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mv(t){const e=t.mapValue.fields.__previous_value__;return kv(e)?Mv(e):e}function Bl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={mapValue:{}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kv(t)?4:kU(t)?9007199254740991:PU(t)?10:11:se()}function fr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ri(i.timestampValue),a=Ri(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _s(i.bytesValue).isEqual(_s(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Yd(o)===Yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(sx(o)!==sx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fr(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function zl(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ax(t.timestampValue,e.timestampValue);case 4:return ax(Bl(t),Bl(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_s(s),l=_s(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=be(a[u],l[u]);if(d!==0)return d}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(Ye(s.latitude),Ye(o.latitude));return a!==0?a:be(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=be(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:lx(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sc.mapValue&&o===Sc.mapValue)return 0;if(s===Sc.mapValue)return 1;if(o===Sc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=be(l[h],d[h]);if(f!==0)return f;const m=Vo(a[l[h]],u[d[h]]);if(m!==0)return m}return be(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function ax(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ri(t),r=Ri(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function lx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vo(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function Lo(t){return fg(t)}function fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fg(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function ux(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pg(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function cx(t){return!!t&&"nullValue"in t}function dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function PU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=al(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(al(this.value))}}function Ob(t){const e=[];return Ps(t.fields,(n,r)=>{const i=new _t([n]);if(id(r)){const s=Ob(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ue.min(),ue.min(),ue.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,ue.min(),ue.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ue.min(),ue.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function hx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function MU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{}class rt extends Vb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DU(e,n,r):n==="array-contains"?new LU(e,r):n==="in"?new FU(e,r):n==="not-in"?new jU(e,r):n==="array-contains-any"?new UU(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OU(e,r):new VU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Vb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return Lb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lb(t){return t.op==="and"}function Fb(t){return NU(t)&&Lb(t)}function NU(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function mg(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(Fb(t))return t.filters.map(e=>mg(e)).join(",");{const e=t.filters.map(n=>mg(n)).join(",");return`${t.op}(${e})`}}function jb(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jb(o,i.filters[a]),!0):!1}(t,e):void se()}function Ub(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ub).join(" ,")+"}"}(t):"Filter"}class DU extends rt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class OU extends rt{constructor(e,n){super(e,"in",n),this.keys=Bb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VU extends rt{constructor(e,n){super(e,"not-in",n),this.keys=Bb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class LU extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nv(n)&&zl(n.arrayValue,this.value)}}class FU extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class jU extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class UU extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function px(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BU(t,e,n,r,i,s,o)}function Dv(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.ue=n}return e.ue}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fx(t.startAt,e.startAt)&&fx(t.endAt,e.endAt)}function gg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $U(t,e,n,r,i,s,o,a){return new ta(t,e,n,r,i,s,o,a)}function qh(t){return new ta(t)}function mx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $b(t){return t.collectionGroup!==null}function ll(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(_t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wl(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Wl(_t.keyField(),r))}return e.ce}function ar(t){const e=fe(t);return e.le||(e.le=zU(e,ll(t))),e.le}function zU(t,e){if(t.limitType==="F")return px(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wl(i.field,s)});const n=t.endAt?new Xd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xd(t.startAt.position,t.startAt.inclusive):null;return px(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yg(t,e){const n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jd(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return Ov(ar(t),ar(e))&&t.limitType===e.limitType}function zb(t){return`${Dv(ar(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ub(i)).join(", ")}]`),_u(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function Kh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ll(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=hx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ll(r),i)||r.endAt&&!function(o,a,l){const u=hx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ll(r),i))}(t,e)}function WU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wb(t){return(e,n)=>{let r=!1;for(const i of ll(t)){const s=HU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HU(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Vo(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new He(ie.comparator);function Br(){return qU}const Hb=new He(ie.comparator);function qa(...t){let e=Hb;for(const n of t)e=e.insert(n.key,n);return e}function qb(t){let e=Hb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rs(){return ul()}function Gb(){return ul()}function ul(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const GU=new He(ie.comparator),KU=new xt(ie.comparator);function _e(...t){let e=KU;for(const n of t)e=e.add(n);return e}const QU=new xt(be);function YU(){return QU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function Kb(t){return{integerValue:""+t}}function XU(t,e){return AU(e)?Kb(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function JU(t,e,n){return t instanceof Hl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kv(s)&&(s=Mv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?Yb(t,e):t instanceof Gl?Xb(t,e):function(i,s){const o=Qb(i,s),a=gx(o)+gx(i.Pe);return pg(o)&&pg(i.Pe)?Kb(a):Vv(i.serializer,a)}(t,e)}function ZU(t,e,n){return t instanceof ql?Yb(t,e):t instanceof Gl?Xb(t,e):n}function Qb(t,e){return t instanceof Zd?function(r){return pg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hl extends Qh{}class ql extends Qh{constructor(e){super(),this.elements=e}}function Yb(t,e){const n=Jb(e);for(const r of t.elements)n.some(i=>fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends Qh{constructor(e){super(),this.elements=e}}function Xb(t,e){let n=Jb(e);for(const r of t.elements)n=n.filter(i=>!fr(i,r));return{arrayValue:{values:n}}}class Zd extends Qh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gx(t){return Ye(t.integerValue||t.doubleValue)}function Jb(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.field=e,this.transform=n}}function t4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Gl&&i instanceof Gl?Oo(r.elements,i.elements,fr):r instanceof Zd&&i instanceof Zd?fr(r.Pe,i.Pe):r instanceof Hl&&i instanceof Hl}(t.transform,e.transform)}class n4{constructor(e,n){this.version=e,this.transformResults=n}}class Nt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nt}static exists(e){return new Nt(void 0,e)}static updateTime(e){return new Nt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yh{}function Zb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xh(t.key,Nt.none()):new Eu(t.key,t.data,Nt.none());{const n=t.data,r=$t.empty();let i=new xt(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ji(t.key,r,new dn(i.toArray()),Nt.none())}}function r4(t,e,n){t instanceof Eu?function(i,s,o){const a=i.value.clone(),l=vx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,s,o){if(!sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(eR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cl(t,e,n,r){return t instanceof Eu?function(s,o,a,l){if(!sd(s.precondition,o))return a;const u=s.value.clone(),d=wx(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(s,o,a,l){if(!sd(s.precondition,o))return a;const u=wx(s.fieldTransforms,l,o),d=o.data;return d.setAll(eR(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Qb(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oo(r,i,(s,o)=>t4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends Yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends Yh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vx(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZU(o,a,n[i]))}return r}function wx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,JU(s,o,e))}return r}class Xh extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&r4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Zb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>yx(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>yx(n,r))}}class Lv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return GU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Te;function nR(t){switch(t){default:return se();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function rR(t){if(t===void 0)return Ur("GRPC error has no .code"),$.UNKNOWN;switch(t){case et.OK:return $.OK;case et.CANCELLED:return $.CANCELLED;case et.UNKNOWN:return $.UNKNOWN;case et.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case et.INTERNAL:return $.INTERNAL;case et.UNAVAILABLE:return $.UNAVAILABLE;case et.UNAUTHENTICATED:return $.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case et.NOT_FOUND:return $.NOT_FOUND;case et.ALREADY_EXISTS:return $.ALREADY_EXISTS;case et.PERMISSION_DENIED:return $.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case et.ABORTED:return $.ABORTED;case et.OUT_OF_RANGE:return $.OUT_OF_RANGE;case et.UNIMPLEMENTED:return $.UNIMPLEMENTED;case et.DATA_LOSS:return $.DATA_LOSS;default:return se()}}(Te=et||(et={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new cs([4294967295,4294967295],0);function _x(t){const e=l4().encode(t),n=new Ib;return n.update(e),new Uint8Array(n.digest())}function Ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cs([n,r],0),new cs([i,s],0)]}class Fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(r<0)throw new Ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cs.fromNumber(r)));return i.compare(u4)===1&&(i=new cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=_x(e),[r,i]=Ex(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Fv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=_x(e),[r,i]=Ex(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(ue.min(),i,new He(be),Br(),_e())}}class xu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class iR{constructor(e,n){this.targetId=e,this.me=n}}class sR{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xx{constructor(){this.fe=0,this.ge=Sx(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Sx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class c4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=Tx(),this.Qe=new He(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(gg(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,ft.newNoDocument(o,ue.min()))}else Ce(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_s(r).toUint8Array()}catch(l){if(l instanceof Db)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Fv(o,i,s)}catch(l){return Do(l instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&gg(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ft.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jh(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=Tx(),this.Qe=new He(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Tx(){return new He(ie.comparator)}function Sx(){return new He(ie.comparator)}const d4={asc:"ASCENDING",desc:"DESCENDING"},h4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f4={and:"AND",or:"OR"};class p4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vg(t,e){return t.useProto3Json||_u(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m4(t,e){return eh(t,e.toTimestamp())}function fn(t){return Ce(!!t),ue.fromTimestamp(function(n){const r=Ri(n);return new ut(r.seconds,r.nanos)}(t))}function jv(t,e){return wg(t,e).canonicalString()}function wg(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aR(t){const e=Me.fromString(t);return Ce(fR(e)),e}function th(t,e){return jv(t.databaseId,e.path)}function dl(t,e){const n=aR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(uR(n))}function lR(t,e){return jv(t.databaseId,e)}function g4(t){const e=aR(t);return e.length===4?Me.emptyPath():uR(e)}function _g(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uR(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ix(t,e,n){return{name:th(t,e),fields:n.value.mapValue.fields}}function y4(t,e){return"found"in e?function(r,i){Ce(!!i.found),i.found.name,i.found.updateTime;const s=dl(r,i.found.name),o=fn(i.found.updateTime),a=i.found.createTime?fn(i.found.createTime):ue.min(),l=new $t({mapValue:{fields:i.found.fields}});return ft.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Ce(!!i.missing),Ce(!!i.readTime);const s=dl(r,i.missing),o=fn(i.readTime);return ft.newNoDocument(s,o)}(t,e):se()}function v4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string"),St.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),St.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:rR(u.code);return new Q(d,u.message||"")}(o);n=new sR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dl(t,r.document.name),s=fn(r.document.updateTime),o=r.document.createTime?fn(r.document.createTime):ue.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new od(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dl(t,r.document),s=r.readTime?fn(r.readTime):ue.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new od([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dl(t,r.document),s=r.removedTargetIds||[];n=new od([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new a4(i,s),a=r.targetId;n=new iR(a,o)}}return n}function cR(t,e){let n;if(e instanceof Eu)n={update:Ix(t,e.key,e.value)};else if(e instanceof Xh)n={delete:th(t,e.key)};else if(e instanceof ji)n={update:Ix(t,e.key,e.data),updateMask:A4(e.fieldMask)};else{if(!(e instanceof tR))return se();n={verify:th(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:m4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function w4(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fn(i.updateTime):fn(s);return o.isEqual(ue.min())&&(o=fn(s)),new n4(o,i.transformResults||[])}(n,e))):[]}function _4(t,e){return{documents:[lR(t,e.path)]}}function E4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lR(t,i);const s=function(u){if(u.length!==0)return hR(Hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:qs(f.field),direction:S4(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=vg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function x4(t){let e=g4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=dR(h);return f instanceof Hn&&Fb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Wl(Gs(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,_u(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Xd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Xd(m,f)}(n.endAt)),$U(e,i,o,s,a,"F",l,u)}function T4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gs(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gs(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gs(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gs(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>dR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function S4(t){return d4[t]}function I4(t){return h4[t]}function C4(t){return f4[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return _t.fromServerFormat(t.fieldPath)}function hR(t){return t instanceof rt?function(n){if(n.op==="=="){if(dx(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(cx(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dx(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(cx(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:I4(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>hR(i));return r.length===1?r[0]:{compositeFilter:{op:C4(n.op),filters:r}}}(t):se()}function A4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.ct=e}}function R4(t){const e=x4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.un=new k4}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(bi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class k4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fo(0)}static kn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cl(r.mutation,i,dn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Br();const o=ul(),a=function(){return ul()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ji)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),cl(d.mutation,u,d.mutation.getFieldMask(),ut.now())):o.set(u.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new N4(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ul();let i=new He((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||dn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Gb();d.forEach(f=>{if(!s.has(f)){const m=Zb(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$b(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(rs());let a=-1,l=s;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:qb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(h,f){return new ta(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,ft.newInvalidDocument(d)))});let a=qa();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&cl(d.mutation,u,dn.empty(),ut.now()),Kh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:R4(i.bundledQuery),readTime:fn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.overlays=new He(ie.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=rs(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=rs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=rs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new o4(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.Tr=new xt(ct.Er),this.dr=new xt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new Me([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new Me([])),r=new ct(n,e),i=new ct(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xt(ct.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new s4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(be);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new xt(be);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.Mr=e,this.docs=function(){return new He(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TU(xU(d),r)<=0||(i.has(d.key)||Kh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U4(this)}getSize(e){return z.resolve(this.size)}}class U4 extends M4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.persistence=e,this.Nr=new na(n=>Dv(n),Ov),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Uv,this.targetCount=0,this.kr=Fo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Pv(0),this.Kr=!1,this.Kr=!0,this.$r=new L4,this.referenceDelegate=e(this),this.Ur=new B4(this),this.indexManager=new P4,this.remoteDocumentCache=function(i){return new j4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new b4(n),this.Gr=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new F4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new z4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class z4 extends IU{constructor(e){super(),this.currentSequenceNumber=e}}class Bv{constructor(e){this.persistence=e,this.Jr=new Uv,this.Yr=null}static Zr(e){return new Bv(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $v(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zV()?8:CU(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new W4;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Va()<=Ee.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Va()<=Ee.DEBUG&&ee("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Va()<=Ee.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):z.resolve())}Yi(e,n){if(mx(n))return z.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jd(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Jd(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return mx(n)||i.isEqual(ue.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(Va()<=Ee.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.rs(e,o,n,EU(i,-1)).next(a=>a))})}ts(e,n){let r=new xt(Wb(e));return n.forEach((i,s)=>{Kh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Va()<=Ee.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.Ji.getDocumentsMatchingQuery(e,n,bi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(be),this._s=new na(s=>Dv(s),Ov),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function G4(t,e,n,r){return new q4(t,e,n,r)}async function pR(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function K4(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=z.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(_=>{const I=u.docVersions.get(w);Ce(I!==null),_.version.compareTo(I)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mR(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Q4(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(St.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(_,I,g){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Br(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Y4(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ue.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function Y4(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function X4(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J4(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Eg(t,e,n){const r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wu(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Cx(t,e,n){const r=fe(t);let i=ue.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=fe(l),f=h._s.get(d);return f!==void 0?z.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:_e())).next(a=>(Z4(r,WU(e),a),{documents:a,Ts:s})))}function Z4(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Ax{constructor(){this.activeTargetIds=YU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eB{constructor(){this.so=new Ax,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ax,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function bp(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class iB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=bp(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=nB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=bp();return new Promise((o,a)=>{const l=new Cb;l.setWithCredentials(!0),l.listenOnce(Ab.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rd.NO_ERROR:const d=l.getResponseJson();ee(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case rd.TIMEOUT:ee(Pt,`RPC '${e}' ${s} timed out`),a(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const h=l.getStatus();if(ee(Pt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(I){const g=I.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(g)>=0?g:$.UNKNOWN}(m.status);a(new Q(w,m.message))}else a(new Q($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q($.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{ee(Pt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Pt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=bp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Pb(),a=Rb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(Pt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const w=new rB({Io:I=>{m?ee(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(ee(Pt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ee(Pt,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),_=(I,g,E)=>{I.listen(g,x=>{try{E(x)}catch(R){setTimeout(()=>{throw R},0)}})};return _(h,Ha.EventType.OPEN,()=>{m||(ee(Pt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),_(h,Ha.EventType.CLOSE,()=>{m||(m=!0,ee(Pt,`RPC '${e}' stream ${i} transport closed`),w.So())}),_(h,Ha.EventType.ERROR,I=>{m||(m=!0,Do(Pt,`RPC '${e}' stream ${i} transport errored:`,I),w.So(new Q($.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ha.EventType.MESSAGE,I=>{var g;if(!m){const E=I.data[0];Ce(!!E);const x=E,R=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(R){ee(Pt,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let L=function(A){const P=et[A];if(P!==void 0)return rR(P)}(M),C=R.message;L===void 0&&(L=$.INTERNAL,C="Unknown error status: "+M+" with message "+R.message),m=!0,w.So(new Q(L,C)),h.close()}else ee(Pt,`RPC '${e}' stream ${i} received:`,E),w.bo(E)}}),_(a,bb.STAT_EVENT,I=>{I.stat===hg.PROXY?ee(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===hg.NOPROXY&&ee(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return new p4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sB extends gR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=v4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?fn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=_g(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=gg(l)?{documents:_4(s,l)}:{query:E4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oR(s,o.resumeToken);const u=vg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=eh(s,o.snapshotVersion.toTimestamp());const u=vg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=T4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.a_(n)}}class oB extends gR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=w4(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=_g(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,wg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,wg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class lB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ur(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ks(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.L_.add(4),await Tu(u),u.q_.set("Unknown"),u.L_.delete(4),await ef(u)}(this))})}),this.q_=new lB(r,i)}}async function ef(t){if(ks(t))for(const e of t.B_)await e(!0)}async function Tu(t){for(const e of t.B_)await e(!1)}function yR(t,e){const n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Gv(n)?qv(n):ra(n).r_()&&Hv(n,e))}function Wv(t,e){const n=fe(t),r=ra(n);n.N_.delete(e),r.r_()&&vR(n,e),n.N_.size===0&&(r.r_()?r.o_():ks(n)&&n.q_.set("Unknown"))}function Hv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).A_(e)}function vR(t,e){t.Q_.xe(e),ra(t).R_(e)}function qv(t){t.Q_=new c4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.q_.v_()}function Gv(t){return ks(t)&&!ra(t).n_()&&t.N_.size>0}function ks(t){return fe(t).L_.size===0}function wR(t){t.Q_=void 0}async function cB(t){t.q_.set("Online")}async function dB(t){t.N_.forEach((e,n)=>{Hv(t,e)})}async function hB(t,e){wR(t),Gv(t)?(t.q_.M_(e),qv(t)):t.q_.set("Unknown")}async function fB(t,e,n){if(t.q_.set("Online"),e instanceof sR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nh(t,r)}else if(e instanceof od?t.Q_.Ke(e):e instanceof iR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await mR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),vR(s,l);const h=new pi(d.target,l,u,d.sequenceNumber);Hv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await nh(t,r)}}async function nh(t,e,n){if(!wu(e))throw e;t.L_.add(1),await Tu(t),t.q_.set("Offline"),n||(n=()=>mR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ef(t)})}function _R(t,e){return e().catch(n=>nh(t,n,e))}async function tf(t){const e=fe(t),n=Pi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;pB(e);)try{const i=await X4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,mB(e,i)}catch(i){await nh(e,i)}ER(e)&&xR(e)}function pB(t){return ks(t)&&t.O_.length<10}function mB(t,e){t.O_.push(e);const n=Pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ER(t){return ks(t)&&!Pi(t).n_()&&t.O_.length>0}function xR(t){Pi(t).start()}async function gB(t){Pi(t).p_()}async function yB(t){const e=Pi(t);for(const n of t.O_)e.m_(n.mutations)}async function vB(t,e,n){const r=t.O_.shift(),i=Lv.from(r,e,n);await _R(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tf(t)}async function wB(t,e){e&&Pi(t).V_&&await async function(r,i){if(function(o){return nR(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Pi(r).s_(),await _R(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tf(r)}}(t,e),ER(t)&&xR(t)}async function Rx(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.L_.add(3),await Tu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ef(n)}async function _B(t,e){const n=fe(t);e?(n.L_.delete(2),await ef(n)):e||(n.L_.add(2),await Tu(n),n.q_.set("Unknown"))}function ra(t){return t.K_||(t.K_=function(n,r,i){const s=fe(n);return s.w_(),new sB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:cB.bind(null,t),Ro:dB.bind(null,t),mo:hB.bind(null,t),d_:fB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Gv(t)?qv(t):t.q_.set("Unknown")):(await t.K_.stop(),wR(t))})),t.K_}function Pi(t){return t.U_||(t.U_=function(n,r,i){const s=fe(n);return s.w_(),new oB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gB.bind(null,t),mo:wB.bind(null,t),f_:yB.bind(null,t),g_:vB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tf(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Kv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),wu(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.W_=new He(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jo(e,n,xo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xB{constructor(){this.queries=kx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=kx(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function kx(){return new na(t=>zb(t),Gh)}async function Yv(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new EB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Qv(o,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Jv(n)}async function Xv(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TB(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Jv(n)}function SB(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Jv(t){t.Y_.forEach(e=>{e.next()})}var xg,Mx;(Mx=xg||(xg={})).ea="default",Mx.Cache="cache";class Zv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class IB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=Wb(e),this.Ra=new xo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Px,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Kh(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;f&&m?f.data.isEqual(m.data)?w!==_&&(r.track({type:3,doc:m}),I=!0):this.ga(f,m)||(r.track({type:2,doc:m}),I=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),I=!0):f&&!m&&(r.track({type:1,doc:f}),I=!0,(l||u)&&(a=!0)),I&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,w){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(m)-_(w)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new jo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Px,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new SR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TR(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return jo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class CB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AB{constructor(e){this.key=e,this.va=!1}}class bB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new na(a=>zb(a),Gh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(ie.comparator),this.Na=new Map,this.La=new Uv,this.Ba={},this.ka=new Map,this.qa=Fo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function RB(t,e,n=!0){const r=PR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await IR(r,e,n,!0),i}async function PB(t,e){const n=PR(t);await IR(n,e,!0,!1)}async function IR(t,e,n,r){const i=await J4(t.localStore,ar(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await kB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&yR(t.remoteStore,i),a}async function kB(t,e,n,r,i){t.Ka=(h,f,m)=>async function(_,I,g,E){let x=I.view.ma(g);x.ns&&(x=await Cx(_.localStore,I.query,!1).then(({documents:C})=>I.view.ma(C,x)));const R=E&&E.targetChanges.get(I.targetId),M=E&&E.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(x,_.isPrimaryClient,R,M);return Dx(_,I.targetId,L.wa),L.snapshot}(t,h,f,m);const s=await Cx(t.localStore,e,!0),o=new IB(e,s.Ts),a=o.ma(s.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Dx(t,n,u.wa);const d=new CB(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function MB(t,e,n){const r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Gh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Eg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wv(r.remoteStore,i.targetId),Tg(r,i.targetId)}).catch(vu)):(Tg(r,i.targetId),await Eg(r.localStore,i.targetId,!0))}async function NB(t,e){const n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(n.remoteStore,r.targetId))}async function DB(t,e,n){const r=BB(t);try{const i=await function(o,a){const l=fe(o),u=ut.now(),d=a.reduce((m,w)=>m.add(w.key),_e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Br(),_=_e();return l.cs.getEntries(m,d).next(I=>{w=I,w.forEach((g,E)=>{E.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(I=>{h=I;const g=[];for(const E of a){const x=i4(E,h.get(E.key).overlayedDocument);x!=null&&g.push(new ji(E.key,x,Ob(x.value.mapValue),Nt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(I=>{f=I;const g=I.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,I.batchId,g)})}).then(()=>({batchId:f.batchId,changes:qb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new He(be)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Su(r,i.changes),await tf(r.remoteStore)}catch(i){const s=Qv(i,"Failed to persist write");n.reject(s)}}async function CR(t,e){const n=fe(t);try{const r=await Q4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),await Su(n,r,e)}catch(r){await vu(r)}}function Nx(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Jv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OB(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new He(ie.comparator);o=o.insert(s,ft.newNoDocument(s,ue.min()));const a=_e().add(s),l=new Jh(ue.min(),new Map,new He(be),o,a);await CR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),ew(r)}else await Eg(r.localStore,e,!1).then(()=>Tg(r,e,n)).catch(vu)}async function VB(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await K4(n.localStore,e);bR(n,r,null),AR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await vu(i)}}async function LB(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ce(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);bR(r,e,n),AR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await vu(i)}}function AR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function bR(t,e,n){const r=fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Tg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||RR(t,r)})}function RR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Wv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ew(t))}function Dx(t,e,n){for(const r of n)r instanceof TR?(t.La.addReference(r.key,e),FB(t,r)):r instanceof SR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||RR(t,r.key)):se()}function FB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),ew(t))}function ew(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new AB(n)),t.Oa=t.Oa.insert(n,r),yR(t.remoteStore,new pi(ar(qh(n.path)),r,"TargetPurposeLimboResolution",Pv.oe))}}async function Su(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=$v.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,f=>z.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>z.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!wu(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),w=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(f,_)}}}(r.localStore,s))}async function jB(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await pR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Q($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.hs)}}function UB(t,e){const n=fe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function PR(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OB.bind(null,e),e.Ca.d_=TB.bind(null,e.eventManager),e.Ca.$a=SB.bind(null,e.eventManager),e}function BB(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LB.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return G4(this.persistence,new H4,e.initialUser,this.serializer)}Ga(e){return new $4(Bv.Zr,this.serializer)}Wa(e){return new eB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Sg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jB.bind(null,this.syncEngine),await _B(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xB}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),r=function(s){return new iB(s)}(e.databaseInfo);return function(s,o,a,l){return new aB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new uB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nx(this.syncEngine,n,0),function(){return bx.D()?new bx:new tB}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new bB(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Tu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sg.provider={build:()=>new Sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=fe(i),a={documents:s.map(h=>th(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Me.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=y4(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());Ce(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new tR(i,this.precondition(i)))}),await async function(r,i){const s=fe(r),o={writes:i.map(a=>cR(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,Me.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?Nt.exists(!1):Nt.updateTime(n):Nt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new Q($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(n)}return Nt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new zv(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new $B(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!_u(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!nR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Mb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ox(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HB(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Rx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Rx(e.remoteStore,i)),t._onlineComponents=e}async function HB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new rh)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Pp(t,new rh);return t._offlineComponents}async function nw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Ox(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Ox(t,new Sg))),t._onlineComponents}function qB(t){return nw(t).then(e=>e.syncEngine)}function GB(t){return nw(t).then(e=>e.datastore)}async function ih(t){const e=await nw(t),n=e.eventManager;return n.onListen=RB.bind(null,e.syncEngine),n.onUnlisten=MB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NB.bind(null,e.syncEngine),n}function KB(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new tw({next:f=>{d.Za(),o.enqueueAndForget(()=>Xv(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Q($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Q($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Zv(qh(a.path),d,{includeMetadataChanges:!0,_a:!0});return Yv(s,h)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}function QB(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new tw({next:f=>{d.Za(),o.enqueueAndForget(()=>Xv(s,h)),f.fromCache&&l.source==="server"?u.reject(new Q($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Zv(a,d,{includeMetadataChanges:!0,_a:!0});return Yv(s,h)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YB(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lx(t){if(!ie.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fx(t){if(ie.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hU;switch(r.type){case"firstParty":return new gU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vx.get(n);r&&(ee("ComponentProvider","Removing Datastore"),Vx.delete(n),r.terminate())}(this),Promise.resolve()}}function XB(t,e,n,r={}){var i;const s=(t=pn(t,rf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=LV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new fU(new kb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Ii extends Yr{constructor(e,n,r){super(e,n,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ie(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function Mr(t,e,...n){if(t=Je(t),MR("collection","path",e),t instanceof rf){const r=Me.fromString(e,...n);return Fx(r),new Ii(t,null,r)}{if(!(t instanceof Ot||t instanceof Ii))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Fx(r),new Ii(t.firestore,null,r)}}function tr(t,e,...n){if(t=Je(t),arguments.length===1&&(e=Mb.newId()),MR("doc","path",e),t instanceof rf){const r=Me.fromString(e,...n);return Lx(r),new Ot(t,null,new ie(r))}{if(!(t instanceof Ot||t instanceof Ii))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Lx(r),new Ot(t.firestore,t instanceof Ii?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zv(this,"async_queue_retry"),this.Vu=()=>{const r=Rp();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new or;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wu(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Kv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Bx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $r extends rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ux,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ux(e),this._firestoreClient=void 0,await e}}}function JB(t,e){const n=typeof t=="object"?t:vv(),r=typeof t=="string"?t:"(default)",i=Rs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OV("firestore");s&&XB(i,...s)}return i}function Iu(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZB(t),t._firestoreClient}function ZB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new RU(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(St.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xs(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=/^__.*__$/;class t${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class NR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class sw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DR(this.Cu)&&e$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class n${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}Qu(e,n,r,i=!1){return new sw({Cu:e,methodName:n,qu:r,path:_t.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(t){const e=t._freezeSettings(),n=Zh(t._databaseId);return new n$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ow(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);lw("Data must be an object, but it was:",o,r);const a=OR(r,o);let l,u;if(s.merge)l=new dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Ig(e,h,n);if(!o.contains(f))throw new Q($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);LR(d,f)||d.push(f)}l=new dn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new t$(new $t(a),l,u)}class lf extends of{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}class aw extends of{_toFieldTransform(e){return new e4(e.path,new Hl)}isEqual(e){return e instanceof aw}}function r$(t,e,n,r){const i=t.Qu(1,e,n);lw("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();Ps(r,(l,u)=>{const d=uw(e,l,n);u=Je(u);const h=i.Nu(d);if(u instanceof lf)s.push(d);else{const f=Cu(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new dn(s);return new NR(o,a,i.fieldTransforms)}function i$(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Ig(e,r,n)],l=[i];if(s.length%2!=0)throw new Q($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Ig(e,s[f])),l.push(s[f+1]);const u=[],d=$t.empty();for(let f=a.length-1;f>=0;--f)if(!LR(u,a[f])){const m=a[f];let w=l[f];w=Je(w);const _=o.Nu(m);if(w instanceof lf)u.push(m);else{const I=Cu(w,_);I!=null&&(u.push(m),d.set(m,I))}}const h=new dn(u);return new NR(d,h,o.fieldTransforms)}function s$(t,e,n,r=!1){return Cu(n,t.Qu(r?4:3,e))}function Cu(t,e){if(VR(t=Je(t)))return lw("Unsupported field value:",e,t),OR(t,e);if(t instanceof of)return function(r,i){if(!DR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Cu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ut.fromDate(r);return{timestampValue:eh(i.serializer,s)}}if(r instanceof ut){const s=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(i.serializer,s)}}if(r instanceof rw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xs)return{bytesValue:oR(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof iw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Vv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${nf(r)}`)}(t,e)}function OR(t,e){const n={};return Nb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,i)=>{const s=Cu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof rw||t instanceof xs||t instanceof Ot||t instanceof of||t instanceof iw)}function lw(t,e,n){if(!VR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ig(t,e,n){if((e=Je(e))instanceof sf)return e._internalPath;if(typeof e=="string")return uw(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}const o$=new RegExp("[~\\*/\\[\\]]");function uw(t,e,n){if(e.search(o$)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q($.INVALID_ARGUMENT,a+t+l)}function LR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a$ extends oh{data(){return super.data()}}function uf(t,e){return typeof e=="string"?uw(t,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cw{}class dw extends cw{}function Au(t,e,...n){let r=[];e instanceof cw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof fw).length,a=s.filter(l=>l instanceof cf).length;if(o>1||o>0&&a>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cf extends dw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cf(e,n,r)}_apply(e){const n=this._parse(e);return UR(e._query,n),new Yr(e.firestore,e.converter,yg(e._query,n))}_parse(e){const n=af(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){zx(h,d);const m=[];for(const w of h)m.push($x(l,s,w));f={arrayValue:{values:m}}}else f=$x(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zx(h,d),f=s$(a,o,h,d==="in"||d==="not-in");return rt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hw(t,e,n){const r=e,i=uf("where",t);return cf._create(i,r,n)}class fw extends cw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)UR(o,l),o=yg(o,l)}(e._query,n),new Yr(e.firestore,e.converter,yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pw extends dw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(s,o)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ta(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function jR(t,e="asc"){const n=e,r=uf("orderBy",t);return pw._create(r,n)}class mw extends dw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mw(e,n,r)}_apply(e){return new Yr(e.firestore,e.converter,Jd(e._query,this._limit,this._limitType))}}function l$(t){return mw._create("limit",t,"F")}function $x(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ie.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ux(t,new ie(r))}if(n instanceof Ot)return ux(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function zx(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class BR{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new iw(s)}convertGeoPoint(e){return new rw(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ce(fR(r));const i=new $l(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class u$ extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yw extends oh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends yw{data(e={}){return super.data(e)}}class $R{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:c$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function c$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){t=pn(t,Ot);const e=pn(t.firestore,$r);return KB(Iu(e),t._key).then(n=>WR(e,t,n))}class df extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Kl(t){t=pn(t,Yr);const e=pn(t.firestore,$r),n=Iu(e),r=new df(e);return FR(t._query),QB(n,t._query).then(i=>new $R(e,r,t,i))}function kp(t,e,n){t=pn(t,Ot);const r=pn(t.firestore,$r),i=gw(t.converter,e,n);return vw(r,[ow(af(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nt.none())])}function Ka(t){return vw(pn(t.firestore,$r),[new Xh(t._key,Nt.none())])}function Wx(t,e){const n=pn(t.firestore,$r),r=tr(t),i=gw(t.converter,e);return vw(n,[ow(af(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nt.exists(!1))]).then(()=>r)}function zR(t,...e){var n,r,i;t=Je(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Bx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bx(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof Ot)u=pn(t.firestore,$r),d=qh(t._key.path),l={next:h=>{e[o]&&e[o](WR(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=pn(t,Yr);u=pn(h.firestore,$r),d=h._query;const f=new df(u);l={next:m=>{e[o]&&e[o](new $R(u,f,h,m))},error:e[o+1],complete:e[o+2]},FR(t._query)}return function(f,m,w,_){const I=new tw(_),g=new Zv(m,I,w);return f.asyncQueue.enqueueAndForget(async()=>Yv(await ih(f),g)),()=>{I.Za(),f.asyncQueue.enqueueAndForget(async()=>Xv(await ih(f),g))}}(Iu(u),d,a,l)}function vw(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>DB(await qB(r),i,s)),s.promise}(Iu(t),e)}function WR(t,e,n){const r=n.docs.get(e._key),i=new df(t);return new yw(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$={maxAttempts:5};function La(t,e){if((t=Je(t)).firestore!==e)throw new Q($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h$ extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=af(n)}get(n){const r=La(n,this._firestore),i=new u$(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return se();const o=s[0];if(o.isFoundDocument())return new oh(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new oh(this._firestore,i,r._key,null,r.converter);throw se()})}set(n,r,i){const s=La(n,this._firestore),o=gw(s.converter,r,i),a=ow(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=La(n,this._firestore);let a;return a=typeof(r=Je(r))=="string"||r instanceof sf?i$(this._dataReader,"Transaction.update",o._key,r,i,s):r$(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=La(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=La(e,this._firestore),r=new df(this._firestore);return super.get(e).then(i=>new yw(this._firestore,r,n._key,i._document,new oo(!1,!1),n.converter))}}function f$(t,e,n){t=pn(t,$r);const r=Object.assign(Object.assign({},d$),n);return function(s){if(s.maxAttempts<1)throw new Q($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new or;return s.asyncQueue.enqueueAndForget(async()=>{const u=await GB(s);new zB(s.asyncQueue,u,a,o,l).au()}),l.promise}(Iu(t),i=>e(new h$(t,i)),r)}function HR(){return new aw("serverTimestamp")}(function(e,n=!0){(function(i){ea=i})(Jo),dr(new Wn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $r(new pU(r.getProvider("auth-internal")),new vU(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),An(ix,"4.7.3",e),An(ix,"4.7.3","esm2017")})();const qR="@firebase/installations",ww="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=1e4,KR=`w:${ww}`,QR="FIS_v2",p$="https://firebaseinstallations.googleapis.com/v1",m$=60*60*1e3,g$="installations",y$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ts=new bs(g$,y$,v$);function YR(t){return t instanceof Yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR({projectId:t}){return`${p$}/projects/${t}/installations`}function JR(t){return{token:t.token,requestStatus:2,expiresIn:_$(t.expiresIn),creationTime:Date.now()}}async function ZR(t,e){const r=(await e.json()).error;return Ts.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w$(t,{refreshToken:e}){const n=eP(t);return n.append("Authorization",E$(e)),n}async function tP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _$(t){return Number(t.replace("s","000"))}function E$(t){return`${QR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=XR(t),i=eP(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:QR,appId:t.appId,sdkVersion:KR},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await tP(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:JR(u.authToken)}}else throw await ZR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^[cdef][\w-]{21}$/,Ag="";function I$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=C$(t);return S$.test(n)?n:Ag}catch{return Ag}}function C$(t){return T$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Map;function iP(t,e){const n=hf(t);sP(n,e),A$(n,e)}function sP(t,e){const n=rP.get(t);if(n)for(const r of n)r(e)}function A$(t,e){const n=b$();n&&n.postMessage({key:t,fid:e}),R$()}let is=null;function b$(){return!is&&"BroadcastChannel"in self&&(is=new BroadcastChannel("[Firebase] FID Change"),is.onmessage=t=>{sP(t.data.key,t.data.fid)}),is}function R$(){rP.size===0&&is&&(is.close(),is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="firebase-installations-database",k$=1,Ss="firebase-installations-store";let Mp=null;function _w(){return Mp||(Mp=WA(P$,k$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ss)}}})),Mp}async function ah(t,e){const n=hf(t),i=(await _w()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&iP(t,e.fid),e}async function oP(t){const e=hf(t),r=(await _w()).transaction(Ss,"readwrite");await r.objectStore(Ss).delete(e),await r.done}async function ff(t,e){const n=hf(t),i=(await _w()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&iP(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(t){let e;const n=await ff(t.appConfig,r=>{const i=M$(r),s=N$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ag?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function M$(t){const e=t||{fid:I$(),registrationStatus:0};return aP(e)}function N$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ts.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=D$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:O$(t)}:{installationEntry:e}}async function D$(t,e){try{const n=await x$(t,e);return ah(t.appConfig,n)}catch(n){throw YR(n)&&n.customData.serverCode===409?await oP(t.appConfig):await ah(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function O$(t){let e=await Hx(t.appConfig);for(;e.registrationStatus===1;)await nP(100),e=await Hx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ew(t);return r||n}return e}function Hx(t){return ff(t,e=>{if(!e)throw Ts.create("installation-not-found");return aP(e)})}function aP(t){return V$(t)?{fid:t.fid,registrationStatus:0}:t}function V$(t){return t.registrationStatus===1&&t.registrationTime+GR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$({appConfig:t,heartbeatServiceProvider:e},n){const r=F$(t,n),i=w$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:KR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await tP(()=>fetch(r,a));if(l.ok){const u=await l.json();return JR(u)}else throw await ZR("Generate Auth Token",l)}function F$(t,{fid:e}){return`${XR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(t,e=!1){let n;const r=await ff(t.appConfig,s=>{if(!lP(s))throw Ts.create("not-registered");const o=s.authToken;if(!e&&B$(o))return s;if(o.requestStatus===1)return n=j$(t,e),s;{if(!navigator.onLine)throw Ts.create("app-offline");const a=z$(s);return n=U$(t,a),a}});return n?await n:r.authToken}async function j$(t,e){let n=await qx(t.appConfig);for(;n.authToken.requestStatus===1;)await nP(100),n=await qx(t.appConfig);const r=n.authToken;return r.requestStatus===0?xw(t,e):r}function qx(t){return ff(t,e=>{if(!lP(e))throw Ts.create("not-registered");const n=e.authToken;return W$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function U$(t,e){try{const n=await L$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ah(t.appConfig,r),n}catch(n){if(YR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ah(t.appConfig,r)}throw n}}function lP(t){return t!==void 0&&t.registrationStatus===2}function B$(t){return t.requestStatus===2&&!$$(t)}function $$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+m$}function z$(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function W$(t){return t.requestStatus===1&&t.requestTime+GR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ew(e);return r?r.catch(console.error):xw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e=!1){const n=t;return await G$(n),(await xw(n,e)).token}async function G$(t){const{registrationPromise:e}=await Ew(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){if(!t||!t.options)throw Np("App Configuration");if(!t.name)throw Np("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Np(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Np(t){return Ts.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="installations",Q$="installations-internal",Y$=t=>{const e=t.getProvider("app").getImmediate(),n=K$(e),r=Rs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},X$=t=>{const e=t.getProvider("app").getImmediate(),n=Rs(e,uP).getImmediate();return{getId:()=>H$(n),getToken:i=>q$(n,i)}};function J$(){dr(new Wn(uP,Y$,"PUBLIC")),dr(new Wn(Q$,X$,"PRIVATE"))}J$();An(qR,ww);An(qR,ww,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="analytics",Z$="firebase_id",ez="origin",tz=60*1e3,nz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new bs("analytics","Analytics",rz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){if(!t.startsWith(Tw)){const e=mn.create("invalid-gtag-resource",{gtagURL:t});return rn.warn(e.message),""}return t}function cP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oz(t,e){const n=sz("firebase-js-sdk-policy",{createScriptURL:iz}),r=document.createElement("script"),i=`${Tw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function az(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lz(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await cP(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){rn.error(a)}t("config",i,s)}async function uz(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await cP(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){rn.error(s)}}function cz(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await uz(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await lz(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){rn.error(a)}}return i}function dz(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=cz(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function hz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Tw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=30,pz=1e3;class mz{constructor(e={},n=pz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dP=new mz;function gz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yz(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:gz(r)},s=nz.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function vz(t,e=dP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ez;return setTimeout(async()=>{a.abort()},tz),hP({appId:r,apiKey:i,measurementId:s},o,a,e)}async function hP(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=dP){var s;const{appId:o,measurementId:a}=t;try{await wz(r,e)}catch(l){if(a)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await yz(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!_z(u)){if(i.deleteThrottleMetadata(o),a)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?kE(n,i.intervalMillis,fz):kE(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),rn.debug(`Calling attemptFetch again in ${d} millis`),hP(t,h,r,i)}}function wz(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _z(t){if(!(t instanceof Yn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ez{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xz(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(){if(UA())try{await BA()}catch(t){return rn.warn(mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return rn.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Sz(t,e,n,r,i,s,o){var a;const l=vz(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>rn.error(m)),e.push(l);const u=Tz().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([l,u]);hz(s)||oz(s,d.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[ez]="firebase",f.update=!0,h!=null&&(f[Z$]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.app=e}_delete(){return delete hl[this.app.options.appId],Promise.resolve()}}let hl={},Gx=[];const Kx={};let Dp="dataLayer",Cz="gtag",Qx,fP,Yx=!1;function Az(){const t=[];if(jA()&&t.push("This is a browser extension environment."),WV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=mn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function bz(t,e,n){Az();const r=t.options.appId;if(!r)throw mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(hl[r]!=null)throw mn.create("already-exists",{id:r});if(!Yx){az(Dp);const{wrappedGtag:s,gtagCore:o}=dz(hl,Gx,Kx,Dp,Cz);fP=s,Qx=o,Yx=!0}return hl[r]=Sz(t,Gx,Kx,e,Qx,Dp,n),new Iz(t)}function Rz(t=vv()){t=Je(t);const e=Rs(t,lh);return e.isInitialized()?e.getImmediate():Pz(t)}function Pz(t,e={}){const n=Rs(t,lh);if(n.isInitialized()){const i=n.getImmediate();if(Ll(e,n.getOptions()))return i;throw mn.create("already-initialized")}return n.initialize({options:e})}function kz(t,e,n,r){t=Je(t),xz(fP,hl[t.app.options.appId],e,n,r).catch(i=>rn.error(i))}const Xx="@firebase/analytics",Jx="0.10.8";function Mz(){dr(new Wn(lh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return bz(r,i,n)},"PUBLIC")),dr(new Wn("analytics-internal",t,"PRIVATE")),An(Xx,Jx),An(Xx,Jx,"esm2017");function t(e){try{const n=e.getProvider(lh).getImmediate();return{logEvent:(r,i,s)=>kz(n,r,i,s)}}catch(n){throw mn.create("interop-component-reg-failed",{reason:n})}}}Mz();const Nz={apiKey:"AIzaSyBuB1qo6t7mfdBPVkSKS04reB4nCDJzGeE",authDomain:"surchop-9d786.firebaseapp.com",projectId:"surchop-9d786",storageBucket:"surchop-9d786.firebasestorage.app",messagingSenderId:"584554467419",appId:"1:584554467419:web:7237cbf2bf4a9f761e2f7e",measurementId:"G-QBMK24EM00"},Sw=HA(Nz),ht=JB(Sw),Iw=lU(Sw),Dz=new Tr;Rz(Sw);const Oz=()=>yj(Iw,Dz),Zx=()=>XF(Iw);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),eT=t=>{const e=Lz(t);return e.charAt(0).toUpperCase()+e.slice(1)},pP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Fz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...jz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pP("lucide",i),...!s&&!Fz(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(Uz,{ref:s,iconNode:e,className:pP(`lucide-${Vz(eT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=eT(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$z=it("arrow-left",Bz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wz=it("camera",zz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qz=it("check",Hz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kz=it("chevron-right",Gz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yz=it("circle",Qz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jz=it("download",Xz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],e5=it("ellipsis-vertical",Zz);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],n5=it("flag",t5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],i5=it("heart",r5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],tT=it("house",s5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nT=it("log-out",o5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],l5=it("menu",a5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rT=it("palette",u5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],d5=it("play",c5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],f5=it("search",h5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],m5=it("share-2",p5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iT=it("square-check-big",g5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mP=it("trash-2",y5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sT=it("user-plus",v5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gP=it("x",w5);function _5(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,s]=y.useState(!1),[o,a]=y.useState(!1);if(y.useEffect(()=>{const u=w=>{w.preventDefault(),e(w)},d=()=>r(!0);window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",d);const h=window.navigator.userAgent.toLowerCase(),f=/iphone|ipad|ipod/.test(h),m=window.navigator.standalone===!0;return s(f),a(m),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",d)}},[]),n||o)return null;const l=()=>{t?(t.prompt(),t.userChoice.then(u=>{u.outcome==="accepted"&&e(null)})):i&&alert(`🍎 Sur iPhone/iPad :
1️⃣ Appuie sur le bouton 'Partager' (carré avec la flèche)
2️⃣ Sélectionne 'Sur l’écran d’accueil' 📲`)};return S.jsxs("div",{onClick:l,className:"flex items-center gap-2 px-3 py-2 rounded-md text-primary cursor-pointer hover:bg-muted transition",children:[S.jsx(Jz,{size:16,className:"text-primary"}),S.jsx("span",{className:"font-medium",children:i?"Ajouter à l’écran d’accueil":"Installer l’app"})]})}function E5({user:t}){const[e,n]=y.useState(!1),r=Qr(),i=(t==null?void 0:t.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",s=({to:o,label:a,icon:l,accent:u=!1})=>{const d=r.pathname===o;return S.jsxs(Vl,{to:o,onClick:()=>n(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition
          ${d?"bg-primary/10 text-primary":"text-foreground/70 hover:bg-muted hover:text-foreground"}
          ${u?"text-primary font-semibold":""}`,children:[S.jsx(l,{size:16}),a]})};return S.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b border-border",children:[S.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between",children:[S.jsxs(Vl,{to:"/",className:"font-semibold text-base sm:text-lg flex items-center gap-2 text-primary",children:[S.jsx(i5,{className:"text-primary",size:18}),"SURCHOPE"]}),S.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[S.jsx(s,{to:"/",label:"Tous les couples",icon:tT}),t&&S.jsx(s,{to:"/mes-votes",label:"Mes votes",icon:iT}),t&&S.jsx(s,{to:"/ajouter-couple",label:"Ajouter un couple",icon:sT,accent:!0}),i&&S.jsx(s,{to:"/style",label:"Styleguide",icon:rT,accent:!0})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[t?S.jsxs(S.Fragment,{children:[S.jsx("img",{className:"w-8 h-8 rounded-full border border-border",src:t.photoURL??""}),S.jsxs("button",{className:"hidden sm:flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground underline-offset-2 hover:underline transition",onClick:()=>Zx(),title:"Se déconnecter",children:[S.jsx(nT,{size:16,className:"text-muted-foreground"}),"Se déconnecter"]})]}):S.jsx("button",{className:"px-3 py-1 rounded-full bg-primary text-primary-foreground text-sm hover:opacity-90 transition",onClick:()=>Oz(),children:"Se connecter"}),S.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 rounded-full hover:bg-muted transition",children:e?S.jsx(gP,{size:20}):S.jsx(l5,{size:20})})]})]}),e&&S.jsxs("nav",{className:"md:hidden bg-card border-t border-border flex flex-col p-3 space-y-2 text-sm text-foreground",children:[S.jsx(s,{to:"/",label:"Tous les couples",icon:tT}),t&&S.jsx(s,{to:"/mes-votes",label:"Mes votes",icon:iT}),t&&S.jsx(s,{to:"/ajouter-couple",label:"Ajouter un couple",icon:sT,accent:!0}),i&&S.jsx(s,{to:"/style",label:"Styleguide",icon:rT,accent:!0}),S.jsx(_5,{}),t&&S.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-muted-foreground hover:bg-muted rounded-md text-left transition",onClick:()=>{Zx(),n(!1)},children:[S.jsx(nT,{size:16,className:"text-muted-foreground"}),"Se déconnecter"]})]})]})}const Cw=y.createContext({});function Aw(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const bw=typeof window<"u",yP=bw?y.useLayoutEffect:y.useEffect,pf=y.createContext(null);function Rw(t,e){t.indexOf(e)===-1&&t.push(e)}function Pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zr=(t,e,n)=>n>e?e:n<t?t:n;let kw=()=>{};const Wr={},vP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wP(t){return typeof t=="object"&&t!==null}const _P=t=>/^0[^.\s]+$/u.test(t);function Mw(t){let e;return()=>(e===void 0&&(e=t()),e)}const bn=t=>t,x5=(t,e)=>n=>e(t(n)),bu=(...t)=>t.reduce(x5),Ql=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Nw{constructor(){this.subscriptions=[]}add(e){return Rw(this.subscriptions,e),()=>Pw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lr=t=>t*1e3,In=t=>t/1e3;function EP(t,e){return e?t*(1e3/e):0}const xP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,T5=1e-7,S5=12;function I5(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=xP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>T5&&++a<S5);return o}function Ru(t,e,n,r){if(t===e&&n===r)return bn;const i=s=>I5(s,0,1,t,n);return s=>s===0||s===1?s:xP(i(s),e,r)}const TP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SP=t=>e=>1-t(1-e),IP=Ru(.33,1.53,.69,.99),Dw=SP(IP),CP=TP(Dw),AP=t=>(t*=2)<1?.5*Dw(t):.5*(2-Math.pow(2,-10*(t-1))),Ow=t=>1-Math.sin(Math.acos(t)),bP=SP(Ow),RP=TP(Ow),C5=Ru(.42,0,1,1),A5=Ru(0,0,.58,1),PP=Ru(.42,0,.58,1),b5=t=>Array.isArray(t)&&typeof t[0]!="number",kP=t=>Array.isArray(t)&&typeof t[0]=="number",R5={linear:bn,easeIn:C5,easeInOut:PP,easeOut:A5,circIn:Ow,circInOut:RP,circOut:bP,backIn:Dw,backInOut:CP,backOut:IP,anticipate:AP},P5=t=>typeof t=="string",oT=t=>{if(kP(t)){kw(t.length===4);const[e,n,r,i]=t;return Ru(e,n,r,i)}else if(P5(t))return R5[t];return t},Cc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k5(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,h=!1,f=!1)=>{const w=f&&i?n:r;return h&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const M5=40;function MP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Cc.reduce((x,R)=>(x[R]=k5(s),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,_=()=>{const x=Wr.useManualTiming?i.timestamp:performance.now();n=!1,Wr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,M5),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},I=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Cc.reduce((x,R)=>{const M=o[R];return x[R]=(L,C=!1,T=!1)=>(n||I(),M.schedule(L,C,T)),x},{}),cancel:x=>{for(let R=0;R<Cc.length;R++)o[Cc[R]].cancel(x)},state:i,steps:o}}const{schedule:je,cancel:ki,state:vt,steps:Op}=MP(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0);let ld;function N5(){ld=void 0}const Zt={now:()=>(ld===void 0&&Zt.set(vt.isProcessing||Wr.useManualTiming?vt.timestamp:performance.now()),ld),set:t=>{ld=t,queueMicrotask(N5)}},NP=t=>e=>typeof e=="string"&&e.startsWith(t),Vw=NP("--"),D5=NP("var(--"),Lw=t=>D5(t)?O5.test(t.split("/*")[0].trim()):!1,O5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ia={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yl={...ia,transform:t=>zr(0,1,t)},Ac={...ia,default:1},fl=t=>Math.round(t*1e5)/1e5,Fw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V5(t){return t==null}const L5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jw=(t,e)=>n=>!!(typeof n=="string"&&L5.test(n)&&n.startsWith(t)||e&&!V5(n)&&Object.prototype.hasOwnProperty.call(n,e)),DP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Fw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},F5=t=>zr(0,255,t),Vp={...ia,transform:t=>Math.round(F5(t))},ss={test:jw("rgb","red"),parse:DP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vp.transform(t)+", "+Vp.transform(e)+", "+Vp.transform(n)+", "+fl(Yl.transform(r))+")"};function j5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bg={test:jw("#"),parse:j5,transform:ss.transform},Pu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ri=Pu("deg"),ur=Pu("%"),le=Pu("px"),U5=Pu("vh"),B5=Pu("vw"),aT={...ur,parse:t=>ur.parse(t)/100,transform:t=>ur.transform(t*100)},ao={test:jw("hsl","hue"),parse:DP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ur.transform(fl(e))+", "+ur.transform(fl(n))+", "+fl(Yl.transform(r))+")"},tt={test:t=>ss.test(t)||bg.test(t)||ao.test(t),parse:t=>ss.test(t)?ss.parse(t):ao.test(t)?ao.parse(t):bg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ss.transform(t):ao.transform(t),getAnimatableNone:t=>{const e=tt.parse(t);return e.alpha=0,tt.transform(e)}},$5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Fw))==null?void 0:e.length)||0)+(((n=t.match($5))==null?void 0:n.length)||0)>0}const OP="number",VP="color",W5="var",H5="var(",lT="${}",q5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(q5,l=>(tt.test(l)?(r.color.push(s),i.push(VP),n.push(tt.parse(l))):l.startsWith(H5)?(r.var.push(s),i.push(W5),n.push(l)):(r.number.push(s),i.push(OP),n.push(parseFloat(l))),++s,lT)).split(lT);return{values:n,split:a,indexes:r,types:i}}function LP(t){return Xl(t).values}function FP(t){const{split:e,types:n}=Xl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===OP?s+=fl(i[o]):a===VP?s+=tt.transform(i[o]):s+=i[o]}return s}}const G5=t=>typeof t=="number"?0:tt.test(t)?tt.getAnimatableNone(t):t;function K5(t){const e=LP(t);return FP(t)(e.map(G5))}const Mi={test:z5,parse:LP,createTransformer:FP,getAnimatableNone:K5};function Lp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Lp(l,a,t+1/3),s=Lp(l,a,t),o=Lp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function uh(t,e){return n=>n>0?e:t}const $e=(t,e,n)=>t+(e-t)*n,Fp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Y5=[bg,ss,ao],X5=t=>Y5.find(e=>e.test(t));function uT(t){const e=X5(t);if(!e)return!1;let n=e.parse(t);return e===ao&&(n=Q5(n)),n}const cT=(t,e)=>{const n=uT(t),r=uT(e);if(!n||!r)return uh(t,e);const i={...n};return s=>(i.red=Fp(n.red,r.red,s),i.green=Fp(n.green,r.green,s),i.blue=Fp(n.blue,r.blue,s),i.alpha=$e(n.alpha,r.alpha,s),ss.transform(i))},Rg=new Set(["none","hidden"]);function J5(t,e){return Rg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Z5(t,e){return n=>$e(t,e,n)}function Uw(t){return typeof t=="number"?Z5:typeof t=="string"?Lw(t)?uh:tt.test(t)?cT:n3:Array.isArray(t)?jP:typeof t=="object"?tt.test(t)?cT:e3:uh}function jP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Uw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function e3(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Uw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function t3(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const n3=(t,e)=>{const n=Mi.createTransformer(e),r=Xl(t),i=Xl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rg.has(t)&&!i.values.length||Rg.has(e)&&!r.values.length?J5(t,e):bu(jP(t3(r,i),i.values),n):uh(t,e)};function UP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$e(t,e,n):Uw(t)(t,e)}const r3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>je.update(e,n),stop:()=>ki(e),now:()=>vt.isProcessing?vt.timestamp:Zt.now()}},BP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ch=2e4;function Bw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ch;)e+=n,r=t.next(e);return e>=ch?1/0:e}function i3(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Bw(r),ch);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:In(i)}}const s3=5;function $P(t,e,n){const r=Math.max(e-s3,0);return EP(n-t(r),e-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jp=.001;function o3({duration:t=Ge.duration,bounce:e=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let i,s,o=1-e;o=zr(Ge.minDamping,Ge.maxDamping,o),t=zr(Ge.minDuration,Ge.maxDuration,In(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=Pg(u,o),w=Math.exp(-h);return jp-f/m*w},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-h),_=Pg(Math.pow(u,2),o);return(-i(u)+jp>0?-1:1)*((f-m)*w)/_}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-jp+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=l3(i,s,a);if(t=lr(t),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const a3=12;function l3(t,e,n){let r=n;for(let i=1;i<a3;i++)r=r-t(r)/e(r);return r}function Pg(t,e){return t*Math.sqrt(1-e*e)}const u3=["duration","bounce"],c3=["stiffness","damping","mass"];function dT(t,e){return e.some(n=>t[n]!==void 0)}function d3(t){let e={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...t};if(!dT(t,c3)&&dT(t,u3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*zr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ge.mass,stiffness:i,damping:s}}else{const n=o3(t);e={...e,...n,mass:Ge.mass},e.isResolvedFromDuration=!0}return e}function dh(t=Ge.visualDuration,e=Ge.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=d3({...n,velocity:-In(n.velocity||0)}),w=f||0,_=u/(2*Math.sqrt(l*d)),I=o-s,g=In(Math.sqrt(l/d)),E=Math.abs(I)<5;r||(r=E?Ge.restSpeed.granular:Ge.restSpeed.default),i||(i=E?Ge.restDelta.granular:Ge.restDelta.default);let x;if(_<1){const M=Pg(g,_);x=L=>{const C=Math.exp(-_*g*L);return o-C*((w+_*g*I)/M*Math.sin(M*L)+I*Math.cos(M*L))}}else if(_===1)x=M=>o-Math.exp(-g*M)*(I+(w+g*I)*M);else{const M=g*Math.sqrt(_*_-1);x=L=>{const C=Math.exp(-_*g*L),T=Math.min(M*L,300);return o-C*((w+_*g*I)*Math.sinh(T)+M*I*Math.cosh(T))/M}}const R={calculatedDuration:m&&h||null,next:M=>{const L=x(M);if(m)a.done=M>=h;else{let C=M===0?w:0;_<1&&(C=M===0?lr(w):$P(x,M,L));const T=Math.abs(C)<=r,A=Math.abs(o-L)<=i;a.done=T&&A}return a.value=a.done?o:L,a},toString:()=>{const M=Math.min(Bw(R),ch),L=BP(C=>R.next(M*C).value,M,30);return M+"ms "+L},toTransition:()=>{}};return R}dh.applyToOptions=t=>{const e=i3(t,100,dh);return t.ease=e.ease,t.duration=lr(e.duration),t.type="keyframes",t};function kg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*e;const I=h+_,g=o===void 0?I:o(I);g!==I&&(_=g-h);const E=T=>-_*Math.exp(-T/r),x=T=>g+E(T),R=T=>{const A=E(T),P=x(T);f.done=Math.abs(A)<=u,f.value=f.done?g:P};let M,L;const C=T=>{m(f.value)&&(M=T,L=dh({keyframes:[f.value,w(f.value)],velocity:$P(x,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let A=!1;return!L&&M===void 0&&(A=!0,R(T),C(T)),M!==void 0&&T>=M?L.next(T-M):(!A&&R(T),f)}}}function h3(t,e,n){const r=[],i=n||Wr.mix||UP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||bn:e;a=bu(l,a)}r.push(a)}return r}function f3(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(kw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=h3(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ql(t[h],t[h+1],d);return a[h](f)};return n?d=>u(zr(t[0],t[s-1],d)):u}function p3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ql(0,e,r);t.push($e(n,1,i))}}function m3(t){const e=[0];return p3(e,t.length-1),e}function g3(t,e){return t.map(n=>n*e)}function y3(t,e){return t.map(()=>e||PP).splice(0,t.length-1)}function pl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=b5(r)?r.map(oT):oT(r),s={done:!1,value:e[0]},o=g3(n&&n.length===e.length?n:m3(e),t),a=f3(o,e,{ease:Array.isArray(i)?i:y3(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const v3=t=>t!==null;function $w(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(v3),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const w3={decay:kg,inertia:kg,tween:pl,keyframes:pl,spring:dh};function zP(t){typeof t.type=="string"&&(t.type=w3[t.type])}class zw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _3=t=>t/100;class Ww extends zw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zP(e);const{type:n=pl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||pl;l!==pl&&typeof a[0]!="number"&&(this.mixKeyframes=bu(_3,UP(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Bw(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:_,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,R=r;if(h){const T=Math.min(this.currentTime,i)/a;let A=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(P=1-P,m&&(P-=m/a)):f==="mirror"&&(R=o)),x=zr(0,1,P)*a}const M=E?{done:!1,value:d[0]}:R.next(x);s&&(M.value=s(M.value));let{done:L}=M;!E&&l!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return C&&w!==kg&&(M.value=$w(d,this.options,I,this.speed)),_&&_(M.value),C&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return In(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+In(e)}get time(){return In(this.currentTime)}set time(e){var n;e=lr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=In(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=r3,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function E3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const os=t=>t*180/Math.PI,Mg=t=>{const e=os(Math.atan2(t[1],t[0]));return Ng(e)},x3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mg,rotateZ:Mg,skewX:t=>os(Math.atan(t[1])),skewY:t=>os(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ng=t=>(t=t%360,t<0&&(t+=360),t),hT=Mg,fT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),T3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fT,scaleY:pT,scale:t=>(fT(t)+pT(t))/2,rotateX:t=>Ng(os(Math.atan2(t[6],t[5]))),rotateY:t=>Ng(os(Math.atan2(-t[2],t[0]))),rotateZ:hT,rotate:hT,skewX:t=>os(Math.atan(t[4])),skewY:t=>os(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dg(t){return t.includes("scale")?1:0}function Og(t,e){if(!t||t==="none")return Dg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=T3,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=x3,i=a}if(!i)return Dg(e);const s=r[e],o=i[1].split(",").map(I3);return typeof s=="function"?s(o):o[s]}const S3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Og(n,e)};function I3(t){return parseFloat(t.trim())}const sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(sa),mT=t=>t===ia||t===le,C3=new Set(["x","y","z"]),A3=sa.filter(t=>!C3.has(t));function b3(t){const e=[];return A3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Og(e,"x"),y:(t,{transform:e})=>Og(e,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const hs=new Set;let Vg=!1,Lg=!1,Fg=!1;function WP(){if(Lg){const t=Array.from(hs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=b3(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lg=!1,Vg=!1,hs.forEach(t=>t.complete(Fg)),hs.clear()}function HP(){hs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lg=!0)})}function R3(){Fg=!0,HP(),WP(),Fg=!1}class Hw{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hs.add(this),Vg||(Vg=!0,je.read(HP),je.resolveKeyframes(WP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}E3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hs.delete(this)}cancel(){this.state==="scheduled"&&(hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P3=t=>t.startsWith("--");function k3(t,e,n){P3(e)?t.style.setProperty(e,n):t.style[e]=n}const M3=Mw(()=>window.ScrollTimeline!==void 0),N3={};function D3(t,e){const n=Mw(t);return()=>N3[e]??n()}const qP=D3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qa([0,.65,.55,1]),circOut:Qa([.55,0,1,.45]),backIn:Qa([.31,.01,.66,-.59]),backOut:Qa([.33,1.53,.69,.99])};function GP(t,e){if(t)return typeof t=="function"?qP()?BP(t,e):"ease-out":kP(t)?Qa(t):Array.isArray(t)?t.map(n=>GP(n,e)||gT.easeOut):gT[t]}function O3(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=GP(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function KP(t){return typeof t=="function"&&"applyToOptions"in t}function V3({type:t,...e}){return KP(t)&&qP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class L3 extends zw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,kw(typeof e.type!="string");const u=V3(e);this.animation=O3(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=$w(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):k3(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return In(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+In(e)}get time(){return In(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&M3()?(this.animation.timeline=e,bn):n(this)}}const QP={anticipate:AP,backInOut:CP,circInOut:RP};function F3(t){return t in QP}function j3(t){typeof t.ease=="string"&&F3(t.ease)&&(t.ease=QP[t.ease])}const yT=10;class U3 extends L3{constructor(e){j3(e),zP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ww({...o,autoplay:!1}),l=lr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-yT).value,a.sample(l).value,yT),a.stop()}}const vT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mi.test(t)||t==="0")&&!t.startsWith("url("));function B3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $3(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=vT(i,e),a=vT(s,e);return!o||!a?!1:B3(t)||(n==="spring"||KP(n))&&r}function jg(t){t.duration=0,t.type="keyframes"}const z3=new Set(["opacity","clipPath","filter","transform"]),W3=Mw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function H3(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return W3()&&n&&z3.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const q3=40;class G3 extends zw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var _,I;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Zt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Hw;this.keyframeResolver=new m(a,(_,I,g)=>this.onKeyframesResolved(_,I,f,!g),l,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Zt.now(),$3(e,s,o,a)||((Wr.instantAnimations||!l)&&(d==null||d($w(e,r,n))),e[0]=e[e.length-1],jg(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>q3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&H3(f)?new U3({...f,element:f.motionValue.owner.current}):new Ww(f);m.finished.then(()=>this.notifyFinished()).catch(bn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),R3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const K3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q3(t){const e=K3.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function YP(t,e,n=1){const[r,i]=Q3(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return vP(o)?parseFloat(o):o}return Lw(i)?YP(i,e,n+1):i}function qw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const XP=new Set(["width","height","top","left","right","bottom",...sa]),Y3={test:t=>t==="auto",parse:t=>t},JP=t=>e=>e.test(t),ZP=[ia,le,ur,ri,B5,U5,Y3],wT=t=>ZP.find(JP(t));function X3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_P(t):!0}const J3=new Set(["brightness","contrast","saturate","opacity"]);function Z3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Fw)||[];if(!r)return t;const i=n.replace(r,"");let s=J3.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const e9=/\b([a-z-]*)\(.*?\)/gu,Ug={...Mi,getAnimatableNone:t=>{const e=t.match(e9);return e?e.map(Z3).join(" "):t}},_T={...ia,transform:Math.round},t9={rotate:ri,rotateX:ri,rotateY:ri,rotateZ:ri,scale:Ac,scaleX:Ac,scaleY:Ac,scaleZ:Ac,skew:ri,skewX:ri,skewY:ri,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Yl,originX:aT,originY:aT,originZ:le},Gw={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...t9,zIndex:_T,fillOpacity:Yl,strokeOpacity:Yl,numOctaves:_T},n9={...Gw,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:Ug,WebkitFilter:Ug},e1=t=>n9[t];function t1(t,e){let n=e1(t);return n!==Ug&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const r9=new Set(["auto","none","0"]);function i9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!r9.has(s)&&Xl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=t1(n,i)}class s9 extends Hw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Lw(u))){const d=YP(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XP.has(r)||e.length!==2)return;const[i,s]=e,o=wT(i),a=wT(s);if(o!==a)if(mT(o)&&mT(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ds[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||X3(e[i]))&&r.push(i);r.length&&i9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ds[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function o9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const n1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function r1(t){return wP(t)&&"offsetHeight"in t}const ET=30,a9=t=>!isNaN(parseFloat(t));class l9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Zt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=a9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Nw);const r=this.events[e].add(n);return e==="change"?()=>{r(),je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ET)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ET);return EP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(t,e){return new l9(t,e)}const{schedule:Kw}=MP(queueMicrotask,!1),On={x:!1,y:!1};function i1(){return On.x||On.y}function u9(t){return t==="x"||t==="y"?On[t]?null:(On[t]=!0,()=>{On[t]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function s1(t,e){const n=o9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function xT(t){return!(t.pointerType==="touch"||i1())}function c9(t,e,n={}){const[r,i,s]=s1(t,n),o=a=>{if(!xT(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{xT(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const o1=(t,e)=>e?t===e?!0:o1(t,e.parentElement):!1,Qw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function h9(t){return d9.has(t.tagName)||t.tabIndex!==-1}const ud=new WeakSet;function TT(t){return e=>{e.key==="Enter"&&t(e)}}function Up(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const f9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=TT(()=>{if(ud.has(n))return;Up(n,"down");const i=TT(()=>{Up(n,"up")}),s=()=>Up(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ST(t){return Qw(t)&&!i1()}function p9(t,e,n={}){const[r,i,s]=s1(t,n),o=a=>{const l=a.currentTarget;if(!ST(a))return;ud.add(l);const u=e(l,a),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ud.has(l)&&ud.delete(l),ST(m)&&typeof u=="function"&&u(m,{success:w})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||o1(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),r1(a)&&(a.addEventListener("focus",u=>f9(u,i)),!h9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function a1(t){return wP(t)&&"ownerSVGElement"in t}function m9(t){return a1(t)&&t.tagName==="svg"}const Dt=t=>!!(t&&t.getVelocity),g9=[...ZP,tt,Mi],y9=t=>g9.find(JP(t)),Yw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function IT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function v9(...t){return e=>{let n=!1;const r=t.map(i=>{const s=IT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():IT(t[i],null)}}}}function w9(...t){return y.useCallback(v9(...t),t)}class _9 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r1(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function E9({children:t,isPresent:e,anchorX:n,root:r}){const i=y.useId(),s=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=y.useContext(Yw),l=w9(s,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=o.current;if(e||!s.current||!u||!d)return;const w=n==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");a&&(_.nonce=a);const I=r??document.head;return I.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{I.contains(_)&&I.removeChild(_)}},[e]),S.jsx(_9,{isPresent:e,childRef:s,sizeRef:o,children:y.cloneElement(t,{ref:l})})}const x9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Aw(T9),d=y.useId();let h=!0,f=y.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&h&&(f={...f}),y.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=S.jsx(E9,{isPresent:n,anchorX:a,root:l,children:t})),S.jsx(pf.Provider,{value:f,children:t})};function T9(){return new Map}function l1(t=!0){const e=y.useContext(pf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=y.useId();y.useEffect(()=>{if(t)return i(s)},[t]);const o=y.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const bc=t=>t.key||"";function CT(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const hh=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=l1(o),h=y.useMemo(()=>CT(t),[t]),f=o&&!u?[]:h.map(bc),m=y.useRef(!0),w=y.useRef(h),_=Aw(()=>new Map),[I,g]=y.useState(h),[E,x]=y.useState(h);yP(()=>{m.current=!1,w.current=h;for(let L=0;L<E.length;L++){const C=bc(E[L]);f.includes(C)?_.delete(C):_.get(C)!==!0&&_.set(C,!1)}},[E,f.length,f.join("-")]);const R=[];if(h!==I){let L=[...h];for(let C=0;C<E.length;C++){const T=E[C],A=bc(T);f.includes(A)||(L.splice(C,0,T),R.push(T))}return s==="wait"&&R.length&&(L=R),x(CT(L)),g(h),null}const{forceRender:M}=y.useContext(Cw);return S.jsx(S.Fragment,{children:E.map(L=>{const C=bc(L),T=o&&!u?!1:h===E||f.includes(C),A=()=>{if(_.has(C))_.set(C,!0);else return;let P=!0;_.forEach(N=>{N||(P=!1)}),P&&(M==null||M(),x(w.current),o&&(d==null||d()),r&&r())};return S.jsx(x9,{isPresent:T,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:A,anchorX:a,children:L},C)})})},u1=y.createContext({strict:!1}),AT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in AT)Bo[t]={isEnabled:e=>AT[t].some(n=>!!e[n])};function S9(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const I9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||I9.has(t)}let c1=t=>!fh(t);function C9(t){typeof t=="function"&&(c1=e=>e.startsWith("on")?!fh(e):t(e))}try{C9(require("@emotion/is-prop-valid").default)}catch{}function A9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(c1(i)||n===!0&&fh(i)||!e&&!fh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const mf=y.createContext({});function gf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jl(t){return typeof t=="string"||Array.isArray(t)}const Xw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jw=["initial",...Xw];function yf(t){return gf(t.animate)||Jw.some(e=>Jl(t[e]))}function d1(t){return!!(yf(t)||t.variants)}function b9(t,e){if(yf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jl(n)?n:void 0,animate:Jl(r)?r:void 0}}return t.inherit!==!1?e:{}}function R9(t){const{initial:e,animate:n}=b9(t,y.useContext(mf));return y.useMemo(()=>({initial:e,animate:n}),[bT(e),bT(n)])}function bT(t){return Array.isArray(t)?t.join(" "):t}const Zl={};function P9(t){for(const e in t)Zl[e]=t[e],Vw(e)&&(Zl[e].isCSSVariable=!0)}function h1(t,{layout:e,layoutId:n}){return oa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zl[t]||t==="opacity")}const k9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M9=sa.length;function N9(t,e,n){let r="",i=!0;for(let s=0;s<M9;s++){const o=sa[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=n1(a,Gw[o]);if(!l){i=!1;const d=k9[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Zw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(oa.has(l)){o=!0;continue}else if(Vw(l)){i[l]=u;continue}else{const d=n1(u,Gw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=N9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const e_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f1(t,e,n){for(const r in e)!Dt(e[r])&&!h1(r,n)&&(t[r]=e[r])}function D9({transformTemplate:t},e){return y.useMemo(()=>{const n=e_();return Zw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function O9(t,e){const n=t.style||{},r={};return f1(r,n,t),Object.assign(r,D9(t,e)),r}function V9(t,e){const n={},r=O9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const L9={offset:"stroke-dashoffset",array:"stroke-dasharray"},F9={offset:"strokeDashoffset",array:"strokeDasharray"};function j9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?L9:F9;t[s.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function p1(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,d){if(Zw(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&j9(h,i,s,o,!1)}const m1=()=>({...e_(),attrs:{}}),g1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function U9(t,e,n,r){const i=y.useMemo(()=>{const s=m1();return p1(s,e,g1(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};f1(s,t.style,t),i.style={...s,...i.style}}return i}const B9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t_(t){return typeof t!="string"||t.includes("-")?!1:!!(B9.indexOf(t)>-1||/[A-Z]/u.test(t))}function $9(t,e,n,{latestValues:r},i,s=!1){const a=(t_(t)?U9:V9)(e,r,i,t),l=A9(e,typeof t=="string",s),u=t!==y.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=y.useMemo(()=>Dt(d)?d.get():d,[d]);return y.createElement(t,{...u,children:h})}function RT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function n_(t,e,n,r){if(typeof e=="function"){const[i,s]=RT(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=RT(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function cd(t){return Dt(t)?t.get():t}function z9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:W9(n,r,i,t),renderState:e()}}function W9(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=cd(s[f]);let{initial:o,animate:a}=t;const l=yf(t),u=d1(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!gf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=n_(t,f[m]);if(w){const{transitionEnd:_,transition:I,...g}=w;for(const E in g){let x=g[E];if(Array.isArray(x)){const R=d?x.length-1:0;x=x[R]}x!==null&&(i[E]=x)}for(const E in _)i[E]=_[E]}}}return i}const y1=t=>(e,n)=>{const r=y.useContext(mf),i=y.useContext(pf),s=()=>z9(t,e,r,i);return n?s():Aw(s)};function r_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Dt(r[o])||e.style&&Dt(e.style[o])||h1(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const H9=y1({scrapeMotionValuesFromProps:r_,createRenderState:e_});function v1(t,e,n){const r=r_(t,e,n);for(const i in t)if(Dt(t[i])||Dt(e[i])){const s=sa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const q9=y1({scrapeMotionValuesFromProps:v1,createRenderState:m1}),G9=Symbol.for("motionComponentSymbol");function lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K9(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):lo(n)&&(n.current=r))},[e])}const i_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q9="framerAppearId",w1="data-"+i_(Q9),_1=y.createContext({});function Y9(t,e,n,r,i){var _,I;const{visualElement:s}=y.useContext(mf),o=y.useContext(u1),a=y.useContext(pf),l=y.useContext(Yw).reducedMotion,u=y.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=y.useContext(_1);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&X9(u.current,n,i,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[w1],w=y.useRef(!!m&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,m))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,m)));return yP(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),w.current=!1),d.enteringChildren=void 0)}),d}function X9(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:E1(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&lo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function E1(t){if(t)return t.options.allowProjection!==!1?t.projection:E1(t.parent)}function Bp(t,{forwardMotionProps:e=!1}={},n,r){n&&S9(n);const i=t_(t)?q9:H9;function s(a,l){let u;const d={...y.useContext(Yw),...a,layoutId:J9(a)},{isStatic:h}=d,f=R9(a),m=i(a,h);if(!h&&bw){Z9();const w=e6(d);u=w.MeasureLayout,f.visualElement=Y9(t,m,d,r,w.ProjectionNode)}return S.jsxs(mf.Provider,{value:f,children:[u&&f.visualElement?S.jsx(u,{visualElement:f.visualElement,...d}):null,$9(t,a,K9(m,f.visualElement,l),m,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(s);return o[G9]=t,o}function J9({layoutId:t}){const e=y.useContext(Cw).id;return e&&t!==void 0?e+"-"+t:t}function Z9(t,e){y.useContext(u1).strict}function e6(t){const{drag:e,layout:n}=Bo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function t6(t,e){if(typeof Proxy>"u")return Bp;const n=new Map,r=(s,o)=>Bp(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Bp(o,void 0,t,e)),n.get(o))})}function x1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function n6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function r6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $p(t){return t===void 0||t===1}function Bg({scale:t,scaleX:e,scaleY:n}){return!$p(t)||!$p(e)||!$p(n)}function Xi(t){return Bg(t)||T1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function T1(t){return PT(t.x)||PT(t.y)}function PT(t){return t&&t!=="0%"}function ph(t,e,n){const r=t-n,i=e*r;return n+i}function kT(t,e,n,r,i){return i!==void 0&&(t=ph(t,i,r)),ph(t,n,r)+e}function $g(t,e=0,n=1,r,i){t.min=kT(t.min,e,n,r,i),t.max=kT(t.max,e,n,r,i)}function S1(t,{x:e,y:n}){$g(t.x,e.translate,e.scale,e.originPoint),$g(t.y,n.translate,n.scale,n.originPoint)}const MT=.999999999999,NT=1.0000000000001;function i6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&co(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,S1(t,o)),r&&Xi(s.latestValues)&&co(t,s.latestValues))}e.x<NT&&e.x>MT&&(e.x=1),e.y<NT&&e.y>MT&&(e.y=1)}function uo(t,e){t.min=t.min+e,t.max=t.max+e}function DT(t,e,n,r,i=.5){const s=$e(t.min,t.max,i);$g(t,e,n,s,r)}function co(t,e){DT(t.x,e.x,e.scaleX,e.scale,e.originX),DT(t.y,e.y,e.scaleY,e.scale,e.originY)}function I1(t,e){return x1(r6(t.getBoundingClientRect(),e))}function s6(t,e,n){const r=I1(t,n),{scroll:i}=e;return i&&(uo(r.x,i.offset.x),uo(r.y,i.offset.y)),r}const OT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:OT(),y:OT()}),VT=()=>({min:0,max:0}),Qe=()=>({x:VT(),y:VT()}),zg={current:null},C1={current:!1};function o6(){if(C1.current=!0,!!bw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zg.current=t.matches;t.addEventListener("change",e),e()}else zg.current=!1}const a6=new WeakMap;function l6(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Dt(i))t.addValue(r,i);else if(Dt(s))t.addValue(r,Uo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Uo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Zt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,je.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=yf(n),this.isVariantNode=d1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Dt(m)&&m.set(l[f])}}mount(e){var n;this.current=e,a6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),C1.current||o6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=oa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const n=Bo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LT.length;r++){const i=LT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=l6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(vP(r)||_P(r))?r=parseFloat(r):!y9(r)&&Mi.test(n)&&(r=t1(e,n)),this.setBaseTarget(e,Dt(r)?r.get():r)),Dt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=n_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Nw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Kw.render(this.render)}}class A1 extends u6{constructor(){super(...arguments),this.KeyframeResolver=s9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function b1(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function c6(t){return window.getComputedStyle(t)}class d6 extends A1{constructor(){super(...arguments),this.type="html",this.renderInstance=b1}readValueFromInstance(e,n){var r;if(oa.has(n))return(r=this.projection)!=null&&r.isProjecting?Dg(n):S3(e,n);{const i=c6(e),s=(Vw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return I1(e,n)}build(e,n,r){Zw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return r_(e,n,r)}}const R1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h6(t,e,n,r){b1(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(R1.has(i)?i:i_(i),e.attrs[i])}class f6 extends A1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oa.has(n)){const r=e1(n);return r&&r.default||0}return n=R1.has(n)?n:i_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return v1(e,n,r)}build(e,n,r){p1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){h6(e,n,r,i)}mount(e){this.isSVGTag=g1(e.tagName),super.mount(e)}}const p6=(t,e)=>t_(t)?new f6(e):new d6(e,{allowProjection:t!==y.Fragment});function To(t,e,n){const r=t.getProps();return n_(r,e,n!==void 0?n:r.custom,t)}const Wg=t=>Array.isArray(t);function m6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uo(n))}function g6(t){return Wg(t)?t[t.length-1]||0:t}function y6(t,e){const n=To(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=g6(s[o]);m6(t,o,a)}}function v6(t){return!!(Dt(t)&&t.add)}function Hg(t,e){const n=t.getValue("willChange");if(v6(n))return n.add(e);if(!n&&Wr.WillChange){const r=new Wr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function P1(t){return t.props[w1]}const w6=t=>t!==null;function _6(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(w6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const E6={type:"spring",stiffness:500,damping:25,restSpeed:10},x6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T6={type:"keyframes",duration:.8},S6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I6=(t,{keyframes:e})=>e.length>2?T6:oa.has(t)?t.startsWith("scale")?x6(e[1]):E6:S6;function C6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const s_=(t,e,n,r={},i,s)=>o=>{const a=qw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-lr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};C6(a)||Object.assign(d,I6(t,d)),d.duration&&(d.duration=lr(d.duration)),d.repeatDelay&&(d.repeatDelay=lr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(jg(d),d.delay===0&&(h=!0)),(Wr.instantAnimations||Wr.skipAnimations)&&(h=!0,jg(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=_6(d.keyframes,a);if(f!==void 0){je.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Ww(d):new G3(d)};function A6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function k1(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||u&&A6(u,d))continue;const m={delay:n,...qw(s||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const g=P1(t);if(g){const E=window.MotionHandoffAnimation(g,d,je);E!==null&&(m.startTime=E,_=!0)}}Hg(t,d),h.start(s_(d,h,f,t.shouldReduceMotion&&XP.has(d)?{type:!1}:m,t,_));const I=h.animation;I&&l.push(I)}return o&&Promise.all(l).then(()=>{je.update(()=>{o&&y6(t,o)})}),l}function M1(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function qg(t,e,n={}){var l;const r=To(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(k1(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return b6(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function b6(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(qg(l,e,{...o,delay:n+(typeof r=="function"?0:r)+M1(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function R6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>qg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=qg(t,e,n);else{const i=typeof e=="function"?To(t,e,n.custom):e;r=Promise.all(k1(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function N1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const P6=Jw.length;function D1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?D1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P6;n++){const r=Jw[n],i=t.props[r];(Jl(i)||i===!1)&&(e[r]=i)}return e}const k6=[...Xw].reverse(),M6=Xw.length;function N6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>R6(t,n,r)))}function D6(t){let e=N6(t),n=FT(),r=!0;const i=l=>(u,d)=>{var f;const h=To(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,..._}=h;u={...u,..._,...w}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=D1(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let I=0;I<M6;I++){const g=k6[I],E=n[g],x=u[g]!==void 0?u[g]:d[g],R=Jl(x),M=g===l?E.isActive:null;M===!1&&(w=I);let L=x===d[g]&&x!==u[g]&&R;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...m},!E.isActive&&M===null||!x&&!E.prevProp||gf(x)||typeof x=="boolean")continue;const C=O6(E.prevProp,x);let T=C||g===l&&E.isActive&&!L&&R||I>w&&R,A=!1;const P=Array.isArray(x)?x:[x];let N=P.reduce(i(g),{});M===!1&&(N={});const{prevResolvedValues:V={}}=E,k={...V,...N},oe=te=>{T=!0,f.has(te)&&(A=!0,f.delete(te)),E.needsAnimating[te]=!0;const F=t.getValue(te);F&&(F.liveStyle=!1)};for(const te in k){const F=N[te],B=V[te];if(m.hasOwnProperty(te))continue;let O=!1;Wg(F)&&Wg(B)?O=!N1(F,B):O=F!==B,O?F!=null?oe(te):f.add(te):F!==void 0&&f.has(te)?oe(te):E.protectedKeys[te]=!0}E.prevProp=x,E.prevResolvedValues=N,E.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(T=!1);const me=L&&C;T&&(!me||A)&&h.push(...P.map(te=>{const F={type:g};if(typeof te=="string"&&r&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,O=To(B,te);if(B.enteringChildren&&O){const{delayChildren:D}=O.transition||{};F.delay=M1(B.enteringChildren,t,D)}}return{animation:te,options:F}}))}if(f.size){const I={};if(typeof u.initial!="boolean"){const g=To(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(I.transition=g.transition)}f.forEach(g=>{const E=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),I[g]=E??null}),h.push({animation:I})}let _=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=FT()}}}function O6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N1(e,t):!1}function qi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FT(){return{animate:qi(!0),whileInView:qi(),whileHover:qi(),whileTap:qi(),whileDrag:qi(),whileFocus:qi(),exit:qi()}}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V6 extends Ui{constructor(e){super(e),e.animationState||(e.animationState=D6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let L6=0;class F6 extends Ui{constructor(){super(...arguments),this.id=L6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const j6={animation:{Feature:V6},exit:{Feature:F6}};function eu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const U6=t=>e=>Qw(e)&&t(e,ku(e));function ml(t,e,n,r){return eu(t,e,U6(n),r)}const O1=1e-4,B6=1-O1,$6=1+O1,V1=.01,z6=0-V1,W6=0+V1;function zt(t){return t.max-t.min}function H6(t,e,n){return Math.abs(t-e)<=n}function jT(t,e,n,r=.5){t.origin=r,t.originPoint=$e(e.min,e.max,t.origin),t.scale=zt(n)/zt(e),t.translate=$e(n.min,n.max,t.origin)-t.originPoint,(t.scale>=B6&&t.scale<=$6||isNaN(t.scale))&&(t.scale=1),(t.translate>=z6&&t.translate<=W6||isNaN(t.translate))&&(t.translate=0)}function gl(t,e,n,r){jT(t.x,e.x,n.x,r?r.originX:void 0),jT(t.y,e.y,n.y,r?r.originY:void 0)}function UT(t,e,n){t.min=n.min+e.min,t.max=t.min+zt(e)}function q6(t,e,n){UT(t.x,e.x,n.x),UT(t.y,e.y,n.y)}function BT(t,e,n){t.min=e.min-n.min,t.max=t.min+zt(e)}function yl(t,e,n){BT(t.x,e.x,n.x),BT(t.y,e.y,n.y)}function En(t){return[t("x"),t("y")]}const L1=({current:t})=>t?t.ownerDocument.defaultView:null,$T=(t,e)=>Math.abs(t-e);function G6(t,e){const n=$T(t.x,e.x),r=$T(t.y,e.y);return Math.sqrt(n**2+r**2)}class F1{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Wp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=G6(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:_}=f,{timestamp:I}=vt;this.history.push({..._,timestamp:I});const{onStart:g,onMove:E}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=zp(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Wp(f.type==="pointercancel"?this.lastMoveEventInfo:zp(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,g),_&&_(f,g)},!Qw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=ku(e),l=zp(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=vt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Wp(l,this.history)),this.removeListeners=bu(ml(this.contextWindow,"pointermove",this.handlePointerMove),ml(this.contextWindow,"pointerup",this.handlePointerUp),ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function zp(t,e){return e?{point:e(t.point)}:t}function zT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wp({point:t},e){return{point:t,delta:zT(t,j1(e)),offset:zT(t,K6(e)),velocity:Q6(e,.1)}}function K6(t){return t[0]}function j1(t){return t[t.length-1]}function Q6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=j1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>lr(e)));)n--;if(!r)return{x:0,y:0};const s=In(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Y6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$e(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$e(n,t,r.max):Math.min(t,n)),t}function WT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function X6(t,{top:e,left:n,bottom:r,right:i}){return{x:WT(t.x,n,i),y:WT(t.y,e,r)}}function HT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function J6(t,e){return{x:HT(t.x,e.x),y:HT(t.y,e.y)}}function Z6(t,e){let n=.5;const r=zt(t),i=zt(e);return i>r?n=Ql(e.min,e.max-r,t.min):r>i&&(n=Ql(t.min,t.max-i,e.min)),zr(0,1,n)}function eW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gg=.35;function tW(t=Gg){return t===!1?t=0:t===!0&&(t=Gg),{x:qT(t,"left","right"),y:qT(t,"top","bottom")}}function qT(t,e,n){return{min:GT(t,e),max:GT(t,n)}}function GT(t,e){return typeof t=="number"?t:t[e]||0}const nW=new WeakMap;class rW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:_}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u9(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(g=>{let E=this.getAxisMotionValue(g).get()||0;if(ur.test(E)){const{projection:x}=this.visualElement;if(x&&x.layout){const R=x.layout.layoutBox[g];R&&(E=zt(R)*(parseFloat(E)/100))}}this.originPoint[g]=E}),_&&je.postRender(()=>_(h,f)),Hg(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:_,onDrag:I}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(w&&this.currentDirection===null){this.currentDirection=iW(g),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),I&&I(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>En(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new F1(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:L1(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&je.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Rc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Y6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=X6(r.layoutBox,e):this.constraints=!1,this.elastic=tW(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&En(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=eW(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=s6(r,i.root,this.visualElement.getTransformPagePoint());let o=J6(i.layout.layoutBox,s);if(n){const a=n(n6(o));this.hasMutatedConstraints=!!a,a&&(o=x1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=En(d=>{if(!Rc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Hg(this.visualElement,e),r.start(s_(e,r,0,n,this.visualElement,!1))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){En(n=>{const{drag:r}=this.getProps();if(!Rc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-$e(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};En(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Z6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),En(o=>{if(!Rc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set($e(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;nW.set(this.visualElement,this);const e=this.visualElement.current,n=ml(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();lo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(r);const o=eu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(En(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Gg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sW extends Ui{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new rW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const KT=t=>(e,n)=>{t&&je.postRender(()=>t(e,n))};class oW extends Ui{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new F1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:KT(e),onStart:KT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&je.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ml(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=QT(t,e.target.x),r=QT(t,e.target.y);return`${n}% ${r}%`}},aW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mi.parse(t);if(i.length>5)return r;const s=Mi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=$e(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Hp=!1;class lW extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;P9(uW),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Hp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Hp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Hp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function U1(t){const[e,n]=l1(),r=y.useContext(Cw);return S.jsx(lW,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(_1),isPresent:e,safeToRemove:n})}const uW={borderRadius:{...Fa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fa,borderTopRightRadius:Fa,borderBottomLeftRadius:Fa,borderBottomRightRadius:Fa,boxShadow:aW};function cW(t,e,n){const r=Dt(t)?t:Uo(t);return r.start(s_("",r,e,n)),r.animation}const dW=(t,e)=>t.depth-e.depth;class hW{constructor(){this.children=[],this.isDirty=!1}add(e){Rw(this.children,e),this.isDirty=!0}remove(e){Pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dW),this.isDirty=!1,this.children.forEach(e)}}function fW(t,e){const n=Zt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ki(r),t(s-e))};return je.setup(r,!0),()=>ki(r)}const B1=["TopLeft","TopRight","BottomLeft","BottomRight"],pW=B1.length,YT=t=>typeof t=="string"?parseFloat(t):t,XT=t=>typeof t=="number"||le.test(t);function mW(t,e,n,r,i,s){i?(t.opacity=$e(0,n.opacity??1,gW(r)),t.opacityExit=$e(e.opacity??1,0,yW(r))):s&&(t.opacity=$e(e.opacity??1,n.opacity??1,r));for(let o=0;o<pW;o++){const a=`border${B1[o]}Radius`;let l=JT(e,a),u=JT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||XT(l)===XT(u)?(t[a]=Math.max($e(YT(l),YT(u),r),0),(ur.test(u)||ur.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=$e(e.rotate||0,n.rotate||0,r))}function JT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gW=$1(0,.5,bP),yW=$1(.5,.95,bn);function $1(t,e,n){return r=>r<t?0:r>e?1:n(Ql(t,e,r))}function ZT(t,e){t.min=e.min,t.max=e.max}function _n(t,e){ZT(t.x,e.x),ZT(t.y,e.y)}function eS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tS(t,e,n,r,i){return t-=e,t=ph(t,1/n,r),i!==void 0&&(t=ph(t,1/i,r)),t}function vW(t,e=0,n=1,r=.5,i,s=t,o=t){if(ur.test(e)&&(e=parseFloat(e),e=$e(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$e(s.min,s.max,r);t===s&&(a-=e),t.min=tS(t.min,e,n,a,i),t.max=tS(t.max,e,n,a,i)}function nS(t,e,[n,r,i],s,o){vW(t,e[n],e[r],e[i],e.scale,s,o)}const wW=["x","scaleX","originX"],_W=["y","scaleY","originY"];function rS(t,e,n,r){nS(t.x,e,wW,n?n.x:void 0,r?r.x:void 0),nS(t.y,e,_W,n?n.y:void 0,r?r.y:void 0)}function iS(t){return t.translate===0&&t.scale===1}function z1(t){return iS(t.x)&&iS(t.y)}function sS(t,e){return t.min===e.min&&t.max===e.max}function EW(t,e){return sS(t.x,e.x)&&sS(t.y,e.y)}function oS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function W1(t,e){return oS(t.x,e.x)&&oS(t.y,e.y)}function aS(t){return zt(t.x)/zt(t.y)}function lS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xW{constructor(){this.members=[]}add(e){Rw(this.members,e),e.scheduleRender()}remove(e){if(Pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TW(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qp=["","X","Y","Z"],SW=1e3;let IW=0;function Gp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function H1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",je,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&H1(r)}function q1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=IW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bW),this.nodes.forEach(MW),this.nodes.forEach(NW),this.nodes.forEach(RW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Nw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=a1(o)&&!m9(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;je.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=fW(f,250),dd.hasAnimatedSinceResize&&(dd.hasAnimatedSinceResize=!1,this.nodes.forEach(dS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||FW,{onLayoutAnimationStart:_,onLayoutAnimationComplete:I}=u.getProps(),g=!this.targetLayout||!W1(this.targetLayout,m),E=!h&&f;if(this.options.layoutRoot||this.resumeFrom||E||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...qw(w,"layout"),onPlay:_,onComplete:I};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,E)}else h||dS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kW),this.nodes.forEach(CW),this.nodes.forEach(AW)):this.nodes.forEach(cS),this.clearAllSnapshots();const a=Zt.now();vt.delta=zr(0,1e3/60,a-vt.timestamp),vt.timestamp=a,vt.isProcessing=!0,Op.update.process(vt),Op.preRender.process(vt),Op.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PW),this.sharedNodes.forEach(OW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zt(this.snapshot.measuredBox.x)&&!zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!z1(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Xi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(UW))){const{scroll:d}=this.root;d&&(uo(a.x,d.offset.x),uo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(_n(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&_n(a,o),uo(a.x,h.offset.x),uo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();_n(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&co(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xi(d.latestValues)&&co(l,d.latestValues)}return Xi(this.latestValues)&&co(l,this.latestValues),l}removeTransform(o){const a=Qe();_n(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xi(u.latestValues))continue;Bg(u.latestValues)&&u.updateSnapshot();const d=Qe(),h=u.measurePageBox();_n(d,h),rS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xi(this.latestValues)&&rS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),yl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),S1(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),yl(this.relativeTargetOrigin,this.target,m.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||T1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;_n(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;i6(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eS(this.prevProjectionDelta.x,this.projectionDelta.x),eS(this.prevProjectionDelta.y,this.projectionDelta.y)),gl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!lS(this.projectionDelta.x,this.prevProjectionDelta.x)||!lS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=m!==w,I=this.getStack(),g=!I||I.members.length<=1,E=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(LW));this.animationProgress=0;let x;this.mixTargetDelta=R=>{const M=R/1e3;hS(h.x,o.x,M),hS(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VW(this.relativeTarget,this.relativeTargetOrigin,f,M),x&&EW(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Qe()),_n(x,this.relativeTarget)),_&&(this.animationValues=d,mW(d,u,this.latestValues,M,E,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=cW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&G1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qe();const h=zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}_n(a,l),co(a,d),gl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xW),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Gp("z",o,u,this.animationValues);for(let d=0;d<qp.length;d++)Gp(`rotate${qp[d]}`,o,u,this.animationValues),Gp(`skew${qp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=TW(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Zl){if(d[w]===void 0)continue;const{correct:_,applyTo:I,isCSSVariable:g}=Zl[w],E=h==="none"?d[w]:_(d[w],u);if(I){const x=I.length;for(let R=0;R<x;R++)o[I[R]]=E}else g?this.options.visualElement.renderState.vars[w]=E:o[w]=E}this.options.layoutId&&(o.pointerEvents=u===this?cd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(uS),this.root.sharedNodes.clear()}}}function CW(t){t.updateLayout()}function AW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?En(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=zt(f);f.min=r[h].min,f.max=f.min+m}):G1(s,e.layoutBox,r)&&En(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=zt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=ho();gl(a,r,e.layoutBox);const l=ho();o?gl(l,t.applyTransform(i,!0),e.measuredBox):gl(l,r,e.layoutBox);const u=!z1(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=Qe();yl(w,e.layoutBox,f.layoutBox);const _=Qe();yl(_,r,m.layoutBox),W1(w,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PW(t){t.clearSnapshot()}function uS(t){t.clearMeasurements()}function cS(t){t.isLayoutDirty=!1}function kW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MW(t){t.resolveTargetDelta()}function NW(t){t.calcProjection()}function DW(t){t.resetSkewAndRotation()}function OW(t){t.removeLeadSnapshot()}function hS(t,e,n){t.translate=$e(e.translate,0,n),t.scale=$e(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fS(t,e,n,r){t.min=$e(e.min,n.min,r),t.max=$e(e.max,n.max,r)}function VW(t,e,n,r){fS(t.x,e.x,n.x,r),fS(t.y,e.y,n.y,r)}function LW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const FW={duration:.45,ease:[.4,0,.1,1]},pS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mS=pS("applewebkit/")&&!pS("chrome/")?Math.round:bn;function gS(t){t.min=mS(t.min),t.max=mS(t.max)}function jW(t){gS(t.x),gS(t.y)}function G1(t,e,n){return t==="position"||t==="preserve-aspect"&&!H6(aS(e),aS(n),.2)}function UW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const BW=q1({attachResizeListener:(t,e)=>eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kp={current:void 0},K1=q1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kp.current){const t=new BW({});t.mount(window),t.setOptions({layoutScroll:!0}),Kp.current=t}return Kp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$W={pan:{Feature:oW},drag:{Feature:sW,ProjectionNode:K1,MeasureLayout:U1}};function yS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&je.postRender(()=>s(e,ku(e)))}class zW extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=c9(e,(n,r)=>(yS(this.node,r,"Start"),i=>yS(this.node,i,"End"))))}unmount(){}}class WW extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(eu(this.node.current,"focus",()=>this.onFocus()),eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&je.postRender(()=>s(e,ku(e)))}class HW extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=p9(e,(n,r)=>(vS(this.node,r,"Start"),(i,{success:s})=>vS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kg=new WeakMap,Qp=new WeakMap,qW=t=>{const e=Kg.get(t.target);e&&e(t)},GW=t=>{t.forEach(qW)};function KW({root:t,...e}){const n=t||document;Qp.has(n)||Qp.set(n,{});const r=Qp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(GW,{root:t,...e})),r[i]}function QW(t,e,n){const r=KW(e);return Kg.set(t,n),r.observe(t),()=>{Kg.delete(t),r.unobserve(t)}}const YW={some:0,all:1};class XW extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YW[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return QW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JW(e,n))&&this.startObserver()}unmount(){}}function JW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZW={inView:{Feature:XW},tap:{Feature:HW},focus:{Feature:WW},hover:{Feature:zW}},eH={layout:{ProjectionNode:K1,MeasureLayout:U1}},tH={...j6,...ZW,...$W,...eH},er=t6(tH,p6);function vf(){return S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-primary bg-background",children:[S.jsx(er.img,{src:"/icons/favicon.svg",alt:"Surchope",className:"w-40 h-40 drop-shadow-[0_4px_10px_hsl(var(--primary)/0.4)]",animate:{scale:[1,1.15,1],opacity:[.8,1,.8]},transition:{duration:1.2,ease:"easeInOut",repeat:1/0}}),S.jsx(er.p,{className:"mt-10 text-xl sm:text-2xl font-semibold text-primary drop-shadow-sm",initial:{opacity:0},animate:{opacity:1},transition:{duration:1.3,repeat:1/0,repeatType:"reverse"},children:"Ça surchope fort… 💘"})]})}function nH({name:t,onClose:e}){const[n,r]=y.useState(!0),[i,s]=y.useState(null);return y.useEffect(()=>{if(!t)return;(async()=>{var a,l,u;try{const d=await fetch(`https://fr.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(t)}`);if(!d.ok)throw new Error("Pas d'info trouvée");const h=await d.json();s({title:h.title,summary:h.extract,image:(a=h.thumbnail)==null?void 0:a.source,source:(u=(l=h.content_urls)==null?void 0:l.desktop)==null?void 0:u.page})}catch{s(null)}finally{r(!1)}})()},[t]),S.jsx(hh,{children:S.jsx(er.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:S.jsxs(er.div,{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 max-w-sm w-full shadow-lg relative overflow-hidden animate-fadeIn",initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.25,ease:"easeOut"},onClick:o=>o.stopPropagation(),children:[S.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2",title:"Fermer",children:S.jsx(gP,{size:18})}),S.jsx("div",{className:"min-h-[250px] flex flex-col items-center justify-center text-center",children:S.jsx(hh,{mode:"wait",children:n?S.jsx(er.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:S.jsx(vf,{})},"loader"):i?S.jsxs(er.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-col items-center text-center",children:[i.image&&S.jsx("img",{src:i.image,alt:i.title,className:"max-w-full max-h-64 rounded-lg mb-3 object-contain border border-border"}),S.jsx("h2",{className:"text-lg font-semibold text-primary mb-1",children:i.title}),S.jsxs("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:[i.summary.slice(0,200),"..."]}),S.jsx("a",{href:i.source,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-sm font-medium underline underline-offset-2 transition",children:"Voir sur Wikipédia"})]},"content"):S.jsx(er.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-muted-foreground",children:"Aucune information trouvée 😅"},"noinfo")})})]},"modal")},"backdrop")})}function rH({couple:t,user:e,onDelete:n,compact:r}){const i=(e==null?void 0:e.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",s=async o=>{o.stopPropagation();const l=`${window.location.origin}/couple/${t.id}`,u=`💘 Vote pour ce couple sur Surchope : ${t.personA.display_name} & ${t.personB.display_name} 😏`;if(navigator.share)try{await navigator.share({title:"Surchope 💘",text:u,url:l});return}catch(w){console.log("Partage annulé :",w)}const h=`https://wa.me/?text=${encodeURIComponent(`${u}
👉 ${l}`)}`,f="https://www.instagram.com/",m=window.prompt(`Choisis où partager 💬

1️⃣ WhatsApp
2️⃣ Instagram

Tape 1 ou 2 :`);m==="1"&&window.open(h,"_blank"),m==="2"&&window.open(f,"_blank")};return S.jsxs("div",{className:"flex items-center gap-3 opacity-80 hover:opacity-100 transition",children:[i&&n&&S.jsx("button",{onClick:o=>{o.stopPropagation(),confirm("Supprimer ce couple et les données associées ?")&&n(t.id,e.uid)},title:"Supprimer ce couple",className:"p-1.5 rounded-full text-destructive/80 hover:text-destructive focus:outline-none focus:ring-2 focus:ring-[hsl(var(--destructive))]/40 transition active:scale-95",children:S.jsx(mP,{size:18})}),!r&&S.jsx("button",{onClick:s,title:"Partager",className:"p-1.5 rounded-full text-primary hover:text-primary/80 hover:bg-primary/10 transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/40",children:S.jsx(m5,{size:20,strokeWidth:2.1})})]})}function iH({couple:t}){const[e,n]=y.useState(0),[r,i]=y.useState(0),[s,o]=y.useState(null),a=t.countA||0,l=t.countB||0,u=Math.max(1,a+l),d=a/u*100,h=l/u*100,f=a>l?{name:t.personA.display_name,pct:d,color:"text-primary"}:l>a?{name:t.personB.display_name,pct:h,color:"text-accent-foreground"}:null;return y.useEffect(()=>{const m=e,w=r,_=d,I=h,g=1100,E=performance.now(),x=R=>{const M=R-E,L=Math.min(M/g,1),C=1-Math.cos(L*Math.PI/2);n(m+(_-m)*C),i(w+(I-w)*C),L<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},[d,h]),S.jsxs("div",{className:"w-full mt-3 select-none",children:[S.jsxs("div",{className:"relative w-full h-4 bg-muted rounded-full overflow-visible shadow-inner",children:[a>0&&S.jsx("div",{className:`absolute left-0 top-0 bottom-0 rounded-l-full transition-all duration-300 ease-out ${s==="A"?"scale-y-150 shadow-md":"scale-y-100"} ${l===0?"rounded-r-full":""}`,style:{width:`${e}%`,background:"hsl(var(--primary))",transformOrigin:"bottom",zIndex:2},onMouseEnter:()=>o("A"),onMouseLeave:()=>o(null),onTouchStart:()=>o("A"),onTouchEnd:()=>o(null),children:s==="A"&&S.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs font-semibold text-primary bg-background border border-border rounded-full px-2 py-0.5 shadow-md whitespace-nowrap z-20 scale-y-75",children:[a," votes"]})}),l>0&&S.jsx("div",{className:`absolute right-0 top-0 bottom-0 rounded-r-full transition-all duration-300 ease-out ${s==="B"?"scale-y-150 shadow-md":"scale-y-100"} ${a===0?"rounded-l-full":""}`,style:{width:`${r}%`,background:"hsl(var(--secondary))",transformOrigin:"bottom",zIndex:1},onMouseEnter:()=>o("B"),onMouseLeave:()=>o(null),onTouchStart:()=>o("B"),onTouchEnd:()=>o(null),children:s==="B"&&S.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs font-semibold text-secondary bg-background border border-border rounded-full px-2 py-0.5 shadow-md whitespace-nowrap z-20 scale-y-75",children:[l," votes"]})})]}),S.jsx("div",{className:"text-xs mt-2 text-center text-muted-foreground",children:f?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:`font-semibold ${f.color}`,children:f.name})," ","surchope à"," ",S.jsxs("span",{className:"text-foreground font-medium",children:[Math.round(f.pct)," %"]})]}):S.jsx("span",{className:"text-muted-foreground italic",children:"Égalité parfaite 😳"})})]})}function sH({couple:t,myChoice:e,onlyMyVotes:n,onSelectPerson:r}){const i=(o,a)=>{const l=e===a;return S.jsxs("div",{className:"flex items-center gap-2 flex-col cursor-pointer relative",onClick:()=>r(o.display_name),children:[l&&S.jsx("div",{className:"absolute w-28 h-28 md:w-36 md:h-36 rounded-full bg-primary/25 blur-md animate-pulse-ring -z-10"}),S.jsx("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden flex items-center justify-center transition-transform duration-300 bg-muted hover:scale-105 ${l?"ring-4 ring-primary shadow-md":""}`,children:o.image_url?S.jsx("img",{src:o.image_url,alt:o.display_name,className:"object-cover w-full h-full"}):S.jsx("span",{className:"text-lg font-semibold text-muted-foreground",children:o.display_name[0]})}),S.jsx("div",{className:`font-medium text-base text-center transition-colors duration-200 ${l?"text-primary":"text-card-foreground hover:text-primary/80"}`,children:o.display_name})]},a)},s=e==="A"?`${t.personA.display_name} surchope 💘`:e==="B"?`${t.personB.display_name} surchope 💘`:"égalité parfaite 😳";return S.jsxs(S.Fragment,{children:[S.jsx("style",{children:`
          @keyframes pulse-ring {
            0% { transform: scale(0.9); opacity: 0.6; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.9); opacity: 0.6; }
          }
          .animate-pulse-ring {
            animation: pulse-ring 1.6s infinite ease-in-out;
          }
        `}),S.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4 relative",children:[i(t.personA,"A"),S.jsx("span",{className:"text-muted-foreground text-lg font-semibold select-none",children:"vs"}),i(t.personB,"B")]}),S.jsx("div",{className:"w-48 mt-3",children:n?S.jsxs("div",{className:"text-xs text-center text-muted-foreground italic",children:["Pour toi, ",S.jsx("span",{className:"text-primary font-medium",children:s})]}):S.jsx(iH,{couple:t})})]})}function oH({couple:t,user:e,canVote:n,myChoice:r,onVote:i}){const[s,o]=y.useState(null),a=h=>{!n||!i||(o(h),i(t,h),setTimeout(()=>o(null),700))},l="flex-1 px-3 py-2 rounded-full border font-medium text-sm transition-all duration-200 ease-out active:scale-95 text-center focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/50 focus:ring-offset-2",u=n?"":"opacity-60 cursor-not-allowed",d=h=>s!==h?"":h==="tie"?"animate-[pop_0.4s_ease-out] bg-secondary/10 border-secondary text-secondary":"animate-[pop_0.4s_ease-out] bg-primary/10 border-primary text-primary shadow-sm";return S.jsxs(S.Fragment,{children:[S.jsx("style",{children:`
          @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.12); }
            100% { transform: scale(1); }
          }
        `}),S.jsxs("div",{className:"mt-4 flex gap-3 justify-center w-full",children:[S.jsx("button",{disabled:!n,onClick:()=>a("A"),className:`${l} ${r==="A"?"bg-primary/10 border-primary text-primary":"bg-background border-border text-foreground hover:bg-muted"} ${d("A")} ${u}`,children:t.personA.display_name}),S.jsx("button",{disabled:!n,onClick:()=>a("tie"),className:`${l} max-w-[120px] ${r==="tie"?"bg-secondary/10 border-secondary text-secondary":"bg-background border-border text-muted-foreground hover:bg-muted"} ${d("tie")} ${u}`,children:"Égalité"}),S.jsx("button",{disabled:!n,onClick:()=>a("B"),className:`${l} ${r==="B"?"bg-primary/10 border-primary text-primary":"bg-background border-border text-foreground hover:bg-muted"} ${d("B")} ${u}`,children:t.personB.display_name})]})]})}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wf(...t){return e=>{let n=!1;const r=t.map(i=>{const s=wS(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():wS(t[i],null)}}}}function sn(...t){return y.useCallback(wf(...t),t)}function Mu(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var g;const{scope:f,children:m,...w}=h,_=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,I=y.useMemo(()=>w,Object.values(w));return S.jsx(_.Provider,{value:I,children:m})};u.displayName=s+"Provider";function d(h,f){var _;const m=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,w=y.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,aH(i,...e)]}function aH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ni=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},lH=mI[" useInsertionEffect ".trim().toString()]||Ni;function Q1({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=uH({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const f=cH(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,u]}function uH({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),i=y.useRef(n),s=y.useRef(e);return lH(()=>{s.current=e},[e]),y.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function cH(t){return typeof t=="function"}function mh(t){const e=dH(t),n=y.forwardRef((r,i)=>{const{children:s,...o}=r,a=y.Children.toArray(s),l=a.find(fH);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return S.jsx(e,{...o,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return S.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function dH(t){const e=y.forwardRef((n,r)=>{const{children:i,...s}=n;if(y.isValidElement(i)){const o=mH(i),a=pH(s,i.props);return i.type!==y.Fragment&&(a.ref=r?wf(r,o):o),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hH=Symbol("radix.slottable");function fH(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hH}function pH(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function mH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gt=gH.reduce((t,e)=>{const n=mh(`Primitive.${e}`),r=y.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Y1(t,e){t&&Fh.flushSync(()=>t.dispatchEvent(e))}function X1(t){const e=t+"CollectionProvider",[n,r]=Mu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:I,children:g}=_,E=_r.useRef(null),x=_r.useRef(new Map).current;return S.jsx(i,{scope:I,itemMap:x,collectionRef:E,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=mh(a),u=_r.forwardRef((_,I)=>{const{scope:g,children:E}=_,x=s(a,g),R=sn(I,x.collectionRef);return S.jsx(l,{ref:R,children:E})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=mh(d),m=_r.forwardRef((_,I)=>{const{scope:g,children:E,...x}=_,R=_r.useRef(null),M=sn(I,R),L=s(d,g);return _r.useEffect(()=>(L.itemMap.set(R,{ref:R,...x}),()=>void L.itemMap.delete(R))),S.jsx(f,{[h]:"",ref:M,children:E})});m.displayName=d;function w(_){const I=s(t+"CollectionConsumer",_);return _r.useCallback(()=>{const E=I.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(I.itemMap.values()).sort((L,C)=>x.indexOf(L.ref.current)-x.indexOf(C.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,r]}var yH=y.createContext(void 0);function J1(t){const e=y.useContext(yH);return t||e||"ltr"}function Hr(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function vH(t,e=globalThis==null?void 0:globalThis.document){const n=Hr(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var wH="DismissableLayer",Qg="dismissableLayer.update",_H="dismissableLayer.pointerDownOutside",EH="dismissableLayer.focusOutside",_S,Z1=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ek=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(Z1),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),w=sn(e,C=>h(C)),_=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(I),E=d?_.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,R=E>=g,M=SH(C=>{const T=C.target,A=[...u.branches].some(P=>P.contains(T));!R||A||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),L=IH(C=>{const T=C.target;[...u.branches].some(P=>P.contains(T))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return vH(C=>{E===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_S=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ES(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_S)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ES())},[d,u]),y.useEffect(()=>{const C=()=>m({});return document.addEventListener(Qg,C),()=>document.removeEventListener(Qg,C)},[]),S.jsx(Gt.div,{...l,ref:w,style:{pointerEvents:x?R?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,M.onPointerDownCapture)})});ek.displayName=wH;var xH="DismissableLayerBranch",TH=y.forwardRef((t,e)=>{const n=y.useContext(Z1),r=y.useRef(null),i=sn(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),S.jsx(Gt.div,{...t,ref:i})});TH.displayName=xH;function SH(t,e=globalThis==null?void 0:globalThis.document){const n=Hr(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){tk(_H,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function IH(t,e=globalThis==null?void 0:globalThis.document){const n=Hr(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&tk(EH,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ES(){const t=new CustomEvent(Qg);document.dispatchEvent(t)}function tk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Y1(i,s):i.dispatchEvent(s)}var Yp=0;function CH(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xS()),document.body.insertAdjacentElement("beforeend",t[1]??xS()),Yp++,()=>{Yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yp--}},[])}function xS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xp="focusScope.autoFocusOnMount",Jp="focusScope.autoFocusOnUnmount",TS={bubbles:!1,cancelable:!0},AH="FocusScope",nk=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),u=Hr(i),d=Hr(s),h=y.useRef(null),f=sn(e,_=>l(_)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let _=function(x){if(m.paused||!a)return;const R=x.target;a.contains(R)?h.current=R:ii(h.current,{select:!0})},I=function(x){if(m.paused||!a)return;const R=x.relatedTarget;R!==null&&(a.contains(R)||ii(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const M of x)M.removedNodes.length>0&&ii(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",I);const E=new MutationObserver(g);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",I),E.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){IS.add(m);const _=document.activeElement;if(!a.contains(_)){const g=new CustomEvent(Xp,TS);a.addEventListener(Xp,u),a.dispatchEvent(g),g.defaultPrevented||(bH(NH(rk(a)),{select:!0}),document.activeElement===_&&ii(a))}return()=>{a.removeEventListener(Xp,u),setTimeout(()=>{const g=new CustomEvent(Jp,TS);a.addEventListener(Jp,d),a.dispatchEvent(g),g.defaultPrevented||ii(_??document.body,{select:!0}),a.removeEventListener(Jp,d),IS.remove(m)},0)}}},[a,u,d,m]);const w=y.useCallback(_=>{if(!n&&!r||m.paused)return;const I=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,g=document.activeElement;if(I&&g){const E=_.currentTarget,[x,R]=RH(E);x&&R?!_.shiftKey&&g===R?(_.preventDefault(),n&&ii(x,{select:!0})):_.shiftKey&&g===x&&(_.preventDefault(),n&&ii(R,{select:!0})):g===E&&_.preventDefault()}},[n,r,m.paused]);return S.jsx(Gt.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});nk.displayName=AH;function bH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ii(r,{select:e}),document.activeElement!==n)return}function RH(t){const e=rk(t),n=SS(e,t),r=SS(e.reverse(),t);return[n,r]}function rk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SS(t,e){for(const n of t)if(!PH(n,{upTo:e}))return n}function PH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kH(t){return t instanceof HTMLInputElement&&"select"in t}function ii(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kH(t)&&e&&t.select()}}var IS=MH();function MH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=CS(t,e),t.unshift(e)},remove(e){var n;t=CS(t,e),(n=t[0])==null||n.resume()}}}function CS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function NH(t){return t.filter(e=>e.tagName!=="A")}var DH=mI[" useId ".trim().toString()]||(()=>{}),OH=0;function Yg(t){const[e,n]=y.useState(DH());return Ni(()=>{n(r=>r??String(OH++))},[t]),e?`radix-${e}`:""}const VH=["top","right","bottom","left"],Di=Math.min,un=Math.max,gh=Math.round,Pc=Math.floor,cr=t=>({x:t,y:t}),LH={left:"right",right:"left",bottom:"top",top:"bottom"},FH={start:"end",end:"start"};function Xg(t,e,n){return un(t,Di(e,n))}function qr(t,e){return typeof t=="function"?t(e):t}function Gr(t){return t.split("-")[0]}function aa(t){return t.split("-")[1]}function o_(t){return t==="x"?"y":"x"}function a_(t){return t==="y"?"height":"width"}const jH=new Set(["top","bottom"]);function nr(t){return jH.has(Gr(t))?"y":"x"}function l_(t){return o_(nr(t))}function UH(t,e,n){n===void 0&&(n=!1);const r=aa(t),i=l_(t),s=a_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=yh(o)),[o,yh(o)]}function BH(t){const e=yh(t);return[Jg(t),e,Jg(e)]}function Jg(t){return t.replace(/start|end/g,e=>FH[e])}const AS=["left","right"],bS=["right","left"],$H=["top","bottom"],zH=["bottom","top"];function WH(t,e,n){switch(t){case"top":case"bottom":return n?e?bS:AS:e?AS:bS;case"left":case"right":return e?$H:zH;default:return[]}}function HH(t,e,n,r){const i=aa(t);let s=WH(Gr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Jg)))),s}function yh(t){return t.replace(/left|right|bottom|top/g,e=>LH[e])}function qH(t){return{top:0,right:0,bottom:0,left:0,...t}}function ik(t){return typeof t!="number"?qH(t):{top:t,right:t,bottom:t,left:t}}function vh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function RS(t,e,n){let{reference:r,floating:i}=t;const s=nr(e),o=l_(e),a=a_(o),l=Gr(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(aa(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const GH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=RS(u,r,l),f=r,m={},w=0;for(let _=0;_<a.length;_++){const{name:I,fn:g}=a[_],{x:E,y:x,data:R,reset:M}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=x??h,m={...m,[I]:{...m[I],...R}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:d,y:h}=RS(u,f,l)),_=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function tu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=qr(e,t),w=ik(m),I=a[f?h==="floating"?"reference":"floating":h],g=vh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},M=vh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:x,strategy:l}):E);return{top:(g.top-M.top+w.top)/R.y,bottom:(M.bottom-g.bottom+w.bottom)/R.y,left:(g.left-M.left+w.left)/R.x,right:(M.right-g.right+w.right)/R.x}}const KH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=qr(t,e)||{};if(u==null)return{};const h=ik(d),f={x:n,y:r},m=l_(i),w=a_(m),_=await o.getDimensions(u),I=m==="y",g=I?"top":"left",E=I?"bottom":"right",x=I?"clientHeight":"clientWidth",R=s.reference[w]+s.reference[m]-f[m]-s.floating[w],M=f[m]-s.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=L?L[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[x]||s.floating[w]);const T=R/2-M/2,A=C/2-_[w]/2-1,P=Di(h[g],A),N=Di(h[E],A),V=P,k=C-_[w]-N,oe=C/2-_[w]/2+T,me=Xg(V,oe,k),ae=!l.arrow&&aa(i)!=null&&oe!==me&&s.reference[w]/2-(oe<V?P:N)-_[w]/2<0,te=ae?oe<V?oe-V:oe-k:0;return{[m]:f[m]+te,data:{[m]:me,centerOffset:oe-me-te,...ae&&{alignmentOffset:te}},reset:ae}}}),QH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...I}=qr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Gr(i),E=nr(a),x=Gr(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=f||(x||!_?[yh(a)]:BH(a)),L=w!=="none";!f&&L&&M.push(...HH(a,_,w,R));const C=[a,...M],T=await tu(e,I),A=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[g]),h){const oe=UH(i,o,R);A.push(T[oe[0]],T[oe[1]])}if(P=[...P,{placement:i,overflows:A}],!A.every(oe=>oe<=0)){var N,V;const oe=(((N=s.flip)==null?void 0:N.index)||0)+1,me=C[oe];if(me&&(!(h==="alignment"?E!==nr(me):!1)||P.every(F=>nr(F.placement)===E?F.overflows[0]>0:!0)))return{data:{index:oe,overflows:P},reset:{placement:me}};let ae=(V=P.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:V.placement;if(!ae)switch(m){case"bestFit":{var k;const te=(k=P.filter(F=>{if(L){const B=nr(F.placement);return B===E||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,O)=>B+O,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:k[0];te&&(ae=te);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function PS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kS(t){return VH.some(e=>t[e]>=0)}const YH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qr(t,e);switch(r){case"referenceHidden":{const s=await tu(e,{...i,elementContext:"reference"}),o=PS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kS(o)}}}case"escaped":{const s=await tu(e,{...i,altBoundary:!0}),o=PS(s,n.floating);return{data:{escapedOffsets:o,escaped:kS(o)}}}default:return{}}}}},sk=new Set(["left","top"]);async function XH(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gr(n),a=aa(n),l=nr(n)==="y",u=sk.has(o)?-1:1,d=s&&l?-1:1,h=qr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const JH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await XH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},ZH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:g,y:E}=I;return{x:g,y:E}}},...l}=qr(t,e),u={x:n,y:r},d=await tu(e,l),h=nr(Gr(i)),f=o_(h);let m=u[f],w=u[h];if(s){const I=f==="y"?"top":"left",g=f==="y"?"bottom":"right",E=m+d[I],x=m-d[g];m=Xg(E,m,x)}if(o){const I=h==="y"?"top":"left",g=h==="y"?"bottom":"right",E=w+d[I],x=w-d[g];w=Xg(E,w,x)}const _=a.fn({...e,[f]:m,[h]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[f]:s,[h]:o}}}}}},eq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=qr(t,e),d={x:n,y:r},h=nr(i),f=o_(h);let m=d[f],w=d[h];const _=qr(a,e),I=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const x=f==="y"?"height":"width",R=s.reference[f]-s.floating[x]+I.mainAxis,M=s.reference[f]+s.reference[x]-I.mainAxis;m<R?m=R:m>M&&(m=M)}if(u){var g,E;const x=f==="y"?"width":"height",R=sk.has(Gr(i)),M=s.reference[h]-s.floating[x]+(R&&((g=o.offset)==null?void 0:g[h])||0)+(R?0:I.crossAxis),L=s.reference[h]+s.reference[x]+(R?0:((E=o.offset)==null?void 0:E[h])||0)-(R?I.crossAxis:0);w<M?w=M:w>L&&(w=L)}return{[f]:m,[h]:w}}}},tq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=qr(t,e),d=await tu(e,u),h=Gr(i),f=aa(i),m=nr(i)==="y",{width:w,height:_}=s.floating;let I,g;h==="top"||h==="bottom"?(I=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,I=f==="end"?"top":"bottom");const E=_-d.top-d.bottom,x=w-d.left-d.right,R=Di(_-d[I],E),M=Di(w-d[g],x),L=!e.middlewareData.shift;let C=R,T=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=E),L&&!f){const P=un(d.left,0),N=un(d.right,0),V=un(d.top,0),k=un(d.bottom,0);m?T=w-2*(P!==0||N!==0?P+N:un(d.left,d.right)):C=_-2*(V!==0||k!==0?V+k:un(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const A=await o.getDimensions(a.floating);return w!==A.width||_!==A.height?{reset:{rects:!0}}:{}}}};function _f(){return typeof window<"u"}function la(t){return ok(t)?(t.nodeName||"").toLowerCase():"#document"}function gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mr(t){var e;return(e=(ok(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ok(t){return _f()?t instanceof Node||t instanceof gn(t).Node:!1}function qn(t){return _f()?t instanceof Element||t instanceof gn(t).Element:!1}function pr(t){return _f()?t instanceof HTMLElement||t instanceof gn(t).HTMLElement:!1}function MS(t){return!_f()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gn(t).ShadowRoot}const nq=new Set(["inline","contents"]);function Nu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nq.has(i)}const rq=new Set(["table","td","th"]);function iq(t){return rq.has(la(t))}const sq=[":popover-open",":modal"];function Ef(t){return sq.some(e=>{try{return t.matches(e)}catch{return!1}})}const oq=["transform","translate","scale","rotate","perspective"],aq=["transform","translate","scale","rotate","perspective","filter"],lq=["paint","layout","strict","content"];function u_(t){const e=c_(),n=qn(t)?Gn(t):t;return oq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||aq.some(r=>(n.willChange||"").includes(r))||lq.some(r=>(n.contain||"").includes(r))}function uq(t){let e=Oi(t);for(;pr(e)&&!$o(e);){if(u_(e))return e;if(Ef(e))return null;e=Oi(e)}return null}function c_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cq=new Set(["html","body","#document"]);function $o(t){return cq.has(la(t))}function Gn(t){return gn(t).getComputedStyle(t)}function xf(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oi(t){if(la(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MS(t)&&t.host||mr(t);return MS(e)?e.host:e}function ak(t){const e=Oi(t);return $o(e)?t.ownerDocument?t.ownerDocument.body:t.body:pr(e)&&Nu(e)?e:ak(e)}function nu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ak(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=gn(i);if(s){const a=Zg(o);return e.concat(o,o.visualViewport||[],Nu(i)?i:[],a&&n?nu(a):[])}return e.concat(i,nu(i,[],n))}function Zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lk(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=gh(n)!==s||gh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function d_(t){return qn(t)?t:t.contextElement}function So(t){const e=d_(t);if(!pr(e))return cr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lk(e);let o=(s?gh(n.width):n.width)/r,a=(s?gh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dq=cr(0);function uk(t){const e=gn(t);return!c_()||!e.visualViewport?dq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gn(t)?!1:e}function Is(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=d_(t);let o=cr(1);e&&(r?qn(r)&&(o=So(r)):o=So(t));const a=hq(s,n,r)?uk(s):cr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=gn(s),m=r&&qn(r)?gn(r):r;let w=f,_=Zg(w);for(;_&&r&&m!==w;){const I=So(_),g=_.getBoundingClientRect(),E=Gn(_),x=g.left+(_.clientLeft+parseFloat(E.paddingLeft))*I.x,R=g.top+(_.clientTop+parseFloat(E.paddingTop))*I.y;l*=I.x,u*=I.y,d*=I.x,h*=I.y,l+=x,u+=R,w=gn(_),_=Zg(w)}}return vh({width:d,height:h,x:l,y:u})}function Tf(t,e){const n=xf(t).scrollLeft;return e?e.left+n:Is(mr(t)).left+n}function ck(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Tf(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function fq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=mr(r),a=e?Ef(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=cr(1);const d=cr(0),h=pr(r);if((h||!h&&!s)&&((la(r)!=="body"||Nu(o))&&(l=xf(r)),pr(r))){const m=Is(r);u=So(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?ck(o,l):cr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function pq(t){return Array.from(t.getClientRects())}function mq(t){const e=mr(t),n=xf(t),r=t.ownerDocument.body,i=un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Tf(t);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=un(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const NS=25;function gq(t,e){const n=gn(t),r=mr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=c_();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Tf(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=NS&&(s-=w)}else u<=NS&&(s+=u);return{width:s,height:o,x:a,y:l}}const yq=new Set(["absolute","fixed"]);function vq(t,e){const n=Is(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=pr(t)?So(t):cr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function DS(t,e,n){let r;if(e==="viewport")r=gq(t,n);else if(e==="document")r=mq(mr(t));else if(qn(e))r=vq(e,n);else{const i=uk(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vh(r)}function dk(t,e){const n=Oi(t);return n===e||!qn(n)||$o(n)?!1:Gn(n).position==="fixed"||dk(n,e)}function wq(t,e){const n=e.get(t);if(n)return n;let r=nu(t,[],!1).filter(a=>qn(a)&&la(a)!=="body"),i=null;const s=Gn(t).position==="fixed";let o=s?Oi(t):t;for(;qn(o)&&!$o(o);){const a=Gn(o),l=u_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&yq.has(i.position)||Nu(o)&&!l&&dk(t,o))?r=r.filter(d=>d!==o):i=a,o=Oi(o)}return e.set(t,r),r}function _q(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Ef(e)?[]:wq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=DS(e,d,i);return u.top=un(h.top,u.top),u.right=Di(h.right,u.right),u.bottom=Di(h.bottom,u.bottom),u.left=un(h.left,u.left),u},DS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Eq(t){const{width:e,height:n}=lk(t);return{width:e,height:n}}function xq(t,e,n){const r=pr(e),i=mr(e),s=n==="fixed",o=Is(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=cr(0);function u(){l.x=Tf(i)}if(r||!r&&!s)if((la(e)!=="body"||Nu(i))&&(a=xf(e)),r){const m=Is(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?ck(i,a):cr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Zp(t){return Gn(t).position==="static"}function OS(t,e){if(!pr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mr(t)===n&&(n=n.ownerDocument.body),n}function hk(t,e){const n=gn(t);if(Ef(t))return n;if(!pr(t)){let i=Oi(t);for(;i&&!$o(i);){if(qn(i)&&!Zp(i))return i;i=Oi(i)}return n}let r=OS(t,e);for(;r&&iq(r)&&Zp(r);)r=OS(r,e);return r&&$o(r)&&Zp(r)&&!u_(r)?n:r||uq(t)||n}const Tq=async function(t){const e=this.getOffsetParent||hk,n=this.getDimensions,r=await n(t.floating);return{reference:xq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Sq(t){return Gn(t).direction==="rtl"}const Iq={convertOffsetParentRelativeRectToViewportRelativeRect:fq,getDocumentElement:mr,getClippingRect:_q,getOffsetParent:hk,getElementRects:Tq,getClientRects:pq,getDimensions:Eq,getScale:So,isElement:qn,isRTL:Sq};function fk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Cq(t,e){let n=null,r;const i=mr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const w=Pc(h),_=Pc(i.clientWidth-(d+f)),I=Pc(i.clientHeight-(h+m)),g=Pc(d),x={rootMargin:-w+"px "+-_+"px "+-I+"px "+-g+"px",threshold:un(0,Di(1,l))||1};let R=!0;function M(L){const C=L[0].intersectionRatio;if(C!==l){if(!R)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!fk(u,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(M,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,x)}n.observe(t)}return o(!0),s}function Aq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=d_(t),d=i||s?[...u?nu(u):[],...nu(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=u&&a?Cq(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[E]=g;E&&E.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let w,_=l?Is(t):null;l&&I();function I(){const g=Is(t);_&&!fk(_,g)&&n(),_=g,w=requestAnimationFrame(I)}return n(),()=>{var g;d.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const bq=JH,Rq=ZH,Pq=QH,kq=tq,Mq=YH,VS=KH,Nq=eq,Dq=(t,e,n)=>{const r=new Map,i={platform:Iq,...n},s={...i.platform,_c:r};return GH(t,e,{...i,platform:s})};var Oq=typeof document<"u",Vq=function(){},hd=Oq?y.useLayoutEffect:Vq;function wh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!wh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LS(t,e){const n=pk(t);return Math.round(e*n)/n}function em(t){const e=y.useRef(t);return hd(()=>{e.current=t}),e}function Lq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(r);wh(f,r)||m(r);const[w,_]=y.useState(null),[I,g]=y.useState(null),E=y.useCallback(F=>{F!==L.current&&(L.current=F,_(F))},[]),x=y.useCallback(F=>{F!==C.current&&(C.current=F,g(F))},[]),R=s||w,M=o||I,L=y.useRef(null),C=y.useRef(null),T=y.useRef(d),A=l!=null,P=em(l),N=em(i),V=em(u),k=y.useCallback(()=>{if(!L.current||!C.current)return;const F={placement:e,strategy:n,middleware:f};N.current&&(F.platform=N.current),Dq(L.current,C.current,F).then(B=>{const O={...B,isPositioned:V.current!==!1};oe.current&&!wh(T.current,O)&&(T.current=O,Fh.flushSync(()=>{h(O)}))})},[f,e,n,N,V]);hd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const oe=y.useRef(!1);hd(()=>(oe.current=!0,()=>{oe.current=!1}),[]),hd(()=>{if(R&&(L.current=R),M&&(C.current=M),R&&M){if(P.current)return P.current(R,M,k);k()}},[R,M,k,P,A]);const me=y.useMemo(()=>({reference:L,floating:C,setReference:E,setFloating:x}),[E,x]),ae=y.useMemo(()=>({reference:R,floating:M}),[R,M]),te=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!ae.floating)return F;const B=LS(ae.floating,d.x),O=LS(ae.floating,d.y);return a?{...F,transform:"translate("+B+"px, "+O+"px)",...pk(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:O}},[n,a,ae.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:me,elements:ae,floatingStyles:te}),[d,k,me,ae,te])}const Fq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VS({element:r.current,padding:i}).fn(n):{}:r?VS({element:r,padding:i}).fn(n):{}}}},jq=(t,e)=>({...bq(t),options:[t,e]}),Uq=(t,e)=>({...Rq(t),options:[t,e]}),Bq=(t,e)=>({...Nq(t),options:[t,e]}),$q=(t,e)=>({...Pq(t),options:[t,e]}),zq=(t,e)=>({...kq(t),options:[t,e]}),Wq=(t,e)=>({...Mq(t),options:[t,e]}),Hq=(t,e)=>({...Fq(t),options:[t,e]});var qq="Arrow",mk=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return S.jsx(Gt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});mk.displayName=qq;var Gq=mk;function Kq(t){const[e,n]=y.useState(void 0);return Ni(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var h_="Popper",[gk,yk]=Mu(h_),[Qq,vk]=gk(h_),wk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return S.jsx(Qq,{scope:e,anchor:r,onAnchorChange:i,children:n})};wk.displayName=h_;var _k="PopperAnchor",Ek=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=vk(_k,n),o=y.useRef(null),a=sn(e,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:S.jsx(Gt.div,{...i,ref:a})});Ek.displayName=_k;var f_="PopperContent",[Yq,Xq]=gk(f_),xk=y.forwardRef((t,e)=>{var G,ce,de,ye,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,..._}=t,I=vk(f_,n),[g,E]=y.useState(null),x=sn(e,Pe=>E(Pe)),[R,M]=y.useState(null),L=Kq(R),C=(L==null?void 0:L.width)??0,T=(L==null?void 0:L.height)??0,A=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],V=N.length>0,k={padding:P,boundary:N.filter(Zq),altBoundary:V},{refs:oe,floatingStyles:me,placement:ae,isPositioned:te,middlewareData:F}=Lq({strategy:"fixed",placement:A,whileElementsMounted:(...Pe)=>Aq(...Pe,{animationFrame:m==="always"}),elements:{reference:I.anchor},middleware:[jq({mainAxis:i+T,alignmentAxis:o}),l&&Uq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Bq():void 0,...k}),l&&$q({...k}),zq({...k,apply:({elements:Pe,rects:pe,availableWidth:Ze,availableHeight:It})=>{const{width:Ft,height:on}=pe.reference,jt=Pe.floating.style;jt.setProperty("--radix-popper-available-width",`${Ze}px`),jt.setProperty("--radix-popper-available-height",`${It}px`),jt.setProperty("--radix-popper-anchor-width",`${Ft}px`),jt.setProperty("--radix-popper-anchor-height",`${on}px`)}}),R&&Hq({element:R,padding:a}),eG({arrowWidth:C,arrowHeight:T}),f&&Wq({strategy:"referenceHidden",...k})]}),[B,O]=Ik(ae),D=Hr(w);Ni(()=>{te&&(D==null||D())},[te,D]);const W=(G=F.arrow)==null?void 0:G.x,q=(ce=F.arrow)==null?void 0:ce.y,Y=((de=F.arrow)==null?void 0:de.centerOffset)!==0,[ne,re]=y.useState();return Ni(()=>{g&&re(window.getComputedStyle(g).zIndex)},[g]),S.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:te?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ye=F.transformOrigin)==null?void 0:ye.x,(ve=F.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=F.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(Yq,{scope:n,placedSide:B,onArrowChange:M,arrowX:W,arrowY:q,shouldHideArrow:Y,children:S.jsx(Gt.div,{"data-side":B,"data-align":O,..._,ref:x,style:{..._.style,animation:te?void 0:"none"}})})})});xk.displayName=f_;var Tk="PopperArrow",Jq={top:"bottom",right:"left",bottom:"top",left:"right"},Sk=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Xq(Tk,r),o=Jq[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(Gq,{...i,ref:n,style:{...i.style,display:"block"}})})});Sk.displayName=Tk;function Zq(t){return t!==null}var eG=t=>({name:"transformOrigin",options:t,fn(e){var I,g,E;const{placement:n,rects:r,middlewareData:i}=e,o=((I=i.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=Ik(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let w="",_="";return u==="bottom"?(w=o?h:`${f}px`,_=`${-l}px`):u==="top"?(w=o?h:`${f}px`,_=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,_=o?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:w,y:_}}}});function Ik(t){const[e,n="center"]=t.split("-");return[e,n]}var tG=wk,nG=Ek,rG=xk,iG=Sk,sG="Portal",Ck=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);Ni(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Z2.createPortal(S.jsx(Gt.div,{...r,ref:e}),o):null});Ck.displayName=sG;function oG(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Du=t=>{const{present:e,children:n}=t,r=aG(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=sn(r.ref,lG(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Du.displayName="Presence";function aG(t){const[e,n]=y.useState(),r=y.useRef(null),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=oG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=kc(r.current);s.current=a==="mounted"?u:"none"},[a]),Ni(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,m=kc(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ni(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const _=kc(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&_&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},f=m=>{m.target===e&&(s.current=kc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function kc(t){return(t==null?void 0:t.animationName)||"none"}function lG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tm="rovingFocusGroup.onEntryFocus",uG={bubbles:!1,cancelable:!0},Ou="RovingFocusGroup",[ey,Ak,cG]=X1(Ou),[dG,bk]=Mu(Ou,[cG]),[hG,fG]=dG(Ou),Rk=y.forwardRef((t,e)=>S.jsx(ey.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(ey.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(pG,{...t,ref:e})})}));Rk.displayName=Ou;var pG=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),m=sn(e,f),w=J1(s),[_,I]=Q1({prop:o,defaultProp:a??null,onChange:l,caller:Ou}),[g,E]=y.useState(!1),x=Hr(u),R=Ak(n),M=y.useRef(!1),[L,C]=y.useState(0);return y.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(tm,x),()=>T.removeEventListener(tm,x)},[x]),S.jsx(hG,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:_,onItemFocus:y.useCallback(T=>I(T),[I]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>C(T=>T-1),[]),children:S.jsx(Gt.div,{tabIndex:g||L===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{M.current=!0}),onFocus:Se(t.onFocus,T=>{const A=!M.current;if(T.target===T.currentTarget&&A&&!g){const P=new CustomEvent(tm,uG);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=R().filter(ae=>ae.focusable),V=N.find(ae=>ae.active),k=N.find(ae=>ae.id===_),me=[V,k,...N].filter(Boolean).map(ae=>ae.ref.current);Mk(me,d)}}M.current=!1}),onBlur:Se(t.onBlur,()=>E(!1))})})}),Pk="RovingFocusGroupItem",kk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Yg(),u=s||l,d=fG(Pk,n),h=d.currentTabStopId===u,f=Ak(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:_}=d;return y.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),S.jsx(ey.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:S.jsx(Gt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Se(t.onMouseDown,I=>{r?d.onItemFocus(u):I.preventDefault()}),onFocus:Se(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Se(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){d.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const g=yG(I,d.orientation,d.dir);if(g!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let x=f().filter(R=>R.focusable).map(R=>R.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const R=x.indexOf(I.currentTarget);x=d.loop?vG(x,R+1):x.slice(R+1)}setTimeout(()=>Mk(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:_!=null}):o})})});kk.displayName=Pk;var mG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yG(t,e,n){const r=gG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mG[r]}function Mk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function vG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wG=Rk,_G=kk,EG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bs=new WeakMap,Mc=new WeakMap,Nc={},nm=0,Nk=function(t){return t&&(t.host||Nk(t.parentNode))},xG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Nk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},TG=function(t,e,n,r){var i=xG(e,Array.isArray(t)?t:[t]);Nc[n]||(Nc[n]=new WeakMap);var s=Nc[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",_=(Bs.get(f)||0)+1,I=(s.get(f)||0)+1;Bs.set(f,_),s.set(f,I),o.push(f),_===1&&w&&Mc.set(f,!0),I===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),a.clear(),nm++,function(){o.forEach(function(h){var f=Bs.get(h)-1,m=s.get(h)-1;Bs.set(h,f),s.set(h,m),f||(Mc.has(h)||h.removeAttribute(r),Mc.delete(h)),m||h.removeAttribute(n)}),nm--,nm||(Bs=new WeakMap,Bs=new WeakMap,Mc=new WeakMap,Nc={})}},SG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=EG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),TG(r,i,n,"aria-hidden")):function(){return null}},fd="right-scroll-bar-position",pd="width-before-scroll-bar",IG="with-scroll-bars-hidden",CG="--removed-body-scroll-bar-size";function rm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function AG(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bG=typeof window<"u"?y.useLayoutEffect:y.useEffect,FS=new WeakMap;function RG(t,e){var n=AG(null,function(r){return t.forEach(function(i){return rm(i,r)})});return bG(function(){var r=FS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||rm(a,null)}),s.forEach(function(a){i.has(a)||rm(a,o)})}FS.set(n,t)},[t]),n}function PG(t){return t}function kG(t,e){e===void 0&&(e=PG);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function MG(t){t===void 0&&(t={});var e=kG(null);return e.options=Ne({async:!0,ssr:!1},t),e}var Dk=function(t){var e=t.sideCar,n=pu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Ne({},n))};Dk.isSideCarExport=!0;function NG(t,e){return t.useMedium(e),Dk}var Ok=MG(),im=function(){},Sf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:im,onWheelCapture:im,onTouchMoveCapture:im}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,w=t.noIsolation,_=t.inert,I=t.allowPinchZoom,g=t.as,E=g===void 0?"div":g,x=t.gapMode,R=pu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,L=RG([n,e]),C=Ne(Ne({},R),i);return y.createElement(y.Fragment,null,d&&y.createElement(M,{sideCar:Ok,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:_,setCallbacks:s,allowPinchZoom:!!I,lockRef:n,gapMode:x}),o?y.cloneElement(y.Children.only(a),Ne(Ne({},C),{ref:L})):y.createElement(E,Ne({},C,{className:l,ref:L}),a))});Sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sf.classNames={fullWidth:pd,zeroRight:fd};var DG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DG();return e&&t.setAttribute("nonce",e),t}function VG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=OG())&&(VG(e,n),LG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jG=function(){var t=FG();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Vk=function(){var t=jG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},UG={left:0,top:0,right:0,gap:0},sm=function(t){return parseInt(t||"",10)||0},BG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[sm(n),sm(r),sm(i)]},$G=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return UG;var e=BG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zG=Vk(),Io="data-scroll-locked",WG=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Io,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fd," .").concat(fd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Io,`] {
    `).concat(CG,": ").concat(a,`px;
  }
`)},jS=function(){var t=parseInt(document.body.getAttribute(Io)||"0",10);return isFinite(t)?t:0},HG=function(){y.useEffect(function(){return document.body.setAttribute(Io,(jS()+1).toString()),function(){var t=jS()-1;t<=0?document.body.removeAttribute(Io):document.body.setAttribute(Io,t.toString())}},[])},qG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;HG();var s=y.useMemo(function(){return $G(i)},[i]);return y.createElement(zG,{styles:WG(s,!e,i,n?"":"!important")})},ty=!1;if(typeof window<"u")try{var Dc=Object.defineProperty({},"passive",{get:function(){return ty=!0,!0}});window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{ty=!1}var $s=ty?{passive:!1}:!1,GG=function(t){return t.tagName==="TEXTAREA"},Lk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GG(t)&&n[e]==="visible")},KG=function(t){return Lk(t,"overflowY")},QG=function(t){return Lk(t,"overflowX")},US=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Fk(t,r);if(i){var s=jk(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},XG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Fk=function(t,e){return t==="v"?KG(e):QG(e)},jk=function(t,e){return t==="v"?YG(e):XG(e)},JG=function(t,e){return t==="h"&&e==="rtl"?-1:1},ZG=function(t,e,n,r,i){var s=JG(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=jk(t,a),w=m[0],_=m[1],I=m[2],g=_-I-s*w;(w||g)&&Fk(t,a)&&(h+=g,f+=w);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Oc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BS=function(t){return[t.deltaX,t.deltaY]},$S=function(t){return t&&"current"in t?t.current:t},e8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},n8=0,zs=[];function r8(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(n8++)[0],s=y.useState(Vk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=uF([t.lockRef.current],(t.shards||[]).map($S),!0).filter(Boolean);return _.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(_,I){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var g=Oc(_),E=n.current,x="deltaX"in _?_.deltaX:E[0]-g[0],R="deltaY"in _?_.deltaY:E[1]-g[1],M,L=_.target,C=Math.abs(x)>Math.abs(R)?"h":"v";if("touches"in _&&C==="h"&&L.type==="range")return!1;var T=US(C,L);if(!T)return!0;if(T?M=C:(M=C==="v"?"h":"v",T=US(C,L)),!T)return!1;if(!r.current&&"changedTouches"in _&&(x||R)&&(r.current=M),!M)return!0;var A=r.current||M;return ZG(A,I,_,A==="h"?x:R)},[]),l=y.useCallback(function(_){var I=_;if(!(!zs.length||zs[zs.length-1]!==s)){var g="deltaY"in I?BS(I):Oc(I),E=e.current.filter(function(M){return M.name===I.type&&(M.target===I.target||I.target===M.shadowParent)&&e8(M.delta,g)})[0];if(E&&E.should){I.cancelable&&I.preventDefault();return}if(!E){var x=(o.current.shards||[]).map($S).filter(Boolean).filter(function(M){return M.contains(I.target)}),R=x.length>0?a(I,x[0]):!o.current.noIsolation;R&&I.cancelable&&I.preventDefault()}}},[]),u=y.useCallback(function(_,I,g,E){var x={name:_,delta:I,target:g,should:E,shadowParent:i8(g)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(R){return R!==x})},1)},[]),d=y.useCallback(function(_){n.current=Oc(_),r.current=void 0},[]),h=y.useCallback(function(_){u(_.type,BS(_),_.target,a(_,t.lockRef.current))},[]),f=y.useCallback(function(_){u(_.type,Oc(_),_.target,a(_,t.lockRef.current))},[]);y.useEffect(function(){return zs.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,$s),document.addEventListener("touchmove",l,$s),document.addEventListener("touchstart",d,$s),function(){zs=zs.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,$s),document.removeEventListener("touchmove",l,$s),document.removeEventListener("touchstart",d,$s)}},[]);var m=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(s,{styles:t8(i)}):null,m?y.createElement(qG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function i8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s8=NG(Ok,r8);var Uk=y.forwardRef(function(t,e){return y.createElement(Sf,Ne({},t,{ref:e,sideCar:s8}))});Uk.classNames=Sf.classNames;var ny=["Enter"," "],o8=["ArrowDown","PageUp","Home"],Bk=["ArrowUp","PageDown","End"],a8=[...o8,...Bk],l8={ltr:[...ny,"ArrowRight"],rtl:[...ny,"ArrowLeft"]},u8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vu="Menu",[ru,c8,d8]=X1(Vu),[Ms,$k]=Mu(Vu,[d8,yk,bk]),If=yk(),zk=bk(),[h8,Ns]=Ms(Vu),[f8,Lu]=Ms(Vu),Wk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=If(e),[l,u]=y.useState(null),d=y.useRef(!1),h=Hr(s),f=J1(i);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),S.jsx(tG,{...a,children:S.jsx(h8,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:S.jsx(f8,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};Wk.displayName=Vu;var p8="MenuAnchor",p_=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=If(n);return S.jsx(nG,{...i,...r,ref:e})});p_.displayName=p8;var m_="MenuPortal",[m8,Hk]=Ms(m_,{forceMount:void 0}),qk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ns(m_,e);return S.jsx(m8,{scope:e,forceMount:n,children:S.jsx(Du,{present:n||s.open,children:S.jsx(Ck,{asChild:!0,container:i,children:r})})})};qk.displayName=m_;var Rn="MenuContent",[g8,g_]=Ms(Rn),Gk=y.forwardRef((t,e)=>{const n=Hk(Rn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ns(Rn,t.__scopeMenu),o=Lu(Rn,t.__scopeMenu);return S.jsx(ru.Provider,{scope:t.__scopeMenu,children:S.jsx(Du,{present:r||s.open,children:S.jsx(ru.Slot,{scope:t.__scopeMenu,children:o.modal?S.jsx(y8,{...i,ref:e}):S.jsx(v8,{...i,ref:e})})})})}),y8=y.forwardRef((t,e)=>{const n=Ns(Rn,t.__scopeMenu),r=y.useRef(null),i=sn(e,r);return y.useEffect(()=>{const s=r.current;if(s)return SG(s)},[]),S.jsx(y_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),v8=y.forwardRef((t,e)=>{const n=Ns(Rn,t.__scopeMenu);return S.jsx(y_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),w8=mh("MenuContent.ScrollLock"),y_=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,..._}=t,I=Ns(Rn,n),g=Lu(Rn,n),E=If(n),x=zk(n),R=c8(n),[M,L]=y.useState(null),C=y.useRef(null),T=sn(e,C,I.onContentChange),A=y.useRef(0),P=y.useRef(""),N=y.useRef(0),V=y.useRef(null),k=y.useRef("right"),oe=y.useRef(0),me=w?Uk:y.Fragment,ae=w?{as:w8,allowPinchZoom:!0}:void 0,te=B=>{var G,ce;const O=P.current+B,D=R().filter(de=>!de.disabled),W=document.activeElement,q=(G=D.find(de=>de.ref.current===W))==null?void 0:G.textValue,Y=D.map(de=>de.textValue),ne=k8(Y,O,q),re=(ce=D.find(de=>de.textValue===ne))==null?void 0:ce.ref.current;(function de(ye){P.current=ye,window.clearTimeout(A.current),ye!==""&&(A.current=window.setTimeout(()=>de(""),1e3))})(O),re&&setTimeout(()=>re.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),CH();const F=y.useCallback(B=>{var D,W;return k.current===((D=V.current)==null?void 0:D.side)&&N8(B,(W=V.current)==null?void 0:W.area)},[]);return S.jsx(g8,{scope:n,searchRef:P,onItemEnter:y.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:y.useCallback(B=>{var O;F(B)||((O=C.current)==null||O.focus(),L(null))},[F]),onTriggerLeave:y.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:y.useCallback(B=>{V.current=B},[]),children:S.jsx(me,{...ae,children:S.jsx(nk,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,B=>{var O;B.preventDefault(),(O=C.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:S.jsx(ek,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:S.jsx(wG,{asChild:!0,...x,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:L,onEntryFocus:Se(l,B=>{g.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:S.jsx(rG,{role:"menu","aria-orientation":"vertical","data-state":uM(I.open),"data-radix-menu-content":"",dir:g.dir,...E,..._,ref:T,style:{outline:"none",..._.style},onKeyDown:Se(_.onKeyDown,B=>{const D=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,q=B.key.length===1;D&&(B.key==="Tab"&&B.preventDefault(),!W&&q&&te(B.key));const Y=C.current;if(B.target!==Y||!a8.includes(B.key))return;B.preventDefault();const re=R().filter(G=>!G.disabled).map(G=>G.ref.current);Bk.includes(B.key)&&re.reverse(),R8(re)}),onBlur:Se(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(A.current),P.current="")}),onPointerMove:Se(t.onPointerMove,iu(B=>{const O=B.target,D=oe.current!==B.clientX;if(B.currentTarget.contains(O)&&D){const W=B.clientX>oe.current?"right":"left";k.current=W,oe.current=B.clientX}}))})})})})})})});Gk.displayName=Rn;var _8="MenuGroup",v_=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(Gt.div,{role:"group",...r,ref:e})});v_.displayName=_8;var E8="MenuLabel",Kk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(Gt.div,{...r,ref:e})});Kk.displayName=E8;var _h="MenuItem",zS="menu.itemSelect",Cf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=y.useRef(null),o=Lu(_h,t.__scopeMenu),a=g_(_h,t.__scopeMenu),l=sn(e,s),u=y.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(zS,{bubbles:!0,cancelable:!0});h.addEventListener(zS,m=>r==null?void 0:r(m),{once:!0}),Y1(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return S.jsx(Qk,{...i,ref:l,disabled:n,onClick:Se(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Se(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Se(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||ny.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Cf.displayName=_h;var Qk=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=g_(_h,n),a=zk(n),l=y.useRef(null),u=sn(e,l),[d,h]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[s.children]),S.jsx(ru.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:S.jsx(_G,{asChild:!0,...a,focusable:!r,children:S.jsx(Gt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Se(t.onPointerMove,iu(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,iu(w=>o.onItemLeave(w))),onFocus:Se(t.onFocus,()=>h(!0)),onBlur:Se(t.onBlur,()=>h(!1))})})})}),x8="MenuCheckboxItem",Yk=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return S.jsx(tM,{scope:t.__scopeMenu,checked:n,children:S.jsx(Cf,{role:"menuitemcheckbox","aria-checked":Eh(n)?"mixed":n,...i,ref:e,"data-state":__(n),onSelect:Se(i.onSelect,()=>r==null?void 0:r(Eh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Yk.displayName=x8;var Xk="MenuRadioGroup",[T8,S8]=Ms(Xk,{value:void 0,onValueChange:()=>{}}),Jk=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Hr(r);return S.jsx(T8,{scope:t.__scopeMenu,value:n,onValueChange:s,children:S.jsx(v_,{...i,ref:e})})});Jk.displayName=Xk;var Zk="MenuRadioItem",eM=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=S8(Zk,t.__scopeMenu),s=n===i.value;return S.jsx(tM,{scope:t.__scopeMenu,checked:s,children:S.jsx(Cf,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":__(s),onSelect:Se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});eM.displayName=Zk;var w_="MenuItemIndicator",[tM,I8]=Ms(w_,{checked:!1}),nM=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=I8(w_,n);return S.jsx(Du,{present:r||Eh(s.checked)||s.checked===!0,children:S.jsx(Gt.span,{...i,ref:e,"data-state":__(s.checked)})})});nM.displayName=w_;var C8="MenuSeparator",rM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(Gt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rM.displayName=C8;var A8="MenuArrow",iM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=If(n);return S.jsx(iG,{...i,...r,ref:e})});iM.displayName=A8;var b8="MenuSub",[rQ,sM]=Ms(b8),Ya="MenuSubTrigger",oM=y.forwardRef((t,e)=>{const n=Ns(Ya,t.__scopeMenu),r=Lu(Ya,t.__scopeMenu),i=sM(Ya,t.__scopeMenu),s=g_(Ya,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),S.jsx(p_,{asChild:!0,...u,children:S.jsx(Qk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uM(n.open),...t,ref:wf(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,iu(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Se(t.onPointerLeave,iu(h=>{var m,w;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const _=(w=n.content)==null?void 0:w.dataset.side,I=_==="right",g=I?-5:5,E=f[I?"left":"right"],x=f[I?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:E,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:E,y:f.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,h=>{var m;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||l8[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});oM.displayName=Ya;var aM="MenuSubContent",lM=y.forwardRef((t,e)=>{const n=Hk(Rn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ns(Rn,t.__scopeMenu),o=Lu(Rn,t.__scopeMenu),a=sM(aM,t.__scopeMenu),l=y.useRef(null),u=sn(e,l);return S.jsx(ru.Provider,{scope:t.__scopeMenu,children:S.jsx(Du,{present:r||s.open,children:S.jsx(ru.Slot,{scope:t.__scopeMenu,children:S.jsx(y_,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Se(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Se(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=u8[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});lM.displayName=aM;function uM(t){return t?"open":"closed"}function Eh(t){return t==="indeterminate"}function __(t){return Eh(t)?"indeterminate":t?"checked":"unchecked"}function R8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function P8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function k8(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=P8(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function M8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function N8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return M8(n,e)}function iu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var D8=Wk,O8=p_,V8=qk,L8=Gk,F8=v_,j8=Kk,U8=Cf,B8=Yk,$8=Jk,z8=eM,W8=nM,H8=rM,q8=iM,G8=oM,K8=lM,Af="DropdownMenu",[Q8]=Mu(Af,[$k]),Kt=$k(),[Y8,cM]=Q8(Af),dM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Kt(e),u=y.useRef(null),[d,h]=Q1({prop:i,defaultProp:s??!1,onChange:o,caller:Af});return S.jsx(Y8,{scope:e,triggerId:Yg(),triggerRef:u,contentId:Yg(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:a,children:S.jsx(D8,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};dM.displayName=Af;var hM="DropdownMenuTrigger",fM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=cM(hM,n),o=Kt(n);return S.jsx(O8,{asChild:!0,...o,children:S.jsx(Gt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:wf(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fM.displayName=hM;var X8="DropdownMenuPortal",pM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kt(e);return S.jsx(V8,{...r,...n})};pM.displayName=X8;var mM="DropdownMenuContent",gM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cM(mM,n),s=Kt(n),o=y.useRef(!1);return S.jsx(L8,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gM.displayName=mM;var J8="DropdownMenuGroup",Z8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(F8,{...i,...r,ref:e})});Z8.displayName=J8;var eK="DropdownMenuLabel",yM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(j8,{...i,...r,ref:e})});yM.displayName=eK;var tK="DropdownMenuItem",vM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(U8,{...i,...r,ref:e})});vM.displayName=tK;var nK="DropdownMenuCheckboxItem",wM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(B8,{...i,...r,ref:e})});wM.displayName=nK;var rK="DropdownMenuRadioGroup",iK=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx($8,{...i,...r,ref:e})});iK.displayName=rK;var sK="DropdownMenuRadioItem",_M=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(z8,{...i,...r,ref:e})});_M.displayName=sK;var oK="DropdownMenuItemIndicator",EM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(W8,{...i,...r,ref:e})});EM.displayName=oK;var aK="DropdownMenuSeparator",xM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(H8,{...i,...r,ref:e})});xM.displayName=aK;var lK="DropdownMenuArrow",uK=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(q8,{...i,...r,ref:e})});uK.displayName=lK;var cK="DropdownMenuSubTrigger",TM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(G8,{...i,...r,ref:e})});TM.displayName=cK;var dK="DropdownMenuSubContent",SM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Kt(n);return S.jsx(K8,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SM.displayName=dK;var hK=dM,fK=fM,pK=pM,IM=gM,CM=yM,AM=vM,bM=wM,RM=_M,PM=EM,kM=xM,MM=TM,NM=SM;function DM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mK(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DM(t))&&(r&&(r+=" "),r+=e);return r}const E_="-",gK=t=>{const e=vK(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(E_);return a[0]===""&&a.length!==1&&a.shift(),OM(a,e)||yK(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},OM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?OM(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(E_);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},WS=/^\[(.+)\]$/,yK=t=>{if(WS.test(t)){const e=WS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vK=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)ry(n[i],r,i,e);return r},ry=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:HS(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(wK(i)){ry(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{ry(o,HS(e,s),n,r)})})},HS=(t,e)=>{let n=t;return e.split(E_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wK=t=>t.isThemeGetter,_K=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},iy="!",sy=":",EK=sy.length,xK=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;for(let w=0;w<i.length;w++){let _=i[w];if(o===0&&a===0){if(_===sy){s.push(i.slice(l,w)),l=w+EK;continue}if(_==="/"){u=w;continue}}_==="["?o++:_==="]"?o--:_==="("?a++:_===")"&&a--}const d=s.length===0?i:i.substring(l),h=TK(d),f=h!==d,m=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+sy,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},TK=t=>t.endsWith(iy)?t.substring(0,t.length-1):t.startsWith(iy)?t.substring(1):t,SK=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},IK=t=>({cache:_K(t.cacheSize),parseClassName:xK(t),sortModifiers:SK(t),...gK(t)}),CK=/\s+/,AK=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(CK);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let I=!!_,g=r(I?w.substring(0,_):w);if(!g){if(!I){l=d+(l.length>0?" "+l:l);continue}if(g=r(w),!g){l=d+(l.length>0?" "+l:l);continue}I=!1}const E=s(f).join(":"),x=m?E+iy:E,R=x+g;if(o.includes(R))continue;o.push(R);const M=i(g,I);for(let L=0;L<M.length;++L){const C=M[L];o.push(x+C)}l=d+(l.length>0?" "+l:l)}return l};function bK(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VM(e))&&(r&&(r+=" "),r+=n);return r}const VM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VM(t[r]))&&(n&&(n+=" "),n+=e);return n};function RK(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=IK(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=AK(l,n);return i(l,d),d}return function(){return s(bK.apply(null,arguments))}}const ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},LM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PK=/^\d+\/\d+$/,kK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ws=t=>PK.test(t),ge=t=>!!t&&!Number.isNaN(Number(t)),ni=t=>!!t&&Number.isInteger(Number(t)),om=t=>t.endsWith("%")&&ge(t.slice(0,-1)),vr=t=>kK.test(t),VK=()=>!0,LK=t=>MK.test(t)&&!NK.test(t),jM=()=>!1,FK=t=>DK.test(t),jK=t=>OK.test(t),UK=t=>!J(t)&&!Z(t),BK=t=>ua(t,$M,jM),J=t=>LM.test(t),Gi=t=>ua(t,zM,LK),am=t=>ua(t,qK,ge),qS=t=>ua(t,UM,jM),$K=t=>ua(t,BM,jK),Vc=t=>ua(t,WM,FK),Z=t=>FM.test(t),ja=t=>ca(t,zM),zK=t=>ca(t,GK),GS=t=>ca(t,UM),WK=t=>ca(t,$M),HK=t=>ca(t,BM),Lc=t=>ca(t,WM,!0),ua=(t,e,n)=>{const r=LM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ca=(t,e,n=!1)=>{const r=FM.exec(t);return r?r[1]?e(r[1]):n:!1},UM=t=>t==="position"||t==="percentage",BM=t=>t==="image"||t==="url",$M=t=>t==="length"||t==="size"||t==="bg-size",zM=t=>t==="length",qK=t=>t==="number",GK=t=>t==="family-name",WM=t=>t==="shadow",KK=()=>{const t=ot("color"),e=ot("font"),n=ot("text"),r=ot("font-weight"),i=ot("tracking"),s=ot("leading"),o=ot("breakpoint"),a=ot("container"),l=ot("spacing"),u=ot("radius"),d=ot("shadow"),h=ot("inset-shadow"),f=ot("text-shadow"),m=ot("drop-shadow"),w=ot("blur"),_=ot("perspective"),I=ot("aspect"),g=ot("ease"),E=ot("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...R(),Z,J],L=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[Z,J,l],A=()=>[Ws,"full","auto",...T()],P=()=>[ni,"none","subgrid",Z,J],N=()=>["auto",{span:["full",ni,Z,J]},ni,Z,J],V=()=>[ni,"auto",Z,J],k=()=>["auto","min","max","fr",Z,J],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...T()],te=()=>[Ws,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],F=()=>[t,Z,J],B=()=>[...R(),GS,qS,{position:[Z,J]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",WK,BK,{size:[Z,J]}],W=()=>[om,ja,Gi],q=()=>["","none","full",u,Z,J],Y=()=>["",ge,ja,Gi],ne=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[ge,om,GS,qS],ce=()=>["","none",w,Z,J],de=()=>["none",ge,Z,J],ye=()=>["none",ge,Z,J],ve=()=>[ge,Z,J],xe=()=>[Ws,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vr],breakpoint:[vr],color:[VK],container:[vr],"drop-shadow":[vr],ease:["in","out","in-out"],font:[UK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vr],shadow:[vr],spacing:["px",ge],text:[vr],"text-shadow":[vr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ws,J,Z,I]}],container:["container"],columns:[{columns:[ge,J,Z,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[ni,"auto",Z,J]}],basis:[{basis:[Ws,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,Ws,"auto","initial","none",J]}],grow:[{grow:["",ge,Z,J]}],shrink:[{shrink:["",ge,Z,J]}],order:[{order:[ni,"first","last","none",Z,J]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[a,"screen",...te()]}],"min-w":[{"min-w":[a,"screen","none",...te()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,ja,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",om,J]}],"font-family":[{font:[zK,J,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Z,J]}],"line-clamp":[{"line-clamp":[ge,"none",Z,am]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",Z,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",Z,Gi]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[ge,"auto",Z,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ni,Z,J],radial:["",Z,J],conic:[ni,Z,J]},HK,$K]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,Z,J]}],"outline-w":[{outline:["",ge,ja,Gi]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,Lc,Vc]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",h,Lc,Vc]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[ge,Gi]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",f,Lc,Vc]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[ge,Z,J]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Z,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,J]}],filter:[{filter:["","none",Z,J]}],blur:[{blur:ce()}],brightness:[{brightness:[ge,Z,J]}],contrast:[{contrast:[ge,Z,J]}],"drop-shadow":[{"drop-shadow":["","none",m,Lc,Vc]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",ge,Z,J]}],"hue-rotate":[{"hue-rotate":[ge,Z,J]}],invert:[{invert:["",ge,Z,J]}],saturate:[{saturate:[ge,Z,J]}],sepia:[{sepia:["",ge,Z,J]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,J]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[ge,Z,J]}],"backdrop-contrast":[{"backdrop-contrast":[ge,Z,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,Z,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,Z,J]}],"backdrop-invert":[{"backdrop-invert":["",ge,Z,J]}],"backdrop-opacity":[{"backdrop-opacity":[ge,Z,J]}],"backdrop-saturate":[{"backdrop-saturate":[ge,Z,J]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,Z,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",Z,J]}],ease:[{ease:["linear","initial",g,Z,J]}],delay:[{delay:[ge,Z,J]}],animate:[{animate:["none",E,Z,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Z,J]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Z,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,J]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[ge,ja,Gi,am]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QK=RK(KK);function Mn(...t){return QK(mK(t))}const YK=hK,XK=fK,JK=y.forwardRef(({className:t,inset:e,children:n,...r},i)=>S.jsxs(MM,{ref:i,className:Mn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,S.jsx(Kz,{className:"ml-auto"})]}));JK.displayName=MM.displayName;const ZK=y.forwardRef(({className:t,...e},n)=>S.jsx(NM,{ref:n,className:Mn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));ZK.displayName=NM.displayName;const HM=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(pK,{children:S.jsx(IM,{ref:r,sideOffset:e,className:Mn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));HM.displayName=IM.displayName;const qM=y.forwardRef(({className:t,inset:e,...n},r)=>S.jsx(AM,{ref:r,className:Mn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));qM.displayName=AM.displayName;const e7=y.forwardRef(({className:t,children:e,checked:n,...r},i)=>S.jsxs(bM,{ref:i,className:Mn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(PM,{children:S.jsx(qz,{className:"h-4 w-4"})})}),e]}));e7.displayName=bM.displayName;const t7=y.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(RM,{ref:r,className:Mn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(PM,{children:S.jsx(Yz,{className:"h-2 w-2 fill-current"})})}),e]}));t7.displayName=RM.displayName;const n7=y.forwardRef(({className:t,inset:e,...n},r)=>S.jsx(CM,{ref:r,className:Mn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));n7.displayName=CM.displayName;const r7=y.forwardRef(({className:t,...e},n)=>S.jsx(kM,{ref:n,className:Mn("-mx-1 my-1 h-px bg-muted",t),...e}));r7.displayName=kM.displayName;function i7({user:t,couple:e}){const n=()=>{if(!window.confirm(`Souhaites-tu signaler le couple "${e.personA.display_name} et ${e.personB.display_name}" ?`))return;const i=t.displayName??"Utilisateur anonyme",s=`Signalement d'un couple : ${e.personA.display_name} & ${e.personB.display_name}`,o=`
Bonjour,

Un utilisateur a signalé un couple sur Surchope :

👤 Utilisateur : ${i}
🔗 Lien : https://surchope.fr/couple/${e.id}
💬 Raison : (à compléter)

Merci.
    `.trim(),a=`mailto:contact@surchope.fr?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(o)}`;window.location.href=a};return S.jsxs(YK,{children:[S.jsx(XK,{asChild:!0,children:S.jsx("button",{className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2",title:"Plus d’options",children:S.jsx(e5,{size:18})})}),S.jsx(HM,{align:"end",sideOffset:6,className:"bg-card text-card-foreground border border-border rounded-lg shadow-md p-1",children:S.jsxs(qM,{onClick:n,className:"flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer text-muted-foreground hover:text-foreground hover:bg-muted transition",children:[S.jsx(n5,{size:14,className:"text-amber-500"}),S.jsx("span",{children:"Signaler ce couple"})]})})]})}function bf({couple:t,user:e,myChoice:n,onVote:r,compact:i=!1,onlyMyVotes:s=!1,onDelete:o}){const[a,l]=y.useState(null);return S.jsxs("div",{className:"relative p-4 rounded-2xl bg-card text-card-foreground border border-border shadow-sm hover:shadow-md transition-all duration-200",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsx(rH,{couple:t,user:e,onDelete:o,compact:i}),e&&!i&&S.jsx(i7,{user:e,couple:t})]}),S.jsx("div",{className:"flex flex-col items-center gap-4",children:S.jsx(sH,{couple:t,myChoice:n,onlyMyVotes:s,onSelectPerson:l})}),!i&&S.jsx("div",{className:"mt-3",children:S.jsx(oH,{couple:t,user:e,canVote:!!e&&!!r,myChoice:n,onVote:r})}),!e&&!i&&S.jsx("div",{className:"mt-4 text-center",children:S.jsx("div",{className:"inline-block bg-primary/10 text-primary text-sm font-medium px-3 py-2 rounded-full shadow-sm",children:"Connecte-toi pour voter"})}),a&&S.jsx(nH,{name:a,onClose:()=>l(null)})]})}function zo({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i,...s}){const o="inline-flex items-center justify-center font-medium rounded-full transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2",a={primary:"bg-primary text-primary-foreground hover:opacity-90 focus:ring-[hsl(var(--primary))]",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus:ring-[hsl(var(--secondary))]",outline:"border border-border text-foreground hover:bg-muted focus:ring-[hsl(var(--ring))]",ghost:"text-foreground/70 hover:bg-muted focus:ring-[hsl(var(--ring))]"},l={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};return S.jsx("button",{className:Mn(o,a[e],l[n],r&&"w-full",i),...s,children:t})}function s7({onClose:t}){return S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 max-w-sm mx-4 text-center shadow-lg animate-fadeIn",children:[S.jsx("h2",{className:"text-xl font-semibold text-primary mb-3",children:"Bienvenue sur Surchope 💘"}),S.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed mb-5",children:["Ici, on ",S.jsx("span",{className:"font-semibold text-primary",children:"surchope"})," : c’est quand on est en couple avec quelqu’un de plus attractif que soi — celui ou celle qui a un peu trop bien réussi son coup 😏",S.jsx("br",{}),"Tout ça avec humour et bienveillance 💬"]}),S.jsx(zo,{onClick:t,variant:"primary",size:"sm",className:"rounded-full px-5",children:"J’ai compris"})]})})}function oy(){return S.jsx("footer",{className:"text-center text-xs text-muted-foreground mt-10 pt-4 border-t border-border italic",children:"“Surchoper” : c’est quand on est en couple avec quelqu’un d’un peu trop canon pour soi 😏"})}function GM({value:t,onChange:e,placeholder:n="Rechercher...",className:r}){return S.jsxs("div",{className:Mn("relative w-full sm:w-80 flex items-center",r),children:[S.jsx(f5,{size:18,className:"absolute left-3 text-muted-foreground/80 pointer-events-none"}),S.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),placeholder:n,className:"w-full border border-border rounded-full pl-10 pr-4 py-2 text-sm bg-background text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] placeholder:text-muted-foreground/60"})]})}function o7({user:t,couples:e,myVotes:n,onVote:r,loading:i,deleteCouple:s}){const[o,a]=y.useState(""),[l,u]=y.useState(!1),d=Xo();if(y.useEffect(()=>{localStorage.getItem("surchope_intro_seen")||(u(!0),localStorage.setItem("surchope_intro_seen","true"))},[]),i)return S.jsx(vf,{});const h=e.filter(f=>o.trim()===""?!0:`${f.personA.display_name} ${f.personB.display_name}`.toLowerCase().includes(o.toLowerCase())).sort((f,m)=>{const w=!!n[f.id],_=!!n[m.id];return w===_?0:w?1:-1});return S.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6 relative text-foreground",children:["Pour créer une mise en page attrayante pour votre site « SURCHOPE.FR », vous pourriez opter pour un design simple et épuré qui met en valeur votre titre et votre slogan. Voici une suggestion : Titre :",S.jsx("h1",{style:"font-size: 3em; color: #EB4799; text-align: center; font-weight: bold;",children:"SURCHOPE.FR"}),"Slogan :",S.jsx("p",{style:"font-size: 1.5em; color: #EB4799; text-align: center; font-style: italic;",children:"Vote qui surchope qui"}),"En utilisant la couleur #EB4799 pour le texte, vous assurez une harmonie visuelle avec l'identité de votre site. Pensez à ajouter des éléments visuels complémentaires qui reflètent l'esprit de votre plateforme et attirent l'attention des visiteurs.",l&&S.jsx(s7,{onClose:()=>u(!1)}),S.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:S.jsx(GM,{value:o,onChange:a,placeholder:"Rechercher un couple ou un prénom..."})}),h.length===0?S.jsx("p",{className:"text-center text-muted-foreground mt-6",children:"Aucun couple trouvé 😢"}):S.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-2 gap-4 pb-24",children:h.map(f=>S.jsx(bf,{couple:f,user:t,myChoice:n[f.id],onVote:r,onlyMyVotes:!1,onDelete:s},f.id))}),S.jsx(oy,{}),S.jsx(zo,{onClick:()=>d("/jouer"),variant:"primary",size:"lg",className:"!fixed bottom-6 right-6 rounded-full shadow-lg p-4 w-14 h-14 flex items-center justify-center",title:"Jouer",children:S.jsx(d5,{size:28,className:"ml-0.5"})})]})}function KS({children:t,className:e}){return S.jsx("div",{className:Mn("bg-card text-card-foreground border border-border rounded-2xl shadow-sm hover:shadow-md transition p-4",e),children:t})}function a7({icon:t,label:e,onClick:n,color:r="default",className:i}){const s={default:"bg-muted hover:bg-muted/80 text-foreground/80 focus:ring-[hsl(var(--ring))]",primary:"bg-primary text-primary-foreground hover:opacity-90 focus:ring-[hsl(var(--primary))]",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus:ring-[hsl(var(--secondary))]"};return S.jsx("button",{onClick:n,title:e,className:Mn("flex items-center justify-center rounded-full p-2 transition focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95",s[r],i),children:S.jsx(t,{size:18})})}function su({to:t="/",label:e="Retour à la liste",className:n}){return S.jsx("div",{className:`flex justify-center ${n??""}`,children:S.jsx(Vl,{to:t,children:S.jsxs(zo,{variant:"outline",size:"sm",className:"group flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:bg-muted transition",children:[S.jsx($z,{size:16,className:"text-primary transition-transform group-hover:-translate-x-1"}),S.jsx("span",{children:e})]})})})}function l7({user:t,couples:e,votesAll:n}){Xo();const[r,i]=y.useState(!0),[s,o]=y.useState([]);y.useEffect(()=>{(async()=>{if(!t){o([]),i(!1);return}const l=Au(Mr(ht,"votes"),hw("uid","==",t.uid),jR("updatedAt","desc")),u=await Kl(l),d=[];u.forEach(h=>{var I,g;const f=h.data(),m=e.find(E=>E.id===f.couple_id);if(!m)return;let w;f.people_voted_id==="tie"?w="tie":w=f.people_voted_id===m.personA.id?"A":"B";const _=(g=(I=f.updatedAt)==null?void 0:I.toDate)==null?void 0:g.call(I);d.push({id:h.id,couple:m,choice:w,updatedAt:_})}),o(d),i(!1)})()},[t,e]);const a=async l=>{if(confirm("Supprimer ce vote ?"))try{await Ka(tr(ht,"votes",l)),o(u=>u.filter(d=>d.id!==l))}catch(u){console.error("Erreur suppression vote:",u),alert("Erreur lors de la suppression du vote.")}};return t?S.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-4 text-foreground",children:[S.jsx("h2",{className:"text-lg font-semibold mb-4 text-primary",children:"Mon historique"}),r&&S.jsx(vf,{}),!r&&s.length===0&&S.jsx("div",{className:"text-muted-foreground text-sm",children:"Tu n’as encore voté pour aucun couple 😢"}),S.jsx(hh,{children:!r&&s.map(l=>S.jsx(er.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:S.jsxs(KS,{className:"relative p-3 flex flex-col gap-2",children:[S.jsx("div",{className:"",children:S.jsx(a7,{icon:mP,label:"Supprimer ce vote",color:"default",onClick:()=>a(l.id)})}),S.jsx(bf,{couple:l.couple,user:t,myChoice:l.choice,onlyMyVotes:!0,compact:!0})]})},l.id))})]}):S.jsx("main",{className:"max-w-5xl mx-auto px-4 py-10",children:S.jsxs(KS,{className:"p-6 text-center bg-card text-card-foreground",children:[S.jsx("h2",{className:"text-lg font-semibold mb-2 text-primary",children:"Mes votes"}),S.jsx("p",{className:"text-muted-foreground",children:"Connecte-toi pour voir ton historique de votes."}),S.jsx(su,{to:"/",label:"Retour à la liste",className:"mt-8"})]})})}var QS=!1,Ji,ay,ly,md,gd,KM,yd,uy,cy,dy,QM,hy,fy,YM,XM;function Yt(){if(!QS){QS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(hy=/\b(iPhone|iP[ao]d)/.exec(t),fy=/\b(iP[ao]d)/.exec(t),dy=/Android/i.exec(t),YM=/FBAN\/\w+;/i.exec(t),XM=/Mobile/i.exec(t),QM=!!/Win64/.exec(t),e){Ji=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Ji&&document&&document.documentMode&&(Ji=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);KM=r?parseFloat(r[1])+4:Ji,ay=e[2]?parseFloat(e[2]):NaN,ly=e[3]?parseFloat(e[3]):NaN,md=e[4]?parseFloat(e[4]):NaN,md?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),gd=e&&e[1]?parseFloat(e[1]):NaN):gd=NaN}else Ji=ay=ly=gd=md=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);yd=i?parseFloat(i[1].replace("_",".")):!0}else yd=!1;uy=!!n[2],cy=!!n[3]}else yd=uy=cy=!1}}var py={ie:function(){return Yt()||Ji},ieCompatibilityMode:function(){return Yt()||KM>Ji},ie64:function(){return py.ie()&&QM},firefox:function(){return Yt()||ay},opera:function(){return Yt()||ly},webkit:function(){return Yt()||md},safari:function(){return py.webkit()},chrome:function(){return Yt()||gd},windows:function(){return Yt()||uy},osx:function(){return Yt()||yd},linux:function(){return Yt()||cy},iphone:function(){return Yt()||hy},mobile:function(){return Yt()||hy||fy||dy||XM},nativeApp:function(){return Yt()||YM},android:function(){return Yt()||dy},ipad:function(){return Yt()||fy}},u7=py,c7=!!(typeof window<"u"&&window.document&&window.document.createElement),d7={canUseDOM:c7},h7=d7,JM=h7,ZM;JM.canUseDOM&&(ZM=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function f7(t,e){if(!JM.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&ZM&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var p7=f7,m7=u7,g7=p7,YS=10,XS=40,JS=800;function eN(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*YS,i=n*YS,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=XS,i*=XS):(r*=JS,i*=JS)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}eN.getEventType=function(){return m7.firefox()?"DOMMouseScroll":g7("wheel")?"wheel":"mousewheel"};var y7=eN,v7=y7;const w7=my(v7);function _7(t,e,n,r,i,s){s===void 0&&(s=0);var o=Wo(t,e,s),a=o.width,l=o.height,u=Math.min(a,n),d=Math.min(l,r);return u>d*i?{width:d*i,height:d}:{width:u,height:u/i}}function E7(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Ua(t,e,n,r,i){i===void 0&&(i=0);var s=Wo(e.width,e.height,i),o=s.width,a=s.height;return{x:ZS(t.x,o,n.width,r),y:ZS(t.y,a,n.height,r)}}function ZS(t,e,n,r){var i=e*r/2-n/2;return Rf(t,-i,i)}function eI(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function tI(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function x7(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?T7:S7,l=Wo(e.width,e.height,s),u=Wo(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(u.width,d.width*u.width/100)),f=Math.round(a(u.height,d.height*u.height/100)),m=u.width>=u.height*r,w=m?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},_=Ne(Ne({},w),{x:Math.round(a(u.width-w.width,d.x*u.width/100)),y:Math.round(a(u.height-w.height,d.y*u.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:_}}function T7(t,e){return Math.min(t,Math.max(0,e))}function S7(t,e){return e}function I7(t,e,n,r,i,s){var o=Wo(e.width,e.height,n),a=Rf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function C7(t,e,n){var r=E7(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function A7(t,e,n,r,i,s){n===void 0&&(n=0);var o=Wo(e.naturalWidth,e.naturalHeight,n),a=Rf(C7(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,u={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:u,zoom:a}}function nI(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function b7(t){return t*Math.PI/180}function Wo(t,e,n){var r=b7(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Rf(t,e,n){return Math.min(Math.max(t,e),n)}function Fc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var R7=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,P7=1,k7=3,M7=1,N7=function(t){lF(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=y.createRef(),n.imageRef=y.createRef(),n.videoRef=y.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=I7(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=A7(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,u=n.imageRef.current||n.videoRef.current;if(u&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,m=u.offsetWidth<h||u.offsetHeight<f,w=h/f,_=void 0;if(m)switch(n.state.mediaObjectFit){default:case"contain":_=d>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":_={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":_={width:n.containerRect.height*w,height:n.containerRect.height};break}else _={width:u.offsetWidth,height:u.offsetHeight};n.mediaSize=Ne(Ne({},_),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var I=n.props.cropSize?n.props.cropSize:_7(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==I.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==I.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(I),n.setState({cropSize:I},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(I),I}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=Ne({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},u=n.props.restrictPosition?Ua(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(u)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=w7(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var u=Rf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*u-d.x,y:h.y*u-d.y},m=n.props.restrictPosition?Ua(f,n.mediaSize,n.state.cropSize,u,n.props.rotation):f;n.props.onCropChange(m)}n.props.onZoomChange(u)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Ua(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return x7(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.crop;if(n.isInitialized&&n.previousCropSize){var i=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(i){var s=n.state.cropSize.width/n.previousCropSize.width,o=n.state.cropSize.height/n.previousCropSize.height;r={x:n.props.crop.x*s,y:n.props.crop.y*o}}}var a=n.props.restrictPosition?Ua(r,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):r;n.previousCropSize=n.state.cropSize,n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,u=o.keyboardStep,d=o.zoom,h=o.rotation,f=u;if(n.state.cropSize){r.shiftKey&&(f*=.2);var m=Ne({},a);switch(r.key){case"ArrowUp":m.y-=f,r.preventDefault();break;case"ArrowDown":m.y+=f,r.preventDefault();break;case"ArrowLeft":m.x-=f,r.preventDefault();break;case"ArrowRight":m.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(m=Ua(m,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(m)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=R7,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,u,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=n.crop)===null||u===void 0?void 0:u.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/u;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=eI(r,i),this.lastPinchRotation=tI(r,i),this.onDragStart(nI(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=nI(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=eI(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var u=tI(i,s),d=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=u})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,u=i.transform,d=i.crop,h=d.x,f=d.y,m=i.rotation,w=i.zoom,_=i.cropShape,I=i.showGrid,g=i.roundCropAreaPixels,E=i.style,x=E.containerStyle,R=E.cropAreaStyle,M=E.mediaStyle,L=i.classes,C=L.containerClassName,T=L.cropAreaClassName,A=L.mediaClassName,P=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return y.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(V){return n.containerRef=V},"data-testid":"container",style:x,className:Fc("reactEasyCrop_Container",C)},s?y.createElement("img",Ne({alt:"",className:Fc("reactEasyCrop_Image",P==="contain"&&"reactEasyCrop_Contain",P==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",P==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{src:s,ref:this.imageRef,style:Ne(Ne({},M),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):o&&y.createElement("video",Ne({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Fc("reactEasyCrop_Video",P==="contain"&&"reactEasyCrop_Contain",P==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",P==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Ne(Ne({},M),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(N){return y.createElement("source",Ne({key:N.src},N))})),this.state.cropSize&&y.createElement("div",Ne({ref:this.cropperRef,style:Ne(Ne({},R),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Fc("reactEasyCrop_CropArea",_==="round"&&"reactEasyCrop_CropAreaRound",I&&"reactEasyCrop_CropAreaGrid",T)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:k7,minZoom:P7,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:M7},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(y.Component);function D7({imageSrc:t,onCancel:e,onCrop:n}){const[r,i]=y.useState({x:0,y:0}),[s,o]=y.useState(1),[a,l]=y.useState(null),[u,d]=y.useState(!1),[h,f]=y.useState(null),m=y.useCallback((g,E)=>{l(E)},[]),w=async g=>{if(g.startsWith("data:")||g.startsWith("blob:"))return _(g);const E=`https://corsproxy.io/?${encodeURIComponent(g)}`,x=await fetch(E);if(!x.ok)throw new Error(`Erreur proxy: ${x.status}`);const R=await x.blob(),M=URL.createObjectURL(R);return _(M)},_=g=>new Promise((E,x)=>{const R=new Image;R.onload=()=>E(R),R.onerror=M=>x(M),R.src=g}),I=async()=>{if(!a){f("Zone de recadrage non définie");return}d(!0),f(null);try{const g=await w(t),E=document.createElement("canvas"),x=E.getContext("2d");if(!x)throw new Error("Impossible d'obtenir le contexte du canvas");const{width:R,height:M,x:L,y:C}=a;E.width=R,E.height=M,x.drawImage(g,L,C,R,M,0,0,R,M),E.toBlob(T=>{d(!1),T?n(T):f("Échec de la conversion en image.")},"image/jpeg",.9)}catch(g){console.error("Erreur lors du recadrage :",g),f(g.message||"Erreur inconnue lors du recadrage."),d(!1)}};return S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 w-80 sm:w-96 flex flex-col items-center shadow-lg animate-fadeIn",children:[S.jsx("div",{className:"relative w-64 h-64 bg-muted rounded-full overflow-hidden border border-border",children:S.jsx(N7,{image:t,crop:r,zoom:s,aspect:1,cropShape:"round",showGrid:!1,onCropChange:i,onZoomChange:o,onCropComplete:m})}),S.jsx("input",{type:"range",min:1,max:3,step:.01,value:s,onChange:g=>o(Number(g.target.value)),className:"w-full mt-5 accent-[hsl(var(--primary))] cursor-pointer"}),S.jsxs("div",{className:"flex gap-3 mt-5",children:[S.jsx(zo,{onClick:e,variant:"outline",size:"sm",disabled:u,className:"rounded-full",children:"Annuler"}),S.jsx(zo,{onClick:I,variant:"primary",size:"sm",disabled:u,className:`rounded-full ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Recadrage...":"Valider 💘"})]}),h&&S.jsx("p",{className:"text-destructive text-xs mt-3 text-center",children:h})]})})}function O7({label:t,imageUrl:e,file:n,onFileChange:r,onUrlChange:i}){const[s,o]=y.useState(!1),[a,l]=y.useState(null),u=w=>{const _=new FileReader;_.onload=I=>{var g;return l((g=I.target)==null?void 0:g.result)},_.readAsDataURL(w)},d=w=>{var I;const _=(I=w.target.files)==null?void 0:I[0];_&&u(_)},h=w=>{var I;w.preventDefault(),o(!1);const _=(I=w.dataTransfer.files)==null?void 0:I[0];_&&u(_)},f=w=>{const _=new File([w],"cropped.jpg",{type:"image/jpeg"});r(_),l(null)},m=async()=>{e&&l(e)};return S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{onDrop:h,onDragOver:w=>{w.preventDefault(),o(!0)},onDragLeave:()=>o(!1),className:`relative w-32 h-32 rounded-full border-2 border-dashed flex items-center justify-center cursor-pointer transition-all duration-200 ${s?"border-primary bg-primary/10":"border-border bg-muted hover:bg-muted/80"}`,children:[n||e?S.jsx("img",{src:n?URL.createObjectURL(n):e,alt:"Aperçu",className:"object-cover w-full h-full rounded-full border border-border shadow-sm"}):S.jsx(Wz,{className:"text-muted-foreground w-10 h-10"}),S.jsx("label",{htmlFor:`${t}-file`,className:"absolute bottom-1 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs font-medium px-2 py-1 rounded-full cursor-pointer shadow hover:opacity-90 transition",children:n||e?"Changer":"Choisir"}),S.jsx("input",{id:`${t}-file`,type:"file",accept:"image/*",onChange:d,className:"hidden"})]}),S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("input",{type:"text",placeholder:"Ou coller une URL d’image",value:e,onChange:w=>i(w.target.value),className:"flex-1 bg-background border border-border rounded-full px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2 transition"}),S.jsx(zo,{type:"button",onClick:m,disabled:!e,variant:e?"primary":"outline",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium ${e?"":"opacity-60 cursor-not-allowed"}`,children:"Recadrer"})]}),a&&S.jsx(D7,{imageSrc:a,onCancel:()=>l(null),onCrop:f})]})}async function rI(t){const e="2857d634922be62f9aec8e82cb24cf90",n=new FormData;n.append("key",e),n.append("image",t);const i=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:n})).json();if(i.success)return i.data.url;throw new Error("Upload à ImgBB échoué : "+JSON.stringify(i))}function V7(t,e,n){const[r,i]=y.useState({display_name:"",image_url:"",file:null}),[s,o]=y.useState({display_name:"",image_url:"",file:null}),[a,l]=y.useState(!1),[u,d]=y.useState({}),[h,f]=y.useState(null),[m,w]=y.useState(!1);async function _(x){if(!x.trim())return!1;const R=Au(Mr(ht,"people"),hw("display_name","==",x.trim()));return!(await Kl(R)).empty}const I=async x=>{const R=x==="A"?r:s;if(!R.display_name.trim())return;const M=await _(R.display_name);d(L=>({...L,[x]:M?`Le nom "${R.display_name}" existe déjà dans un autre couple.`:""}))},g=async x=>{if(x.preventDefault(),!r.display_name||!s.display_name){f("Les deux noms sont obligatoires.");return}if(!a){f("Vous devez certifier avoir obtenu le consentement des deux personnes.");return}if(!r.file&&!r.image_url||!s.file&&!s.image_url){f("Chaque personne doit avoir au moins une image ou une URL d’image.");return}if(u.A||u.B){f("Un des noms existe déjà. Modifiez-le avant de continuer.");return}f(null),w(!0);try{let R=r.image_url,M=s.image_url;r.file&&(R=await rI(r.file)),s.file&&(M=await rI(s.file));const L=Mr(ht,"people"),C=await Wx(L,{display_name:r.display_name,image_url:R??""}),T=await Wx(L,{display_name:s.display_name,image_url:M??""}),A=tr(Mr(ht,"couples"));await kp(A,{id:A.id,people_a_id:C.id,people_b_id:T.id,count_a:0,count_b:0,createdBy:t.uid,createdAt:HR(),consentCertified:!0,category:n}),await Promise.all([kp(C,{couple_id:A.id},{merge:!0}),kp(T,{couple_id:A.id},{merge:!0})]),e("/")}catch(R){console.error(R),f("Erreur lors de l’enregistrement : "+R.message)}finally{w(!1)}},E=!m&&a&&r.display_name.trim()!==""&&s.display_name.trim()!==""&&(r.file||r.image_url.trim()!=="")&&(s.file||s.image_url.trim()!=="")&&!u.A&&!u.B;return{personA:r,personB:s,setPersonA:i,setPersonB:o,consentChecked:a,setConsentChecked:l,nameErrors:u,error:h,loading:m,canSubmit:E,handleBlur:I,handleSubmit:g}}function L7({user:t}){const e=Xo(),[n,r]=y.useState("people"),{personA:i,personB:s,setPersonA:o,setPersonB:a,consentChecked:l,setConsentChecked:u,nameErrors:d,error:h,loading:f,canSubmit:m,handleBlur:w,handleSubmit:_}=V7(t,e,n);return t?S.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10",children:[S.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Ajouter un nouveau couple"}),S.jsxs("form",{onSubmit:_,className:"space-y-6",children:[S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{label:"Personne A",data:i,set:o,err:d.A,key:"A"},{label:"Personne B",data:s,set:a,err:d.B,key:"B"}].map(({label:I,data:g,set:E,err:x,key:R})=>S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium mb-2",children:I}),S.jsx("input",{type:"text",placeholder:"Nom",value:g.display_name,onChange:M=>E({...g,display_name:M.target.value}),onBlur:()=>w(R),className:`w-full border rounded p-2 mb-4 ${x?"border-red-500 bg-red-50":"border-gray-300"}`}),x&&S.jsx("div",{className:"text-xs text-red-600 mb-2",children:x}),S.jsx(O7,{label:I,imageUrl:g.image_url,file:g.file,onFileChange:M=>E({...g,file:M}),onUrlChange:M=>E({...g,image_url:M})})]},I))}),S.jsxs("div",{className:"flex items-start gap-2 border-t pt-4 mt-6",children:[S.jsx("input",{id:"consent",type:"checkbox",checked:l,onChange:I=>u(I.target.checked),className:"mt-1"}),S.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:["Je certifie avoir obtenu le ",S.jsx("strong",{children:"consentement explicite"})," des deux personnes représentées (textes et images) pour la publication sur Surchope. J’assume l’entière responsabilité en cas de contenu non autorisé."]})]}),h&&S.jsx("div",{className:"text-red-600 text-sm",children:h}),S.jsx("button",{type:"submit",disabled:!m,className:`px-4 py-2 rounded text-white ${m?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:f?"Enregistrement...":"Créer le couple"})]})]}):S.jsx("main",{className:"max-w-3xl mx-auto px-4 py-10",children:S.jsxs("div",{className:"p-6 border rounded-2xl bg-white",children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Ajouter un couple"}),S.jsx("p",{className:"text-gray-600",children:"Connecte-toi pour pouvoir ajouter un couple."}),S.jsx(su,{to:"/",label:"Retour à la liste",className:"mt-8"})]})})}function F7(){return S.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10 text-sm leading-relaxed text-gray-700",children:[S.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Politique de confidentialité"}),S.jsxs("p",{className:"mb-4",children:["Le site ",S.jsx("strong",{children:"Surchope"})," est un projet communautaire et ludique, sans but commercial, permettant aux utilisateurs de voter anonymement sur des couples fictifs ou réels."]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"1. Données collectées"}),S.jsx("p",{children:"Le site collecte uniquement les données strictement nécessaires à son fonctionnement :"}),S.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[S.jsx("li",{children:"Adresse e-mail et photo de profil via Google (connexion Firebase Auth)"}),S.jsx("li",{children:"Identifiants anonymes de vote (UID, couple_id, choix A/B)"}),S.jsx("li",{children:"Éventuellement des images fournies par les utilisateurs (hébergées sur ImgBB)"})]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"2. Finalité du traitement"}),S.jsx("p",{children:"Ces données sont utilisées uniquement pour permettre l’affichage des couples, la gestion des votes, et la modération des contenus. Aucune donnée n’est vendue, partagée ou exploitée à des fins commerciales."}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"3. Base légale"}),S.jsxs("p",{children:["Le traitement repose sur le ",S.jsx("strong",{children:"consentement explicite"})," des utilisateurs, notamment lors de la création d’un couple et du téléchargement d’images."]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"4. Durée de conservation"}),S.jsx("p",{children:"Les données sont conservées tant que le compte utilisateur existe ou que le couple reste publié. Les utilisateurs peuvent demander la suppression de leurs données à tout moment."}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"5. Droit d’accès et de suppression"}),S.jsx("p",{children:"Conformément au Règlement Général sur la Protection des Données (RGPD), vous pouvez demander :"}),S.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[S.jsx("li",{children:"l’accès à vos données,"}),S.jsx("li",{children:"leur rectification ou leur suppression,"}),S.jsx("li",{children:"la suppression de vos votes ou de vos couples ajoutés."})]}),S.jsxs("p",{children:["Pour exercer ces droits, vous pouvez contacter l’administrateur du site à l’adresse :",S.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"6. Hébergement et sous-traitants"}),S.jsx("p",{children:"Les données sont hébergées par :"}),S.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Firebase (Google Cloud)"})," – authentification, base de données et stockage"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"ImgBB"})," – hébergement des images uploadées"]})]}),S.jsx("p",{children:"Ces services peuvent transférer des données hors de l’Union européenne, conformément aux clauses contractuelles types de la Commission européenne."}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"7. Contact"}),S.jsxs("p",{children:["Pour toute question ou réclamation concernant vos données, contactez :",S.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),S.jsxs("p",{className:"mt-6 text-xs text-gray-500",children:["Dernière mise à jour : ",new Date().toLocaleDateString("fr-FR")]})]})}function j7(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),i=new Map;return y.useEffect(()=>{let o=null;(async()=>{const u=await Kl(Mr(ht,"couples"));await a(u),o=zR(Mr(ht,"couples"),a)})();async function a(u){const d=[];for(const h of u.docs){const f=h.data(),m=await l(f.people_a_id),w=await l(f.people_b_id);!m||!w||d.push({id:h.id,personA:m,personB:w,countA:f.count_a??0,countB:f.count_b??0,countTie:f.count_tie??0,category:f.category??"friends"})}e(d),r(!1)}async function l(u){if(i.has(u))return i.get(u);const d=await Cg(tr(ht,"people",u));if(!d.exists())return null;const h={id:d.id,...d.data()};return i.set(u,h),h}return()=>o&&o()},[]),{couples:t,loading:n,setCouples:e,deleteCouple:async(o,a)=>{if(a!=="EuindCjjeTYx5ABLPCRWdflHy2c2"){alert("Tu n’as pas les droits pour supprimer ce couple.");return}try{const l=tr(ht,"couples",o),u=await Cg(l);if(!u.exists()){alert("Couple introuvable.");return}const d=u.data(),f=(await Kl(Au(Mr(ht,"votes"),hw("couple_id","==",o)))).docs.map(_=>Ka(_.ref)),m=tr(ht,"people",d.people_a_id),w=tr(ht,"people",d.people_b_id);await Promise.all([...f,Ka(m),Ka(w),Ka(l)]),e(_=>_.filter(I=>I.id!==o)),alert("✅ Couple supprimé avec succès.")}catch(l){console.error("Erreur pendant la suppression du couple :",l),alert("❌ Erreur lors de la suppression du couple.")}}}}function U7(t,e){const[n,r]=y.useState([]),[i,s]=y.useState({});return y.useEffect(()=>{const a=Au(Mr(ht,"votes")),l=zR(a,u=>{const d=u.docs.map(h=>{var w,_;const f=h.data(),m=(_=(w=f.updatedAt)==null?void 0:w.toDate)==null?void 0:_.call(w);return{id:h.id,...f,updatedAt:m}});r(d)});return()=>l()},[]),y.useEffect(()=>{if(!t)return s({});const a={};for(const l of n){if(l.uid!==t.uid)continue;const u=e.find(d=>d.id===l.couple_id);u&&(l.people_voted_id==="tie"?a[l.couple_id]="tie":a[l.couple_id]=l.people_voted_id===u.personA.id?"A":"B")}s(a)},[t,n,e]),{votesAll:n,myVotes:i,handleVote:async(a,l)=>{if(!t)return;const u=`${a.id}_${t.uid}`,d=tr(ht,"votes",u),h=tr(ht,"couples",a.id),f=l==="A"?a.personA.id:l==="B"?a.personB.id:"tie";await f$(ht,async m=>{const[w,_]=await Promise.all([m.get(d),m.get(h)]);if(!_.exists())throw new Error("Couple not found");const I=_.data();let{count_a:g=0,count_b:E=0,count_tie:x=0}=I;if(!w.exists())l==="A"?g++:l==="B"?E++:x++;else{const R=w.data(),M=R.people_voted_id===a.personA.id?"A":R.people_voted_id===a.personB.id?"B":"tie";if(M===l)return;M==="A"?g--:M==="B"?E--:x--,l==="A"?g++:l==="B"?E++:x++}m.set(h,{count_a:g,count_b:E,count_tie:x},{merge:!0}),m.set(d,{couple_id:a.id,uid:t.uid,people_voted_id:f,updatedAt:HR()},{merge:!0})}),s(m=>({...m,[a.id]:l}))}}}function B7({couples:t,user:e,onVote:n}){const{id:r}=RO(),i=t.find(l=>l.id===r),[s,o]=y.useState(void 0);if(y.useEffect(()=>{i&&o(void 0)},[i]),!i)return S.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-muted-foreground",children:[S.jsx(vf,{}),S.jsx("p",{children:"Chargement du couple... 😢"})]});const a=(l,u)=>{o(u),n(l,u)};return S.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 text-foreground",children:[S.jsxs("h1",{className:"text-2xl font-semibold text-center text-primary mb-4",children:["💘 ",i.personA.display_name," & ",i.personB.display_name]}),S.jsx(bf,{couple:i,user:e,onVote:a,compact:!1,onlyMyVotes:!1,myChoice:s}),S.jsx(su,{to:"/",label:"Retour à la liste",className:"mt-8"})]})}var Fu={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var O=new OffscreenCanvas(1,1),D=O.getContext("2d");D.fillRect(0,0,1,1);var W=O.transferToImageBitmap();try{D.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function u(O){var D=n.exports.Promise,W=D!==void 0?D:e.Promise;return typeof W=="function"?new W(O):(O(l,l),null)}var d=function(O,D){return{transform:function(W){if(O)return W;if(D.has(W))return D.get(W);var q=new OffscreenCanvas(W.width,W.height),Y=q.getContext("2d");return Y.drawImage(W,0,0),D.set(W,q),q},clear:function(){D.clear()}}}(a,new Map),h=function(){var O=Math.floor(16.666666666666668),D,W,q={},Y=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(ne){var re=Math.random();return q[re]=requestAnimationFrame(function G(ce){Y===ce||Y+O-1<ce?(Y=ce,delete q[re],ne()):q[re]=requestAnimationFrame(G)}),re},W=function(ne){q[ne]&&cancelAnimationFrame(q[ne])}):(D=function(ne){return setTimeout(ne,O)},W=function(ne){return clearTimeout(ne)}),{frame:D,cancel:W}}(),f=function(){var O,D,W={};function q(Y){function ne(re,G){Y.postMessage({options:re||{},callback:G})}Y.init=function(G){var ce=G.transferControlToOffscreen();Y.postMessage({canvas:ce},[ce])},Y.fire=function(G,ce,de){if(D)return ne(G,null),D;var ye=Math.random().toString(36).slice(2);return D=u(function(ve){function xe(Pe){Pe.data.callback===ye&&(delete W[ye],Y.removeEventListener("message",xe),D=null,d.clear(),de(),ve())}Y.addEventListener("message",xe),ne(G,ye),W[ye]=xe.bind(null,{data:{callback:ye}})}),D},Y.reset=function(){Y.postMessage({reset:!0});for(var G in W)W[G](),delete W[G]}}return function(){if(O)return O;if(!r&&s){var Y=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([Y])))}catch(ne){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ne),null}q(O)}return O}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(O,D){return D?D(O):O}function _(O){return O!=null}function I(O,D,W){return w(O&&_(O[D])?O[D]:m[D],W)}function g(O){return O<0?0:Math.floor(O)}function E(O,D){return Math.floor(Math.random()*(D-O))+O}function x(O){return parseInt(O,16)}function R(O){return O.map(M)}function M(O){var D=String(O).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:x(D.substring(0,2)),g:x(D.substring(2,4)),b:x(D.substring(4,6))}}function L(O){var D=I(O,"origin",Object);return D.x=I(D,"x",Number),D.y=I(D,"y",Number),D}function C(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function T(O){var D=O.getBoundingClientRect();O.width=D.width,O.height=D.height}function A(O){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=O,D}function P(O,D,W,q,Y,ne,re,G,ce){O.save(),O.translate(D,W),O.rotate(ne),O.scale(q,Y),O.arc(0,0,1,re,G,ce),O.restore()}function N(O){var D=O.angle*(Math.PI/180),W=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-D+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function V(O,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var W=D.tick++/D.totalTicks,q=D.x+D.random*D.tiltCos,Y=D.y+D.random*D.tiltSin,ne=D.wobbleX+D.random*D.tiltCos,re=D.wobbleY+D.random*D.tiltSin;if(O.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-W)+")",O.beginPath(),o&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))O.fill(te(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(ne-q)*.1,Math.abs(re-Y)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var G=Math.PI/10*D.wobble,ce=Math.abs(ne-q)*.1,de=Math.abs(re-Y)*.1,ye=D.shape.bitmap.width*D.scalar,ve=D.shape.bitmap.height*D.scalar,xe=new DOMMatrix([Math.cos(G)*ce,Math.sin(G)*ce,-Math.sin(G)*de,Math.cos(G)*de,D.x,D.y]);xe.multiplySelf(new DOMMatrix(D.shape.matrix));var Pe=O.createPattern(d.transform(D.shape.bitmap),"no-repeat");Pe.setTransform(xe),O.globalAlpha=1-W,O.fillStyle=Pe,O.fillRect(D.x-ye/2,D.y-ve/2,ye,ve),O.globalAlpha=1}else if(D.shape==="circle")O.ellipse?O.ellipse(D.x,D.y,Math.abs(ne-q)*D.ovalScalar,Math.abs(re-Y)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):P(O,D.x,D.y,Math.abs(ne-q)*D.ovalScalar,Math.abs(re-Y)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var pe=Math.PI/2*3,Ze=4*D.scalar,It=8*D.scalar,Ft=D.x,on=D.y,jt=5,Qt=Math.PI/jt;jt--;)Ft=D.x+Math.cos(pe)*It,on=D.y+Math.sin(pe)*It,O.lineTo(Ft,on),pe+=Qt,Ft=D.x+Math.cos(pe)*Ze,on=D.y+Math.sin(pe)*Ze,O.lineTo(Ft,on),pe+=Qt;else O.moveTo(Math.floor(D.x),Math.floor(D.y)),O.lineTo(Math.floor(D.wobbleX),Math.floor(Y)),O.lineTo(Math.floor(ne),Math.floor(re)),O.lineTo(Math.floor(q),Math.floor(D.wobbleY));return O.closePath(),O.fill(),D.tick<D.totalTicks}function k(O,D,W,q,Y){var ne=D.slice(),re=O.getContext("2d"),G,ce,de=u(function(ye){function ve(){G=ce=null,re.clearRect(0,0,q.width,q.height),d.clear(),Y(),ye()}function xe(){r&&!(q.width===i.width&&q.height===i.height)&&(q.width=O.width=i.width,q.height=O.height=i.height),!q.width&&!q.height&&(W(O),q.width=O.width,q.height=O.height),re.clearRect(0,0,q.width,q.height),ne=ne.filter(function(Pe){return V(re,Pe)}),ne.length?G=h.frame(xe):ve()}G=h.frame(xe),ce=ve});return{addFettis:function(ye){return ne=ne.concat(ye),de},canvas:O,promise:de,reset:function(){G&&h.cancel(G),ce&&ce()}}}function oe(O,D){var W=!O,q=!!I(D||{},"resize"),Y=!1,ne=I(D,"disableForReducedMotion",Boolean),re=s&&!!I(D||{},"useWorker"),G=re?f():null,ce=W?C:T,de=O&&G?!!O.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function xe(pe,Ze,It){for(var Ft=I(pe,"particleCount",g),on=I(pe,"angle",Number),jt=I(pe,"spread",Number),Qt=I(pe,"startVelocity",Number),ju=I(pe,"decay",Number),Pf=I(pe,"gravity",Number),da=I(pe,"drift",Number),Ds=I(pe,"colors",R),Uu=I(pe,"ticks",Number),st=I(pe,"shapes"),mt=I(pe,"scalar"),Os=!!I(pe,"flat"),ha=L(pe),fa=Ft,pa=[],Bi=O.width*ha.x,Bu=O.height*ha.y;fa--;)pa.push(N({x:Bi,y:Bu,angle:on,spread:jt,startVelocity:Qt,color:Ds[fa%Ds.length],shape:st[E(0,st.length)],ticks:Uu,decay:ju,gravity:Pf,drift:da,scalar:mt,flat:Os}));return ve?ve.addFettis(pa):(ve=k(O,pa,ce,Ze,It),ve.promise)}function Pe(pe){var Ze=ne||I(pe,"disableForReducedMotion",Boolean),It=I(pe,"zIndex",Number);if(Ze&&ye)return u(function(Qt){Qt()});W&&ve?O=ve.canvas:W&&!O&&(O=A(It),document.body.appendChild(O)),q&&!de&&ce(O);var Ft={width:O.width,height:O.height};G&&!de&&G.init(O),de=!0,G&&(O.__confetti_initialized=!0);function on(){if(G){var Qt={getBoundingClientRect:function(){if(!W)return O.getBoundingClientRect()}};ce(Qt),G.postMessage({resize:{width:Qt.width,height:Qt.height}});return}Ft.width=Ft.height=null}function jt(){ve=null,q&&(Y=!1,e.removeEventListener("resize",on)),W&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,de=!1)}return q&&!Y&&(Y=!0,e.addEventListener("resize",on,!1)),G?G.fire(pe,Ft,jt):xe(pe,Ft,jt)}return Pe.reset=function(){G&&G.reset(),ve&&ve.reset()},Pe}var me;function ae(){return me||(me=oe(null,{useWorker:!0,resize:!0})),me}function te(O,D,W,q,Y,ne,re){var G=new Path2D(O),ce=new Path2D;ce.addPath(G,new DOMMatrix(D));var de=new Path2D;return de.addPath(ce,new DOMMatrix([Math.cos(re)*Y,Math.sin(re)*Y,-Math.sin(re)*ne,Math.cos(re)*ne,W,q])),de}function F(O){if(!o)throw new Error("path confetti are not supported in this browser");var D,W;typeof O=="string"?D=O:(D=O.path,W=O.matrix);var q=new Path2D(D),Y=document.createElement("canvas"),ne=Y.getContext("2d");if(!W){for(var re=1e3,G=re,ce=re,de=0,ye=0,ve,xe,Pe=0;Pe<re;Pe+=2)for(var pe=0;pe<re;pe+=2)ne.isPointInPath(q,Pe,pe,"nonzero")&&(G=Math.min(G,Pe),ce=Math.min(ce,pe),de=Math.max(de,Pe),ye=Math.max(ye,pe));ve=de-G,xe=ye-ce;var Ze=10,It=Math.min(Ze/ve,Ze/xe);W=[It,0,0,It,-Math.round(ve/2+G)*It,-Math.round(xe/2+ce)*It]}return{type:"path",path:D,matrix:W}}function B(O){var D,W=1,q="#000000",Y='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?D=O:(D=O.text,W="scalar"in O?O.scalar:W,Y="fontFamily"in O?O.fontFamily:Y,q="color"in O?O.color:q);var ne=10*W,re=""+ne+"px "+Y,G=new OffscreenCanvas(ne,ne),ce=G.getContext("2d");ce.font=re;var de=ce.measureText(D),ye=Math.ceil(de.actualBoundingBoxRight+de.actualBoundingBoxLeft),ve=Math.ceil(de.actualBoundingBoxAscent+de.actualBoundingBoxDescent),xe=2,Pe=de.actualBoundingBoxLeft+xe,pe=de.actualBoundingBoxAscent+xe;ye+=xe+xe,ve+=xe+xe,G=new OffscreenCanvas(ye,ve),ce=G.getContext("2d"),ce.font=re,ce.fillStyle=q,ce.fillText(D,Pe,pe);var Ze=1/W;return{type:"bitmap",bitmap:G.transferToImageBitmap(),matrix:[Ze,0,0,Ze,-ye*Ze/2,-ve*Ze/2]}}n.exports=function(){return ae().apply(this,arguments)},n.exports.reset=function(){ae().reset()},n.exports.create=oe,n.exports.shapeFromPath=F,n.exports.shapeFromText=B})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Fu,!1);const $7=Fu.exports;Fu.exports.create;function z7({couples:t,user:e,myVotes:n,onVote:r}){Xo();const[i]=y.useState(()=>t.filter(g=>!n[g.id])),[s,o]=y.useState(0),[a,l]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(null),m=()=>{s+1<i.length?o(g=>g+1):l(!0),f(null)},w=(g,E)=>{u||(d(!0),r(g,E),f(E==="A"?"left":E==="B"?"right":"down"),setTimeout(()=>{m(),d(!1)},400))};y.useEffect(()=>{(a||i.length===0)&&$7({particleCount:120,spread:70,origin:{y:.6},colors:["#ec4899","#f472b6","#fde68a"]})},[a,i.length]);const _=i[s];if(a||i.length===0)return S.jsxs("main",{className:"max-w-md mx-auto px-4 py-12 flex flex-col items-center justify-center text-center space-y-6",children:[S.jsx("h1",{className:"text-3xl font-extrabold text-primary drop-shadow-sm",children:"🎉 Bravo !"}),S.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Tu as voté pour tous les couples disponibles 💘 ",S.jsx("br",{}),"Reviens bientôt, de nouveaux duos t’attendent !"]}),S.jsx(su,{to:"/",label:"Retour à la liste"}),S.jsx(er.div,{className:"mt-8 text-4xl",initial:{scale:0},animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0},children:"💞"}),S.jsx(oy,{})]});const I={left:{opacity:0,x:-200,rotate:-10},right:{opacity:0,x:200,rotate:10},down:{opacity:0,y:100,scale:.9},none:{opacity:0,x:0}};return S.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 flex flex-col items-center justify-center gap-6",children:[S.jsxs("div",{className:"flex justify-between w-full items-center",children:[S.jsx(su,{to:"/",label:"Retour à la liste"}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:[s+1,"/",i.length]})]}),S.jsx("h2",{className:"text-xl font-extrabold text-center text-primary mt-2 tracking-wide",children:"💞 Qui surchope ?"}),S.jsx(hh,{mode:"wait",children:S.jsx(er.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:I[h??"none"],transition:{duration:.4},className:"w-full",children:_&&S.jsx(bf,{couple:_,user:e,onVote:w,compact:!1,onlyMyVotes:!1})},_==null?void 0:_.id)}),S.jsx(oy,{})]})}function W7(){const t=[{name:"primary",label:"Primary 💘"},{name:"secondary",label:"Secondary 💙"},{name:"accent",label:"Accent 💫"},{name:"muted",label:"Muted 🌫️"},{name:"card",label:"Card 🪶"}],[e,n]=y.useState("");return S.jsxs("main",{className:"max-w-4xl mx-auto p-8 space-y-10 text-foreground",children:[S.jsxs("header",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-extrabold text-primary drop-shadow-sm mb-2",children:"🎨 Styleguide Surchope"}),S.jsx("p",{className:"text-muted-foreground text-sm",children:"Aperçu de la palette, des composants et des styles de l’application 💘"})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Barre de recherche"}),S.jsx("div",{className:"flex justify-center",children:S.jsx(GM,{value:e,onChange:n,placeholder:"🔍 Recherche d’exemple...",className:"max-w-sm"})}),S.jsx("p",{className:"text-center text-muted-foreground text-xs mt-2",children:"Tape quelque chose pour tester le comportement du champ ✨"})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Couleurs"}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:t.map(({name:r,label:i})=>S.jsxs("div",{className:`flex flex-col items-center text-center rounded-xl overflow-hidden border border-border bg-${r} text-${r}-foreground shadow-sm`,children:[S.jsx("div",{className:`w-full h-16 bg-${r}`}),S.jsx("div",{className:"p-2 text-xs font-medium text-foreground",children:i}),S.jsx("code",{className:"text-[10px] text-muted-foreground mb-2",children:`bg-${r}`})]},r))})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Boutons"}),S.jsxs("div",{className:"flex flex-wrap gap-4",children:[S.jsx("button",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-full font-medium shadow-sm hover:opacity-90 transition",children:"Surchope 💘"}),S.jsx("button",{className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-full font-medium shadow-sm hover:opacity-90 transition",children:"Partager"}),S.jsx("button",{className:"border border-border text-foreground px-4 py-2 rounded-full hover:bg-muted transition",children:"Neutre"})]})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Tags"}),S.jsxs("div",{className:"flex gap-3 flex-wrap",children:[S.jsx("span",{className:"bg-primary/10 text-primary text-xs font-semibold px-3 py-1 rounded-full",children:"Surchope 💘"}),S.jsx("span",{className:"bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full",children:"Égalité ⚖️"}),S.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",children:"Nouveau 🌱"})]})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Card"}),S.jsxs("div",{className:"bg-card border border-border rounded-2xl shadow-sm p-5 max-w-sm text-card-foreground",children:[S.jsx("h3",{className:"font-semibold mb-2 text-foreground",children:"Exemple de carte 💌"}),S.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Les cartes servent à encadrer du contenu (comme les couples ou les informations utilisateur). Elles utilisent une ombre douce et des arrondis cohérents avec le reste de l’UI."}),S.jsx("div",{className:"mt-4 flex justify-end",children:S.jsx("button",{className:"bg-primary hover:opacity-90 text-primary-foreground text-sm px-3 py-1.5 rounded-full shadow-sm transition",children:"Action 💬"})})]})]})]})}function H7(){const[t,e]=y.useState(null),{couples:n,loading:r,deleteCouple:i}=j7(),{votesAll:s,myVotes:o,handleVote:a}=U7(t,n);return y.useEffect(()=>YF(Iw,e),[]),S.jsxs("div",{children:[S.jsx(E5,{user:t}),S.jsxs(HO,{children:[S.jsx(wr,{path:"/",element:S.jsx(o7,{user:t,couples:n,myVotes:o,onVote:a,loading:r,deleteCouple:i})}),S.jsx(wr,{path:"/jouer",element:S.jsx(z7,{couples:n,user:t,myVotes:o,onVote:a})}),S.jsx(wr,{path:"/mes-votes",element:S.jsx(l7,{user:t,couples:n,votesAll:s})}),S.jsx(wr,{path:"/ajouter-couple",element:S.jsx(L7,{user:t})}),S.jsx(wr,{path:"/couple/:id",element:S.jsx(B7,{couples:n,user:t,onVote:a})}),S.jsx(wr,{path:"/confidentialite",element:S.jsx(F7,{})}),S.jsx(wr,{path:"/style",element:S.jsx(W7,{})}),S.jsx(wr,{path:"*",element:S.jsx(zO,{to:"/",replace:!0})})]}),S.jsxs("footer",{className:"text-center text-xs text-gray-500 py-6",children:["Fait avec amour, aucun jugement 😇 •"," ",S.jsx("a",{href:"/confidentialite",className:"underline hover:text-gray-700",children:"Politique de confidentialité"})]})]})}async function q7(t){if(!("Notification"in window))return;Notification.permission!=="granted"&&await Notification.requestPermission();const e=async()=>{const n=await t();if(!n)return;const{id:r,personA:i,personB:s}=n;JSON.parse(localStorage.getItem("myVotes")||"{}")[r]||new Notification("💘 Voici le couple du jour",{body:`${i.display_name} & ${s.display_name}`,icon:"/pwa-192x192.png",data:{url:`https://surchope.fr/couple/${r}`}})};e(),setInterval(e,24*60*60*1e3)}const G7=document.getElementById("root"),K7=vA(G7);K7.render(S.jsx(_r.StrictMode,{children:S.jsx(pV,{basename:"/",children:S.jsx(H7,{})})}));AV({immediate:!0,onOfflineReady(){console.log("L’application est prête à être utilisée hors ligne.")}});const lm=new Map;async function iI(t){if(lm.has(t))return lm.get(t);const e=await Cg(tr(ht,"people",t));if(!e.exists())return null;const n={id:e.id,...e.data()};return lm.set(t,n),n}async function Q7(){try{const t=Au(Mr(ht,"couples"),jR("createdAt","desc"),l$(1)),e=await Kl(t);if(e.empty)return null;const n=e.docs[0],r=n.data(),i=await iI(r.people_a_id),s=await iI(r.people_b_id);return!i||!s?null:{id:n.id,personA:i,personB:s,countA:r.count_a??0,countB:r.count_b??0,countTie:r.count_tie??0,category:r.category??"friends"}}catch(t){return console.error("Erreur lors de la récupération du dernier couple :",t),null}}q7(Q7)});export default Y7();
