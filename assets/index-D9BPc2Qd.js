var IN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var bK=IN((FK,bu)=>{function AN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Zg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PS={exports:{}},fh={},bS={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),RN=Symbol.for("react.portal"),PN=Symbol.for("react.fragment"),bN=Symbol.for("react.strict_mode"),kN=Symbol.for("react.profiler"),NN=Symbol.for("react.provider"),MN=Symbol.for("react.context"),DN=Symbol.for("react.forward_ref"),VN=Symbol.for("react.suspense"),ON=Symbol.for("react.memo"),LN=Symbol.for("react.lazy"),K_=Symbol.iterator;function FN(t){return t===null||typeof t!="object"?null:(t=K_&&t[K_]||t["@@iterator"],typeof t=="function"?t:null)}var kS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NS=Object.assign,MS={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=MS,this.updater=n||kS}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DS(){}DS.prototype=Fo.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=MS,this.updater=n||kS}var ty=ey.prototype=new DS;ty.constructor=ey;NS(ty,Fo.prototype);ty.isPureReactComponent=!0;var q_=Array.isArray,VS=Object.prototype.hasOwnProperty,ny={current:null},OS={key:!0,ref:!0,__self:!0,__source:!0};function LS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)VS.call(e,r)&&!OS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xl,type:t,key:s,ref:o,props:i,_owner:ny.current}}function jN(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function UN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Q_=/\/+/g;function Vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UN(""+t.key):e.toString(36)}function kc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xl:case RN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vf(o,0):r,q_(i)?(n="",t!=null&&(n=t.replace(Q_,"$&/")+"/"),kc(i,e,n,"",function(u){return u})):i!=null&&(ry(i)&&(i=jN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Q_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",q_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vf(s,a);o+=kc(s,e,n,l,i)}else if(l=FN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vf(s,a++),o+=kc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],i=0;return kc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Nc={transition:null},zN={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:ny};function FS(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Fo;we.Fragment=PN;we.Profiler=kN;we.PureComponent=ey;we.StrictMode=bN;we.Suspense=VN;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;we.act=FS;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VS.call(e,l)&&!OS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xl,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:MN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NN,_context:t},t.Consumer=t};we.createElement=LS;we.createFactory=function(t){var e=LS.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:DN,render:t}};we.isValidElement=ry;we.lazy=function(t){return{$$typeof:LN,_payload:{_status:-1,_result:t},_init:BN}};we.memo=function(t,e){return{$$typeof:ON,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};we.unstable_act=FS;we.useCallback=function(t,e){return Ht.current.useCallback(t,e)};we.useContext=function(t){return Ht.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};we.useEffect=function(t,e){return Ht.current.useEffect(t,e)};we.useId=function(){return Ht.current.useId()};we.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Ht.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};we.useRef=function(t){return Ht.current.useRef(t)};we.useState=function(t){return Ht.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Ht.current.useTransition()};we.version="18.3.1";bS.exports=we;var y=bS.exports;const pr=Zg(y),jS=AN({__proto__:null,default:pr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N=y,WN=Symbol.for("react.element"),HN=Symbol.for("react.fragment"),GN=Object.prototype.hasOwnProperty,KN=$N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qN={key:!0,ref:!0,__self:!0,__source:!0};function US(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GN.call(e,r)&&!qN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WN,type:t,key:s,ref:o,props:i,_owner:KN.current}}fh.Fragment=HN;fh.jsx=US;fh.jsxs=US;PS.exports=fh;var S=PS.exports,BS={exports:{}},gn={},zS={exports:{}},$S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var V=F.length;F.push(B);e:for(;0<V;){var D=V-1>>>1,W=F[D];if(0<i(W,B))F[D]=B,F[V]=W,V=D;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],V=F.pop();if(V!==B){F[0]=V;e:for(var D=0,W=F.length,G=W>>>1;D<G;){var Y=2*(D+1)-1,ne=F[Y],re=Y+1,K=F[re];if(0>i(ne,V))re<W&&0>i(K,ne)?(F[D]=K,F[re]=V,D=re):(F[D]=ne,F[Y]=V,D=Y);else if(re<W&&0>i(K,V))F[D]=K,F[re]=V,D=re;else break e}}return B}function i(F,B){var V=F.sortIndex-B.sortIndex;return V!==0?V:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,w=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=F)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function P(F){if(_=!1,x(F),!w)if(n(l)!==null)w=!0,ae(N);else{var B=n(u);B!==null&&te(P,B.startTime-F)}}function N(F,B){w=!1,_&&(_=!1,g(T),T=-1),m=!0;var V=f;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!M());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var W=D(h.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?h.callback=W:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var G=!0;else{var Y=n(u);Y!==null&&te(P,Y.startTime-B),G=!1}return G}finally{h=null,f=V,m=!1}}var L=!1,I=null,T=-1,A=5,b=-1;function M(){return!(t.unstable_now()-b<A)}function O(){if(I!==null){var F=t.unstable_now();b=F;var B=!0;try{B=I(!0,F)}finally{B?k():(L=!1,I=null)}}else L=!1}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=O,k=function(){me.postMessage(null)}}else k=function(){C(O,0)};function ae(F){I=F,L||(L=!0,k())}function te(F,B){T=C(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ae(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var V=f;f=B;try{return F()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=f;f=F;try{return B()}finally{f=V}},t.unstable_scheduleCallback=function(F,B,V){var D=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,F={id:d++,callback:B,priorityLevel:F,startTime:V,expirationTime:W,sortIndex:-1},V>D?(F.sortIndex=V,e(u,F),n(l)===null&&F===n(u)&&(_?(g(T),T=-1):_=!0,te(P,V-D))):(F.sortIndex=W,e(l,F),w||m||(w=!0,ae(N))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var B=f;return function(){var V=f;f=B;try{return F.apply(this,arguments)}finally{f=V}}}})($S);zS.exports=$S;var QN=zS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=y,mn=QN;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,cl={};function _s(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(cl[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,XN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y_={},X_={};function JN(t){return qp.call(X_,t)?!0:qp.call(Y_,t)?!1:XN.test(t)?X_[t]=!0:(Y_[t]=!0,!1)}function ZN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eM(t,e,n,r){if(e===null||typeof e>"u"||ZN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,sy);Tt[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,sy);Tt[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,sy);Tt[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function oy(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eM(e,n,i,r)&&(n=null),r||i===null?JN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),GS=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),KS=Symbol.for("react.offscreen"),J_=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=J_&&t[J_]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Of;function Da(t){if(Of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Of=e&&e[1]||""}return`
`+Of+t}var Lf=!1;function Ff(t,e){if(!t||Lf)return"";Lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function tM(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=Ff(t.type,!1),t;case 11:return t=Ff(t.type.render,!1),t;case 1:return t=Ff(t.type,!0),t;default:return""}}function Jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Us:return"Portal";case Qp:return"Profiler";case ay:return"StrictMode";case Yp:return"Suspense";case Xp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GS:return(t.displayName||"Context")+".Consumer";case HS:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uy:return e=t.displayName||null,e!==null?e:Jp(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return Jp(t(e))}catch{}}return null}function nM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(e);case 8:return e===ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rM(t){var e=qS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xu(t){t._valueTracker||(t._valueTracker=rM(t))}function QS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zp(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YS(t,e){e=e.checked,e!=null&&oy(t,"checked",e,!1)}function em(t,e){YS(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&tm(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tm(t,e,n){(e!=="number"||cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Va(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function XS(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,ZS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iM=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){iM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function eC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function tC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sM=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function im(t,e){if(e){if(sM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=null;function cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var am=null,so=null,oo=null;function r0(t){if(t=eu(t)){if(typeof am!="function")throw Error(H(280));var e=t.stateNode;e&&(e=vh(e),am(t.stateNode,t.type,e))}}function nC(t){so?oo?oo.push(t):oo=[t]:so=t}function rC(){if(so){var t=so,e=oo;if(oo=so=null,r0(t),e)for(t=0;t<e.length;t++)r0(e[t])}}function iC(t,e){return t(e)}function sC(){}var jf=!1;function oC(t,e,n){if(jf)return t(e,n);jf=!0;try{return iC(t,e,n)}finally{jf=!1,(so!==null||oo!==null)&&(sC(),rC())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var lm=!1;if(Ar)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){lm=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{lm=!1}function oM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ha=!1,dd=null,hd=!1,um=null,aM={onError:function(t){Ha=!0,dd=t}};function lM(t,e,n,r,i,s,o,a,l){Ha=!1,dd=null,oM.apply(aM,arguments)}function uM(t,e,n,r,i,s,o,a,l){if(lM.apply(this,arguments),Ha){if(Ha){var u=dd;Ha=!1,dd=null}else throw Error(H(198));hd||(hd=!0,um=u)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i0(t){if(Es(t)!==t)throw Error(H(188))}function cM(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return i0(i),t;if(s===r)return i0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function lC(t){return t=cM(t),t!==null?uC(t):null}function uC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uC(t);if(e!==null)return e;t=t.sibling}return null}var cC=mn.unstable_scheduleCallback,s0=mn.unstable_cancelCallback,dM=mn.unstable_shouldYield,hM=mn.unstable_requestPaint,Xe=mn.unstable_now,fM=mn.unstable_getCurrentPriorityLevel,dy=mn.unstable_ImmediatePriority,dC=mn.unstable_UserBlockingPriority,fd=mn.unstable_NormalPriority,pM=mn.unstable_LowPriority,hC=mn.unstable_IdlePriority,ph=null,Jn=null;function mM(t){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:vM,gM=Math.log,yM=Math.LN2;function vM(t){return t>>>=0,t===0?32:31-(gM(t)/yM|0)|0}var Zu=64,ec=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Oa(a):(s&=o,s!==0&&(r=Oa(s)))}else o=n&~i,o!==0?r=Oa(o):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function wM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _M(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=wM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fC(){var t=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),t}function Uf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function EM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function pC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mC,fy,gC,yC,vC,dm=!1,tc=[],ci=null,di=null,hi=null,fl=new Map,pl=new Map,ni=[],xM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o0(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eu(e),e!==null&&fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TM(t,e,n,r,i){switch(e){case"focusin":return ci=xa(ci,t,e,n,r,i),!0;case"dragenter":return di=xa(di,t,e,n,r,i),!0;case"mouseover":return hi=xa(hi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,xa(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,xa(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function wC(t){var e=Qi(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=aC(n),e!==null){t.blockedOn=e,vC(t.priority,function(){gC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);om=r,n.target.dispatchEvent(r),om=null}else return e=eu(n),e!==null&&fy(e),t.blockedOn=n,!1;e.shift()}return!0}function a0(t,e,n){Mc(t)&&n.delete(e)}function SM(){dm=!1,ci!==null&&Mc(ci)&&(ci=null),di!==null&&Mc(di)&&(di=null),hi!==null&&Mc(hi)&&(hi=null),fl.forEach(a0),pl.forEach(a0)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,dm||(dm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,SM)))}function ml(t){function e(i){return Ta(i,t)}if(0<tc.length){Ta(tc[0],t);for(var n=1;n<tc.length;n++){var r=tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&Ta(ci,t),di!==null&&Ta(di,t),hi!==null&&Ta(hi,t),fl.forEach(e),pl.forEach(e),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)wC(n),n.blockedOn===null&&ni.shift()}var ao=zr.ReactCurrentBatchConfig,md=!0;function CM(t,e,n,r){var i=Pe,s=ao.transition;ao.transition=null;try{Pe=1,py(t,e,n,r)}finally{Pe=i,ao.transition=s}}function IM(t,e,n,r){var i=Pe,s=ao.transition;ao.transition=null;try{Pe=4,py(t,e,n,r)}finally{Pe=i,ao.transition=s}}function py(t,e,n,r){if(md){var i=hm(t,e,n,r);if(i===null)Yf(t,e,r,gd,n),o0(t,r);else if(TM(i,t,e,n,r))r.stopPropagation();else if(o0(t,r),e&4&&-1<xM.indexOf(t)){for(;i!==null;){var s=eu(i);if(s!==null&&mC(s),s=hm(t,e,n,r),s===null&&Yf(t,e,r,gd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yf(t,e,r,null,n)}}var gd=null;function hm(t,e,n,r){if(gd=null,t=cy(r),t=Qi(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gd=t,null}function _C(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fM()){case dy:return 1;case dC:return 4;case fd:case pM:return 16;case hC:return 536870912;default:return 16}default:return 16}}var ai=null,my=null,Dc=null;function EC(){if(Dc)return Dc;var t,e=my,n=e.length,r,i="value"in ai?ai.value:ai.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function l0(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nc:l0,this.isPropagationStopped=l0,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gy=yn(jo),Zl=We({},jo,{view:0,detail:0}),AM=yn(Zl),Bf,zf,Sa,mh=We({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(Bf=t.screenX-Sa.screenX,zf=t.screenY-Sa.screenY):zf=Bf=0,Sa=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:zf}}),u0=yn(mh),RM=We({},mh,{dataTransfer:0}),PM=yn(RM),bM=We({},Zl,{relatedTarget:0}),$f=yn(bM),kM=We({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=yn(kM),MM=We({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DM=yn(MM),VM=We({},jo,{data:0}),c0=yn(VM),OM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FM[t])?!!e[t]:!1}function yy(){return jM}var UM=We({},Zl,{key:function(t){if(t.key){var e=OM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?Vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BM=yn(UM),zM=We({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=yn(zM),$M=We({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),WM=yn($M),HM=We({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),GM=yn(HM),KM=We({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qM=yn(KM),QM=[9,13,27,32],vy=Ar&&"CompositionEvent"in window,Ga=null;Ar&&"documentMode"in document&&(Ga=document.documentMode);var YM=Ar&&"TextEvent"in window&&!Ga,xC=Ar&&(!vy||Ga&&8<Ga&&11>=Ga),h0=" ",f0=!1;function TC(t,e){switch(t){case"keyup":return QM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function XM(t,e){switch(t){case"compositionend":return SC(e);case"keypress":return e.which!==32?null:(f0=!0,h0);case"textInput":return t=e.data,t===h0&&f0?null:t;default:return null}}function JM(t,e){if(zs)return t==="compositionend"||!vy&&TC(t,e)?(t=EC(),Dc=my=ai=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xC&&e.locale!=="ko"?null:e.data;default:return null}}var ZM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZM[t.type]:e==="textarea"}function CC(t,e,n,r){nC(r),e=yd(e,"onChange"),0<e.length&&(n=new gy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ka=null,gl=null;function eD(t){OC(t,0)}function gh(t){var e=Hs(t);if(QS(e))return t}function tD(t,e){if(t==="change")return e}var IC=!1;if(Ar){var Wf;if(Ar){var Hf="oninput"in document;if(!Hf){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Hf=typeof m0.oninput=="function"}Wf=Hf}else Wf=!1;IC=Wf&&(!document.documentMode||9<document.documentMode)}function g0(){Ka&&(Ka.detachEvent("onpropertychange",AC),gl=Ka=null)}function AC(t){if(t.propertyName==="value"&&gh(gl)){var e=[];CC(e,gl,t,cy(t)),oC(eD,e)}}function nD(t,e,n){t==="focusin"?(g0(),Ka=e,gl=n,Ka.attachEvent("onpropertychange",AC)):t==="focusout"&&g0()}function rD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(gl)}function iD(t,e){if(t==="click")return gh(e)}function sD(t,e){if(t==="input"||t==="change")return gh(e)}function oD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:oD;function yl(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qp.call(e,i)||!jn(t[i],e[i]))return!1}return!0}function y0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v0(t,e){var n=y0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y0(n)}}function RC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PC(){for(var t=window,e=cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cd(t.document)}return e}function wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aD(t){var e=PC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RC(n.ownerDocument.documentElement,n)){if(r!==null&&wy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v0(n,s);var o=v0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lD=Ar&&"documentMode"in document&&11>=document.documentMode,$s=null,fm=null,qa=null,pm=!1;function w0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pm||$s==null||$s!==cd(r)||(r=$s,"selectionStart"in r&&wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&yl(qa,r)||(qa=r,r=yd(fm,"onSelect"),0<r.length&&(e=new gy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$s)))}function rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},Gf={},bC={};Ar&&(bC=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function yh(t){if(Gf[t])return Gf[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bC)return Gf[t]=e[n];return t}var kC=yh("animationend"),NC=yh("animationiteration"),MC=yh("animationstart"),DC=yh("transitionend"),VC=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){VC.set(t,e),_s(e,[t])}for(var Kf=0;Kf<_0.length;Kf++){var qf=_0[Kf],uD=qf.toLowerCase(),cD=qf[0].toUpperCase()+qf.slice(1);Ni(uD,"on"+cD)}Ni(kC,"onAnimationEnd");Ni(NC,"onAnimationIteration");Ni(MC,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(DC,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dD=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function E0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uM(r,e,void 0,t),t.currentTarget=null}function OC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;E0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;E0(i,a,u),s=l}}}if(hd)throw t=um,hd=!1,um=null,t}function Oe(t,e){var n=e[wm];n===void 0&&(n=e[wm]=new Set);var r=t+"__bubble";n.has(r)||(LC(e,t,2,!1),n.add(r))}function Qf(t,e,n){var r=0;e&&(r|=4),LC(n,t,r,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[ic]){t[ic]=!0,WS.forEach(function(n){n!=="selectionchange"&&(dD.has(n)||Qf(n,!1,t),Qf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,Qf("selectionchange",!1,e))}}function LC(t,e,n,r){switch(_C(e)){case 1:var i=CM;break;case 4:i=IM;break;default:i=py}n=i.bind(null,e,n,t),i=void 0,!lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}oC(function(){var u=s,d=cy(n),h=[];e:{var f=VC.get(t);if(f!==void 0){var m=gy,w=t;switch(t){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":m=BM;break;case"focusin":w="focus",m=$f;break;case"focusout":w="blur",m=$f;break;case"beforeblur":case"afterblur":m=$f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=u0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WM;break;case kC:case NC:case MC:m=NM;break;case DC:m=GM;break;case"scroll":m=AM;break;case"wheel":m=qM;break;case"copy":case"cut":case"paste":m=DM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=d0}var _=(e&4)!==0,C=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var E=u,x;E!==null;){x=E;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,g!==null&&(P=hl(E,g),P!=null&&_.push(wl(E,P,x)))),C)break;E=E.return}0<_.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==om&&(w=n.relatedTarget||n.fromElement)&&(Qi(w)||w[Rr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Qi(w):null,w!==null&&(C=Es(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(_=u0,P="onMouseLeave",g="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=d0,P="onPointerLeave",g="onPointerEnter",E="pointer"),C=m==null?f:Hs(m),x=w==null?f:Hs(w),f=new _(P,E+"leave",m,n,d),f.target=C,f.relatedTarget=x,P=null,Qi(d)===u&&(_=new _(g,E+"enter",w,n,d),_.target=x,_.relatedTarget=C,P=_),C=P,m&&w)t:{for(_=m,g=w,E=0,x=_;x;x=Ns(x))E++;for(x=0,P=g;P;P=Ns(P))x++;for(;0<E-x;)_=Ns(_),E--;for(;0<x-E;)g=Ns(g),x--;for(;E--;){if(_===g||g!==null&&_===g.alternate)break t;_=Ns(_),g=Ns(g)}_=null}else _=null;m!==null&&x0(h,f,m,_,!1),w!==null&&C!==null&&x0(h,C,w,_,!0)}}e:{if(f=u?Hs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=tD;else if(p0(f))if(IC)N=sD;else{N=rD;var L=nD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=iD);if(N&&(N=N(t,u))){CC(h,N,n,d);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&tm(f,"number",f.value)}switch(L=u?Hs(u):window,t){case"focusin":(p0(L)||L.contentEditable==="true")&&($s=L,fm=u,qa=null);break;case"focusout":qa=fm=$s=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,w0(h,n,d);break;case"selectionchange":if(lD)break;case"keydown":case"keyup":w0(h,n,d)}var I;if(vy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zs?TC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(xC&&n.locale!=="ko"&&(zs||T!=="onCompositionStart"?T==="onCompositionEnd"&&zs&&(I=EC()):(ai=d,my="value"in ai?ai.value:ai.textContent,zs=!0)),L=yd(u,T),0<L.length&&(T=new c0(T,t,null,n,d),h.push({event:T,listeners:L}),I?T.data=I:(I=SC(n),I!==null&&(T.data=I)))),(I=YM?XM(t,n):JM(t,n))&&(u=yd(u,"onBeforeInput"),0<u.length&&(d=new c0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}OC(h,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(wl(t,s,i)),s=hl(t,e),s!=null&&r.push(wl(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hl(n,s),l!=null&&o.unshift(wl(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hD=/\r\n?/g,fD=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(hD,`
`).replace(fD,"")}function sc(t,e,n){if(e=T0(e),T0(t)!==e&&n)throw Error(H(425))}function vd(){}var mm=null,gm=null;function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,pD=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(gD)}:vm;function gD(t){setTimeout(function(){throw t})}function Xf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Uo,_l="__reactProps$"+Uo,Rr="__reactContainer$"+Uo,wm="__reactEvents$"+Uo,yD="__reactListeners$"+Uo,vD="__reactHandles$"+Uo;function Qi(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C0(t);t!==null;){if(n=t[qn])return n;t=C0(t)}return e}t=n,n=t.parentNode}return null}function eu(t){return t=t[qn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function vh(t){return t[_l]||null}var _m=[],Gs=-1;function Mi(t){return{current:t}}function Le(t){0>Gs||(t.current=_m[Gs],_m[Gs]=null,Gs--)}function De(t,e){Gs++,_m[Gs]=t.current,t.current=e}var Ti={},Ot=Mi(Ti),en=Mi(!1),ls=Ti;function wo(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function wd(){Le(en),Le(Ot)}function I0(t,e,n){if(Ot.current!==Ti)throw Error(H(168));De(Ot,e),De(en,n)}function FC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,nM(t)||"Unknown",i));return We({},n,r)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ls=Ot.current,De(Ot,t),De(en,en.current),!0}function A0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=FC(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Le(en),Le(Ot),De(Ot,t)):Le(en),De(en,n)}var gr=null,wh=!1,Jf=!1;function jC(t){gr===null?gr=[t]:gr.push(t)}function wD(t){wh=!0,jC(t)}function Di(){if(!Jf&&gr!==null){Jf=!0;var t=0,e=Pe;try{var n=gr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gr=null,wh=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),cC(dy,Di),i}finally{Pe=e,Jf=!1}}return null}var Ks=[],qs=0,Ed=null,xd=0,_n=[],En=0,us=null,vr=1,wr="";function Wi(t,e){Ks[qs++]=xd,Ks[qs++]=Ed,Ed=t,xd=e}function UC(t,e,n){_n[En++]=vr,_n[En++]=wr,_n[En++]=us,us=t;var r=vr;t=wr;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vr=1<<32-On(e)+i|n<<i|r,wr=s+t}else vr=1<<s|n<<i|r,wr=t}function _y(t){t.return!==null&&(Wi(t,1),UC(t,1,0))}function Ey(t){for(;t===Ed;)Ed=Ks[--qs],Ks[qs]=null,xd=Ks[--qs],Ks[qs]=null;for(;t===us;)us=_n[--En],_n[En]=null,wr=_n[--En],_n[En]=null,vr=_n[--En],_n[En]=null}var dn=null,un=null,Fe=!1,Vn=null;function BC(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,un=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:vr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,un=null,!0):!1;default:return!1}}function Em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xm(t){if(Fe){var e=un;if(e){var n=e;if(!R0(t,e)){if(Em(t))throw Error(H(418));e=fi(n.nextSibling);var r=dn;e&&R0(t,e)?BC(r,n):(t.flags=t.flags&-4097|2,Fe=!1,dn=t)}}else{if(Em(t))throw Error(H(418));t.flags=t.flags&-4097|2,Fe=!1,dn=t}}}function P0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function oc(t){if(t!==dn)return!1;if(!Fe)return P0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ym(t.type,t.memoizedProps)),e&&(e=un)){if(Em(t))throw zC(),Error(H(418));for(;e;)BC(t,e),e=fi(e.nextSibling)}if(P0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=dn?fi(t.stateNode.nextSibling):null;return!0}function zC(){for(var t=un;t;)t=fi(t.nextSibling)}function _o(){un=dn=null,Fe=!1}function xy(t){Vn===null?Vn=[t]:Vn.push(t)}var _D=zr.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ac(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function b0(t){var e=t._init;return e(t._payload)}function $C(t){function e(g,E){if(t){var x=g.deletions;x===null?(g.deletions=[E],g.flags|=16):x.push(E)}}function n(g,E){if(!t)return null;for(;E!==null;)e(g,E),E=E.sibling;return null}function r(g,E){for(g=new Map;E!==null;)E.key!==null?g.set(E.key,E):g.set(E.index,E),E=E.sibling;return g}function i(g,E){return g=yi(g,E),g.index=0,g.sibling=null,g}function s(g,E,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<E?(g.flags|=2,E):x):(g.flags|=2,E)):(g.flags|=1048576,E)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,E,x,P){return E===null||E.tag!==6?(E=sp(x,g.mode,P),E.return=g,E):(E=i(E,x),E.return=g,E)}function l(g,E,x,P){var N=x.type;return N===Bs?d(g,E,x.props.children,P,x.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ei&&b0(N)===E.type)?(P=i(E,x.props),P.ref=Ca(g,E,x),P.return=g,P):(P=zc(x.type,x.key,x.props,null,g.mode,P),P.ref=Ca(g,E,x),P.return=g,P)}function u(g,E,x,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=op(x,g.mode,P),E.return=g,E):(E=i(E,x.children||[]),E.return=g,E)}function d(g,E,x,P,N){return E===null||E.tag!==7?(E=rs(x,g.mode,P,N),E.return=g,E):(E=i(E,x),E.return=g,E)}function h(g,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sp(""+E,g.mode,x),E.return=g,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Yu:return x=zc(E.type,E.key,E.props,null,g.mode,x),x.ref=Ca(g,null,E),x.return=g,x;case Us:return E=op(E,g.mode,x),E.return=g,E;case ei:var P=E._init;return h(g,P(E._payload),x)}if(Va(E)||_a(E))return E=rs(E,g.mode,x,null),E.return=g,E;ac(g,E)}return null}function f(g,E,x,P){var N=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:a(g,E,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:return x.key===N?l(g,E,x,P):null;case Us:return x.key===N?u(g,E,x,P):null;case ei:return N=x._init,f(g,E,N(x._payload),P)}if(Va(x)||_a(x))return N!==null?null:d(g,E,x,P,null);ac(g,x)}return null}function m(g,E,x,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return g=g.get(x)||null,a(E,g,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Yu:return g=g.get(P.key===null?x:P.key)||null,l(E,g,P,N);case Us:return g=g.get(P.key===null?x:P.key)||null,u(E,g,P,N);case ei:var L=P._init;return m(g,E,x,L(P._payload),N)}if(Va(P)||_a(P))return g=g.get(x)||null,d(E,g,P,N,null);ac(E,P)}return null}function w(g,E,x,P){for(var N=null,L=null,I=E,T=E=0,A=null;I!==null&&T<x.length;T++){I.index>T?(A=I,I=null):A=I.sibling;var b=f(g,I,x[T],P);if(b===null){I===null&&(I=A);break}t&&I&&b.alternate===null&&e(g,I),E=s(b,E,T),L===null?N=b:L.sibling=b,L=b,I=A}if(T===x.length)return n(g,I),Fe&&Wi(g,T),N;if(I===null){for(;T<x.length;T++)I=h(g,x[T],P),I!==null&&(E=s(I,E,T),L===null?N=I:L.sibling=I,L=I);return Fe&&Wi(g,T),N}for(I=r(g,I);T<x.length;T++)A=m(I,g,T,x[T],P),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?T:A.key),E=s(A,E,T),L===null?N=A:L.sibling=A,L=A);return t&&I.forEach(function(M){return e(g,M)}),Fe&&Wi(g,T),N}function _(g,E,x,P){var N=_a(x);if(typeof N!="function")throw Error(H(150));if(x=N.call(x),x==null)throw Error(H(151));for(var L=N=null,I=E,T=E=0,A=null,b=x.next();I!==null&&!b.done;T++,b=x.next()){I.index>T?(A=I,I=null):A=I.sibling;var M=f(g,I,b.value,P);if(M===null){I===null&&(I=A);break}t&&I&&M.alternate===null&&e(g,I),E=s(M,E,T),L===null?N=M:L.sibling=M,L=M,I=A}if(b.done)return n(g,I),Fe&&Wi(g,T),N;if(I===null){for(;!b.done;T++,b=x.next())b=h(g,b.value,P),b!==null&&(E=s(b,E,T),L===null?N=b:L.sibling=b,L=b);return Fe&&Wi(g,T),N}for(I=r(g,I);!b.done;T++,b=x.next())b=m(I,g,T,b.value,P),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?T:b.key),E=s(b,E,T),L===null?N=b:L.sibling=b,L=b);return t&&I.forEach(function(O){return e(g,O)}),Fe&&Wi(g,T),N}function C(g,E,x,P){if(typeof x=="object"&&x!==null&&x.type===Bs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:e:{for(var N=x.key,L=E;L!==null;){if(L.key===N){if(N=x.type,N===Bs){if(L.tag===7){n(g,L.sibling),E=i(L,x.props.children),E.return=g,g=E;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ei&&b0(N)===L.type){n(g,L.sibling),E=i(L,x.props),E.ref=Ca(g,L,x),E.return=g,g=E;break e}n(g,L);break}else e(g,L);L=L.sibling}x.type===Bs?(E=rs(x.props.children,g.mode,P,x.key),E.return=g,g=E):(P=zc(x.type,x.key,x.props,null,g.mode,P),P.ref=Ca(g,E,x),P.return=g,g=P)}return o(g);case Us:e:{for(L=x.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){n(g,E.sibling),E=i(E,x.children||[]),E.return=g,g=E;break e}else{n(g,E);break}else e(g,E);E=E.sibling}E=op(x,g.mode,P),E.return=g,g=E}return o(g);case ei:return L=x._init,C(g,E,L(x._payload),P)}if(Va(x))return w(g,E,x,P);if(_a(x))return _(g,E,x,P);ac(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(n(g,E.sibling),E=i(E,x),E.return=g,g=E):(n(g,E),E=sp(x,g.mode,P),E.return=g,g=E),o(g)):n(g,E)}return C}var Eo=$C(!0),WC=$C(!1),Td=Mi(null),Sd=null,Qs=null,Ty=null;function Sy(){Ty=Qs=Sd=null}function Cy(t){var e=Td.current;Le(Td),t._currentValue=e}function Tm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Sd=t,Ty=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Ty!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(Sd===null)throw Error(H(308));Qs=t,Sd.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var Yi=null;function Iy(t){Yi===null?Yi=[t]:Yi.push(t)}function HC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Iy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,Iy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}function k0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cd(t,e,n,r){var i=t.updateQueue;ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(f=e,m=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=We({},h,f);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ds|=o,t.lanes=o,t.memoizedState=h}}function N0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var tu={},Zn=Mi(tu),El=Mi(tu),xl=Mi(tu);function Xi(t){if(t===tu)throw Error(H(174));return t}function Ry(t,e){switch(De(xl,e),De(El,t),De(Zn,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rm(e,t)}Le(Zn),De(Zn,e)}function xo(){Le(Zn),Le(El),Le(xl)}function KC(t){Xi(xl.current);var e=Xi(Zn.current),n=rm(e,t.type);e!==n&&(De(El,t),De(Zn,n))}function Py(t){El.current===t&&(Le(Zn),Le(El))}var Be=Mi(0);function Id(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zf=[];function by(){for(var t=0;t<Zf.length;t++)Zf[t]._workInProgressVersionPrimary=null;Zf.length=0}var Lc=zr.ReactCurrentDispatcher,ep=zr.ReactCurrentBatchConfig,cs=0,$e=null,ot=null,dt=null,Ad=!1,Qa=!1,Tl=0,ED=0;function Rt(){throw Error(H(321))}function ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function Ny(t,e,n,r,i,s){if(cs=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?CD:ID,t=n(r,i),Qa){s=0;do{if(Qa=!1,Tl=0,25<=s)throw Error(H(301));s+=1,dt=ot=null,e.updateQueue=null,Lc.current=AD,t=n(r,i)}while(Qa)}if(Lc.current=Rd,e=ot!==null&&ot.next!==null,cs=0,dt=ot=$e=null,Ad=!1,e)throw Error(H(300));return t}function My(){var t=Tl!==0;return Tl=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?$e.memoizedState=dt=t:dt=dt.next=t,dt}function Rn(){if(ot===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=dt===null?$e.memoizedState:dt.next;if(e!==null)dt=e,ot=t;else{if(t===null)throw Error(H(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?$e.memoizedState=dt=t:dt=dt.next=t}return dt}function Sl(t,e){return typeof e=="function"?e(t):e}function tp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((cs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,ds|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function np(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);jn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qC(){}function QC(t,e){var n=$e,r=Rn(),i=e(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,Dy(JC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Cl(9,XC.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(H(349));cs&30||YC(n,e,i)}return i}function YC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XC(t,e,n,r){e.value=n,e.getSnapshot=r,ZC(e)&&eI(t)}function JC(t,e,n){return n(function(){ZC(e)&&eI(t)})}function ZC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function eI(t){var e=Pr(t,1);e!==null&&Ln(e,t,1,-1)}function M0(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=SD.bind(null,$e,t),[e.memoizedState,t]}function Cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tI(){return Rn().memoizedState}function Fc(t,e,n,r){var i=Kn();$e.flags|=t,i.memoizedState=Cl(1|e,n,void 0,r===void 0?null:r)}function _h(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&ky(r,o.deps)){i.memoizedState=Cl(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Cl(1|e,n,s,r)}function D0(t,e){return Fc(8390656,8,t,e)}function Dy(t,e){return _h(2048,8,t,e)}function nI(t,e){return _h(4,2,t,e)}function rI(t,e){return _h(4,4,t,e)}function iI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sI(t,e,n){return n=n!=null?n.concat([t]):null,_h(4,4,iI.bind(null,e,t),n)}function Vy(){}function oI(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aI(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lI(t,e,n){return cs&21?(jn(n,e)||(n=fC(),$e.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function xD(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=ep.transition;ep.transition={};try{t(!1),e()}finally{Pe=n,ep.transition=r}}function uI(){return Rn().memoizedState}function TD(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cI(t))dI(e,n);else if(n=HC(t,e,n,r),n!==null){var i=Wt();Ln(n,t,r,i),hI(n,e,r)}}function SD(t,e,n){var r=gi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cI(t))dI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(i.next=i,Iy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=HC(t,e,i,r),n!==null&&(i=Wt(),Ln(n,t,r,i),hI(n,e,r))}}function cI(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function dI(t,e){Qa=Ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}var Rd={readContext:An,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},CD={readContext:An,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:D0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,iI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TD.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:M0,useDebugValue:Vy,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=M0(!1),e=t[0];return t=xD.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Kn();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),pt===null)throw Error(H(349));cs&30||YC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,D0(JC.bind(null,r,s,t),[t]),r.flags|=2048,Cl(9,XC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kn(),e=pt.identifierPrefix;if(Fe){var n=wr,r=vr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ED++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ID={readContext:An,useCallback:oI,useContext:An,useEffect:Dy,useImperativeHandle:sI,useInsertionEffect:nI,useLayoutEffect:rI,useMemo:aI,useReducer:tp,useRef:tI,useState:function(){return tp(Sl)},useDebugValue:Vy,useDeferredValue:function(t){var e=Rn();return lI(e,ot.memoizedState,t)},useTransition:function(){var t=tp(Sl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:qC,useSyncExternalStore:QC,useId:uI,unstable_isNewReconciler:!1},AD={readContext:An,useCallback:oI,useContext:An,useEffect:Dy,useImperativeHandle:sI,useInsertionEffect:nI,useLayoutEffect:rI,useMemo:aI,useReducer:np,useRef:tI,useState:function(){return np(Sl)},useDebugValue:Vy,useDeferredValue:function(t){var e=Rn();return ot===null?e.memoizedState=t:lI(e,ot.memoizedState,t)},useTransition:function(){var t=np(Sl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:qC,useSyncExternalStore:QC,useId:uI,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=gi(t),s=Sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Ln(e,t,i,r),Oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=gi(t),s=Sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Ln(e,t,i,r),Oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=gi(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=pi(t,i,r),e!==null&&(Ln(e,t,r,n),Oc(e,t,r))}};function V0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yl(n,r)||!yl(i,s):!0}function fI(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=tn(e)?ls:Ot.current,r=e.contextTypes,s=(r=r!=null)?wo(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ay(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=tn(e)?ls:Ot.current,i.context=wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),Cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var n="",r=e;do n+=tM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RD=typeof WeakMap=="function"?WeakMap:Map;function pI(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bd||(bd=!0,Om=r),Im(t,e)},n}function mI(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Im(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Im(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zD.bind(null,t,e,n),e.then(t,t))}function F0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function j0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var PD=zr.ReactCurrentOwner,Jt=!1;function Bt(t,e,n,r){e.child=t===null?WC(e,null,n,r):Eo(e,t.child,n,r)}function U0(t,e,n,r,i){n=n.render;var s=e.ref;return lo(e,i),r=Ny(t,e,n,r,s,i),n=My(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Fe&&n&&_y(e),e.flags|=1,Bt(t,e,r,i),e.child)}function B0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$y(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gI(t,e,s,r,i)):(t=zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(o,r)&&t.ref===e.ref)return br(t,e,i)}return e.flags|=1,t=yi(s,r),t.ref=e.ref,t.return=e,e.child=t}function gI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yl(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,br(t,e,i)}return Am(t,e,n,r,i)}function yI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Xs,an),an|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Xs,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Xs,an),an|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Xs,an),an|=r;return Bt(t,e,i,n),e.child}function vI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,r,i){var s=tn(n)?ls:Ot.current;return s=wo(e,s),lo(e,i),n=Ny(t,e,n,r,s,i),r=My(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Fe&&r&&_y(e),e.flags|=1,Bt(t,e,n,i),e.child)}function z0(t,e,n,r,i){if(tn(n)){var s=!0;_d(e)}else s=!1;if(lo(e,i),e.stateNode===null)jc(t,e),fI(e,n,r),Cm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=tn(n)?ls:Ot.current,u=wo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&O0(e,o,r,u),ti=!1;var f=e.memoizedState;o.state=f,Cd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||en.current||ti?(typeof d=="function"&&(Sm(e,n,d,r),l=e.memoizedState),(a=ti||V0(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=tn(n)?ls:Ot.current,l=wo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&O0(e,o,r,l),ti=!1,f=e.memoizedState,o.state=f,Cd(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||en.current||ti?(typeof m=="function"&&(Sm(e,n,m,r),w=e.memoizedState),(u=ti||V0(e,n,u,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Rm(t,e,n,r,s,i)}function Rm(t,e,n,r,i,s){vI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&A0(e,n,!1),br(t,e,s);r=e.stateNode,PD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,s),e.child=Eo(e,null,a,s)):Bt(t,e,a,s),e.memoizedState=r.state,i&&A0(e,n,!0),e.child}function wI(t){var e=t.stateNode;e.pendingContext?I0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I0(t,e.context,!1),Ry(t,e.containerInfo)}function $0(t,e,n,r,i){return _o(),xy(i),e.flags|=256,Bt(t,e,n,r),e.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function _I(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sh(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bm(n),e.memoizedState=Pm,t):Oy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yi(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pm,r}return s=t.child,t=s.sibling,r=yi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oy(t,e){return e=Sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lc(t,e,n,r){return r!==null&&xy(r),Eo(e,t.child,null,n),t=Oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rp(Error(H(422))),lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sh({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=bm(o),e.memoizedState=Pm,s);if(!(e.mode&1))return lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=rp(s,r,void 0),lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(t,i),Ln(r,t,i,-1))}return zy(),r=rp(Error(H(421))),lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$D.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=fi(i.nextSibling),dn=e,Fe=!0,Vn=null,t!==null&&(_n[En++]=vr,_n[En++]=wr,_n[En++]=us,vr=t.id,wr=t.overflow,us=e),e=Oy(e,r.children),e.flags|=4096,e)}function W0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tm(t.return,e,n)}function ip(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W0(t,n,e);else if(t.tag===19)W0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Id(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ip(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Id(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ip(e,!0,n,null,s);break;case"together":ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kD(t,e,n){switch(e.tag){case 3:wI(e),_o();break;case 5:KC(e);break;case 1:tn(e.type)&&_d(e);break;case 4:Ry(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?_I(t,e,n):(De(Be,Be.current&1),t=br(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,yI(t,e,n)}return br(t,e,n)}var xI,km,TI,SI;xI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};TI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(Zn.current);var s=null;switch(n){case"input":i=Zp(t,i),r=Zp(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=nm(t,i),r=nm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vd)}im(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};SI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ia(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ND(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return tn(e.type)&&wd(),Pt(e),null;case 3:return r=e.stateNode,xo(),Le(en),Le(Ot),by(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(jm(Vn),Vn=null))),km(t,e),Pt(e),null;case 5:Py(e);var i=Xi(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)TI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Pt(e),null}if(t=Xi(Zn.current),oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[_l]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Oe(La[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Z_(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":t0(r,s),Oe("invalid",r)}im(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Xu(r),e0(r,s,!0);break;case"textarea":Xu(r),n0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[_l]=r,xI(t,e,!1,!1),e.stateNode=t;e:{switch(o=sm(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Oe(La[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":Z_(t,r),i=Zp(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":t0(t,r),i=nm(t,r),Oe("invalid",t);break;default:i=r}im(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&oy(t,s,l,o))}switch(n){case"input":Xu(t),e0(t,r,!1);break;case"textarea":Xu(t),n0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?io(t,!!r.multiple,s,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)SI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Xi(xl.current),Xi(Zn.current),oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Pt(e),null;case 13:if(Le(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&un!==null&&e.mode&1&&!(e.flags&128))zC(),_o(),e.flags|=98560,s=!1;else if(s=oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[qn]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else Vn!==null&&(jm(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):zy())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return xo(),km(t,e),t===null&&vl(e.stateNode.containerInfo),Pt(e),null;case 10:return Cy(e.type._context),Pt(e),null;case 17:return tn(e.type)&&wd(),Pt(e),null;case 19:if(Le(Be),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ia(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Id(t),o!==null){for(e.flags|=128,Ia(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>So&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304)}else{if(!r)if(t=Id(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Pt(e),null}else 2*Xe()-s.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function MD(t,e){switch(Ey(e),e.tag){case 1:return tn(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),Le(en),Le(Ot),by(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Py(e),null;case 13:if(Le(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Be),null;case 4:return xo(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var uc=!1,Nt=!1,DD=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Nm(t,e,n){try{n()}catch(r){qe(t,e,r)}}var H0=!1;function VD(t,e){if(mm=md,t=PC(),wy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gm={focusedElem:t,selectionRange:n},md=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,C=w.memoizedState,g=e.stateNode,E=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Mn(e.type,_),C);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){qe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=H0,H0=!1,w}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nm(e,n,s)}i=i.next}while(i!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CI(t){var e=t.alternate;e!==null&&(t.alternate=null,CI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[_l],delete e[wm],delete e[yD],delete e[vD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function II(t){return t.tag===5||t.tag===3||t.tag===4}function G0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||II(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vd));else if(r!==4&&(t=t.child,t!==null))for(Dm(t,e,n),t=t.sibling;t!==null;)Dm(t,e,n),t=t.sibling}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}var yt=null,Dn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)AI(t,e,n),n=n.sibling}function AI(t,e,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:Nt||Ys(n,e);case 6:var r=yt,i=Dn;yt=null,Qr(t,e,n),yt=r,Dn=i,yt!==null&&(Dn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Dn?(t=yt,n=n.stateNode,t.nodeType===8?Xf(t.parentNode,n):t.nodeType===1&&Xf(t,n),ml(t)):Xf(yt,n.stateNode));break;case 4:r=yt,i=Dn,yt=n.stateNode.containerInfo,Dn=!0,Qr(t,e,n),yt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nm(n,e,o),i=i.next}while(i!==r)}Qr(t,e,n);break;case 1:if(!Nt&&(Ys(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Qr(t,e,n),Nt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function K0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DD),e.forEach(function(r){var i=WD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Dn=!1;break e;case 3:yt=a.stateNode.containerInfo,Dn=!0;break e;case 4:yt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(yt===null)throw Error(H(160));AI(s,o,i),yt=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RI(e,t),e=e.sibling}function RI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Gn(t),r&4){try{Ya(3,t,t.return),xh(3,t)}catch(_){qe(t,t.return,_)}try{Ya(5,t,t.return)}catch(_){qe(t,t.return,_)}}break;case 1:kn(e,t),Gn(t),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(kn(e,t),Gn(t),r&512&&n!==null&&Ys(n,n.return),t.flags&32){var i=t.stateNode;try{dl(i,"")}catch(_){qe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YS(i,s),sm(a,o);var u=sm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?tC(i,h):d==="dangerouslySetInnerHTML"?ZS(i,h):d==="children"?dl(i,h):oy(i,d,h,u)}switch(a){case"input":em(i,s);break;case"textarea":XS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?io(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?io(i,!!s.multiple,s.defaultValue,!0):io(i,!!s.multiple,s.multiple?[]:"",!1))}i[_l]=s}catch(_){qe(t,t.return,_)}}break;case 6:if(kn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){qe(t,t.return,_)}}break;case 3:if(kn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(_){qe(t,t.return,_)}break;case 4:kn(e,t),Gn(t);break;case 13:kn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jy=Xe())),r&4&&K0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||d,kn(e,t),Nt=u):kn(e,t),Gn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ya(4,f,f.return);break;case 1:Ys(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){qe(r,n,_)}}break;case 5:Ys(f,f.return);break;case 22:if(f.memoizedState!==null){Q0(h);continue}}m!==null?(m.return=f,X=m):Q0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eC("display",o))}catch(_){qe(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){qe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kn(e,t),Gn(t),r&4&&K0(t);break;case 21:break;default:kn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(II(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dl(i,""),r.flags&=-33);var s=G0(t);Vm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=G0(t);Dm(t,a,o);break;default:throw Error(H(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OD(t,e,n){X=t,PI(t)}function PI(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=uc;var u=Nt;if(uc=o,(Nt=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Y0(i):l!==null?(l.return=o,X=l):Y0(i);for(;s!==null;)X=s,PI(s),s=s.sibling;X=i,uc=a,Nt=u}q0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):q0(t)}}function q0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&N0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}N0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ml(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||e.flags&512&&Mm(e)}catch(f){qe(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Q0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Y0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{Mm(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{Mm(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var LD=Math.ceil,Pd=zr.ReactCurrentDispatcher,Ly=zr.ReactCurrentOwner,Sn=zr.ReactCurrentBatchConfig,Ce=0,pt=null,tt=null,Et=0,an=0,Xs=Mi(0),at=0,Il=null,ds=0,Th=0,Fy=0,Xa=null,Xt=null,jy=0,So=1/0,mr=null,bd=!1,Om=null,mi=null,cc=!1,li=null,kd=0,Ja=0,Lm=null,Uc=-1,Bc=0;function Wt(){return Ce&6?Xe():Uc!==-1?Uc:Uc=Xe()}function gi(t){return t.mode&1?Ce&2&&Et!==0?Et&-Et:_D.transition!==null?(Bc===0&&(Bc=fC()),Bc):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:_C(t.type)),t):1}function Ln(t,e,n,r){if(50<Ja)throw Ja=0,Lm=null,Error(H(185));Jl(t,n,r),(!(Ce&2)||t!==pt)&&(t===pt&&(!(Ce&2)&&(Th|=n),at===4&&ri(t,Et)),nn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(So=Xe()+500,wh&&Di()))}function nn(t,e){var n=t.callbackNode;_M(t,e);var r=pd(t,t===pt?Et:0);if(r===0)n!==null&&s0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s0(n),e===1)t.tag===0?wD(X0.bind(null,t)):jC(X0.bind(null,t)),mD(function(){!(Ce&6)&&Di()}),n=null;else{switch(pC(r)){case 1:n=dy;break;case 4:n=dC;break;case 16:n=fd;break;case 536870912:n=hC;break;default:n=fd}n=LI(n,bI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bI(t,e){if(Uc=-1,Bc=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(uo()&&t.callbackNode!==n)return null;var r=pd(t,t===pt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nd(t,r);else{e=r;var i=Ce;Ce|=2;var s=NI();(pt!==t||Et!==e)&&(mr=null,So=Xe()+500,ns(t,e));do try{UD();break}catch(a){kI(t,a)}while(!0);Sy(),Pd.current=s,Ce=i,tt!==null?e=0:(pt=null,Et=0,e=at)}if(e!==0){if(e===2&&(i=cm(t),i!==0&&(r=i,e=Fm(t,i))),e===1)throw n=Il,ns(t,0),ri(t,r),nn(t,Xe()),n;if(e===6)ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!FD(i)&&(e=Nd(t,r),e===2&&(s=cm(t),s!==0&&(r=s,e=Fm(t,s))),e===1))throw n=Il,ns(t,0),ri(t,r),nn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Hi(t,Xt,mr);break;case 3:if(ri(t,r),(r&130023424)===r&&(e=jy+500-Xe(),10<e)){if(pd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vm(Hi.bind(null,t,Xt,mr),e);break}Hi(t,Xt,mr);break;case 4:if(ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LD(r/1960))-r,10<r){t.timeoutHandle=vm(Hi.bind(null,t,Xt,mr),r);break}Hi(t,Xt,mr);break;case 5:Hi(t,Xt,mr);break;default:throw Error(H(329))}}}return nn(t,Xe()),t.callbackNode===n?bI.bind(null,t):null}function Fm(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=Nd(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&jm(e)),t}function jm(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function FD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ri(t,e){for(e&=~Fy,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function X0(t){if(Ce&6)throw Error(H(327));uo();var e=pd(t,0);if(!(e&1))return nn(t,Xe()),null;var n=Nd(t,e);if(t.tag!==0&&n===2){var r=cm(t);r!==0&&(e=r,n=Fm(t,r))}if(n===1)throw n=Il,ns(t,0),ri(t,e),nn(t,Xe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,Xt,mr),nn(t,Xe()),null}function Uy(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(So=Xe()+500,wh&&Di())}}function hs(t){li!==null&&li.tag===0&&!(Ce&6)&&uo();var e=Ce;Ce|=1;var n=Sn.transition,r=Pe;try{if(Sn.transition=null,Pe=1,t)return t()}finally{Pe=r,Sn.transition=n,Ce=e,!(Ce&6)&&Di()}}function By(){an=Xs.current,Le(Xs)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pD(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:xo(),Le(en),Le(Ot),by();break;case 5:Py(r);break;case 4:xo();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:Cy(r.type._context);break;case 22:case 23:By()}n=n.return}if(pt=t,tt=t=yi(t.current,null),Et=an=e,at=0,Il=null,Fy=Th=ds=0,Xt=Xa=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function kI(t,e){do{var n=tt;try{if(Sy(),Lc.current=Rd,Ad){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ad=!1}if(cs=0,dt=ot=$e=null,Qa=!1,Tl=0,Ly.current=null,n===null||n.return===null){at=1,Il=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=F0(o);if(m!==null){m.flags&=-257,j0(m,o,a,s,e),m.mode&1&&L0(s,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){L0(s,u,e),zy();break e}l=Error(H(426))}}else if(Fe&&a.mode&1){var C=F0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),j0(C,o,a,s,e),xy(To(l,a));break e}}s=l=To(l,a),at!==4&&(at=2),Xa===null?Xa=[s]:Xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=pI(s,l,e);k0(s,g);break e;case 1:a=l;var E=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mi===null||!mi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=mI(s,a,e);k0(s,P);break e}}s=s.return}while(s!==null)}DI(n)}catch(N){e=N,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function NI(){var t=Pd.current;return Pd.current=Rd,t===null?Rd:t}function zy(){(at===0||at===3||at===2)&&(at=4),pt===null||!(ds&268435455)&&!(Th&268435455)||ri(pt,Et)}function Nd(t,e){var n=Ce;Ce|=2;var r=NI();(pt!==t||Et!==e)&&(mr=null,ns(t,e));do try{jD();break}catch(i){kI(t,i)}while(!0);if(Sy(),Ce=n,Pd.current=r,tt!==null)throw Error(H(261));return pt=null,Et=0,at}function jD(){for(;tt!==null;)MI(tt)}function UD(){for(;tt!==null&&!dM();)MI(tt)}function MI(t){var e=OI(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?DI(t):tt=e,Ly.current=null}function DI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MD(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,tt=null;return}}else if(n=ND(n,e,an),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);at===0&&(at=5)}function Hi(t,e,n){var r=Pe,i=Sn.transition;try{Sn.transition=null,Pe=1,BD(t,e,n,r)}finally{Sn.transition=i,Pe=r}return null}function BD(t,e,n,r){do uo();while(li!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(EM(t,s),t===pt&&(tt=pt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cc||(cc=!0,LI(fd,function(){return uo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Pe;Pe=1;var a=Ce;Ce|=4,Ly.current=null,VD(t,n),RI(n,t),aD(gm),md=!!mm,gm=mm=null,t.current=n,OD(n),hM(),Ce=a,Pe=o,Sn.transition=s}else t.current=n;if(cc&&(cc=!1,li=t,kd=i),s=t.pendingLanes,s===0&&(mi=null),mM(n.stateNode),nn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bd)throw bd=!1,t=Om,Om=null,t;return kd&1&&t.tag!==0&&uo(),s=t.pendingLanes,s&1?t===Lm?Ja++:(Ja=0,Lm=t):Ja=0,Di(),null}function uo(){if(li!==null){var t=pC(kd),e=Sn.transition,n=Pe;try{if(Sn.transition=null,Pe=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,kd=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Ya(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(CI(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ya(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,X=g;break e}X=s.return}}var E=t.current;for(X=E;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(N){qe(a,a.return,N)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(Ce=i,Di(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{Pe=n,Sn.transition=e}}return!1}function J0(t,e,n){e=To(n,e),e=pI(t,e,1),t=pi(t,e,1),e=Wt(),t!==null&&(Jl(t,1,e),nn(t,e))}function qe(t,e,n){if(t.tag===3)J0(t,t,n);else for(;e!==null;){if(e.tag===3){J0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=To(n,t),t=mI(e,t,1),e=pi(e,t,1),t=Wt(),e!==null&&(Jl(e,1,t),nn(e,t));break}}e=e.return}}function zD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(Et&n)===n&&(at===4||at===3&&(Et&130023424)===Et&&500>Xe()-jy?ns(t,0):Fy|=n),nn(t,e)}function VI(t,e){e===0&&(t.mode&1?(e=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):e=1);var n=Wt();t=Pr(t,e),t!==null&&(Jl(t,e,n),nn(t,n))}function $D(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VI(t,n)}function WD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),VI(t,n)}var OI;OI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,kD(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Fe&&e.flags&1048576&&UC(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jc(t,e),t=e.pendingProps;var i=wo(e,Ot.current);lo(e,n),i=Ny(null,e,r,t,i,n);var s=My();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,_d(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ay(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,Cm(e,r,t,n),e=Rm(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&_y(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GD(r),t=Mn(r,t),i){case 0:e=Am(null,e,r,t,n);break e;case 1:e=z0(null,e,r,t,n);break e;case 11:e=U0(null,e,r,t,n);break e;case 14:e=B0(null,e,r,Mn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),z0(t,e,r,i,n);case 3:e:{if(wI(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GC(t,e),Cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=To(Error(H(423)),e),e=$0(t,e,r,n,i);break e}else if(r!==i){i=To(Error(H(424)),e),e=$0(t,e,r,n,i);break e}else for(un=fi(e.stateNode.containerInfo.firstChild),dn=e,Fe=!0,Vn=null,n=WC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),r===i){e=br(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return KC(e),t===null&&xm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ym(r,i)?o=null:s!==null&&ym(r,s)&&(e.flags|=32),vI(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&xm(e),null;case 13:return _I(t,e,n);case 4:return Ry(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),U0(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Td,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!en.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lo(e,n),i=An(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),B0(t,e,r,i,n);case 15:return gI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),jc(t,e),e.tag=1,tn(r)?(t=!0,_d(e)):t=!1,lo(e,n),fI(e,r,i),Cm(e,r,i,n),Rm(null,e,r,!0,t,n);case 19:return EI(t,e,n);case 22:return yI(t,e,n)}throw Error(H(156,e.tag))};function LI(t,e){return cC(t,e)}function HD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new HD(t,e,n,r)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GD(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===uy)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return rs(n.children,i,s,e);case ay:o=8,i|=8;break;case Qp:return t=xn(12,n,e,i|2),t.elementType=Qp,t.lanes=s,t;case Yp:return t=xn(13,n,e,i),t.elementType=Yp,t.lanes=s,t;case Xp:return t=xn(19,n,e,i),t.elementType=Xp,t.lanes=s,t;case KS:return Sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HS:o=10;break e;case GS:o=9;break e;case ly:o=11;break e;case uy:o=14;break e;case ei:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Sh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=KS,t.lanes=n,t.stateNode={isHidden:!1},t}function sp(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function op(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uf(0),this.expirationTimes=Uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wy(t,e,n,r,i,s,o,a,l){return t=new KD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(s),t}function qD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FI(t){if(!t)return Ti;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(tn(n))return FC(t,n,e)}return e}function jI(t,e,n,r,i,s,o,a,l){return t=Wy(n,r,!0,t,i,s,o,a,l),t.context=FI(null),n=t.current,r=Wt(),i=gi(n),s=Sr(r,i),s.callback=e??null,pi(n,s,i),t.current.lanes=i,Jl(t,i,r),nn(t,r),t}function Ch(t,e,n,r){var i=e.current,s=Wt(),o=gi(i);return n=FI(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(i,e,o),t!==null&&(Ln(t,i,o,s),Oc(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){Z0(t,e),(t=t.alternate)&&Z0(t,e)}function QD(){return null}var UI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gy(t){this._internalRoot=t}Ih.prototype.render=Gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ch(t,e,null,null)};Ih.prototype.unmount=Gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Ch(null,t,null,null)}),e[Rr]=null}};function Ih(t){this._internalRoot=t}Ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=yC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&wC(t)}};function Ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eE(){}function YD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Md(o);s.call(u)}}var o=jI(e,r,t,0,null,!1,!1,"",eE);return t._reactRootContainer=o,t[Rr]=o.current,vl(t.nodeType===8?t.parentNode:t),hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Md(l);a.call(u)}}var l=Wy(t,0,!1,null,null,!1,!1,"",eE);return t._reactRootContainer=l,t[Rr]=l.current,vl(t.nodeType===8?t.parentNode:t),hs(function(){Ch(e,l,n,r)}),l}function Rh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Md(o);a.call(l)}}Ch(e,o,t,i)}else o=YD(n,e,t,i,r);return Md(o)}mC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(hy(e,n|1),nn(e,Xe()),!(Ce&6)&&(So=Xe()+500,Di()))}break;case 13:hs(function(){var r=Pr(t,1);if(r!==null){var i=Wt();Ln(r,t,1,i)}}),Hy(t,1)}};fy=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=Wt();Ln(e,t,134217728,n)}Hy(t,134217728)}};gC=function(t){if(t.tag===13){var e=gi(t),n=Pr(t,e);if(n!==null){var r=Wt();Ln(n,t,e,r)}Hy(t,e)}};yC=function(){return Pe};vC=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};am=function(t,e,n){switch(e){case"input":if(em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vh(r);if(!i)throw Error(H(90));QS(r),em(r,i)}}}break;case"textarea":XS(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};iC=Uy;sC=hs;var XD={usingClientEntryPoint:!1,Events:[eu,Hs,vh,nC,rC,Uy]},Aa={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JD={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lC(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||QD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{ph=dc.inject(JD),Jn=dc}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XD;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ky(e))throw Error(H(200));return qD(t,e,null,n)};gn.createRoot=function(t,e){if(!Ky(t))throw Error(H(299));var n=!1,r="",i=UI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wy(t,1,!1,null,null,n,!1,r,i),t[Rr]=e.current,vl(t.nodeType===8?t.parentNode:t),new Gy(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=lC(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return hs(t)};gn.hydrate=function(t,e,n){if(!Ah(e))throw Error(H(200));return Rh(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Ky(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=UI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jI(e,null,t,1,n??null,i,!1,s,o),t[Rr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ih(e)};gn.render=function(t,e,n){if(!Ah(e))throw Error(H(200));return Rh(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Ah(t))throw Error(H(40));return t._reactRootContainer?(hs(function(){Rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};gn.unstable_batchedUpdates=Uy;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ah(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Rh(t,e,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function BI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BI)}catch(t){console.error(t)}}BI(),BS.exports=gn;var Ph=BS.exports;const ZD=Zg(Ph);var zI,tE=Ph;zI=tE.createRoot,tE.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nE="popstate";function e2(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Um("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Al(i)}return n2(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t2(){return Math.random().toString(36).substring(2,10)}function rE(t,e){return{usr:t.state,key:t.key,idx:e}}function Um(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||r||t2()}}function Al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function n2(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let C=d(),g=C==null?null:C-u;u=C,l&&l({action:a,location:_.location,delta:g})}function f(C,g){a="PUSH";let E=Um(_.location,C,g);u=d()+1;let x=rE(E,u),P=_.createHref(E);try{o.pushState(x,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(P)}s&&l&&l({action:a,location:_.location,delta:1})}function m(C,g){a="REPLACE";let E=Um(_.location,C,g);u=d();let x=rE(E,u),P=_.createHref(E);o.replaceState(x,"",P),s&&l&&l({action:a,location:_.location,delta:0})}function w(C){return r2(C)}let _={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nE,h),l=C,()=>{i.removeEventListener(nE,h),l=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let g=w(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(C){return o.go(C)}};return _}function r2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Al(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $I(t,e,n="/"){return i2(t,e,n,!1)}function i2(t,e,n,r){let i=typeof e=="string"?Bo(e):e,s=kr(i.pathname||"/",n);if(s==null)return null;let o=WI(t);s2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=g2(s);a=p2(o[l],u,r)}return a}function WI(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ue(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Cr([r,d.relativePath]),f=n.concat(d);o.children&&o.children.length>0&&(Ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),WI(o.children,e,f,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:h2(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of HI(o.path))s(o,a,!0,u)}),e}function HI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function s2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var o2=/^:[\w-]+$/,a2=3,l2=2,u2=1,c2=10,d2=-2,iE=t=>t==="*";function h2(t,e){let n=t.split("/"),r=n.length;return n.some(iE)&&(r+=d2),e&&(r+=l2),n.filter(i=>!iE(i)).reduce((i,s)=>i+(o2.test(s)?a2:s===""?u2:c2),r)}function f2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function p2(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Dd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Dd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Cr([s,h.pathname]),pathnameBase:_2(Cr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Cr([s,h.pathnameBase]))}return o}function Dd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=m2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function m2(t,e=!1,n=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function g2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function y2(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bo(t):t;return{pathname:n?n.startsWith("/")?n:v2(n,e):e,search:E2(r),hash:x2(i)}}function v2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qy(t){let e=w2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Qy(t,e,n,r=!1){let i;typeof t=="string"?i=Bo(t):(i={...t},Ue(!i.pathname||!i.pathname.includes("?"),ap("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),ap("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),ap("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=y2(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Cr=t=>t.join("/").replace(/\/\/+/g,"/"),_2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function T2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GI=["POST","PUT","PATCH","DELETE"];new Set(GI);var S2=["GET",...GI];new Set(S2);var zo=y.createContext(null);zo.displayName="DataRouter";var bh=y.createContext(null);bh.displayName="DataRouterState";y.createContext(!1);var KI=y.createContext({isTransitioning:!1});KI.displayName="ViewTransition";var C2=y.createContext(new Map);C2.displayName="Fetchers";var I2=y.createContext(null);I2.displayName="Await";var Wn=y.createContext(null);Wn.displayName="Navigation";var nu=y.createContext(null);nu.displayName="Location";var Hn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Yy=y.createContext(null);Yy.displayName="RouteError";function A2(t,{relative:e}={}){Ue($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Wn),{hash:i,pathname:s,search:o}=ru(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Cr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function $o(){return y.useContext(nu)!=null}function $r(){return Ue($o(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(nu).location}var qI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QI(t){y.useContext(Wn).static||y.useLayoutEffect(t)}function Wo(){let{isDataRoute:t}=y.useContext(Hn);return t?B2():R2()}function R2(){Ue($o(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(zo),{basename:e,navigator:n}=y.useContext(Wn),{matches:r}=y.useContext(Hn),{pathname:i}=$r(),s=JSON.stringify(qy(r)),o=y.useRef(!1);return QI(()=>{o.current=!0}),y.useCallback((l,u={})=>{if(Un(o.current,qI),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Qy(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}y.createContext(null);function P2(){let{matches:t}=y.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function ru(t,{relative:e}={}){let{matches:n}=y.useContext(Hn),{pathname:r}=$r(),i=JSON.stringify(qy(n));return y.useMemo(()=>Qy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function b2(t,e){return YI(t,e)}function YI(t,e,n,r,i){var E;Ue($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Wn),{matches:o}=y.useContext(Hn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";XI(u,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=$r(),m;if(e){let x=typeof e=="string"?Bo(e):e;Ue(d==="/"||((E=x.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=f;let w=m.pathname||"/",_=w;if(d!=="/"){let x=d.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=$I(t,{pathname:_});Un(h||C!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Un(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=V2(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Cr([d,s.encodeLocation?s.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Cr([d,s.encodeLocation?s.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,n,r,i);return e&&g?y.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function k2(){let t=U2(),e=T2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,o)}var N2=y.createElement(k2,null),M2=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(Hn.Provider,{value:this.props.routeContext},y.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D2({routeContext:t,match:e,children:n}){let r=y.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Hn.Provider,{value:t},n)}function V2(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ue(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let f,m=!1,w=null,_=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||N2,a&&(l<0&&h===0?(XI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):l===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,h+1)),g=()=>{let E;return f?E=w:m?E=_:d.route.Component?E=y.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,y.createElement(D2,{match:d,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(M2,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:g(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):g()},null)}function Xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O2(t){let e=y.useContext(zo);return Ue(e,Xy(t)),e}function L2(t){let e=y.useContext(bh);return Ue(e,Xy(t)),e}function F2(t){let e=y.useContext(Hn);return Ue(e,Xy(t)),e}function Jy(t){let e=F2(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function j2(){return Jy("useRouteId")}function U2(){var r;let t=y.useContext(Yy),e=L2("useRouteError"),n=Jy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function B2(){let{router:t}=O2("useNavigate"),e=Jy("useNavigate"),n=y.useRef(!1);return QI(()=>{n.current=!0}),y.useCallback(async(i,s={})=>{Un(n.current,qI),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var sE={};function XI(t,e,n){!e&&!sE[t]&&(sE[t]=!0,Un(!1,n))}y.memo(z2);function z2({routes:t,future:e,state:n,unstable_onError:r}){return YI(t,void 0,n,r,e)}function $2({to:t,replace:e,state:n,relative:r}){Ue($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Wn);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(Hn),{pathname:o}=$r(),a=Wo(),l=Qy(t,qy(s),o,r==="path"),u=JSON.stringify(l);return y.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function fr(t){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ue(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Bo(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=y.useMemo(()=>{let w=kr(l,o);return w==null?null:{location:{pathname:w,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return Un(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(Wn.Provider,{value:a},y.createElement(nu.Provider,{children:e,value:m}))}function H2({children:t,location:e}){return b2(Bm(t),e)}function Bm(t,e=[]){let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,Bm(r.props.children,s));return}Ue(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bm(r.props.children,s)),n.push(o)}),n}var $c="get",Wc="application/x-www-form-urlencoded";function kh(t){return t!=null&&typeof t.tagName=="string"}function G2(t){return kh(t)&&t.tagName.toLowerCase()==="button"}function K2(t){return kh(t)&&t.tagName.toLowerCase()==="form"}function q2(t){return kh(t)&&t.tagName.toLowerCase()==="input"}function Q2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y2(t,e){return t.button===0&&(!e||e==="_self")&&!Q2(t)}var hc=null;function X2(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var J2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(t){return t!=null&&!J2.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):t}function Z2(t,e){let n,r,i,s,o;if(K2(t)){let a=t.getAttribute("action");r=a?kr(a,e):null,n=t.getAttribute("method")||$c,i=lp(t.getAttribute("enctype"))||Wc,s=new FormData(t)}else if(G2(t)||q2(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?kr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||$c,i=lp(t.getAttribute("formenctype"))||lp(a.getAttribute("enctype"))||Wc,s=new FormData(a,t),!X2()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(kh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,r=null,i=Wc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eV(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&kr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function tV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rV(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await tV(s,n);return o.links?o.links():[]}return[]}));return aV(r.flat(1).filter(nV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function oE(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function iV(t,e,{includeHydrateFallback:n}={}){return sV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function sV(t){return[...new Set(t)]}function oV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aV(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(oV(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function JI(){let t=y.useContext(zo);return Zy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lV(){let t=y.useContext(bh);return Zy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ev=y.createContext(void 0);ev.displayName="FrameworkContext";function ZI(){let t=y.useContext(ev);return Zy(t,"You must render this element inside a <HydratedRouter> element"),t}function uV(t,e){let n=y.useContext(ev),[r,i]=y.useState(!1),[s,o]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=g=>{g.forEach(E=>{o(E.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return f.current&&C.observe(f.current),()=>{C.disconnect()}}},[t]),y.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ra(a,m),onBlur:Ra(l,w),onMouseEnter:Ra(u,m),onMouseLeave:Ra(d,w),onTouchStart:Ra(h,m)}]:[!1,f,{}]}function Ra(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cV({page:t,...e}){let{router:n}=JI(),r=y.useMemo(()=>$I(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(hV,{page:t,matches:r,...e}):null}function dV(t){let{manifest:e,routeModules:n}=ZI(),[r,i]=y.useState([]);return y.useEffect(()=>{let s=!1;return rV(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function hV({page:t,matches:e,...n}){let r=$r(),{manifest:i,routeModules:s}=ZI(),{basename:o}=JI(),{loaderData:a,matches:l}=lV(),u=y.useMemo(()=>oE(t,e,l,i,r,"data"),[t,e,l,i,r]),d=y.useMemo(()=>oE(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(g=>{var x;let E=i.routes[g.route.id];!E||!E.hasLoader||(!u.some(P=>P.route.id===g.route.id)&&g.route.id in a&&((x=s[g.route.id])!=null&&x.shouldRevalidate)||E.hasClientLoader?_=!0:w.add(g.route.id))}),w.size===0)return[];let C=eV(t,o,"data");return _&&w.size>0&&C.searchParams.set("_routes",e.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,u,e,t,s]),f=y.useMemo(()=>iV(d,i),[d,i]),m=dV(d);return y.createElement(y.Fragment,null,h.map(w=>y.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>y.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),m.map(({key:w,link:_})=>y.createElement("link",{key:w,nonce:n.nonce,..._})))}function fV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eA&&(window.__reactRouterVersion="7.9.4")}catch{}function pV({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=e2({window:n,v5Compat:!0}));let i=r.current,[s,o]=y.useState({action:i.action,location:i.location}),a=y.useCallback(l=>{y.startTransition(()=>o(l))},[o]);return y.useLayoutEffect(()=>i.listen(a),[i,a]),y.createElement(W2,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var tA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rl=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:w}=y.useContext(Wn),_=typeof u=="string"&&tA.test(u),C,g=!1;if(typeof u=="string"&&_&&(C=u,eA))try{let A=new URL(window.location.href),b=u.startsWith("//")?new URL(A.protocol+u):new URL(u),M=kr(b.pathname,w);b.origin===A.origin&&M!=null?u=M+b.search+b.hash:g=!0}catch{Un(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=A2(u,{relative:i}),[x,P,N]=uV(r,f),L=vV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function I(A){e&&e(A),A.defaultPrevented||L(A)}let T=y.createElement("a",{...f,...N,href:C||E,onClick:g||s?e:I,ref:fV(m,P),target:l,"data-discover":!_&&n==="render"?"true":void 0});return x&&!_?y.createElement(y.Fragment,null,T,y.createElement(cV,{page:E})):T});Rl.displayName="Link";var mV=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=ru(o,{relative:u.relative}),f=$r(),m=y.useContext(bh),{navigator:w,basename:_}=y.useContext(Wn),C=m!=null&&TV(h)&&a===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,E=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&_&&(x=kr(x,_)||x);const P=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let N=E===g||!i&&E.startsWith(g)&&E.charAt(P)==="/",L=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),I={isActive:N,isPending:L,isTransitioning:C},T=N?e:void 0,A;typeof r=="function"?A=r(I):A=[r,N?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let b=typeof s=="function"?s(I):s;return y.createElement(Rl,{...u,"aria-current":T,className:A,ref:d,style:b,to:o,viewTransition:a},typeof l=="function"?l(I):l)});mV.displayName="NavLink";var gV=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=$c,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let w=EV(),_=xV(a,{relative:u}),C=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&tA.test(a),E=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let P=x.nativeEvent.submitter,N=(P==null?void 0:P.getAttribute("formmethod"))||o;w(P||x.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return y.createElement("form",{ref:m,method:C,action:_,onSubmit:r?l:E,...f,"data-discover":!g&&t==="render"?"true":void 0})});gV.displayName="Form";function yV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nA(t){let e=y.useContext(zo);return Ue(e,yV(t)),e}function vV(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Wo(),l=$r(),u=ru(t,{relative:s});return y.useCallback(d=>{if(Y2(d,e)){d.preventDefault();let h=n!==void 0?n:Al(l)===Al(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var wV=0,_V=()=>`__${String(++wV)}__`;function EV(){let{router:t}=nA("useSubmit"),{basename:e}=y.useContext(Wn),n=j2();return y.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=Z2(r,e);if(i.navigate===!1){let d=i.fetcherKey||_V();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xV(t,{relative:e}={}){let{basename:n}=y.useContext(Wn),r=y.useContext(Hn);Ue(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ru(t||".",{relative:e})},o=$r();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cr([n,s.pathname])),Al(s)}function TV(t,{relative:e}={}){let n=y.useContext(KI);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nA("useViewTransitionState"),i=ru(t,{relative:e});if(!n.isTransitioning)return!1;let s=kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dd(i.pathname,o)!=null||Dd(i.pathname,s)!=null}const SV="modulepreload",CV=function(t){return"/"+t},aE={},IV=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=CV(l),l in aE)return;aE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":SV,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function AV(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await IV(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:e}).then(h=>{s?s("/sw.js",h):i==null||i(h)}).catch(h=>{o==null||o(h)})}}return l=d(),u}var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new PV;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bV=function(t){const e=rA(t);return iA.encodeByteArray(e,!0)},Vd=function(t){return bV(t).replace(/\./g,"")},sA=function(t){try{return iA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=()=>kV().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sA(t[1]);return e&&JSON.parse(e)},Nh=()=>{try{return NV()||MV()||DV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oA=t=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VV=t=>{const e=oA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aA=()=>{var t;return(t=Nh())===null||t===void 0?void 0:t.config},lA=t=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vd(JSON.stringify(n)),Vd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function jV(){var t;const e=(t=Nh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $V(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WV(){return!jV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HV(){try{return typeof indexedDB=="object"}catch{return!1}}function GV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KV,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wr(i,a,r)}}function qV(t,e){return t.replace(QV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QV=/\{\$([^}]+)}/g;function YV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uE(s)&&uE(o)){if(!Od(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XV(t,e){const n=new JV(t,e);return n.subscribe.bind(n)}class JV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=up),i.error===void 0&&(i.error=up),i.complete===void 0&&(i.complete=up);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nO(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tO(t){return t===Gi?void 0:t}function nO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const iO={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},sO=Ee.INFO,oO={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},aO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=sO,this._logHandler=aO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const lO=(t,e)=>e.some(n=>t instanceof n);let cE,dE;function uO(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cO(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uA=new WeakMap,zm=new WeakMap,cA=new WeakMap,cp=new WeakMap,nv=new WeakMap;function dO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function hO(t){if(zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zm.set(t,e)}let $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fO(t){$m=t($m)}function pO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dp(this),e,...n);return cA.set(r,e.sort?e.sort():[e]),vi(r)}:cO().includes(t)?function(...e){return t.apply(dp(this),e),vi(uA.get(this))}:function(...e){return vi(t.apply(dp(this),e))}}function mO(t){return typeof t=="function"?pO(t):(t instanceof IDBTransaction&&hO(t),lO(t,uO())?new Proxy(t,$m):t)}function vi(t){if(t instanceof IDBRequest)return dO(t);if(cp.has(t))return cp.get(t);const e=mO(t);return e!==t&&(cp.set(t,e),nv.set(e,t)),e}const dp=t=>nv.get(t);function gO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vi(o.result),l.oldVersion,l.newVersion,vi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yO=["get","getKey","getAll","getAllKeys","count"],vO=["put","add","delete","clear"],hp=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hp.set(e,s),s}fO(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_O(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _O(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",fE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new tv("@firebase/app"),EO="@firebase/app-compat",xO="@firebase/analytics-compat",TO="@firebase/analytics",SO="@firebase/app-check-compat",CO="@firebase/app-check",IO="@firebase/auth",AO="@firebase/auth-compat",RO="@firebase/database",PO="@firebase/data-connect",bO="@firebase/database-compat",kO="@firebase/functions",NO="@firebase/functions-compat",MO="@firebase/installations",DO="@firebase/installations-compat",VO="@firebase/messaging",OO="@firebase/messaging-compat",LO="@firebase/performance",FO="@firebase/performance-compat",jO="@firebase/remote-config",UO="@firebase/remote-config-compat",BO="@firebase/storage",zO="@firebase/storage-compat",$O="@firebase/firestore",WO="@firebase/vertexai-preview",HO="@firebase/firestore-compat",GO="firebase",KO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",qO={[Wm]:"fire-core",[EO]:"fire-core-compat",[TO]:"fire-analytics",[xO]:"fire-analytics-compat",[CO]:"fire-app-check",[SO]:"fire-app-check-compat",[IO]:"fire-auth",[AO]:"fire-auth-compat",[RO]:"fire-rtdb",[PO]:"fire-data-connect",[bO]:"fire-rtdb-compat",[kO]:"fire-fn",[NO]:"fire-fn-compat",[MO]:"fire-iid",[DO]:"fire-iid-compat",[VO]:"fire-fcm",[OO]:"fire-fcm-compat",[LO]:"fire-perf",[FO]:"fire-perf-compat",[jO]:"fire-rc",[UO]:"fire-rc-compat",[BO]:"fire-gcs",[zO]:"fire-gcs-compat",[$O]:"fire-fst",[HO]:"fire-fst-compat",[WO]:"fire-vertex","fire-js":"fire-js",[GO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,QO=new Map,Gm=new Map;function pE(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Co(t){const e=t.name;if(Gm.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,t);for(const n of Ld.values())pE(n,t);for(const n of QO.values())pE(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new iu("app","Firebase",YO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=KO;function dA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=aA()),!n)throw wi.create("no-options");const s=Ld.get(i);if(s){if(Od(n,s.options)&&Od(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const o=new rO(i);for(const l of Gm.values())o.addComponent(l);const a=new XO(n,r,o);return Ld.set(i,a),a}function hA(t=Hm){const e=Ld.get(t);if(!e&&t===Hm&&aA())return dA();if(!e)throw wi.create("no-app",{appName:t});return e}function _i(t,e,n){var r;let i=(r=qO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Co(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="firebase-heartbeat-database",ZO=1,Pl="firebase-heartbeat-store";let fp=null;function fA(){return fp||(fp=gO(JO,ZO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),fp}async function eL(t){try{const n=(await fA()).transaction(Pl),r=await n.objectStore(Pl).get(pA(t));return await n.done,r}catch(e){if(e instanceof Wr)Nr.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function mE(t,e){try{const r=(await fA()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,pA(t)),await r.done}catch(n){if(n instanceof Wr)Nr.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function pA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1024,nL=30*24*60*60*1e3;class rL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gE(),{heartbeatsToSend:r,unsentEntries:i}=iL(this._heartbeatsCache.heartbeats),s=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nr.warn(n),""}}}function gE(){return new Date().toISOString().substring(0,10)}function iL(t,e=tL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HV()?GV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){Co(new fs("platform-logger",e=>new wO(e),"PRIVATE")),Co(new fs("heartbeat",e=>new rL(e),"PRIVATE")),_i(Wm,fE,t),_i(Wm,fE,"esm2017"),_i("fire-js","")}oL("");var Km=function(t,e){return Km=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Km(t,e)};function aL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Km(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Me=function(){return Me=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Me.apply(this,arguments)};function ou(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=mA,gA=new iu("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new tv("@firebase/auth");function cL(t,...e){Fd.logLevel<=Ee.WARN&&Fd.warn(`Auth (${Ho}): ${t}`,...e)}function Hc(t,...e){Fd.logLevel<=Ee.ERROR&&Fd.error(`Auth (${Ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw sv(t,...e)}function Fn(t,...e){return sv(t,...e)}function iv(t,e,n){const r=Object.assign(Object.assign({},uL()),{[e]:n});return new iu("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return iv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&or(t,"argument-error"),iv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gA.create(t,...e)}function he(t,e,...n){if(!t)throw sv(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function Mr(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hL(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||BV()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=FV()||zV()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new au(3e4,6e4);function av(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,i={}){return vA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=su(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return UV()||(u.referrerPolicy="no-referrer"),yA.fetch()(wA(t,t.config.apiHost,n,a),u)})}async function vA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mL),e);try{const i=new vL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iv(t,d,u);or(t,d)}}catch(i){if(i instanceof Wr)throw i;or(t,"network-request-failed",{message:String(i)})}}async function yL(t,e,n,r,i={}){const s=await Go(t,e,n,r,i);return"mfaPendingCredential"in s&&or(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ov(t.config,i):`${t.config.apiScheme}://${i}`}class vL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),gL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function _A(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _L(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=lv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Za(pp(i.auth_time)),issuedAtTime:Za(pp(i.iat)),expirationTime:Za(pp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pp(t){return Number(t)*1e3}function lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const i=sA(n);return i?JSON.parse(i):(Hc("Failed to decode base64 JWT payload"),null)}catch(i){return Hc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wE(t){const e=lv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&EL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bl(t,_A(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EA(s.providerUserInfo):[],a=SL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function TL(t){const e=ut(t);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EA(t){return t.map(e=>{var{providerId:n}=e,r=ou(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){const n=await vA(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IL(t,e){return Go(t,"POST","/v2/accounts:revokeToken",av(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await CL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new co;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ou(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _L(this,e)}reload(){return TL(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await bl(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:P,isAnonymous:N,providerData:L,stsTokenManager:I}=n;he(x&&I,e,"internal-error");const T=co.fromJSON(this.name,I);he(typeof x=="string",e,"internal-error"),Yr(h,e.name),Yr(f,e.name),he(typeof P=="boolean",e,"internal-error"),he(typeof N=="boolean",e,"internal-error"),Yr(m,e.name),Yr(w,e.name),Yr(_,e.name),Yr(C,e.name),Yr(g,e.name),Yr(E,e.name);const A=new xr({uid:x,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:N,photoURL:w,phoneNumber:m,tenantId:_,stsTokenManager:T,createdAt:g,lastLoginAt:E});return L&&Array.isArray(L)&&(A.providerData=L.map(b=>Object.assign({},b))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new co;i.updateFromServerResponse(n);const s=new xr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?EA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new co;a.updateFromIdToken(r);const l=new xr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function Tr(t){Mr(t instanceof Function,"Expected a class definition");let e=_E.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xA.type="NONE";const EE=xA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(Tr(EE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Tr(EE);const o=Gc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=xr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ho(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ho(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RA(e))return"Blackberry";if(PA(e))return"Webos";if(SA(e))return"Safari";if((e.includes("chrome/")||CA(e))&&!e.includes("edge/"))return"Chrome";if(AA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TA(t=Lt()){return/firefox\//i.test(t)}function SA(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CA(t=Lt()){return/crios\//i.test(t)}function IA(t=Lt()){return/iemobile/i.test(t)}function AA(t=Lt()){return/android/i.test(t)}function RA(t=Lt()){return/blackberry/i.test(t)}function PA(t=Lt()){return/webos/i.test(t)}function uv(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AL(t=Lt()){var e;return uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RL(){return $V()&&document.documentMode===10}function bA(t=Lt()){return uv(t)||AA(t)||PA(t)||RA(t)||/windows phone/i.test(t)||IA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t,e=[]){let n;switch(t){case"Browser":n=xE(Lt());break;case"Worker":n=`${xE(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e={}){return Go(t,"GET","/v2/passwordPolicy",av(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=6;class NL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new PL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _A(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(is(this));const n=e?ut(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bL(this),n=new NL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await IL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mh(t){return ut(t)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=XV(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DL(t){cv=t}function VL(t){return cv.loadJS(t)}function OL(){return cv.gapiScript}function LL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=rv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Od(s,e??{}))return i;or(i,"already-initialized")}return n.initialize({options:e})}function jL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UL(t,e,n){const r=Mh(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=NA(e),{host:o,port:a}=BL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),zL()}function NA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BL(t){const e=NA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:SE(o)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e){return yL(t,"POST","/v1/accounts:signInWithIdp",av(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="http://localhost";class ps extends MA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ou(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:$L,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends lu{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends lu{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends lu{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xr._fromIdTokenResponse(e,r,i),o=CE(r);return new Io({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CE(r);return new Io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Wr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ud(e,n,r,i)}}function DA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(t,s,e,r):s})}async function WL(t,e,n=!1){const r=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Io._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(is(r));const i="reauthenticate";try{const s=await bl(t,DA(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=lv(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&or(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e,n=!1){if(_r(t.app))return Promise.reject(is(t));const r="signIn",i=await DA(t,r,e),s=await Io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function KL(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function qL(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function QL(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function YL(t){return ut(t).signOut()}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e3,JL=10;class OA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OA.type="LOCAL";const ZL=OA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LA.type="SESSION";const FA=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await eF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=hv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function nF(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function rF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sF(){return jA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebaseLocalStorageDb",oF=1,zd="firebaseLocalStorage",BA="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(t,e){return t.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function aF(){const t=indexedDB.deleteDatabase(UA);return new uu(t).toPromise()}function Ym(){const t=indexedDB.open(UA,oF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zd,{keyPath:BA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zd)?e(r):(r.close(),await aF(),e(await Ym()))})})}async function IE(t,e,n){const r=Vh(t,!0).put({[BA]:e,value:n});return new uu(r).toPromise()}async function lF(t,e){const n=Vh(t,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function AE(t,e){const n=Vh(t,!0).delete(e);return new uu(n).toPromise()}const uF=800,cF=3;class zA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(sF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rF(),!this.activeServiceWorker)return;this.sender=new tF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await IE(e,Bd,"1"),await AE(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vh(i,!1).getAll();return new uu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zA.type="LOCAL";const dF=zA;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){return e?Tr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends MA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hF(t){return GL(t.auth,new fv(t),t.bypassAuthState)}function fF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),HL(n,new fv(t),t.bypassAuthState)}async function pF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),WL(n,new fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hF;case"linkViaPopup":case"linkViaRedirect":return pF;case"reauthViaPopup":case"reauthViaRedirect":return fF;default:or(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new au(2e3,1e4);async function gF(t,e,n){if(_r(t.app))return Promise.reject(Fn(t,"operation-not-supported-in-this-environment"));const r=Mh(t);dL(t,e,dv);const i=$A(r,n);return new Ji(r,"signInViaPopup",e,i).executeNotNull()}class Ji extends WA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mF.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="pendingRedirect",Kc=new Map;class vF extends WA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await wF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wF(t,e){const n=xF(e),r=EF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _F(t,e){Kc.set(t._key(),e)}function EF(t){return Tr(t._redirectPersistence)}function xF(t){return Gc(yF,t.config.apiKey,t.name)}async function TF(t,e,n=!1){if(_r(t.app))return Promise.reject(is(t));const r=Mh(t),i=$A(r,e),o=await new vF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=10*60*1e3;class CF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SF&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PF=/^https?/;async function bF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AF(t);for(const n of e)try{if(kF(n))return}catch{}or(t,"unauthorized-domain")}function kF(t){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PF.test(n))return!1;if(RF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new au(3e4,6e4);function PE(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MF(t){return new Promise((e,n)=>{var r,i,s;function o(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(Fn(t,"network-request-failed"))},timeout:NF.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{const a=LL("iframefcb");return er()[a]=()=>{gapi.load?o():n(Fn(t,"network-request-failed"))},VL(`${OL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qc=null,e})}let qc=null;function DF(t){return qc=qc||MF(t),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new au(5e3,15e3),OF="__/auth/iframe",LF="emulator/auth/iframe",FF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UF(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,LF):`https://${t.config.authDomain}/${OF}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},i=jF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${su(r).slice(1)}`}async function BF(t){const e=await DF(t),n=er().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:UF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=er().setTimeout(()=>{s(o)},VF.get());function l(){er().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$F=500,WF=600,HF="_blank",GF="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KF(t,e,n,r=$F,i=WF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Lt().toLowerCase();n&&(a=CA(u)?HF:n),TA(u)&&(e=e||GF,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(AL(u)&&a!=="_self")return qF(e||"",a),new bE(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new bE(h)}function qF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="__/auth/handler",YF="emulator/auth/handler",XF=encodeURIComponent("fac");async function kE(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:i};if(e instanceof dv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof lu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${XF}=${encodeURIComponent(l)}`:"";return`${JF(t)}?${su(a).slice(1)}${u}`}function JF({config:t}){return t.emulator?ov(t,YF):`https://${t.authDomain}/${QF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class ZF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FA,this._completeRedirectFn=TF,this._overrideRedirectResult=_F}async _openPopup(e,n,r,i){var s;Mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await kE(e,n,r,qm(),i);return KF(e,o,hv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kE(e,n,r,qm(),i);return nF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BF(e),r=new CF(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mp];o!==void 0&&n(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||SA()||uv()}}const ej=ZF;var NE="@firebase/auth",ME="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rj(t){Co(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kA(t)},u=new ML(r,i,s,l);return jL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new fs("auth-internal",e=>{const n=Mh(e.getProvider("auth").getImmediate());return(r=>new tj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(NE,ME,nj(t)),_i(NE,ME,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=5*60,sj=lA("authIdTokenMaxAge")||ij;let DE=null;const oj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sj)return;const i=n==null?void 0:n.token;DE!==i&&(DE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aj(t=hA()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FL(t,{popupRedirectResolver:ej,persistence:[dF,ZL,FA]}),r=lA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=oj(s.toString());qL(n,o,()=>o(n.currentUser)),KL(n,a=>o(a))}}const i=oA("auth");return i&&UL(n,`http://${i}`),n}function lj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rj("Browser");var uj="firebase",cj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(uj,cj,"app");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,GA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function A(){}A.prototype=T.prototype,I.D=T.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(b,M,O){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return T.prototype[M].apply(b,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,A){A||(A=0);var b=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)b[M]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(M=0;16>M;++M)b[M]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=I.g[0],A=I.g[1],M=I.g[2];var O=I.g[3],k=T+(O^A&(M^O))+b[0]+3614090360&4294967295;T=A+(k<<7&4294967295|k>>>25),k=O+(M^T&(A^M))+b[1]+3905402710&4294967295,O=T+(k<<12&4294967295|k>>>20),k=M+(A^O&(T^A))+b[2]+606105819&4294967295,M=O+(k<<17&4294967295|k>>>15),k=A+(T^M&(O^T))+b[3]+3250441966&4294967295,A=M+(k<<22&4294967295|k>>>10),k=T+(O^A&(M^O))+b[4]+4118548399&4294967295,T=A+(k<<7&4294967295|k>>>25),k=O+(M^T&(A^M))+b[5]+1200080426&4294967295,O=T+(k<<12&4294967295|k>>>20),k=M+(A^O&(T^A))+b[6]+2821735955&4294967295,M=O+(k<<17&4294967295|k>>>15),k=A+(T^M&(O^T))+b[7]+4249261313&4294967295,A=M+(k<<22&4294967295|k>>>10),k=T+(O^A&(M^O))+b[8]+1770035416&4294967295,T=A+(k<<7&4294967295|k>>>25),k=O+(M^T&(A^M))+b[9]+2336552879&4294967295,O=T+(k<<12&4294967295|k>>>20),k=M+(A^O&(T^A))+b[10]+4294925233&4294967295,M=O+(k<<17&4294967295|k>>>15),k=A+(T^M&(O^T))+b[11]+2304563134&4294967295,A=M+(k<<22&4294967295|k>>>10),k=T+(O^A&(M^O))+b[12]+1804603682&4294967295,T=A+(k<<7&4294967295|k>>>25),k=O+(M^T&(A^M))+b[13]+4254626195&4294967295,O=T+(k<<12&4294967295|k>>>20),k=M+(A^O&(T^A))+b[14]+2792965006&4294967295,M=O+(k<<17&4294967295|k>>>15),k=A+(T^M&(O^T))+b[15]+1236535329&4294967295,A=M+(k<<22&4294967295|k>>>10),k=T+(M^O&(A^M))+b[1]+4129170786&4294967295,T=A+(k<<5&4294967295|k>>>27),k=O+(A^M&(T^A))+b[6]+3225465664&4294967295,O=T+(k<<9&4294967295|k>>>23),k=M+(T^A&(O^T))+b[11]+643717713&4294967295,M=O+(k<<14&4294967295|k>>>18),k=A+(O^T&(M^O))+b[0]+3921069994&4294967295,A=M+(k<<20&4294967295|k>>>12),k=T+(M^O&(A^M))+b[5]+3593408605&4294967295,T=A+(k<<5&4294967295|k>>>27),k=O+(A^M&(T^A))+b[10]+38016083&4294967295,O=T+(k<<9&4294967295|k>>>23),k=M+(T^A&(O^T))+b[15]+3634488961&4294967295,M=O+(k<<14&4294967295|k>>>18),k=A+(O^T&(M^O))+b[4]+3889429448&4294967295,A=M+(k<<20&4294967295|k>>>12),k=T+(M^O&(A^M))+b[9]+568446438&4294967295,T=A+(k<<5&4294967295|k>>>27),k=O+(A^M&(T^A))+b[14]+3275163606&4294967295,O=T+(k<<9&4294967295|k>>>23),k=M+(T^A&(O^T))+b[3]+4107603335&4294967295,M=O+(k<<14&4294967295|k>>>18),k=A+(O^T&(M^O))+b[8]+1163531501&4294967295,A=M+(k<<20&4294967295|k>>>12),k=T+(M^O&(A^M))+b[13]+2850285829&4294967295,T=A+(k<<5&4294967295|k>>>27),k=O+(A^M&(T^A))+b[2]+4243563512&4294967295,O=T+(k<<9&4294967295|k>>>23),k=M+(T^A&(O^T))+b[7]+1735328473&4294967295,M=O+(k<<14&4294967295|k>>>18),k=A+(O^T&(M^O))+b[12]+2368359562&4294967295,A=M+(k<<20&4294967295|k>>>12),k=T+(A^M^O)+b[5]+4294588738&4294967295,T=A+(k<<4&4294967295|k>>>28),k=O+(T^A^M)+b[8]+2272392833&4294967295,O=T+(k<<11&4294967295|k>>>21),k=M+(O^T^A)+b[11]+1839030562&4294967295,M=O+(k<<16&4294967295|k>>>16),k=A+(M^O^T)+b[14]+4259657740&4294967295,A=M+(k<<23&4294967295|k>>>9),k=T+(A^M^O)+b[1]+2763975236&4294967295,T=A+(k<<4&4294967295|k>>>28),k=O+(T^A^M)+b[4]+1272893353&4294967295,O=T+(k<<11&4294967295|k>>>21),k=M+(O^T^A)+b[7]+4139469664&4294967295,M=O+(k<<16&4294967295|k>>>16),k=A+(M^O^T)+b[10]+3200236656&4294967295,A=M+(k<<23&4294967295|k>>>9),k=T+(A^M^O)+b[13]+681279174&4294967295,T=A+(k<<4&4294967295|k>>>28),k=O+(T^A^M)+b[0]+3936430074&4294967295,O=T+(k<<11&4294967295|k>>>21),k=M+(O^T^A)+b[3]+3572445317&4294967295,M=O+(k<<16&4294967295|k>>>16),k=A+(M^O^T)+b[6]+76029189&4294967295,A=M+(k<<23&4294967295|k>>>9),k=T+(A^M^O)+b[9]+3654602809&4294967295,T=A+(k<<4&4294967295|k>>>28),k=O+(T^A^M)+b[12]+3873151461&4294967295,O=T+(k<<11&4294967295|k>>>21),k=M+(O^T^A)+b[15]+530742520&4294967295,M=O+(k<<16&4294967295|k>>>16),k=A+(M^O^T)+b[2]+3299628645&4294967295,A=M+(k<<23&4294967295|k>>>9),k=T+(M^(A|~O))+b[0]+4096336452&4294967295,T=A+(k<<6&4294967295|k>>>26),k=O+(A^(T|~M))+b[7]+1126891415&4294967295,O=T+(k<<10&4294967295|k>>>22),k=M+(T^(O|~A))+b[14]+2878612391&4294967295,M=O+(k<<15&4294967295|k>>>17),k=A+(O^(M|~T))+b[5]+4237533241&4294967295,A=M+(k<<21&4294967295|k>>>11),k=T+(M^(A|~O))+b[12]+1700485571&4294967295,T=A+(k<<6&4294967295|k>>>26),k=O+(A^(T|~M))+b[3]+2399980690&4294967295,O=T+(k<<10&4294967295|k>>>22),k=M+(T^(O|~A))+b[10]+4293915773&4294967295,M=O+(k<<15&4294967295|k>>>17),k=A+(O^(M|~T))+b[1]+2240044497&4294967295,A=M+(k<<21&4294967295|k>>>11),k=T+(M^(A|~O))+b[8]+1873313359&4294967295,T=A+(k<<6&4294967295|k>>>26),k=O+(A^(T|~M))+b[15]+4264355552&4294967295,O=T+(k<<10&4294967295|k>>>22),k=M+(T^(O|~A))+b[6]+2734768916&4294967295,M=O+(k<<15&4294967295|k>>>17),k=A+(O^(M|~T))+b[13]+1309151649&4294967295,A=M+(k<<21&4294967295|k>>>11),k=T+(M^(A|~O))+b[4]+4149444226&4294967295,T=A+(k<<6&4294967295|k>>>26),k=O+(A^(T|~M))+b[11]+3174756917&4294967295,O=T+(k<<10&4294967295|k>>>22),k=M+(T^(O|~A))+b[2]+718787259&4294967295,M=O+(k<<15&4294967295|k>>>17),k=A+(O^(M|~T))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var A=T-this.blockSize,b=this.B,M=this.h,O=0;O<T;){if(M==0)for(;O<=A;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<T;)if(b[M++]=I.charCodeAt(O++),M==this.blockSize){i(this,b),M=0;break}}else for(;O<T;)if(b[M++]=I[O++],M==this.blockSize){i(this,b),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var A=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=A&255,A/=256;for(this.u(I),I=Array(16),T=A=0;4>T;++T)for(var b=0;32>b;b+=8)I[A++]=this.g[T]>>>b&255;return I};function s(I,T){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=T(I)}function o(I,T){this.h=T;for(var A=[],b=!0,M=I.length-1;0<=M;M--){var O=I[M]|0;b&&O==T||(A[M]=O,b=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?s(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(u(-I));for(var T=[],A=1,b=0;I>=A;b++)T[b]=I/A|0,A*=4294967296;return new o(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return C(d(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),b=h,M=0;M<I.length;M+=8){var O=Math.min(8,I.length-M),k=parseInt(I.substring(M,M+O),T);8>O?(O=u(Math.pow(T,O)),b=b.j(O).add(u(k))):(b=b.j(A),b=b.add(u(k)))}return b}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-C(this).m();for(var I=0,T=1,A=0;A<this.g.length;A++){var b=this.i(A);I+=(0<=b?b:4294967296+b)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(_(this))return"-"+C(this).toString(I);for(var T=u(Math.pow(I,6)),A=this,b="";;){var M=P(A,T).g;A=g(A,M.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=M,w(A))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=g(this,I),_(I)?-1:w(I)?0:1};function C(I){for(var T=I.g.length,A=[],b=0;b<T;b++)A[b]=~I.g[b];return new o(A,~I.h).add(f)}t.abs=function(){return _(this)?C(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],b=0,M=0;M<=T;M++){var O=b+(this.i(M)&65535)+(I.i(M)&65535),k=(O>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);b=k>>>16,O&=65535,k&=65535,A[M]=k<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function g(I,T){return I.add(C(T))}t.j=function(I){if(w(this)||w(I))return h;if(_(this))return _(I)?C(this).j(C(I)):C(C(this).j(I));if(_(I))return C(this.j(C(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,A=[],b=0;b<2*T;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var M=0;M<I.g.length;M++){var O=this.i(b)>>>16,k=this.i(b)&65535,oe=I.i(M)>>>16,me=I.i(M)&65535;A[2*b+2*M]+=k*me,E(A,2*b+2*M),A[2*b+2*M+1]+=O*me,E(A,2*b+2*M+1),A[2*b+2*M+1]+=k*oe,E(A,2*b+2*M+1),A[2*b+2*M+2]+=O*oe,E(A,2*b+2*M+2)}for(b=0;b<T;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=T;b<2*T;b++)A[b]=0;return new o(A,0)};function E(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function x(I,T){this.g=I,this.h=T}function P(I,T){if(w(T))throw Error("division by zero");if(w(I))return new x(h,h);if(_(I))return T=P(C(I),T),new x(C(T.g),C(T.h));if(_(T))return T=P(I,C(T)),new x(C(T.g),T.h);if(30<I.g.length){if(_(I)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,b=T;0>=b.l(I);)A=N(A),b=N(b);var M=L(A,1),O=L(b,1);for(b=L(b,2),A=L(A,2);!w(b);){var k=O.add(b);0>=k.l(I)&&(M=M.add(A),O=k),b=L(b,1),A=L(A,1)}return T=g(I,M.j(T)),new x(M,T)}for(M=h;0<=I.l(T);){for(A=Math.max(1,Math.floor(I.m()/T.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=u(A),k=O.j(T);_(k)||0<k.l(I);)A-=b,O=u(A),k=O.j(T);w(O)&&(O=f),M=M.add(O),I=g(I,k)}return new x(M,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],b=0;b<T;b++)A[b]=this.i(b)&I.i(b);return new o(A,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],b=0;b<T;b++)A[b]=this.i(b)|I.i(b);return new o(A,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],b=0;b<T;b++)A[b]=this.i(b)^I.i(b);return new o(A,this.h^I.h)};function N(I){for(var T=I.g.length+1,A=[],b=0;b<T;b++)A[b]=I.i(b)<<1|I.i(b-1)>>>31;return new o(A,I.h)}function L(I,T){var A=T>>5;T%=32;for(var b=I.g.length-A,M=[],O=0;O<b;O++)M[O]=0<T?I.i(O+A)>>>T|I.i(O+A+1)<<32-T:I.i(O+A);return new o(M,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ss=o}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KA,Fa,qA,Qc,Xm,QA,YA,XA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var j=c[R];if(!(j in v))break e;v=v[j]}c=c[c.length-1],R=v[c],p=p(R),p!=R&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,R=!1,j={next:function(){if(!R&&v<c.length){var U=v++;return{value:p(U,c[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function h(c,p,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function f(c,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function w(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,j,U){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return p.prototype[j].apply(R,q)}}function _(c){const p=c.length;if(0<p){const v=Array(p);for(let R=0;R<p;R++)v[R]=c[R];return v}return[]}function C(c,p){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(l(R)){const j=c.length||0,U=R.length||0;c.length=j+U;for(let q=0;q<U;q++)c[j+q]=R[q]}else c.push(R)}}class g{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var N=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(c,p,v){for(const R in c)p.call(v,c[R],R,c)}function I(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function T(c){const p={};for(const v in c)p[v]=c[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let v,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(v in R)c[v]=R[v];for(let U=0;U<A.length;U++)v=A[U],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function M(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function O(c){a.setTimeout(()=>{throw c},0)}function k(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class oe{constructor(){this.h=this.g=null}add(p,v){const R=me.get();R.set(p,v),this.h?this.h.next=R:this.g=R,this.h=R}}var me=new g(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,B=new oe,V=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(D)}};var D=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){O(v)}var p=me;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function ne(c,p){if(G.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(N){e:{try{P(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ne.aa.h.call(this)}}w(ne,G);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),ce=0;function de(c,p,v,R,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!R,this.ha=j,this.key=++ce,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,p,v,R,j){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var q=be(c,p,R,j);return-1<q?(p=c[q],v||(p.fa=!1)):(p=new de(p,this.src,U,!!R,j),p.fa=v,c.push(p)),p};function xe(c,p){var v=p.type;if(v in c.g){var R=c.g[v],j=Array.prototype.indexOf.call(R,p,void 0),U;(U=0<=j)&&Array.prototype.splice.call(R,j,1),U&&(ye(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,p,v,R){for(var j=0;j<c.length;++j){var U=c[j];if(!U.da&&U.listener==p&&U.capture==!!v&&U.ha==R)return j}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Je={};function Ct(c,p,v,R,j){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Ct(c,p[U],v,R,j);return null}return v=Nu(v),c&&c[K]?c.K(p,v,u(R)?!!R.capture:!1,j):Ft(c,p,v,!1,R,j)}function Ft(c,p,v,R,j,U){if(!p)throw Error("Invalid event type");var q=u(j)?!!j.capture:!!j,ke=ia(c);if(ke||(c[pe]=ke=new ve(c)),v=ke.add(p,v,R,q,U),v.proxy)return v;if(R=sn(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)Y||(j=q),j===void 0&&(j=!1),c.addEventListener(p.toString(),R,j);else if(c.attachEvent)c.attachEvent(ku(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sn(){function c(v){return p.call(c.src,c.listener,v)}const p=vf;return c}function jt(c,p,v,R,j){if(Array.isArray(p))for(var U=0;U<p.length;U++)jt(c,p[U],v,R,j);else R=u(R)?!!R.capture:!!R,v=Nu(v),c&&c[K]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],v=be(U,v,R,j),-1<v&&(ye(U[v]),Array.prototype.splice.call(U,v,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=ia(c))&&(p=c.g[p.toString()],c=-1,p&&(c=be(p,v,R,j)),(v=-1<c?p[c]:null)&&Qt(v))}function Qt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[K])xe(p.i,c);else{var v=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(v,R,c.capture):p.detachEvent?p.detachEvent(ku(v),R):p.addListener&&p.removeListener&&p.removeListener(R),(v=ia(p))?(xe(v,c),v.h==0&&(v.src=null,p[pe]=null)):ye(c)}}}function ku(c){return c in Je?Je[c]:Je[c]="on"+c}function vf(c,p){if(c.da)c=!0;else{p=new ne(p,this);var v=c.listener,R=c.ha||c.src;c.fa&&Qt(c),c=v.call(R,p)}return c}function ia(c){return c=c[pe],c instanceof ve?c:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Is]||(c[Is]=function(p){return c.handleEvent(p)}),c[Is])}function it(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}w(it,W),it.prototype[K]=!0,it.prototype.removeEventListener=function(c,p,v,R){jt(this,c,p,v,R)};function mt(c,p){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new G(p,c);else if(p instanceof G)p.target=p.target||c;else{var j=p;p=new G(R,c),b(p,j)}if(j=!0,v)for(var U=v.length-1;0<=U;U--){var q=p.g=v[U];j=As(q,R,!0,p)&&j}if(q=p.g=c,j=As(q,R,!0,p)&&j,j=As(q,R,!1,p)&&j,v)for(U=0;U<v.length;U++)q=p.g=v[U],j=As(q,R,!1,p)&&j}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],R=0;R<v.length;R++)ye(v[R]);delete c.g[p],c.h--}}this.F=null},it.prototype.K=function(c,p,v,R){return this.i.add(String(c),p,!1,v,R)},it.prototype.L=function(c,p,v,R){return this.i.add(String(c),p,!0,v,R)};function As(c,p,v,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,U=0;U<p.length;++U){var q=p[U];if(q&&!q.da&&q.capture==v){var ke=q.listener,gt=q.ha||q.src;q.fa&&xe(c.i,q),j=ke.call(gt,R)!==!1&&j}}return j&&!R.defaultPrevented}function sa(c,p,v){if(typeof c=="function")v&&(c=f(c,v));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function oa(c){c.g=sa(()=>{c.g=null,c.i&&(c.i=!1,oa(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class aa extends W{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(c){W.call(this),this.h=c,this.g={}}w(Li,W);var Mu=[];function t_(c){L(c.g,function(p,v){this.g.hasOwnProperty(v)&&Qt(p)},c),c.g={}}Li.prototype.N=function(){Li.aa.N.call(this),t_(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wf=a.JSON.stringify,tN=a.JSON.parse,nN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _f(){}_f.prototype.h=null;function n_(c){return c.h||(c.h=c.i())}function r_(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ef(){G.call(this,"d")}w(Ef,G);function xf(){G.call(this,"c")}w(xf,G);var Fi={},i_=null;function Du(){return i_=i_||new it}Fi.La="serverreachability";function s_(c){G.call(this,Fi.La,c)}w(s_,G);function ua(c){const p=Du();mt(p,new s_(p))}Fi.STAT_EVENT="statevent";function o_(c,p){G.call(this,Fi.STAT_EVENT,c),this.stat=p}w(o_,G);function Ut(c){const p=Du();mt(p,new o_(p,c))}Fi.Ma="timingevent";function a_(c,p){G.call(this,Fi.Ma,c),this.size=p}w(a_,G);function ca(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function rN(c,p,v,R,j,U){c.info(function(){if(c.g)if(U)for(var q="",ke=U.split("&"),gt=0;gt<ke.length;gt++){var Ae=ke[gt].split("=");if(1<Ae.length){var It=Ae[0];Ae=Ae[1];var At=It.split("_");q=2<=At.length&&At[1]=="type"?q+(It+"="+Ae+"&"):q+(It+"=redacted&")}}else q=null;else q=U;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+p+`
`+v+`
`+q})}function iN(c,p,v,R,j,U,q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+p+`
`+v+`
`+U+" "+q})}function Rs(c,p,v,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+oN(c,v)+(R?" "+R:"")})}function sN(c,p){c.info(function(){return"TIMEOUT: "+p})}da.prototype.info=function(){};function oN(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return wf(v)}catch{return p}}var Vu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},l_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tf;function Ou(){}w(Ou,_f),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},Tf=new Ou;function Gr(c,p,v,R){this.j=c,this.i=p,this.l=v,this.R=R||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new u_}function u_(){this.i=null,this.g="",this.h=!1}var c_={},Sf={};function Cf(c,p,v){c.L=1,c.v=Uu(cr(p)),c.m=v,c.P=!0,d_(c,null)}function d_(c,p){c.F=Date.now(),Lu(c),c.A=cr(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),C_(v.i,"t",R),c.C=0,v=c.j.J,c.h=new u_,c.g=$_(c.j,v?p:null,!c.m),0<c.O&&(c.M=new aa(f(c.Y,c,c.g),c.O)),p=c.U,v=c.g,R=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Mu[0]=j.toString()),j=Mu);for(var U=0;U<j.length;U++){var q=Ct(v,j[U],R||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ua(),rN(c.i,c.u,c.A,c.l,c.R,c.m)}Gr.prototype.ca=function(c){c=c.target;const p=this.M;p&&dr(c)==3?p.j():this.Y(c)},Gr.prototype.Y=function(c){try{if(c==this.g)e:{const At=dr(this.g);var p=this.g.Ba();const ks=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||N_(this.g)))){this.J||At!=4||p==7||(p==8||0>=ks?ua(3):ua(2)),If(this);var v=this.g.Z();this.X=v;t:if(h_(this)){var R=N_(this.g);c="";var j=R.length,U=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),ha(this);var q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(U&&p==j-1)});R.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=v==200,iN(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,gt=this.g;if((ke=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var Ae=ke;break t}}Ae=null}if(v=Ae)Rs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Af(this,v);else{this.o=!1,this.s=3,Ut(12),ji(this),ha(this);break e}}if(this.P){v=!0;let bn;for(;!this.J&&this.C<q.length;)if(bn=aN(this,q),bn==Sf){At==4&&(this.s=4,Ut(14),v=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==c_){this.s=4,Ut(15),Rs(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else Rs(this.i,this.l,bn,null),Af(this,bn);if(h_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||q.length!=0||this.h.h||(this.s=1,Ut(16),v=!1),this.o=this.o&&v,!v)Rs(this.i,this.l,q,"[Invalid Chunked Response]"),ji(this),ha(this);else if(0<q.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Mf(It),It.M=!0,Ut(11))}}else Rs(this.i,this.l,q,null),Af(this,q);At==4&&ji(this),this.o&&!this.J&&(At==4?j_(this.j,this):(this.o=!1,Lu(this)))}else SN(this.g),v==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),ji(this),ha(this)}}}catch{}finally{}};function h_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function aN(c,p){var v=c.C,R=p.indexOf(`
`,v);return R==-1?Sf:(v=Number(p.substring(v,R)),isNaN(v)?c_:(R+=1,R+v>p.length?Sf:(p=p.slice(R,R+v),c.C=R+v,p)))}Gr.prototype.cancel=function(){this.J=!0,ji(this)};function Lu(c){c.S=Date.now()+c.I,f_(c,c.I)}function f_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ca(f(c.ba,c),p)}function If(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Gr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(sN(this.i,this.A),this.L!=2&&(ua(),Ut(17)),ji(this),this.s=2,ha(this)):f_(this,this.S-c)};function ha(c){c.j.G==0||c.J||j_(c.j,c)}function ji(c){If(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,t_(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Af(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Rf(v.h,c))){if(!c.K&&Rf(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Gu(v),Wu(v);else break e;Nf(v),Ut(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ca(f(v.Za,v),6e3));if(1>=g_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Bi(v,11)}else if((c.K||v.g==c)&&Gu(v),!E(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Ae=j[p];if(v.T=Ae[0],Ae=Ae[1],v.G==2)if(Ae[0]=="c"){v.K=Ae[1],v.ia=Ae[2];const It=Ae[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const At=Ae[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const ks=Ae[5];ks!=null&&typeof ks=="number"&&0<ks&&(R=1.5*ks,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const bn=c.g;if(bn){const qu=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var U=R.h;U.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Pf(U,U.h),U.h=null))}if(R.D){const Df=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Df&&(R.ya=Df,Ve(R.I,R.D,Df))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var q=c;if(R.qa=z_(R,R.J?R.ia:null,R.W),q.K){y_(R.h,q);var ke=q,gt=R.L;gt&&(ke.I=gt),ke.B&&(If(ke),Lu(ke)),R.g=q}else L_(R);0<v.i.length&&Hu(v)}else Ae[0]!="stop"&&Ae[0]!="close"||Bi(v,7);else v.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Bi(v,7):kf(v):Ae[0]!="noop"&&v.l&&v.l.ta(Ae),v.v=0)}}ua(4)}catch{}}var lN=class{constructor(c,p){this.g=c,this.map=p}};function p_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function m_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function g_(c){return c.h?1:c.g?c.g.size:0}function Rf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Pf(c,p){c.g?c.g.add(p):c.h=p}function y_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}p_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function v_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return _(c.i)}function uN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,R=0;R<v;R++)p.push(c[R]);return p}p=[],v=0;for(R in c)p[v++]=c[R];return p}function cN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const R in c)p[v++]=R;return p}}}function w_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=cN(c),R=uN(c),j=R.length,U=0;U<j;U++)p.call(void 0,R[U],v&&v[U],c)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dN(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),j=null;if(0<=R){var U=c[v].substring(0,R);j=c[v].substring(R+1)}else U=c[v];p(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Fu(this,c.j),this.o=c.o,this.g=c.g,ju(this,c.s),this.l=c.l;var p=c.i,v=new ma;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),E_(this,v),this.m=c.m}else c&&(p=String(c).match(__))?(this.h=!1,Fu(this,p[1]||"",!0),this.o=fa(p[2]||""),this.g=fa(p[3]||"",!0),ju(this,p[4]),this.l=fa(p[5]||"",!0),E_(this,p[6]||"",!0),this.m=fa(p[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Ui.prototype.toString=function(){var c=[],p=this.j;p&&c.push(pa(p,x_,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(pa(p,x_,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(pa(v,v.charAt(0)=="/"?pN:fN,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",pa(v,gN)),c.join("")};function cr(c){return new Ui(c)}function Fu(c,p,v){c.j=v?fa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ju(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function E_(c,p,v){p instanceof ma?(c.i=p,yN(c.i,c.h)):(v||(p=pa(p,mN)),c.i=new ma(p,c.h))}function Ve(c,p,v){c.i.set(p,v)}function Uu(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,hN),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var x_=/[#\/\?@]/g,fN=/[#\?:]/g,pN=/[#\?]/g,mN=/[#\?@]/g,gN=/#/g;function ma(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Kr(c){c.g||(c.g=new Map,c.h=0,c.i&&dN(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=ma.prototype,t.add=function(c,p){Kr(this),this.i=null,c=Ps(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function T_(c,p){Kr(c),p=Ps(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function S_(c,p){return Kr(c),p=Ps(c,p),c.g.has(p)}t.forEach=function(c,p){Kr(this),this.g.forEach(function(v,R){v.forEach(function(j){c.call(p,j,R,this)},this)},this)},t.na=function(){Kr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let R=0;R<p.length;R++){const j=c[R];for(let U=0;U<j.length;U++)v.push(p[R])}return v},t.V=function(c){Kr(this);let p=[];if(typeof c=="string")S_(this,c)&&(p=p.concat(this.g.get(Ps(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return Kr(this),this.i=null,c=Ps(this,c),S_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function C_(c,p,v){T_(c,p),0<v.length&&(c.i=null,c.g.set(Ps(c,p),_(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var R=p[v];const U=encodeURIComponent(String(R)),q=this.V(R);for(R=0;R<q.length;R++){var j=U;q[R]!==""&&(j+="="+encodeURIComponent(String(q[R]))),c.push(j)}}return this.i=c.join("&")};function Ps(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function yN(c,p){p&&!c.j&&(Kr(c),c.i=null,c.g.forEach(function(v,R){var j=R.toLowerCase();R!=j&&(T_(this,R),C_(this,j,v))},c)),c.j=p}function vN(c,p){const v=new da;if(a.Image){const R=new Image;R.onload=m(qr,v,"TestLoadImage: loaded",!0,p,R),R.onerror=m(qr,v,"TestLoadImage: error",!1,p,R),R.onabort=m(qr,v,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(qr,v,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function wN(c,p){const v=new da,R=new AbortController,j=setTimeout(()=>{R.abort(),qr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(U=>{clearTimeout(j),U.ok?qr(v,"TestPingServer: ok",!0,p):qr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),qr(v,"TestPingServer: error",!1,p)})}function qr(c,p,v,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(v)}catch{}}function _N(){this.g=new nN}function EN(c,p,v){const R=v||"";try{w_(c,function(j,U){let q=j;u(j)&&(q=wf(j)),p.push(R+U+"="+encodeURIComponent(q))})}catch(j){throw p.push(R+"type="+encodeURIComponent("_badmap")),j}}function Bu(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Bu,_f),Bu.prototype.g=function(){return new zu(this.l,this.j)},Bu.prototype.i=function(c){return function(){return c}}({});function zu(c,p){it.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(zu,it),t=zu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ya(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function I_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ga(this):ya(this),this.readyState==3&&I_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},t.Qa=function(c){this.g&&(this.response=c,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ya(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function A_(c){let p="";return L(c,function(v,R){p+=R,p+=":",p+=v,p+=`\r
`}),p}function bf(c,p,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=A_(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ve(c,p,v))}function Ge(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ge,it);var xN=/^https?$/i,TN=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tf.g(),this.v=this.o?n_(this.o):n_(Tf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){R_(this,U);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)v.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())v.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TN,p,void 0))||R||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,q]of v)this.g.setRequestHeader(U,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{k_(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){R_(this,U)}};function R_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,P_(c),$u(c)}function P_(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),$u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$u(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?b_(this):this.bb())},t.bb=function(){b_(this)};function b_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||dr(c)!=4||c.Z()!=2)){if(c.u&&dr(c)==4)sa(c.Ea,0,c);else if(mt(c,"readystatechange"),dr(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var R;if(R=q===0){var j=String(c.D).match(__)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!xN.test(j?j.toLowerCase():"")}v=R}if(v)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var U=2<dr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",P_(c)}}finally{$u(c)}}}}function $u(c,p){if(c.g){k_(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||mt(c,"ready");try{v.onreadystatechange=R}catch{}}}function k_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function dr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),tN(p)}};function N_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SN(c){const p={};c=(c.g&&2<=dr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(E(c[R]))continue;var v=M(c[R]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const U=p[j]||[];p[j]=U,U.push(v)}I(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function M_(c){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new p_(c&&c.concurrentRequestLimit),this.Da=new _N,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=M_.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,R){Ut(0),this.W=c,this.H=p||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=z_(this,null,this.W),Hu(this)};function kf(c){if(D_(c),c.G==3){var p=c.U++,v=cr(c.I);if(Ve(v,"SID",c.K),Ve(v,"RID",p),Ve(v,"TYPE","terminate"),wa(c,v),p=new Gr(c,c.j,p),p.L=2,p.v=Uu(cr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=$_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Lu(p)}B_(c)}function Wu(c){c.g&&(Mf(c),c.g.cancel(),c.g=null)}function D_(c){Wu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hu(c){if(!m_(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||V(),F||(te(),F=!0),B.add(p,c),c.B=0}}function CN(c,p){return g_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ca(f(c.Ga,c,p),U_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Gr(this,this.j,c);let U=this.o;if(this.S&&(U?(U=T(U),b(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=O_(this,j,p),v=cr(this.I),Ve(v,"RID",c),Ve(v,"CVER",22),this.D&&Ve(v,"X-HTTP-Session-Id",this.D),wa(this,v),U&&(this.O?p="headers="+encodeURIComponent(String(A_(U)))+"&"+p:this.m&&bf(v,this.m,U)),Pf(this.h,j),this.Ua&&Ve(v,"TYPE","init"),this.P?(Ve(v,"$req",p),Ve(v,"SID","null"),j.T=!0,Cf(j,v,null)):Cf(j,v,p),this.G=2}}else this.G==3&&(c?V_(this,c):this.i.length==0||m_(this.h)||V_(this))};function V_(c,p){var v;p?v=p.l:v=c.U++;const R=cr(c.I);Ve(R,"SID",c.K),Ve(R,"RID",v),Ve(R,"AID",c.T),wa(c,R),c.m&&c.o&&bf(R,c.m,c.o),v=new Gr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=O_(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pf(c.h,v),Cf(v,R,p)}function wa(c,p){c.H&&L(c.H,function(v,R){Ve(p,R,v)}),c.l&&w_({},function(v,R){Ve(p,R,v)})}function O_(c,p,v){v=Math.min(c.i.length,v);var R=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let U=-1;for(;;){const q=["count="+v];U==-1?0<v?(U=j[0].g,q.push("ofs="+U)):U=0:q.push("ofs="+U);let ke=!0;for(let gt=0;gt<v;gt++){let Ae=j[gt].g;const It=j[gt].map;if(Ae-=U,0>Ae)U=Math.max(0,j[gt].g-100),ke=!1;else try{EN(It,q,"req"+Ae+"_")}catch{R&&R(It)}}if(ke){R=q.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,R}function L_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||V(),F||(te(),F=!0),B.add(p,c),c.v=0}}function Nf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ca(f(c.Fa,c),U_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,F_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ca(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Wu(this),F_(this))};function Mf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function F_(c){c.g=new Gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=cr(c.qa);Ve(p,"RID","rpc"),Ve(p,"SID",c.K),Ve(p,"AID",c.T),Ve(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(p,"TO",c.ja),Ve(p,"TYPE","xmlhttp"),wa(c,p),c.m&&c.o&&bf(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Uu(cr(p)),v.m=null,v.P=!0,d_(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Wu(this),Nf(this),Ut(19))};function Gu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function j_(c,p){var v=null;if(c.g==p){Gu(c),Mf(c),c.g=null;var R=2}else if(Rf(c.h,p))v=p.D,y_(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;R=Du(),mt(R,new a_(R,v)),Hu(c)}else L_(c);else if(j=p.s,j==3||j==0&&0<p.X||!(R==1&&CN(c,p)||R==2&&Nf(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function U_(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Bi(c,p){if(c.j.info("Error code "+p),p==2){var v=f(c.fb,c),R=c.Xa;const j=!R;R=new Ui(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fu(R,"https"),Uu(R),j?vN(R.toString(),v):wN(R.toString(),v)}else Ut(2);c.G=0,c.l&&c.l.sa(p),B_(c),D_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function B_(c){if(c.G=0,c.ka=[],c.l){const p=v_(c.h);(p.length!=0||c.i.length!=0)&&(C(c.ka,p),C(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function z_(c,p,v){var R=v instanceof Ui?cr(v):new Ui(v);if(R.g!="")p&&(R.g=p+"."+R.g),ju(R,R.s);else{var j=a.location;R=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var U=new Ui(null);R&&Fu(U,R),p&&(U.g=p),j&&ju(U,j),v&&(U.l=v),R=U}return v=c.D,p=c.ya,v&&p&&Ve(R,v,p),Ve(R,"VER",c.la),wa(c,R),R}function $_(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ge(new Bu({eb:v})):new Ge(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function W_(){}t=W_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ku(){}Ku.prototype.g=function(c,p){return new on(c,p)};function on(c,p){it.call(this),this.g=new M_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new bs(this)}w(on,it),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){kf(this.g)},on.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=wf(c),c=v);p.i.push(new lN(p.Ya++,c)),p.G==3&&Hu(p)},on.prototype.N=function(){this.g.l=null,delete this.j,kf(this.g),delete this.g,on.aa.N.call(this)};function H_(c){Ef.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(H_,Ef);function G_(){xf.call(this),this.status=1}w(G_,xf);function bs(c){this.g=c}w(bs,W_),bs.prototype.ua=function(){mt(this.g,"a")},bs.prototype.ta=function(c){mt(this.g,new H_(c))},bs.prototype.sa=function(c){mt(this.g,new G_)},bs.prototype.ra=function(){mt(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,XA=function(){return new Ku},YA=function(){return Du()},QA=Fi,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vu.NO_ERROR=0,Vu.TIMEOUT=8,Vu.HTTP_ERROR=6,Qc=Vu,l_.COMPLETE="complete",qA=l_,r_.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",it.prototype.listen=it.prototype.K,Fa=r_,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,KA=Ge}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new tv("@firebase/firestore");function Pa(){return ms.logLevel}function ee(t,...e){if(ms.logLevel<=Ee.DEBUG){const n=e.map(pv);ms.debug(`Firestore (${Ko}): ${t}`,...n)}}function Dr(t,...e){if(ms.logLevel<=Ee.ERROR){const n=e.map(pv);ms.error(`Firestore (${Ko}): ${t}`,...n)}}function Ao(t,...e){if(ms.logLevel<=Ee.WARN){const n=e.map(pv);ms.warn(`Firestore (${Ko}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function Ie(t,e){t||se()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class hj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fj{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new JA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new kt(e)}}class pj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ie(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new gj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new lt(0,0))}static max(){return new ue(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends kl{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends kl{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ne.fromString(e))}static fromName(e){return new ie(Ne.fromString(e).popFirst(5))}static empty(){return new ie(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ne(e.slice()))}}function _j(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Si(i,ie.empty(),e)}function Ej(t){return new Si(t.readTime,t.key,-1)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(ue.min(),ie.empty(),-1)}static max(){return new Si(ue.max(),ie.empty(),-1)}}function xj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Tj)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Cj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mv.oe=-1;function hu(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function Ij(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new cn([])}unionWith(e){let n=new xt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tR("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const Aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=Aj.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yv(t){const e=t.mapValue.fields.__previous_value__;return gv(e)?yv(e):e}function Nl(t){const e=Ci(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc={mapValue:{}};function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gv(t)?4:bj(t)?9007199254740991:Pj(t)?10:11:se()}function ar(t,e){if(t===e)return!0;const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ci(i.timestampValue),a=Ci(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gs(i.bytesValue).isEqual(gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?$d(o)===$d(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(LE(o)!==LE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ar(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Dl(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=ys(t),r=ys(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(Nl(t),Nl(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=gs(s),l=gs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Re(a[u],l[u]);if(d!==0)return d}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Re(Ye(s.latitude),Ye(o.latitude));return a!==0?a:Re(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Re(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:UE(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===gc.mapValue&&o===gc.mapValue)return 0;if(s===gc.mapValue)return 1;if(o===gc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Re(l[h],d[h]);if(f!==0)return f;const m=Po(a[l[h]],u[d[h]]);if(m!==0)return m}return Re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ci(t),r=Ci(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function UE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Po(n[i],r[i]);if(s)return s}return Re(n.length,r.length)}function bo(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ci(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Jm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Jm(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function BE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zm(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function zE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function Pj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=el(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(el(this.value))}}function nR(t){const e=[];return xs(t.fields,(n,r)=>{const i=new _t([n]);if(Yc(r)){const s=nR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ue.min(),ue.min(),ue.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,ue.min(),ue.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ue.min(),ue.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{}class nt extends rR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mj(e,n,r):n==="array-contains"?new Oj(e,r):n==="in"?new Lj(e,r):n==="not-in"?new Fj(e,r):n==="array-contains-any"?new jj(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dj(e,r):new Vj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Po(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends rR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return iR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iR(t){return t.op==="and"}function sR(t){return Nj(t)&&iR(t)}function Nj(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function eg(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(sR(t))return t.filters.map(e=>eg(e)).join(",");{const e=t.filters.map(n=>eg(n)).join(",");return`${t.op}(${e})`}}function oR(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)}(t,e):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oR(o,i.filters[a]),!0):!1}(t,e):void se()}function aR(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(aR).join(" ,")+"}"}(t):"Filter"}class Mj extends nt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dj extends nt{constructor(e,n){super(e,"in",n),this.keys=lR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vj extends nt{constructor(e,n){super(e,"not-in",n),this.keys=lR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class Oj extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&Dl(n.arrayValue,this.value)}}class Lj extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class Fj extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class jj extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function GE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Uj(t,e,n,r,i,s,o)}function wv(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.ue=n}return e.ue}function _v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HE(t.startAt,e.startAt)&&HE(t.endAt,e.endAt)}function tg(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Bj(t,e,n,r,i,s,o,a){return new qo(t,e,n,r,i,s,o,a)}function Oh(t){return new qo(t)}function KE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uR(t){return t.collectionGroup!==null}function tl(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(_t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Vl(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Vl(_t.keyField(),r))}return e.ce}function nr(t){const e=fe(t);return e.le||(e.le=zj(e,tl(t))),e.le}function zj(t,e){if(t.limitType==="F")return GE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Vl(i.field,s)});const n=t.endAt?new Wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wd(t.startAt.position,t.startAt.inclusive):null;return GE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ng(t,e){const n=t.filters.concat([e]);return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hd(t,e,n){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lh(t,e){return _v(nr(t),nr(e))&&t.limitType===e.limitType}function cR(t){return`${wv(nr(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aR(i)).join(", ")}]`),hu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(nr(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=WE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,tl(r),i)||r.endAt&&!function(o,a,l){const u=WE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,tl(r),i))}(t,e)}function $j(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dR(t){return(e,n)=>{let r=!1;for(const i of tl(t)){const s=Wj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Wj(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Po(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new He(ie.comparator);function Vr(){return Hj}const hR=new He(ie.comparator);function ja(...t){let e=hR;for(const n of t)e=e.insert(n.key,n);return e}function fR(t){let e=hR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zi(){return nl()}function pR(){return nl()}function nl(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gj=new He(ie.comparator),Kj=new xt(ie.comparator);function _e(...t){let e=Kj;for(const n of t)e=e.add(n);return e}const qj=new xt(Re);function Qj(){return qj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function mR(t){return{integerValue:""+t}}function Yj(t,e){return Ij(e)?mR(e):Ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function Xj(t,e,n){return t instanceof Ol?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gv(s)&&(s=yv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ll?yR(t,e):t instanceof Fl?vR(t,e):function(i,s){const o=gR(i,s),a=qE(o)+qE(i.Pe);return Zm(o)&&Zm(i.Pe)?mR(a):Ev(i.serializer,a)}(t,e)}function Jj(t,e,n){return t instanceof Ll?yR(t,e):t instanceof Fl?vR(t,e):n}function gR(t,e){return t instanceof Gd?function(r){return Zm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ol extends jh{}class Ll extends jh{constructor(e){super(),this.elements=e}}function yR(t,e){const n=wR(e);for(const r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fl extends jh{constructor(e){super(),this.elements=e}}function vR(t,e){let n=wR(e);for(const r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}class Gd extends jh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qE(t){return Ye(t.integerValue||t.doubleValue)}function wR(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.field=e,this.transform=n}}function e4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ll&&i instanceof Ll||r instanceof Fl&&i instanceof Fl?Ro(r.elements,i.elements,ar):r instanceof Gd&&i instanceof Gd?ar(r.Pe,i.Pe):r instanceof Ol&&i instanceof Ol}(t.transform,e.transform)}class t4{constructor(e,n){this.version=e,this.transformResults=n}}class Mt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mt}static exists(e){return new Mt(void 0,e)}static updateTime(e){return new Mt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uh{}function _R(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bh(t.key,Mt.none()):new fu(t.key,t.data,Mt.none());{const n=t.data,r=zt.empty();let i=new xt(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new cn(i.toArray()),Mt.none())}}function n4(t,e,n){t instanceof fu?function(i,s,o){const a=i.value.clone(),l=YE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,s,o){if(!Xc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=YE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ER(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof fu?function(s,o,a,l){if(!Xc(s.precondition,o))return a;const u=s.value.clone(),d=XE(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,o,a,l){if(!Xc(s.precondition,o))return a;const u=XE(s.fieldTransforms,l,o),d=o.data;return d.setAll(ER(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Xc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function r4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gR(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function QE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ro(r,i,(s,o)=>e4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fu extends Uh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends Uh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ER(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YE(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Jj(o,a,n[i]))}return r}function XE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Xj(s,o,e))}return r}class Bh extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xR extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&n4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_R(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>QE(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>QE(n,r))}}class xv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return Gj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Te;function TR(t){switch(t){default:return se();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function SR(t){if(t===void 0)return Dr("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ze.OK:return z.OK;case Ze.CANCELLED:return z.CANCELLED;case Ze.UNKNOWN:return z.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return z.INTERNAL;case Ze.UNAVAILABLE:return z.UNAVAILABLE;case Ze.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ze.NOT_FOUND:return z.NOT_FOUND;case Ze.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ze.ABORTED:return z.ABORTED;case Ze.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ze.DATA_LOSS:return z.DATA_LOSS;default:return se()}}(Te=Ze||(Ze={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new ss([4294967295,4294967295],0);function JE(t){const e=a4().encode(t),n=new GA;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ss([n,r],0),new ss([i,s],0)]}class Tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(r<0)throw new Ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ss.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ss.fromNumber(r)));return i.compare(l4)===1&&(i=new ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=JE(e),[r,i]=ZE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=JE(e),[r,i]=ZE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(ue.min(),i,new He(Re),Vr(),_e())}}class pu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class CR{constructor(e,n){this.targetId=e,this.me=n}}class IR{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ex{constructor(){this.fe=0,this.ge=nx(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new pu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class u4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=tx(),this.Qe=new He(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(tg(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,ft.newNoDocument(o,ue.min()))}else Ie(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=gs(r).toUint8Array()}catch(l){if(l instanceof tR)return Ao("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Tv(o,i,s)}catch(l){return Ao(l instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&tg(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ft.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zh(e,n,this.Qe,this.ke,r);return this.ke=Vr(),this.qe=tx(),this.Qe=new He(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ex,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ex),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tx(){return new He(ie.comparator)}function nx(){return new He(ie.comparator)}const c4={asc:"ASCENDING",desc:"DESCENDING"},d4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h4={and:"AND",or:"OR"};class f4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rg(t,e){return t.useProto3Json||hu(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p4(t,e){return Kd(t,e.toTimestamp())}function hn(t){return Ie(!!t),ue.fromTimestamp(function(n){const r=Ci(n);return new lt(r.seconds,r.nanos)}(t))}function Sv(t,e){return ig(t,e).canonicalString()}function ig(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RR(t){const e=Ne.fromString(t);return Ie(DR(e)),e}function qd(t,e){return Sv(t.databaseId,e.path)}function il(t,e){const n=RR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(bR(n))}function PR(t,e){return Sv(t.databaseId,e)}function m4(t){const e=RR(t);return e.length===4?Ne.emptyPath():bR(e)}function sg(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bR(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rx(t,e,n){return{name:qd(t,e),fields:n.value.mapValue.fields}}function g4(t,e){return"found"in e?function(r,i){Ie(!!i.found),i.found.name,i.found.updateTime;const s=il(r,i.found.name),o=hn(i.found.updateTime),a=i.found.createTime?hn(i.found.createTime):ue.min(),l=new zt({mapValue:{fields:i.found.fields}});return ft.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){Ie(!!i.missing),Ie(!!i.readTime);const s=il(r,i.missing),o=hn(i.readTime);return ft.newNoDocument(s,o)}(t,e):se()}function y4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ie(d===void 0||typeof d=="string"),St.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),St.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:SR(u.code);return new Q(d,u.message||"")}(o);n=new IR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=il(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):ue.min(),a=new zt({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Jc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=il(t,r.document),s=r.readTime?hn(r.readTime):ue.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=il(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new o4(i,s),a=r.targetId;n=new CR(a,o)}}return n}function kR(t,e){let n;if(e instanceof fu)n={update:rx(t,e.key,e.value)};else if(e instanceof Bh)n={delete:qd(t,e.key)};else if(e instanceof Vi)n={update:rx(t,e.key,e.data),updateMask:I4(e.fieldMask)};else{if(!(e instanceof xR))return se();n={verify:qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:p4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function v4(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hn(i.updateTime):hn(s);return o.isEqual(ue.min())&&(o=hn(s)),new t4(o,i.transformResults||[])}(n,e))):[]}function w4(t,e){return{documents:[PR(t,e.path)]}}function _4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PR(t,i);const s=function(u){if(u.length!==0)return MR(Bn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Fs(f.field),direction:T4(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function E4(t){let e=m4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=NR(h);return f instanceof Bn&&sR(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Vl(js(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,hu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Wd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Wd(m,f)}(n.endAt)),Bj(e,i,o,s,a,"F",l,u)}function x4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=js(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=js(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=js(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=js(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>NR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function T4(t){return c4[t]}function S4(t){return d4[t]}function C4(t){return h4[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function js(t){return _t.fromServerFormat(t.fieldPath)}function MR(t){return t instanceof nt?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:S4(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(i=>MR(i));return r.length===1?r[0]:{compositeFilter:{op:C4(n.op),filters:r}}}(t):se()}function I4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.ct=e}}function R4(t){const e=E4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.un=new b4}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Si.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class b4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rl(r.mutation,i,cn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ja();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vr();const o=nl(),a=function(){return nl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Vi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),rl(d.mutation,u,d.mutation.getFieldMask(),lt.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new N4(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nl();let i=new He((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||cn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=pR();d.forEach(f=>{if(!s.has(f)){const m=_R(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Zi());let a=-1,l=s;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:fR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ja();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(h,f){return new qo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,ft.newInvalidDocument(d)))});let a=ja();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&rl(d.mutation,u,cn.empty(),lt.now()),Fh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:R4(i.bundledQuery),readTime:hn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.overlays=new He(ie.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zi();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Zi(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Zi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s4(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Tr=new xt(ct.Er),this.dr=new xt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new Ne([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new Ne([])),r=new ct(n,e),i=new ct(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new xt(ct.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Re);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new xt(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.Mr=e,this.docs=function(){return new He(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vr();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xj(Ej(d),r)<=0||(i.has(d.key)||Fh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new j4(this)}getSize(e){return $.resolve(this.size)}}class j4 extends k4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.persistence=e,this.Nr=new Qo(n=>wv(n),_v),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cv,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new mv(0),this.Kr=!1,this.Kr=!0,this.$r=new O4,this.referenceDelegate=e(this),this.Ur=new U4(this),this.indexManager=new P4,this.remoteDocumentCache=function(i){return new F4(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new A4(n),this.Gr=new D4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new L4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new z4(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class z4 extends Sj{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Jr=new Cv,this.Yr=null}static Zr(e){return new Iv(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Av(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WV()?8:Cj(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $4;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pa()<=Ee.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Pa()<=Ee.DEBUG&&ee("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pa()<=Ee.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):$.resolve())}Yi(e,n){if(KE(n))return $.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hd(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Hd(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return KE(n)||i.isEqual(ue.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(Pa()<=Ee.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,o,n,_j(i,-1)).next(a=>a))})}ts(e,n){let r=new xt(dR(e));return n.forEach((i,s)=>{Fh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Pa()<=Ee.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,Si.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(Re),this._s=new Qo(s=>wv(s),_v),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function G4(t,e,n,r){return new H4(t,e,n,r)}async function VR(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function K4(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=$.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(_=>{const C=u.docVersions.get(w);Ie(C!==null),_.version.compareTo(C)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OR(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function q4(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(St.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(_,C,g){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Vr(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Q4(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ue.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function Q4(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Y4(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X4(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function og(t,e,n){const r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!du(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ix(t,e,n){const r=fe(t);let i=ue.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=fe(l),f=h._s.get(d);return f!==void 0?$.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:_e())).next(a=>(J4(r,$j(e),a),{documents:a,Ts:s})))}function J4(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class sx{constructor(){this.activeTargetIds=Qj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z4{constructor(){this.so=new sx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function gp(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class rU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=gp(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ao("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=tU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=gp();return new Promise((o,a)=>{const l=new KA;l.setWithCredentials(!0),l.listenOnce(qA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qc.NO_ERROR:const d=l.getResponseJson();ee(bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Qc.TIMEOUT:ee(bt,`RPC '${e}' ${s} timed out`),a(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const h=l.getStatus();if(ee(bt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(C){const g=C.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(g)>=0?g:z.UNKNOWN}(m.status);a(new Q(w,m.message))}else a(new Q(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(z.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{ee(bt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(bt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=gp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XA(),a=YA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(bt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const w=new nU({Io:C=>{m?ee(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(ee(bt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ee(bt,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},To:()=>h.close()}),_=(C,g,E)=>{C.listen(g,x=>{try{E(x)}catch(P){setTimeout(()=>{throw P},0)}})};return _(h,Fa.EventType.OPEN,()=>{m||(ee(bt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),_(h,Fa.EventType.CLOSE,()=>{m||(m=!0,ee(bt,`RPC '${e}' stream ${i} transport closed`),w.So())}),_(h,Fa.EventType.ERROR,C=>{m||(m=!0,Ao(bt,`RPC '${e}' stream ${i} transport errored:`,C),w.So(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),_(h,Fa.EventType.MESSAGE,C=>{var g;if(!m){const E=C.data[0];Ie(!!E);const x=E,P=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(P){ee(bt,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let L=function(A){const b=Ze[A];if(b!==void 0)return SR(b)}(N),I=P.message;L===void 0&&(L=z.INTERNAL,I="Unknown error status: "+N+" with message "+P.message),m=!0,w.So(new Q(L,I)),h.close()}else ee(bt,`RPC '${e}' stream ${i} received:`,E),w.bo(E)}}),_(a,QA.STAT_EVENT,C=>{C.stat===Xm.PROXY?ee(bt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Xm.NOPROXY&&ee(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return new f4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iU extends LR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=y4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?hn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=tg(l)?{documents:w4(s,l)}:{query:_4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AR(s,o.resumeToken);const u=rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Kd(s,o.snapshotVersion.toTimestamp());const u=rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=x4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.a_(n)}}class sU extends LR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=v4(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ig(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,ig(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.L_.add(4),await mu(u),u.q_.set("Unknown"),u.L_.delete(4),await Wh(u)}(this))})}),this.q_=new aU(r,i)}}async function Wh(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function mu(t){for(const e of t.B_)await e(!1)}function FR(t,e){const n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Nv(n)?kv(n):Yo(n).r_()&&bv(n,e))}function Pv(t,e){const n=fe(t),r=Yo(n);n.N_.delete(e),r.r_()&&jR(n,e),n.N_.size===0&&(r.r_()?r.o_():Ts(n)&&n.q_.set("Unknown"))}function bv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).A_(e)}function jR(t,e){t.Q_.xe(e),Yo(t).R_(e)}function kv(t){t.Q_=new u4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.q_.v_()}function Nv(t){return Ts(t)&&!Yo(t).n_()&&t.N_.size>0}function Ts(t){return fe(t).L_.size===0}function UR(t){t.Q_=void 0}async function uU(t){t.q_.set("Online")}async function cU(t){t.N_.forEach((e,n)=>{bv(t,e)})}async function dU(t,e){UR(t),Nv(t)?(t.q_.M_(e),kv(t)):t.q_.set("Unknown")}async function hU(t,e,n){if(t.q_.set("Online"),e instanceof IR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof Jc?t.Q_.Ke(e):e instanceof CR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await OR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),jR(s,l);const h=new ui(d.target,l,u,d.sequenceNumber);bv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!du(e))throw e;t.L_.add(1),await mu(t),t.q_.set("Offline"),n||(n=()=>OR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wh(t)})}function BR(t,e){return e().catch(n=>Qd(t,n,e))}async function Hh(t){const e=fe(t),n=Ii(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fU(e);)try{const i=await Y4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pU(e,i)}catch(i){await Qd(e,i)}zR(e)&&$R(e)}function fU(t){return Ts(t)&&t.O_.length<10}function pU(t,e){t.O_.push(e);const n=Ii(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zR(t){return Ts(t)&&!Ii(t).n_()&&t.O_.length>0}function $R(t){Ii(t).start()}async function mU(t){Ii(t).p_()}async function gU(t){const e=Ii(t);for(const n of t.O_)e.m_(n.mutations)}async function yU(t,e,n){const r=t.O_.shift(),i=xv.from(r,e,n);await BR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hh(t)}async function vU(t,e){e&&Ii(t).V_&&await async function(r,i){if(function(o){return TR(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Ii(r).s_(),await BR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hh(r)}}(t,e),zR(t)&&$R(t)}async function ax(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.L_.add(3),await mu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wh(n)}async function wU(t,e){const n=fe(t);e?(n.L_.delete(2),await Wh(n)):e||(n.L_.add(2),await mu(n),n.q_.set("Unknown"))}function Yo(t){return t.K_||(t.K_=function(n,r,i){const s=fe(n);return s.w_(),new iU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uU.bind(null,t),Ro:cU.bind(null,t),mo:dU.bind(null,t),d_:hU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Nv(t)?kv(t):t.q_.set("Unknown")):(await t.K_.stop(),UR(t))})),t.K_}function Ii(t){return t.U_||(t.U_=function(n,r,i){const s=fe(n);return s.w_(),new sU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mU.bind(null,t),mo:vU.bind(null,t),f_:gU.bind(null,t),g_:yU.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hh(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Mv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),du(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.W_=new He(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class No{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new No(e,n,po.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EU{constructor(){this.queries=ux(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=ux(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function ux(){return new Qo(t=>cR(t),Lh)}async function Vv(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _U,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Dv(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lv(n)}async function Ov(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xU(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Lv(n)}function TU(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var ag,cx;(cx=ag||(ag={})).ea="default",cx.Cache="cache";class Fv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.key=e}}class HR{constructor(e){this.key=e}}class SU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=dR(e),this.Ra=new po(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Fh(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;f&&m?f.data.isEqual(m.data)?w!==_&&(r.track({type:3,doc:m}),C=!0):this.ga(f,m)||(r.track({type:2,doc:m}),C=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),C=!0):f&&!m&&(r.track({type:1,doc:f}),C=!0,(l||u)&&(a=!0)),C&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,w){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(m)-_(w)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new No(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new HR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WR(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return No.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class CU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IU{constructor(e){this.key=e,this.va=!1}}class AU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Qo(a=>cR(a),Lh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(ie.comparator),this.Na=new Map,this.La=new Cv,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function RU(t,e,n=!0){const r=XR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await GR(r,e,n,!0),i}async function PU(t,e){const n=XR(t);await GR(n,e,!0,!1)}async function GR(t,e,n,r){const i=await X4(t.localStore,nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await bU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FR(t.remoteStore,i),a}async function bU(t,e,n,r,i){t.Ka=(h,f,m)=>async function(_,C,g,E){let x=C.view.ma(g);x.ns&&(x=await ix(_.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,x)));const P=E&&E.targetChanges.get(C.targetId),N=E&&E.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(x,_.isPrimaryClient,P,N);return hx(_,C.targetId,L.wa),L.snapshot}(t,h,f,m);const s=await ix(t.localStore,e,!0),o=new SU(e,s.Ts),a=o.ma(s.documents),l=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);hx(t,n,u.wa);const d=new CU(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function kU(t,e,n){const r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Lh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await og(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pv(r.remoteStore,i.targetId),lg(r,i.targetId)}).catch(cu)):(lg(r,i.targetId),await og(r.localStore,i.targetId,!0))}async function NU(t,e){const n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pv(n.remoteStore,r.targetId))}async function MU(t,e,n){const r=UU(t);try{const i=await function(o,a){const l=fe(o),u=lt.now(),d=a.reduce((m,w)=>m.add(w.key),_e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Vr(),_=_e();return l.cs.getEntries(m,d).next(C=>{w=C,w.forEach((g,E)=>{E.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(C=>{h=C;const g=[];for(const E of a){const x=r4(E,h.get(E.key).overlayedDocument);x!=null&&g.push(new Vi(E.key,x,nR(x.value.mapValue),Mt.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(C=>{f=C;const g=C.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,C.batchId,g)})}).then(()=>({batchId:f.batchId,changes:fR(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new He(Re)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await gu(r,i.changes),await Hh(r.remoteStore)}catch(i){const s=Dv(i,"Failed to persist write");n.reject(s)}}async function KR(t,e){const n=fe(t);try{const r=await q4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ie(o.va):i.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),await gu(n,r,e)}catch(r){await cu(r)}}function dx(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Lv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DU(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new He(ie.comparator);o=o.insert(s,ft.newNoDocument(s,ue.min()));const a=_e().add(s),l=new zh(ue.min(),new Map,new He(Re),o,a);await KR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),jv(r)}else await og(r.localStore,e,!1).then(()=>lg(r,e,n)).catch(cu)}async function VU(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await K4(n.localStore,e);QR(n,r,null),qR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,i)}catch(i){await cu(i)}}async function OU(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ie(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);QR(r,e,n),qR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,i)}catch(i){await cu(i)}}function qR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QR(t,e,n){const r=fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YR(t,r)})}function YR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jv(t))}function hx(t,e,n){for(const r of n)r instanceof WR?(t.La.addReference(r.key,e),LU(t,r)):r instanceof HR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YR(t,r.key)):se()}function LU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),jv(t))}function jv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new IU(n)),t.Oa=t.Oa.insert(n,r),FR(t.remoteStore,new ui(nr(Oh(n.path)),r,"TargetPurposeLimboResolution",mv.oe))}}async function gu(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Av.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!du(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),w=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(f,_)}}}(r.localStore,s))}async function FU(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await VR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Q(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.hs)}}function jU(t,e){const n=fe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function XR(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DU.bind(null,e),e.Ca.d_=xU.bind(null,e.eventManager),e.Ca.$a=TU.bind(null,e.eventManager),e}function UU(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OU.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return G4(this.persistence,new W4,e.initialUser,this.serializer)}Ga(e){return new B4(Iv.Zr,this.serializer)}Wa(e){return new Z4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),await wU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EU}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=function(s){return new rU(s)}(e.databaseInfo);return function(s,o,a,l){return new oU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dx(this.syncEngine,n,0),function(){return ox.D()?new ox:new eU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new AU(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=fe(i),a={documents:s.map(h=>qd(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Ne.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=g4(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());Ie(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new xR(i,this.precondition(i)))}),await async function(r,i){const s=fe(r),o={writes:i.map(a=>kR(s.serializer,a))};await s.Mo("Commit",s.serializer.databaseId,Ne.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw se();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?Mt.exists(!1):Mt.updateTime(n):Mt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new Q(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(n)}return Mt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new Rv(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new BU(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!hu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!TR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=ZA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WU(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ax(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ax(e.remoteStore,i)),t._onlineComponents=e}async function WU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Yd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await vp(t,new Yd);return t._offlineComponents}async function Bv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await fx(t,new ug))),t._onlineComponents}function HU(t){return Bv(t).then(e=>e.syncEngine)}function GU(t){return Bv(t).then(e=>e.datastore)}async function Xd(t){const e=await Bv(t),n=e.eventManager;return n.onListen=RU.bind(null,e.syncEngine),n.onUnlisten=kU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NU.bind(null,e.syncEngine),n}function KU(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Uv({next:f=>{d.Za(),o.enqueueAndForget(()=>Ov(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Fv(Oh(a.path),d,{includeMetadataChanges:!0,_a:!0});return Vv(s,h)}(await Xd(t),t.asyncQueue,e,n,r)),r.promise}function qU(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Uv({next:f=>{d.Za(),o.enqueueAndForget(()=>Ov(s,h)),f.fromCache&&l.source==="server"?u.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Fv(a,d,{includeMetadataChanges:!0,_a:!0});return Vv(s,h)}(await Xd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QU(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mx(t){if(!ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gx(t){if(ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dj;switch(r.type){case"firstParty":return new mj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=px.get(n);r&&(ee("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}}function YU(t,e,n,r={}){var i;const s=(t=fn(t,Kh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=LV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new hj(new JA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class Ei extends Hr{constructor(e,n,r){super(e,n,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ie(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function Ir(t,e,...n){if(t=ut(t),ZR("collection","path",e),t instanceof Kh){const r=Ne.fromString(e,...n);return gx(r),new Ei(t,null,r)}{if(!(t instanceof Vt||t instanceof Ei))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return gx(r),new Ei(t.firestore,null,r)}}function Yn(t,e,...n){if(t=ut(t),arguments.length===1&&(e=ZA.newId()),ZR("doc","path",e),t instanceof Kh){const r=Ne.fromString(e,...n);return mx(r),new Vt(t,null,new ie(r))}{if(!(t instanceof Vt||t instanceof Ei))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return mx(r),new Vt(t.firestore,t instanceof Ei?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Rv(this,"async_queue_retry"),this.Vu=()=>{const r=yp();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new tr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!du(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Mv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function wx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Or extends Kh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vx(e),this._firestoreClient=void 0,await e}}}function XU(t,e){const n=typeof t=="object"?t:hA(),r=typeof t=="string"?t:"(default)",i=rv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=VV("firestore");s&&YU(i,...s)}return i}function yu(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JU(t),t._firestoreClient}function JU(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new Rj(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,JR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $U(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(St.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vs(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=/^__.*__$/;class eB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class eP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Wv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tP(this.Cu)&&ZU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}Qu(e,n,r,i=!1){return new Wv({Cu:e,methodName:n,qu:r,path:_t.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new tB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Kv("Data must be an object, but it was:",o,r);const a=nP(r,o);let l,u;if(s.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=cg(e,h,n);if(!o.contains(f))throw new Q(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);iP(d,f)||d.push(f)}l=new cn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new eB(new zt(a),l,u)}class Xh extends Qh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class Gv extends Qh{_toFieldTransform(e){return new Zj(e.path,new Ol)}isEqual(e){return e instanceof Gv}}function nB(t,e,n,r){const i=t.Qu(1,e,n);Kv("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();xs(r,(l,u)=>{const d=qv(e,l,n);u=ut(u);const h=i.Nu(d);if(u instanceof Xh)s.push(d);else{const f=vu(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new cn(s);return new eP(o,a,i.fieldTransforms)}function rB(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[cg(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cg(e,s[f])),l.push(s[f+1]);const u=[],d=zt.empty();for(let f=a.length-1;f>=0;--f)if(!iP(u,a[f])){const m=a[f];let w=l[f];w=ut(w);const _=o.Nu(m);if(w instanceof Xh)u.push(m);else{const C=vu(w,_);C!=null&&(u.push(m),d.set(m,C))}}const h=new cn(u);return new eP(d,h,o.fieldTransforms)}function iB(t,e,n,r=!1){return vu(n,t.Qu(r?4:3,e))}function vu(t,e){if(rP(t=ut(t)))return Kv("Unsupported field value:",e,t),nP(t,e);if(t instanceof Qh)return function(r,i){if(!tP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=vu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Kd(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,s)}}if(r instanceof zv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vs)return{bytesValue:AR(i.serializer,r._byteString)};if(r instanceof Vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $v)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ev(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Gh(r)}`)}(t,e)}function nP(t,e){const n={};return eR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(r,i)=>{const s=vu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof zv||t instanceof vs||t instanceof Vt||t instanceof Qh||t instanceof $v)}function Kv(t,e,n){if(!rP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function cg(t,e,n){if((e=ut(e))instanceof qh)return e._internalPath;if(typeof e=="string")return qv(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const sB=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(sB)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(z.INVALID_ARGUMENT,a+t+l)}function iP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oB extends Zd{data(){return super.data()}}function Jh(t,e){return typeof e=="string"?qv(t,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class Yv extends Qv{}function wu(t,e,...n){let r=[];e instanceof Qv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Jv).length,a=s.filter(l=>l instanceof Zh).length;if(o>1||o>0&&a>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zh extends Yv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zh(e,n,r)}_apply(e){const n=this._parse(e);return aP(e._query,n),new Hr(e.firestore,e.converter,ng(e._query,n))}_parse(e){const n=Yh(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ex(h,d);const m=[];for(const w of h)m.push(_x(l,s,w));f={arrayValue:{values:m}}}else f=_x(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ex(h,d),f=iB(a,o,h,d==="in"||d==="not-in");return nt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xv(t,e,n){const r=e,i=Jh("where",t);return Zh._create(i,r,n)}class Jv extends Qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)aP(o,l),o=ng(o,l)}(e._query,n),new Hr(e.firestore,e.converter,ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zv extends Yv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(s,o)}(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new qo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function oP(t,e="asc"){const n=e,r=Jh("orderBy",t);return Zv._create(r,n)}class ew extends Yv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ew(e,n,r)}_apply(e){return new Hr(e.firestore,e.converter,Hd(e._query,this._limit,this._limitType))}}function aB(t){return ew._create("limit",t,"F")}function _x(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uR(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ie.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BE(t,new ie(r))}if(n instanceof Vt)return BE(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function Ex(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lP{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new $v(s)}convertGeoPoint(e){return new zv(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const n=Ci(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Ie(DR(r));const i=new Ml(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lB extends lP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nw extends Zd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends nw{data(e={}){return super.data(e)}}class uP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new Js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:uB(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){t=fn(t,Vt);const e=fn(t.firestore,Or);return KU(yu(e),t._key).then(n=>dP(e,t,n))}class ef extends lP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function jl(t){t=fn(t,Hr);const e=fn(t.firestore,Or),n=yu(e),r=new ef(e);return sP(t._query),qU(n,t._query).then(i=>new uP(e,r,t,i))}function wp(t,e,n){t=fn(t,Vt);const r=fn(t.firestore,Or),i=tw(t.converter,e,n);return rw(r,[Hv(Yh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mt.none())])}function Ba(t){return rw(fn(t.firestore,Or),[new Bh(t._key,Mt.none())])}function xx(t,e){const n=fn(t.firestore,Or),r=Yn(t),i=tw(t.converter,e);return rw(n,[Hv(Yh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mt.exists(!1))]).then(()=>r)}function cP(t,...e){var n,r,i;t=ut(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wx(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof Vt)u=fn(t.firestore,Or),d=Oh(t._key.path),l={next:h=>{e[o]&&e[o](dP(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=fn(t,Hr);u=fn(h.firestore,Or),d=h._query;const f=new ef(u);l={next:m=>{e[o]&&e[o](new uP(u,f,h,m))},error:e[o+1],complete:e[o+2]},sP(t._query)}return function(f,m,w,_){const C=new Uv(_),g=new Fv(m,C,w);return f.asyncQueue.enqueueAndForget(async()=>Vv(await Xd(f),g)),()=>{C.Za(),f.asyncQueue.enqueueAndForget(async()=>Ov(await Xd(f),g))}}(yu(u),d,a,l)}function rw(t,e){return function(r,i){const s=new tr;return r.asyncQueue.enqueueAndForget(async()=>MU(await HU(r),i,s)),s.promise}(yu(t),e)}function dP(t,e,n){const r=n.docs.get(e._key),i=new ef(t);return new nw(t,i,e._key,r,new Js(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB={maxAttempts:5};function ba(t,e){if((t=ut(t)).firestore!==e)throw new Q(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Yh(n)}get(n){const r=ba(n,this._firestore),i=new lB(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return se();const o=s[0];if(o.isFoundDocument())return new Zd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Zd(this._firestore,i,r._key,null,r.converter);throw se()})}set(n,r,i){const s=ba(n,this._firestore),o=tw(s.converter,r,i),a=Hv(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ba(n,this._firestore);let a;return a=typeof(r=ut(r))=="string"||r instanceof qh?rB(this._dataReader,"Transaction.update",o._key,r,i,s):nB(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ba(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ba(e,this._firestore),r=new ef(this._firestore);return super.get(e).then(i=>new nw(this._firestore,r,n._key,i._document,new Js(!1,!1),n.converter))}}function hB(t,e,n){t=fn(t,Or);const r=Object.assign(Object.assign({},cB),n);return function(s){if(s.maxAttempts<1)throw new Q(z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new tr;return s.asyncQueue.enqueueAndForget(async()=>{const u=await GU(s);new zU(s.asyncQueue,u,a,o,l).au()}),l.promise}(yu(t),i=>e(new dB(t,i)),r)}function hP(){return new Gv("serverTimestamp")}(function(e,n=!0){(function(i){Ko=i})(Ho),Co(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Or(new fj(r.getProvider("auth-internal")),new yj(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_i(OE,"4.7.3",e),_i(OE,"4.7.3","esm2017")})();const fB={apiKey:"AIzaSyBuB1qo6t7mfdBPVkSKS04reB4nCDJzGeE",authDomain:"surchop-9d786.firebaseapp.com",projectId:"surchop-9d786",storageBucket:"surchop-9d786.firebasestorage.app",messagingSenderId:"584554467419",appId:"1:584554467419:web:7237cbf2bf4a9f761e2f7e",measurementId:"G-QBMK24EM00"},fP=dA(fB),ht=XU(fP),iw=aj(fP),pB=new yr,mB=()=>gF(iw,pB),Tx=()=>YL(iw);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Sx=t=>{const e=yB(t);return e.charAt(0).toUpperCase()+e.slice(1)},pP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),vB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...wB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pP("lucide",i),...!s&&!vB(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(_B,{ref:s,iconNode:e,className:pP(`lucide-${gB(Sx(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Sx(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xB=rt("arrow-left",EB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],SB=rt("camera",TB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],IB=rt("check",CB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RB=rt("chevron-right",AB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bB=rt("circle",PB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],NB=rt("download",kB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],DB=rt("ellipsis-vertical",MB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],OB=rt("flag",VB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],FB=rt("heart",LB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Cx=rt("house",jB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ix=rt("log-out",UB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zB=rt("menu",BB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ax=rt("palette",$B);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HB=rt("play",WB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KB=rt("search",GB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],QB=rt("share-2",qB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rx=rt("square-check-big",YB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mP=rt("trash-2",XB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Px=rt("user-plus",JB);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gP=rt("x",ZB);function ez(){const[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,s]=y.useState(!1),[o,a]=y.useState(!1);if(y.useEffect(()=>{const u=w=>{w.preventDefault(),e(w)},d=()=>r(!0);window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",d);const h=window.navigator.userAgent.toLowerCase(),f=/iphone|ipad|ipod/.test(h),m=window.navigator.standalone===!0;return s(f),a(m),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",d)}},[]),n||o)return null;const l=()=>{t?(t.prompt(),t.userChoice.then(u=>{u.outcome==="accepted"&&e(null)})):i&&alert(`🍎 Sur iPhone/iPad :
1️⃣ Appuie sur le bouton 'Partager' (carré avec la flèche)
2️⃣ Sélectionne 'Sur l’écran d’accueil' 📲`)};return S.jsxs("div",{onClick:l,className:"flex items-center gap-2 px-3 py-2 rounded-md text-primary cursor-pointer hover:bg-muted transition",children:[S.jsx(NB,{size:16,className:"text-primary"}),S.jsx("span",{className:"font-medium",children:i?"Ajouter à l’écran d’accueil":"Installer l’app"})]})}function tz({user:t}){const[e,n]=y.useState(!1),r=$r(),i=(t==null?void 0:t.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",s=({to:o,label:a,icon:l,accent:u=!1})=>{const d=r.pathname===o;return S.jsxs(Rl,{to:o,onClick:()=>n(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition
          ${d?"bg-primary/10 text-primary":"text-foreground/70 hover:bg-muted hover:text-foreground"}
          ${u?"text-primary font-semibold":""}`,children:[S.jsx(l,{size:16}),a]})};return S.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b border-border",children:[S.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between",children:[S.jsxs(Rl,{to:"/",className:"font-semibold text-base sm:text-lg flex items-center gap-2 text-primary",children:[S.jsx(FB,{className:"text-primary",size:18}),"SURCHOPE"]}),S.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[S.jsx(s,{to:"/",label:"Tous les couples",icon:Cx}),t&&S.jsx(s,{to:"/mes-votes",label:"Mes votes",icon:Rx}),t&&S.jsx(s,{to:"/ajouter-couple",label:"Ajouter un couple",icon:Px,accent:!0}),i&&S.jsx(s,{to:"/style",label:"Styleguide",icon:Ax,accent:!0})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[t?S.jsxs(S.Fragment,{children:[S.jsx("img",{className:"w-8 h-8 rounded-full border border-border",src:t.photoURL??""}),S.jsxs("button",{className:"hidden sm:flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground underline-offset-2 hover:underline transition",onClick:()=>Tx(),title:"Se déconnecter",children:[S.jsx(Ix,{size:16,className:"text-muted-foreground"}),"Se déconnecter"]})]}):S.jsx("button",{className:"px-3 py-1 rounded-full bg-primary text-primary-foreground text-sm hover:opacity-90 transition",onClick:()=>mB(),children:"Se connecter"}),S.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 rounded-full hover:bg-muted transition",children:e?S.jsx(gP,{size:20}):S.jsx(zB,{size:20})})]})]}),e&&S.jsxs("nav",{className:"md:hidden bg-card border-t border-border flex flex-col p-3 space-y-2 text-sm text-foreground",children:[S.jsx(s,{to:"/",label:"Tous les couples",icon:Cx}),t&&S.jsx(s,{to:"/mes-votes",label:"Mes votes",icon:Rx}),t&&S.jsx(s,{to:"/ajouter-couple",label:"Ajouter un couple",icon:Px,accent:!0}),i&&S.jsx(s,{to:"/style",label:"Styleguide",icon:Ax,accent:!0}),S.jsx(ez,{}),t&&S.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-muted-foreground hover:bg-muted rounded-md text-left transition",onClick:()=>{Tx(),n(!1)},children:[S.jsx(Ix,{size:16,className:"text-muted-foreground"}),"Se déconnecter"]})]})]})}const sw=y.createContext({});function ow(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const aw=typeof window<"u",yP=aw?y.useLayoutEffect:y.useEffect,tf=y.createContext(null);function lw(t,e){t.indexOf(e)===-1&&t.push(e)}function uw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lr=(t,e,n)=>n>e?e:n<t?t:n;let cw=()=>{};const Fr={},vP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wP(t){return typeof t=="object"&&t!==null}const _P=t=>/^0[^.\s]+$/u.test(t);function dw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cn=t=>t,nz=(t,e)=>n=>e(t(n)),_u=(...t)=>t.reduce(nz),Ul=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class hw{constructor(){this.subscriptions=[]}add(e){return lw(this.subscriptions,e),()=>uw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,Tn=t=>t/1e3;function EP(t,e){return e?t*(1e3/e):0}const xP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rz=1e-7,iz=12;function sz(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=xP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>rz&&++a<iz);return o}function Eu(t,e,n,r){if(t===e&&n===r)return Cn;const i=s=>sz(s,0,1,t,n);return s=>s===0||s===1?s:xP(i(s),e,r)}const TP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SP=t=>e=>1-t(1-e),CP=Eu(.33,1.53,.69,.99),fw=SP(CP),IP=TP(fw),AP=t=>(t*=2)<1?.5*fw(t):.5*(2-Math.pow(2,-10*(t-1))),pw=t=>1-Math.sin(Math.acos(t)),RP=SP(pw),PP=TP(pw),oz=Eu(.42,0,1,1),az=Eu(0,0,.58,1),bP=Eu(.42,0,.58,1),lz=t=>Array.isArray(t)&&typeof t[0]!="number",kP=t=>Array.isArray(t)&&typeof t[0]=="number",uz={linear:Cn,easeIn:oz,easeInOut:bP,easeOut:az,circIn:pw,circInOut:PP,circOut:RP,backIn:fw,backInOut:IP,backOut:CP,anticipate:AP},cz=t=>typeof t=="string",bx=t=>{if(kP(t)){cw(t.length===4);const[e,n,r,i]=t;return Eu(e,n,r,i)}else if(cz(t))return uz[t];return t},vc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function dz(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,h=!1,f=!1)=>{const w=f&&i?n:r;return h&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const hz=40;function NP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=vc.reduce((x,P)=>(x[P]=dz(s),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,_=()=>{const x=Fr.useManualTiming?i.timestamp:performance.now();n=!1,Fr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,hz),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},C=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:vc.reduce((x,P)=>{const N=o[P];return x[P]=(L,I=!1,T=!1)=>(n||C(),N.schedule(L,I,T)),x},{}),cancel:x=>{for(let P=0;P<vc.length;P++)o[vc[P]].cancel(x)},state:i,steps:o}}const{schedule:je,cancel:Ai,state:vt,steps:_p}=NP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0);let ed;function fz(){ed=void 0}const Zt={now:()=>(ed===void 0&&Zt.set(vt.isProcessing||Fr.useManualTiming?vt.timestamp:performance.now()),ed),set:t=>{ed=t,queueMicrotask(fz)}},MP=t=>e=>typeof e=="string"&&e.startsWith(t),mw=MP("--"),pz=MP("var(--"),gw=t=>pz(t)?mz.test(t.split("/*")[0].trim()):!1,mz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bl={...Xo,transform:t=>Lr(0,1,t)},wc={...Xo,default:1},sl=t=>Math.round(t*1e5)/1e5,yw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gz(t){return t==null}const yz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vw=(t,e)=>n=>!!(typeof n=="string"&&yz.test(n)&&n.startsWith(t)||e&&!gz(n)&&Object.prototype.hasOwnProperty.call(n,e)),DP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(yw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vz=t=>Lr(0,255,t),Ep={...Xo,transform:t=>Math.round(vz(t))},es={test:vw("rgb","red"),parse:DP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ep.transform(t)+", "+Ep.transform(e)+", "+Ep.transform(n)+", "+sl(Bl.transform(r))+")"};function wz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hg={test:vw("#"),parse:wz,transform:es.transform},xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jr=xu("deg"),ir=xu("%"),le=xu("px"),_z=xu("vh"),Ez=xu("vw"),kx={...ir,parse:t=>ir.parse(t)/100,transform:t=>ir.transform(t*100)},Zs={test:vw("hsl","hue"),parse:DP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ir.transform(sl(e))+", "+ir.transform(sl(n))+", "+sl(Bl.transform(r))+")"},et={test:t=>es.test(t)||hg.test(t)||Zs.test(t),parse:t=>es.test(t)?es.parse(t):Zs.test(t)?Zs.parse(t):hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?es.transform(t):Zs.transform(t),getAnimatableNone:t=>{const e=et.parse(t);return e.alpha=0,et.transform(e)}},xz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yw))==null?void 0:e.length)||0)+(((n=t.match(xz))==null?void 0:n.length)||0)>0}const VP="number",OP="color",Sz="var",Cz="var(",Nx="${}",Iz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Iz,l=>(et.test(l)?(r.color.push(s),i.push(OP),n.push(et.parse(l))):l.startsWith(Cz)?(r.var.push(s),i.push(Sz),n.push(l)):(r.number.push(s),i.push(VP),n.push(parseFloat(l))),++s,Nx)).split(Nx);return{values:n,split:a,indexes:r,types:i}}function LP(t){return zl(t).values}function FP(t){const{split:e,types:n}=zl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===VP?s+=sl(i[o]):a===OP?s+=et.transform(i[o]):s+=i[o]}return s}}const Az=t=>typeof t=="number"?0:et.test(t)?et.getAnimatableNone(t):t;function Rz(t){const e=LP(t);return FP(t)(e.map(Az))}const Ri={test:Tz,parse:LP,createTransformer:FP,getAnimatableNone:Rz};function xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=xp(l,a,t+1/3),s=xp(l,a,t),o=xp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function eh(t,e){return n=>n>0?e:t}const ze=(t,e,n)=>t+(e-t)*n,Tp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},bz=[hg,es,Zs],kz=t=>bz.find(e=>e.test(t));function Mx(t){const e=kz(t);if(!e)return!1;let n=e.parse(t);return e===Zs&&(n=Pz(n)),n}const Dx=(t,e)=>{const n=Mx(t),r=Mx(e);if(!n||!r)return eh(t,e);const i={...n};return s=>(i.red=Tp(n.red,r.red,s),i.green=Tp(n.green,r.green,s),i.blue=Tp(n.blue,r.blue,s),i.alpha=ze(n.alpha,r.alpha,s),es.transform(i))},fg=new Set(["none","hidden"]);function Nz(t,e){return fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Mz(t,e){return n=>ze(t,e,n)}function ww(t){return typeof t=="number"?Mz:typeof t=="string"?gw(t)?eh:et.test(t)?Dx:Oz:Array.isArray(t)?jP:typeof t=="object"?et.test(t)?Dx:Dz:eh}function jP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>ww(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Dz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ww(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Vz(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const Oz=(t,e)=>{const n=Ri.createTransformer(e),r=zl(t),i=zl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?fg.has(t)&&!i.values.length||fg.has(e)&&!r.values.length?Nz(t,e):_u(jP(Vz(r,i),i.values),n):eh(t,e)};function UP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):ww(t)(t,e)}const Lz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>je.update(e,n),stop:()=>Ai(e),now:()=>vt.isProcessing?vt.timestamp:Zt.now()}},BP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},th=2e4;function _w(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<th;)e+=n,r=t.next(e);return e>=th?1/0:e}function Fz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(_w(r),th);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Tn(i)}}const jz=5;function zP(t,e,n){const r=Math.max(e-jz,0);return EP(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sp=.001;function Uz({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,o=1-e;o=Lr(Ke.minDamping,Ke.maxDamping,o),t=Lr(Ke.minDuration,Ke.maxDuration,Tn(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=pg(u,o),w=Math.exp(-h);return Sp-f/m*w},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-h),_=pg(Math.pow(u,2),o);return(-i(u)+Sp>0?-1:1)*((f-m)*w)/_}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Sp+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=zz(i,s,a);if(t=rr(t),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Bz=12;function zz(t,e,n){let r=n;for(let i=1;i<Bz;i++)r=r-t(r)/e(r);return r}function pg(t,e){return t*Math.sqrt(1-e*e)}const $z=["duration","bounce"],Wz=["stiffness","damping","mass"];function Vx(t,e){return e.some(n=>t[n]!==void 0)}function Hz(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!Vx(t,Wz)&&Vx(t,$z))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Lr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=Uz(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function nh(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Hz({...n,velocity:-Tn(n.velocity||0)}),w=f||0,_=u/(2*Math.sqrt(l*d)),C=o-s,g=Tn(Math.sqrt(l/d)),E=Math.abs(C)<5;r||(r=E?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=E?Ke.restDelta.granular:Ke.restDelta.default);let x;if(_<1){const N=pg(g,_);x=L=>{const I=Math.exp(-_*g*L);return o-I*((w+_*g*C)/N*Math.sin(N*L)+C*Math.cos(N*L))}}else if(_===1)x=N=>o-Math.exp(-g*N)*(C+(w+g*C)*N);else{const N=g*Math.sqrt(_*_-1);x=L=>{const I=Math.exp(-_*g*L),T=Math.min(N*L,300);return o-I*((w+_*g*C)*Math.sinh(T)+N*C*Math.cosh(T))/N}}const P={calculatedDuration:m&&h||null,next:N=>{const L=x(N);if(m)a.done=N>=h;else{let I=N===0?w:0;_<1&&(I=N===0?rr(w):zP(x,N,L));const T=Math.abs(I)<=r,A=Math.abs(o-L)<=i;a.done=T&&A}return a.value=a.done?o:L,a},toString:()=>{const N=Math.min(_w(P),th),L=BP(I=>P.next(N*I).value,N,30);return N+"ms "+L},toTransition:()=>{}};return P}nh.applyToOptions=t=>{const e=Fz(t,100,nh);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function mg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*e;const C=h+_,g=o===void 0?C:o(C);g!==C&&(_=g-h);const E=T=>-_*Math.exp(-T/r),x=T=>g+E(T),P=T=>{const A=E(T),b=x(T);f.done=Math.abs(A)<=u,f.value=f.done?g:b};let N,L;const I=T=>{m(f.value)&&(N=T,L=nh({keyframes:[f.value,w(f.value)],velocity:zP(x,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:T=>{let A=!1;return!L&&N===void 0&&(A=!0,P(T),I(T)),N!==void 0&&T>=N?L.next(T-N):(!A&&P(T),f)}}}function Gz(t,e,n){const r=[],i=n||Fr.mix||UP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Cn:e;a=_u(l,a)}r.push(a)}return r}function Kz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(cw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Gz(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ul(t[h],t[h+1],d);return a[h](f)};return n?d=>u(Lr(t[0],t[s-1],d)):u}function qz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ul(0,e,r);t.push(ze(n,1,i))}}function Qz(t){const e=[0];return qz(e,t.length-1),e}function Yz(t,e){return t.map(n=>n*e)}function Xz(t,e){return t.map(()=>e||bP).splice(0,t.length-1)}function ol({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lz(r)?r.map(bx):bx(r),s={done:!1,value:e[0]},o=Yz(n&&n.length===e.length?n:Qz(e),t),a=Kz(o,e,{ease:Array.isArray(i)?i:Xz(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Jz=t=>t!==null;function Ew(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Jz),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Zz={decay:mg,inertia:mg,tween:ol,keyframes:ol,spring:nh};function $P(t){typeof t.type=="string"&&(t.type=Zz[t.type])}class xw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const e$=t=>t/100;class Tw extends xw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$P(e);const{type:n=ol,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||ol;l!==ol&&typeof a[0]!="number"&&(this.mixKeyframes=_u(e$,UP(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_w(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,P=r;if(h){const T=Math.min(this.currentTime,i)/a;let A=Math.floor(T),b=T%1;!b&&T>=1&&(b=1),b===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(f==="reverse"?(b=1-b,m&&(b-=m/a)):f==="mirror"&&(P=o)),x=Lr(0,1,b)*a}const N=E?{done:!1,value:d[0]}:P.next(x);s&&(N.value=s(N.value));let{done:L}=N;!E&&l!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&w!==mg&&(N.value=Ew(d,this.options,C,this.speed)),_&&_(N.value),I&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(this.currentTime)}set time(e){var n;e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Lz,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function t$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ts=t=>t*180/Math.PI,gg=t=>{const e=ts(Math.atan2(t[1],t[0]));return yg(e)},n$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gg,rotateZ:gg,skewX:t=>ts(Math.atan(t[1])),skewY:t=>ts(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yg=t=>(t=t%360,t<0&&(t+=360),t),Ox=gg,Lx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),r$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lx,scaleY:Fx,scale:t=>(Lx(t)+Fx(t))/2,rotateX:t=>yg(ts(Math.atan2(t[6],t[5]))),rotateY:t=>yg(ts(Math.atan2(-t[2],t[0]))),rotateZ:Ox,rotate:Ox,skewX:t=>ts(Math.atan(t[4])),skewY:t=>ts(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vg(t){return t.includes("scale")?1:0}function wg(t,e){if(!t||t==="none")return vg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=r$,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=n$,i=a}if(!i)return vg(e);const s=r[e],o=i[1].split(",").map(s$);return typeof s=="function"?s(o):o[s]}const i$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wg(n,e)};function s$(t){return parseFloat(t.trim())}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zo=new Set(Jo),jx=t=>t===Xo||t===le,o$=new Set(["x","y","z"]),a$=Jo.filter(t=>!o$.has(t));function l$(t){const e=[];return a$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const os={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wg(e,"x"),y:(t,{transform:e})=>wg(e,"y")};os.translateX=os.x;os.translateY=os.y;const as=new Set;let _g=!1,Eg=!1,xg=!1;function WP(){if(Eg){const t=Array.from(as).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=l$(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Eg=!1,_g=!1,as.forEach(t=>t.complete(xg)),as.clear()}function HP(){as.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Eg=!0)})}function u$(){xg=!0,HP(),WP(),xg=!1}class Sw{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(as.add(this),_g||(_g=!0,je.read(HP),je.resolveKeyframes(WP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}t$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),as.delete(this)}cancel(){this.state==="scheduled"&&(as.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const c$=t=>t.startsWith("--");function d$(t,e,n){c$(e)?t.style.setProperty(e,n):t.style[e]=n}const h$=dw(()=>window.ScrollTimeline!==void 0),f$={};function p$(t,e){const n=dw(t);return()=>f$[e]??n()}const GP=p$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),za=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ux={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function KP(t,e){if(t)return typeof t=="function"?GP()?BP(t,e):"ease-out":kP(t)?za(t):Array.isArray(t)?t.map(n=>KP(n,e)||Ux.easeOut):Ux[t]}function m$(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=KP(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function qP(t){return typeof t=="function"&&"applyToOptions"in t}function g$({type:t,...e}){return qP(t)&&GP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class y$ extends xw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,cw(typeof e.type!="string");const u=g$(e);this.animation=m$(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Ew(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):d$(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&h$()?(this.animation.timeline=e,Cn):n(this)}}const QP={anticipate:AP,backInOut:IP,circInOut:PP};function v$(t){return t in QP}function w$(t){typeof t.ease=="string"&&v$(t.ease)&&(t.ease=QP[t.ease])}const Bx=10;class _$ extends y${constructor(e){w$(e),$P(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Tw({...o,autoplay:!1}),l=rr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Bx).value,a.sample(l).value,Bx),a.stop()}}const zx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ri.test(t)||t==="0")&&!t.startsWith("url("));function E$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function x$(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=zx(i,e),a=zx(s,e);return!o||!a?!1:E$(t)||(n==="spring"||qP(n))&&r}function Tg(t){t.duration=0,t.type="keyframes"}const T$=new Set(["opacity","clipPath","filter","transform"]),S$=dw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C$(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return S$()&&n&&T$.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const I$=40;class A$ extends xw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var _,C;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Zt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Sw;this.keyframeResolver=new m(a,(_,C,g)=>this.onKeyframesResolved(_,C,f,!g),l,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Zt.now(),x$(e,s,o,a)||((Fr.instantAnimations||!l)&&(d==null||d(Ew(e,r,n))),e[0]=e[e.length-1],Tg(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>I$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&C$(f)?new _$({...f,element:f.motionValue.owner.current}):new Tw(f);m.finished.then(()=>this.notifyFinished()).catch(Cn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),u$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const R$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P$(t){const e=R$.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function YP(t,e,n=1){const[r,i]=P$(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return vP(o)?parseFloat(o):o}return gw(i)?YP(i,e,n+1):i}function Cw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const XP=new Set(["width","height","top","left","right","bottom",...Jo]),b$={test:t=>t==="auto",parse:t=>t},JP=t=>e=>e.test(t),ZP=[Xo,le,ir,Jr,Ez,_z,b$],$x=t=>ZP.find(JP(t));function k$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_P(t):!0}const N$=new Set(["brightness","contrast","saturate","opacity"]);function M$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yw)||[];if(!r)return t;const i=n.replace(r,"");let s=N$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const D$=/\b([a-z-]*)\(.*?\)/gu,Sg={...Ri,getAnimatableNone:t=>{const e=t.match(D$);return e?e.map(M$).join(" "):t}},Wx={...Xo,transform:Math.round},V$={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:wc,scaleX:wc,scaleY:wc,scaleZ:wc,skew:Jr,skewX:Jr,skewY:Jr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Bl,originX:kx,originY:kx,originZ:le},Iw={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...V$,zIndex:Wx,fillOpacity:Bl,strokeOpacity:Bl,numOctaves:Wx},O$={...Iw,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:Sg,WebkitFilter:Sg},eb=t=>O$[t];function tb(t,e){let n=eb(t);return n!==Sg&&(n=Ri),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const L$=new Set(["auto","none","0"]);function F$(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!L$.has(s)&&zl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=tb(n,i)}class j$ extends Sw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),gw(u))){const d=YP(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XP.has(r)||e.length!==2)return;const[i,s]=e,o=$x(i),a=$x(s);if(o!==a)if(jx(o)&&jx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else os[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||k$(e[i]))&&r.push(i);r.length&&F$(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=os[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=os[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function U$(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const nb=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rb(t){return wP(t)&&"offsetHeight"in t}const Hx=30,B$=t=>!isNaN(parseFloat(t));class z${constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Zt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hw);const r=this.events[e].add(n);return e==="change"?()=>{r(),je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Hx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hx);return EP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mo(t,e){return new z$(t,e)}const{schedule:Aw}=NP(queueMicrotask,!1),Nn={x:!1,y:!1};function ib(){return Nn.x||Nn.y}function $$(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function sb(t,e){const n=U$(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Gx(t){return!(t.pointerType==="touch"||ib())}function W$(t,e,n={}){const[r,i,s]=sb(t,n),o=a=>{if(!Gx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{Gx(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const ob=(t,e)=>e?t===e?!0:ob(t,e.parentElement):!1,Rw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,H$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G$(t){return H$.has(t.tagName)||t.tabIndex!==-1}const td=new WeakSet;function Kx(t){return e=>{e.key==="Enter"&&t(e)}}function Cp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const K$=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Kx(()=>{if(td.has(n))return;Cp(n,"down");const i=Kx(()=>{Cp(n,"up")}),s=()=>Cp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qx(t){return Rw(t)&&!ib()}function q$(t,e,n={}){const[r,i,s]=sb(t,n),o=a=>{const l=a.currentTarget;if(!qx(a))return;td.add(l);const u=e(l,a),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),td.has(l)&&td.delete(l),qx(m)&&typeof u=="function"&&u(m,{success:w})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||ob(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),rb(a)&&(a.addEventListener("focus",u=>K$(u,i)),!G$(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function ab(t){return wP(t)&&"ownerSVGElement"in t}function Q$(t){return ab(t)&&t.tagName==="svg"}const Dt=t=>!!(t&&t.getVelocity),Y$=[...ZP,et,Ri],X$=t=>Y$.find(JP(t)),Pw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J$(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Qx(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Qx(t[i],null)}}}}function Z$(...t){return y.useCallback(J$(...t),t)}class e5 extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=rb(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function t5({children:t,isPresent:e,anchorX:n,root:r}){const i=y.useId(),s=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=y.useContext(Pw),l=Z$(s,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=o.current;if(e||!s.current||!u||!d)return;const w=n==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");a&&(_.nonce=a);const C=r??document.head;return C.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{C.contains(_)&&C.removeChild(_)}},[e]),S.jsx(e5,{isPresent:e,childRef:s,sizeRef:o,children:y.cloneElement(t,{ref:l})})}const n5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=ow(r5),d=y.useId();let h=!0,f=y.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&h&&(f={...f}),y.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=S.jsx(t5,{isPresent:n,anchorX:a,root:l,children:t})),S.jsx(tf.Provider,{value:f,children:t})};function r5(){return new Map}function lb(t=!0){const e=y.useContext(tf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=y.useId();y.useEffect(()=>{if(t)return i(s)},[t]);const o=y.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const _c=t=>t.key||"";function Yx(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const rh=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=lb(o),h=y.useMemo(()=>Yx(t),[t]),f=o&&!u?[]:h.map(_c),m=y.useRef(!0),w=y.useRef(h),_=ow(()=>new Map),[C,g]=y.useState(h),[E,x]=y.useState(h);yP(()=>{m.current=!1,w.current=h;for(let L=0;L<E.length;L++){const I=_c(E[L]);f.includes(I)?_.delete(I):_.get(I)!==!0&&_.set(I,!1)}},[E,f.length,f.join("-")]);const P=[];if(h!==C){let L=[...h];for(let I=0;I<E.length;I++){const T=E[I],A=_c(T);f.includes(A)||(L.splice(I,0,T),P.push(T))}return s==="wait"&&P.length&&(L=P),x(Yx(L)),g(h),null}const{forceRender:N}=y.useContext(sw);return S.jsx(S.Fragment,{children:E.map(L=>{const I=_c(L),T=o&&!u?!1:h===E||f.includes(I),A=()=>{if(_.has(I))_.set(I,!0);else return;let b=!0;_.forEach(M=>{M||(b=!1)}),b&&(N==null||N(),x(w.current),o&&(d==null||d()),r&&r())};return S.jsx(n5,{isPresent:T,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:A,anchorX:a,children:L},I)})})},ub=y.createContext({strict:!1}),Xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const t in Xx)Do[t]={isEnabled:e=>Xx[t].some(n=>!!e[n])};function i5(t){for(const e in t)Do[e]={...Do[e],...t[e]}}const s5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||s5.has(t)}let cb=t=>!ih(t);function o5(t){typeof t=="function"&&(cb=e=>e.startsWith("on")?!ih(e):t(e))}try{o5(require("@emotion/is-prop-valid").default)}catch{}function a5(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(cb(i)||n===!0&&ih(i)||!e&&!ih(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const nf=y.createContext({});function rf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $l(t){return typeof t=="string"||Array.isArray(t)}const bw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kw=["initial",...bw];function sf(t){return rf(t.animate)||kw.some(e=>$l(t[e]))}function db(t){return!!(sf(t)||t.variants)}function l5(t,e){if(sf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(r)?r:void 0}}return t.inherit!==!1?e:{}}function u5(t){const{initial:e,animate:n}=l5(t,y.useContext(nf));return y.useMemo(()=>({initial:e,animate:n}),[Jx(e),Jx(n)])}function Jx(t){return Array.isArray(t)?t.join(" "):t}const Wl={};function c5(t){for(const e in t)Wl[e]=t[e],mw(e)&&(Wl[e].isCSSVariable=!0)}function hb(t,{layout:e,layoutId:n}){return Zo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wl[t]||t==="opacity")}const d5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h5=Jo.length;function f5(t,e,n){let r="",i=!0;for(let s=0;s<h5;s++){const o=Jo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=nb(a,Iw[o]);if(!l){i=!1;const d=d5[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Nw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Zo.has(l)){o=!0;continue}else if(mw(l)){i[l]=u;continue}else{const d=nb(u,Iw[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=f5(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const Mw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fb(t,e,n){for(const r in e)!Dt(e[r])&&!hb(r,n)&&(t[r]=e[r])}function p5({transformTemplate:t},e){return y.useMemo(()=>{const n=Mw();return Nw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function m5(t,e){const n=t.style||{},r={};return fb(r,n,t),Object.assign(r,p5(t,e)),r}function g5(t,e){const n={},r=m5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const y5={offset:"stroke-dashoffset",array:"stroke-dasharray"},v5={offset:"strokeDashoffset",array:"strokeDasharray"};function w5(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?y5:v5;t[s.offset]=le.transform(-r);const o=le.transform(e),a=le.transform(n);t[s.array]=`${o} ${a}`}function pb(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,d){if(Nw(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&w5(h,i,s,o,!1)}const mb=()=>({...Mw(),attrs:{}}),gb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _5(t,e,n,r){const i=y.useMemo(()=>{const s=mb();return pb(s,e,gb(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};fb(s,t.style,t),i.style={...s,...i.style}}return i}const E5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dw(t){return typeof t!="string"||t.includes("-")?!1:!!(E5.indexOf(t)>-1||/[A-Z]/u.test(t))}function x5(t,e,n,{latestValues:r},i,s=!1){const a=(Dw(t)?_5:g5)(e,r,i,t),l=a5(e,typeof t=="string",s),u=t!==y.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=y.useMemo(()=>Dt(d)?d.get():d,[d]);return y.createElement(t,{...u,children:h})}function Zx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Vw(t,e,n,r){if(typeof e=="function"){const[i,s]=Zx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Zx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function nd(t){return Dt(t)?t.get():t}function T5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:S5(n,r,i,t),renderState:e()}}function S5(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=nd(s[f]);let{initial:o,animate:a}=t;const l=sf(t),u=db(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!rf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=Vw(t,f[m]);if(w){const{transitionEnd:_,transition:C,...g}=w;for(const E in g){let x=g[E];if(Array.isArray(x)){const P=d?x.length-1:0;x=x[P]}x!==null&&(i[E]=x)}for(const E in _)i[E]=_[E]}}}return i}const yb=t=>(e,n)=>{const r=y.useContext(nf),i=y.useContext(tf),s=()=>T5(t,e,r,i);return n?s():ow(s)};function Ow(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Dt(r[o])||e.style&&Dt(e.style[o])||hb(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const C5=yb({scrapeMotionValuesFromProps:Ow,createRenderState:Mw});function vb(t,e,n){const r=Ow(t,e,n);for(const i in t)if(Dt(t[i])||Dt(e[i])){const s=Jo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const I5=yb({scrapeMotionValuesFromProps:vb,createRenderState:mb}),A5=Symbol.for("motionComponentSymbol");function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function R5(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):eo(n)&&(n.current=r))},[e])}const Lw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P5="framerAppearId",wb="data-"+Lw(P5),_b=y.createContext({});function b5(t,e,n,r,i){var _,C;const{visualElement:s}=y.useContext(nf),o=y.useContext(ub),a=y.useContext(tf),l=y.useContext(Pw).reducedMotion,u=y.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=y.useContext(_b);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&k5(u.current,n,i,h);const f=y.useRef(!1);y.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const m=n[wb],w=y.useRef(!!m&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,m))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,m)));return yP(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),w.current=!1),d.enteringChildren=void 0)}),d}function k5(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Eb(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&eo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function Eb(t){if(t)return t.options.allowProjection!==!1?t.projection:Eb(t.parent)}function Ip(t,{forwardMotionProps:e=!1}={},n,r){n&&i5(n);const i=Dw(t)?I5:C5;function s(a,l){let u;const d={...y.useContext(Pw),...a,layoutId:N5(a)},{isStatic:h}=d,f=u5(a),m=i(a,h);if(!h&&aw){M5();const w=D5(d);u=w.MeasureLayout,f.visualElement=b5(t,m,d,r,w.ProjectionNode)}return S.jsxs(nf.Provider,{value:f,children:[u&&f.visualElement?S.jsx(u,{visualElement:f.visualElement,...d}):null,x5(t,a,R5(m,f.visualElement,l),m,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(s);return o[A5]=t,o}function N5({layoutId:t}){const e=y.useContext(sw).id;return e&&t!==void 0?e+"-"+t:t}function M5(t,e){y.useContext(ub).strict}function D5(t){const{drag:e,layout:n}=Do;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function V5(t,e){if(typeof Proxy>"u")return Ip;const n=new Map,r=(s,o)=>Ip(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Ip(o,void 0,t,e)),n.get(o))})}function xb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function O5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function L5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ap(t){return t===void 0||t===1}function Cg({scale:t,scaleX:e,scaleY:n}){return!Ap(t)||!Ap(e)||!Ap(n)}function Ki(t){return Cg(t)||Tb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Tb(t){return eT(t.x)||eT(t.y)}function eT(t){return t&&t!=="0%"}function sh(t,e,n){const r=t-n,i=e*r;return n+i}function tT(t,e,n,r,i){return i!==void 0&&(t=sh(t,i,r)),sh(t,n,r)+e}function Ig(t,e=0,n=1,r,i){t.min=tT(t.min,e,n,r,i),t.max=tT(t.max,e,n,r,i)}function Sb(t,{x:e,y:n}){Ig(t.x,e.translate,e.scale,e.originPoint),Ig(t.y,n.translate,n.scale,n.originPoint)}const nT=.999999999999,rT=1.0000000000001;function F5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&no(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Sb(t,o)),r&&Ki(s.latestValues)&&no(t,s.latestValues))}e.x<rT&&e.x>nT&&(e.x=1),e.y<rT&&e.y>nT&&(e.y=1)}function to(t,e){t.min=t.min+e,t.max=t.max+e}function iT(t,e,n,r,i=.5){const s=ze(t.min,t.max,i);Ig(t,e,n,s,r)}function no(t,e){iT(t.x,e.x,e.scaleX,e.scale,e.originX),iT(t.y,e.y,e.scaleY,e.scale,e.originY)}function Cb(t,e){return xb(L5(t.getBoundingClientRect(),e))}function j5(t,e,n){const r=Cb(t,n),{scroll:i}=e;return i&&(to(r.x,i.offset.x),to(r.y,i.offset.y)),r}const sT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:sT(),y:sT()}),oT=()=>({min:0,max:0}),Qe=()=>({x:oT(),y:oT()}),Ag={current:null},Ib={current:!1};function U5(){if(Ib.current=!0,!!aw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ag.current=t.matches;t.addEventListener("change",e),e()}else Ag.current=!1}const B5=new WeakMap;function z5(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Dt(i))t.addValue(r,i);else if(Dt(s))t.addValue(r,Mo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Mo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Zt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,je.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=sf(n),this.isVariantNode=db(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Dt(m)&&m.set(l[f])}}mount(e){var n;this.current=e,B5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Ib.current||U5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ag.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Zo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Do){const n=Do[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aT.length;r++){const i=aT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=z5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(vP(r)||_P(r))?r=parseFloat(r):!X$(r)&&Ri.test(n)&&(r=tb(e,n)),this.setBaseTarget(e,Dt(r)?r.get():r)),Dt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Vw(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Aw.render(this.render)}}class Ab extends $5{constructor(){super(...arguments),this.KeyframeResolver=j$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Rb(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function W5(t){return window.getComputedStyle(t)}class H5 extends Ab{constructor(){super(...arguments),this.type="html",this.renderInstance=Rb}readValueFromInstance(e,n){var r;if(Zo.has(n))return(r=this.projection)!=null&&r.isProjecting?vg(n):i$(e,n);{const i=W5(e),s=(mw(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Cb(e,n)}build(e,n,r){Nw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ow(e,n,r)}}const Pb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G5(t,e,n,r){Rb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Pb.has(i)?i:Lw(i),e.attrs[i])}class K5 extends Ab{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zo.has(n)){const r=eb(n);return r&&r.default||0}return n=Pb.has(n)?n:Lw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vb(e,n,r)}build(e,n,r){pb(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){G5(e,n,r,i)}mount(e){this.isSVGTag=gb(e.tagName),super.mount(e)}}const q5=(t,e)=>Dw(t)?new K5(e):new H5(e,{allowProjection:t!==y.Fragment});function mo(t,e,n){const r=t.getProps();return Vw(r,e,n!==void 0?n:r.custom,t)}const Rg=t=>Array.isArray(t);function Q5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mo(n))}function Y5(t){return Rg(t)?t[t.length-1]||0:t}function X5(t,e){const n=mo(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Y5(s[o]);Q5(t,o,a)}}function J5(t){return!!(Dt(t)&&t.add)}function Pg(t,e){const n=t.getValue("willChange");if(J5(n))return n.add(e);if(!n&&Fr.WillChange){const r=new Fr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function bb(t){return t.props[wb]}const Z5=t=>t!==null;function e3(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Z5),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const t3={type:"spring",stiffness:500,damping:25,restSpeed:10},n3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),r3={type:"keyframes",duration:.8},i3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s3=(t,{keyframes:e})=>e.length>2?r3:Zo.has(t)?t.startsWith("scale")?n3(e[1]):t3:i3;function o3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Fw=(t,e,n,r={},i,s)=>o=>{const a=Cw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-rr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};o3(a)||Object.assign(d,s3(t,d)),d.duration&&(d.duration=rr(d.duration)),d.repeatDelay&&(d.repeatDelay=rr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Tg(d),d.delay===0&&(h=!0)),(Fr.instantAnimations||Fr.skipAnimations)&&(h=!0,Tg(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=e3(d.keyframes,a);if(f!==void 0){je.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Tw(d):new A$(d)};function a3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),f=a[d];if(f===void 0||u&&a3(u,d))continue;const m={delay:n,...Cw(s||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const g=bb(t);if(g){const E=window.MotionHandoffAnimation(g,d,je);E!==null&&(m.startTime=E,_=!0)}}Pg(t,d),h.start(Fw(d,h,f,t.shouldReduceMotion&&XP.has(d)?{type:!1}:m,t,_));const C=h.animation;C&&l.push(C)}return o&&Promise.all(l).then(()=>{je.update(()=>{o&&X5(t,o)})}),l}function Nb(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function bg(t,e,n={}){var l;const r=mo(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(kb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return l3(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function l3(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(bg(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Nb(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function u3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=bg(t,e,n);else{const i=typeof e=="function"?mo(t,e,n.custom):e;r=Promise.all(kb(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Mb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const c3=kw.length;function Db(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Db(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c3;n++){const r=kw[n],i=t.props[r];($l(i)||i===!1)&&(e[r]=i)}return e}const d3=[...bw].reverse(),h3=bw.length;function f3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>u3(t,n,r)))}function p3(t){let e=f3(t),n=lT(),r=!0;const i=l=>(u,d)=>{var f;const h=mo(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,..._}=h;u={...u,..._,...w}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=Db(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let C=0;C<h3;C++){const g=d3[C],E=n[g],x=u[g]!==void 0?u[g]:d[g],P=$l(x),N=g===l?E.isActive:null;N===!1&&(w=C);let L=x===d[g]&&x!==u[g]&&P;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...m},!E.isActive&&N===null||!x&&!E.prevProp||rf(x)||typeof x=="boolean")continue;const I=m3(E.prevProp,x);let T=I||g===l&&E.isActive&&!L&&P||C>w&&P,A=!1;const b=Array.isArray(x)?x:[x];let M=b.reduce(i(g),{});N===!1&&(M={});const{prevResolvedValues:O={}}=E,k={...O,...M},oe=te=>{T=!0,f.has(te)&&(A=!0,f.delete(te)),E.needsAnimating[te]=!0;const F=t.getValue(te);F&&(F.liveStyle=!1)};for(const te in k){const F=M[te],B=O[te];if(m.hasOwnProperty(te))continue;let V=!1;Rg(F)&&Rg(B)?V=!Mb(F,B):V=F!==B,V?F!=null?oe(te):f.add(te):F!==void 0&&f.has(te)?oe(te):E.protectedKeys[te]=!0}E.prevProp=x,E.prevResolvedValues=M,E.isActive&&(m={...m,...M}),r&&t.blockInitialAnimation&&(T=!1);const me=L&&I;T&&(!me||A)&&h.push(...b.map(te=>{const F={type:g};if(typeof te=="string"&&r&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,V=mo(B,te);if(B.enteringChildren&&V){const{delayChildren:D}=V.transition||{};F.delay=Nb(B.enteringChildren,t,D)}}return{animation:te,options:F}}))}if(f.size){const C={};if(typeof u.initial!="boolean"){const g=mo(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(C.transition=g.transition)}f.forEach(g=>{const E=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),C[g]=E??null}),h.push({animation:C})}let _=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lT()}}}function m3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mb(e,t):!1}function zi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lT(){return{animate:zi(!0),whileInView:zi(),whileHover:zi(),whileTap:zi(),whileDrag:zi(),whileFocus:zi(),exit:zi()}}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class g3 extends Oi{constructor(e){super(e),e.animationState||(e.animationState=p3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let y3=0;class v3 extends Oi{constructor(){super(...arguments),this.id=y3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const w3={animation:{Feature:g3},exit:{Feature:v3}};function Hl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Tu(t){return{point:{x:t.pageX,y:t.pageY}}}const _3=t=>e=>Rw(e)&&t(e,Tu(e));function al(t,e,n,r){return Hl(t,e,_3(n),r)}const Vb=1e-4,E3=1-Vb,x3=1+Vb,Ob=.01,T3=0-Ob,S3=0+Ob;function $t(t){return t.max-t.min}function C3(t,e,n){return Math.abs(t-e)<=n}function uT(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=$t(n)/$t(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=E3&&t.scale<=x3||isNaN(t.scale))&&(t.scale=1),(t.translate>=T3&&t.translate<=S3||isNaN(t.translate))&&(t.translate=0)}function ll(t,e,n,r){uT(t.x,e.x,n.x,r?r.originX:void 0),uT(t.y,e.y,n.y,r?r.originY:void 0)}function cT(t,e,n){t.min=n.min+e.min,t.max=t.min+$t(e)}function I3(t,e,n){cT(t.x,e.x,n.x),cT(t.y,e.y,n.y)}function dT(t,e,n){t.min=e.min-n.min,t.max=t.min+$t(e)}function ul(t,e,n){dT(t.x,e.x,n.x),dT(t.y,e.y,n.y)}function wn(t){return[t("x"),t("y")]}const Lb=({current:t})=>t?t.ownerDocument.defaultView:null,hT=(t,e)=>Math.abs(t-e);function A3(t,e){const n=hT(t.x,e.x),r=hT(t.y,e.y);return Math.sqrt(n**2+r**2)}class Fb{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Pp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=A3(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:_}=f,{timestamp:C}=vt;this.history.push({..._,timestamp:C});const{onStart:g,onMove:E}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Rp(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Pp(f.type==="pointercancel"?this.lastMoveEventInfo:Rp(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,g),_&&_(f,g)},!Rw(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Tu(e),l=Rp(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=vt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Pp(l,this.history)),this.removeListeners=_u(al(this.contextWindow,"pointermove",this.handlePointerMove),al(this.contextWindow,"pointerup",this.handlePointerUp),al(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function Rp(t,e){return e?{point:e(t.point)}:t}function fT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pp({point:t},e){return{point:t,delta:fT(t,jb(e)),offset:fT(t,R3(e)),velocity:P3(e,.1)}}function R3(t){return t[0]}function jb(t){return t[t.length-1]}function P3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=jb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>rr(e)));)n--;if(!r)return{x:0,y:0};const s=Tn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function b3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function pT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function k3(t,{top:e,left:n,bottom:r,right:i}){return{x:pT(t.x,n,i),y:pT(t.y,e,r)}}function mT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function N3(t,e){return{x:mT(t.x,e.x),y:mT(t.y,e.y)}}function M3(t,e){let n=.5;const r=$t(t),i=$t(e);return i>r?n=Ul(e.min,e.max-r,t.min):r>i&&(n=Ul(t.min,t.max-i,e.min)),Lr(0,1,n)}function D3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kg=.35;function V3(t=kg){return t===!1?t=0:t===!0&&(t=kg),{x:gT(t,"left","right"),y:gT(t,"top","bottom")}}function gT(t,e,n){return{min:yT(t,e),max:yT(t,n)}}function yT(t,e){return typeof t=="number"?t:t[e]||0}const O3=new WeakMap;class L3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tu(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:_}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$$(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(g=>{let E=this.getAxisMotionValue(g).get()||0;if(ir.test(E)){const{projection:x}=this.visualElement;if(x&&x.layout){const P=x.layout.layoutBox[g];P&&(E=$t(P)*(parseFloat(E)/100))}}this.originPoint[g]=E}),_&&je.postRender(()=>_(h,f)),Pg(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:_,onDrag:C}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(w&&this.currentDirection===null){this.currentDirection=F3(g),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),C&&C(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>wn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Fb(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Lb(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&je.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ec(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=b3(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=k3(r.layoutBox,e):this.constraints=!1,this.elastic=V3(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=D3(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=j5(r,i.root,this.visualElement.getTransformPagePoint());let o=N3(i.layout.layoutBox,s);if(n){const a=n(O5(o));this.hasMutatedConstraints=!!a,a&&(o=xb(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wn(d=>{if(!Ec(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pg(this.visualElement,e),r.start(Fw(e,r,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:r}=this.getProps();if(!Ec(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!eo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=M3({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(o=>{if(!Ec(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ze(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;O3.set(this.visualElement,this);const e=this.visualElement.current,n=al(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();eo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(r);const o=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=kg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ec(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j3 extends Oi{constructor(e){super(e),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new L3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vT=t=>(e,n)=>{t&&je.postRender(()=>t(e,n))};class U3 extends Oi{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(e){this.session=new Fb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vT(e),onStart:vT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&je.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=al(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ka={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=wT(t,e.target.x),r=wT(t,e.target.y);return`${n}% ${r}%`}},B3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ri.parse(t);if(i.length>5)return r;const s=Ri.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ze(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let bp=!1;class z3 extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;c5($3),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),bp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,bp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Aw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;bp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ub(t){const[e,n]=lb(),r=y.useContext(sw);return S.jsx(z3,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(_b),isPresent:e,safeToRemove:n})}const $3={borderRadius:{...ka,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ka,borderTopRightRadius:ka,borderBottomLeftRadius:ka,borderBottomRightRadius:ka,boxShadow:B3};function W3(t,e,n){const r=Dt(t)?t:Mo(t);return r.start(Fw("",r,e,n)),r.animation}const H3=(t,e)=>t.depth-e.depth;class G3{constructor(){this.children=[],this.isDirty=!1}add(e){lw(this.children,e),this.isDirty=!0}remove(e){uw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H3),this.isDirty=!1,this.children.forEach(e)}}function K3(t,e){const n=Zt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ai(r),t(s-e))};return je.setup(r,!0),()=>Ai(r)}const Bb=["TopLeft","TopRight","BottomLeft","BottomRight"],q3=Bb.length,_T=t=>typeof t=="string"?parseFloat(t):t,ET=t=>typeof t=="number"||le.test(t);function Q3(t,e,n,r,i,s){i?(t.opacity=ze(0,n.opacity??1,Y3(r)),t.opacityExit=ze(e.opacity??1,0,X3(r))):s&&(t.opacity=ze(e.opacity??1,n.opacity??1,r));for(let o=0;o<q3;o++){const a=`border${Bb[o]}Radius`;let l=xT(e,a),u=xT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ET(l)===ET(u)?(t[a]=Math.max(ze(_T(l),_T(u),r),0),(ir.test(u)||ir.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function xT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Y3=zb(0,.5,RP),X3=zb(.5,.95,Cn);function zb(t,e,n){return r=>r<t?0:r>e?1:n(Ul(t,e,r))}function TT(t,e){t.min=e.min,t.max=e.max}function vn(t,e){TT(t.x,e.x),TT(t.y,e.y)}function ST(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CT(t,e,n,r,i){return t-=e,t=sh(t,1/n,r),i!==void 0&&(t=sh(t,1/i,r)),t}function J3(t,e=0,n=1,r=.5,i,s=t,o=t){if(ir.test(e)&&(e=parseFloat(e),e=ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ze(s.min,s.max,r);t===s&&(a-=e),t.min=CT(t.min,e,n,a,i),t.max=CT(t.max,e,n,a,i)}function IT(t,e,[n,r,i],s,o){J3(t,e[n],e[r],e[i],e.scale,s,o)}const Z3=["x","scaleX","originX"],e9=["y","scaleY","originY"];function AT(t,e,n,r){IT(t.x,e,Z3,n?n.x:void 0,r?r.x:void 0),IT(t.y,e,e9,n?n.y:void 0,r?r.y:void 0)}function RT(t){return t.translate===0&&t.scale===1}function $b(t){return RT(t.x)&&RT(t.y)}function PT(t,e){return t.min===e.min&&t.max===e.max}function t9(t,e){return PT(t.x,e.x)&&PT(t.y,e.y)}function bT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Wb(t,e){return bT(t.x,e.x)&&bT(t.y,e.y)}function kT(t){return $t(t.x)/$t(t.y)}function NT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n9{constructor(){this.members=[]}add(e){lw(this.members,e),e.scheduleRender()}remove(e){if(uw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r9(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const kp=["","X","Y","Z"],i9=1e3;let s9=0;function Np(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Hb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",je,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Hb(r)}function Gb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=s9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l9),this.nodes.forEach(h9),this.nodes.forEach(f9),this.nodes.forEach(u9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new G3)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ab(o)&&!Q$(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;je.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=K3(f,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(VT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||v9,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=u.getProps(),g=!this.targetLayout||!Wb(this.targetLayout,m),E=!h&&f;if(this.options.layoutRoot||this.resumeFrom||E||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Cw(w,"layout"),onPlay:_,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,E)}else h||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(d9),this.nodes.forEach(o9),this.nodes.forEach(a9)):this.nodes.forEach(DT),this.clearAllSnapshots();const a=Zt.now();vt.delta=Lr(0,1e3/60,a-vt.timestamp),vt.timestamp=a,vt.isProcessing=!0,_p.update.process(vt),_p.preRender.process(vt),_p.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Aw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c9),this.sharedNodes.forEach(m9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$t(this.snapshot.measuredBox.x)&&!$t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$b(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ki(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),w9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(_9))){const{scroll:d}=this.root;d&&(to(a.x,d.offset.x),to(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(vn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&vn(a,o),to(a.x,h.offset.x),to(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();vn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&no(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ki(d.latestValues)&&no(l,d.latestValues)}return Ki(this.latestValues)&&no(l,this.latestValues),l}removeTransform(o){const a=Qe();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ki(u.latestValues))continue;Cg(u.latestValues)&&u.updateSnapshot();const d=Qe(),h=u.measurePageBox();vn(d,h),AT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ki(this.latestValues)&&AT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ul(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),Sb(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ul(this.relativeTargetOrigin,this.target,m.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cg(this.parent.latestValues)||Tb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;F5(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ST(this.prevProjectionDelta.x,this.projectionDelta.x),ST(this.prevProjectionDelta.y,this.projectionDelta.y)),ll(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!NT(this.projectionDelta.x,this.prevProjectionDelta.x)||!NT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=m!==w,C=this.getStack(),g=!C||C.members.length<=1,E=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(y9));this.animationProgress=0;let x;this.mixTargetDelta=P=>{const N=P/1e3;OT(h.x,o.x,N),OT(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g9(this.relativeTarget,this.relativeTargetOrigin,f,N),x&&t9(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Qe()),vn(x,this.relativeTarget)),_&&(this.animationValues=d,Q3(d,u,this.latestValues,N,E,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mo(0)),this.currentAnimation=W3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Kb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qe();const h=$t(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=$t(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}vn(a,l),no(a,d),ll(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new n9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Np("z",o,u,this.animationValues);for(let d=0;d<kp.length;d++)Np(`rotate${kp[d]}`,o,u,this.animationValues),Np(`skew${kp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=r9(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Wl){if(d[w]===void 0)continue;const{correct:_,applyTo:C,isCSSVariable:g}=Wl[w],E=h==="none"?d[w]:_(d[w],u);if(C){const x=C.length;for(let P=0;P<x;P++)o[C[P]]=E}else g?this.options.visualElement.renderState.vars[w]=E:o[w]=E}this.options.layoutId&&(o.pointerEvents=u===this?nd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(MT),this.root.sharedNodes.clear()}}}function o9(t){t.updateLayout()}function a9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?wn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=$t(f);f.min=r[h].min,f.max=f.min+m}):Kb(s,e.layoutBox,r)&&wn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=$t(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=ro();ll(a,r,e.layoutBox);const l=ro();o?ll(l,t.applyTransform(i,!0),e.measuredBox):ll(l,r,e.layoutBox);const u=!$b(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=Qe();ul(w,e.layoutBox,f.layoutBox);const _=Qe();ul(_,r,m.layoutBox),Wb(w,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function u9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function c9(t){t.clearSnapshot()}function MT(t){t.clearMeasurements()}function DT(t){t.isLayoutDirty=!1}function d9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h9(t){t.resolveTargetDelta()}function f9(t){t.calcProjection()}function p9(t){t.resetSkewAndRotation()}function m9(t){t.removeLeadSnapshot()}function OT(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LT(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function g9(t,e,n,r){LT(t.x,e.x,n.x,r),LT(t.y,e.y,n.y,r)}function y9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const v9={duration:.45,ease:[.4,0,.1,1]},FT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jT=FT("applewebkit/")&&!FT("chrome/")?Math.round:Cn;function UT(t){t.min=jT(t.min),t.max=jT(t.max)}function w9(t){UT(t.x),UT(t.y)}function Kb(t,e,n){return t==="position"||t==="preserve-aspect"&&!C3(kT(e),kT(n),.2)}function _9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const E9=Gb({attachResizeListener:(t,e)=>Hl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},qb=Gb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mp.current){const t=new E9({});t.mount(window),t.setOptions({layoutScroll:!0}),Mp.current=t}return Mp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),x9={pan:{Feature:U3},drag:{Feature:j3,ProjectionNode:qb,MeasureLayout:Ub}};function BT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&je.postRender(()=>s(e,Tu(e)))}class T9 extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=W$(e,(n,r)=>(BT(this.node,r,"Start"),i=>BT(this.node,i,"End"))))}unmount(){}}class S9 extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&je.postRender(()=>s(e,Tu(e)))}class C9 extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=q$(e,(n,r)=>(zT(this.node,r,"Start"),(i,{success:s})=>zT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ng=new WeakMap,Dp=new WeakMap,I9=t=>{const e=Ng.get(t.target);e&&e(t)},A9=t=>{t.forEach(I9)};function R9({root:t,...e}){const n=t||document;Dp.has(n)||Dp.set(n,{});const r=Dp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(A9,{root:t,...e})),r[i]}function P9(t,e,n){const r=R9(e);return Ng.set(t,n),r.observe(t),()=>{Ng.delete(t),r.unobserve(t)}}const b9={some:0,all:1};class k9 extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:b9[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return P9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N9(e,n))&&this.startObserver()}unmount(){}}function N9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const M9={inView:{Feature:k9},tap:{Feature:C9},focus:{Feature:S9},hover:{Feature:T9}},D9={layout:{ProjectionNode:qb,MeasureLayout:Ub}},V9={...w3,...M9,...x9,...D9},Qn=V5(V9,q5);function of(){return S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-primary bg-background",children:[S.jsx(Qn.img,{src:"/icons/favicon.svg",alt:"Surchope",className:"w-40 h-40 drop-shadow-[0_4px_10px_hsl(var(--primary)/0.4)]",animate:{scale:[1,1.15,1],opacity:[.8,1,.8]},transition:{duration:1.2,ease:"easeInOut",repeat:1/0}}),S.jsx(Qn.p,{className:"mt-10 text-xl sm:text-2xl font-semibold text-primary drop-shadow-sm",initial:{opacity:0},animate:{opacity:1},transition:{duration:1.3,repeat:1/0,repeatType:"reverse"},children:"Ça surchope fort… 💘"})]})}function O9({name:t,onClose:e}){const[n,r]=y.useState(!0),[i,s]=y.useState(null);return y.useEffect(()=>{if(!t)return;(async()=>{var a,l,u;try{const d=await fetch(`https://fr.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(t)}`);if(!d.ok)throw new Error("Pas d'info trouvée");const h=await d.json();s({title:h.title,summary:h.extract,image:(a=h.thumbnail)==null?void 0:a.source,source:(u=(l=h.content_urls)==null?void 0:l.desktop)==null?void 0:u.page})}catch{s(null)}finally{r(!1)}})()},[t]),S.jsx(rh,{children:S.jsx(Qn.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:S.jsxs(Qn.div,{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 max-w-sm w-full shadow-lg relative overflow-hidden animate-fadeIn",initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},transition:{duration:.25,ease:"easeOut"},onClick:o=>o.stopPropagation(),children:[S.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-1 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2",title:"Fermer",children:S.jsx(gP,{size:18})}),S.jsx("div",{className:"min-h-[250px] flex flex-col items-center justify-center text-center",children:S.jsx(rh,{mode:"wait",children:n?S.jsx(Qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:S.jsx(of,{})},"loader"):i?S.jsxs(Qn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-col items-center text-center",children:[i.image&&S.jsx("img",{src:i.image,alt:i.title,className:"max-w-full max-h-64 rounded-lg mb-3 object-contain border border-border"}),S.jsx("h2",{className:"text-lg font-semibold text-primary mb-1",children:i.title}),S.jsxs("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:[i.summary.slice(0,200),"..."]}),S.jsx("a",{href:i.source,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-sm font-medium underline underline-offset-2 transition",children:"Voir sur Wikipédia"})]},"content"):S.jsx(Qn.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-muted-foreground",children:"Aucune information trouvée 😅"},"noinfo")})})]},"modal")},"backdrop")})}function L9({couple:t,user:e,onDelete:n,compact:r}){const i=(e==null?void 0:e.uid)==="EuindCjjeTYx5ABLPCRWdflHy2c2",s=async o=>{o.stopPropagation();const l=`${window.location.origin}/couple/${t.id}`,u=`💘 Vote pour ce couple sur Surchope : ${t.personA.display_name} & ${t.personB.display_name} 😏`;if(navigator.share)try{await navigator.share({title:"Surchope 💘",text:u,url:l});return}catch(w){console.log("Partage annulé :",w)}const h=`https://wa.me/?text=${encodeURIComponent(`${u}
👉 ${l}`)}`,f="https://www.instagram.com/",m=window.prompt(`Choisis où partager 💬

1️⃣ WhatsApp
2️⃣ Instagram

Tape 1 ou 2 :`);m==="1"&&window.open(h,"_blank"),m==="2"&&window.open(f,"_blank")};return S.jsxs("div",{className:"flex items-center gap-3 opacity-80 hover:opacity-100 transition",children:[i&&n&&S.jsx("button",{onClick:o=>{o.stopPropagation(),confirm("Supprimer ce couple et les données associées ?")&&n(t.id,e.uid)},title:"Supprimer ce couple",className:"p-1.5 rounded-full text-destructive/80 hover:text-destructive focus:outline-none focus:ring-2 focus:ring-[hsl(var(--destructive))]/40 transition active:scale-95",children:S.jsx(mP,{size:18})}),!r&&S.jsx("button",{onClick:s,title:"Partager",className:"p-1.5 rounded-full text-primary hover:text-primary/80 hover:bg-primary/10 transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/40",children:S.jsx(QB,{size:20,strokeWidth:2.1})})]})}function F9({couple:t}){const[e,n]=y.useState(0),[r,i]=y.useState(0),[s,o]=y.useState(null),a=t.countA||0,l=t.countB||0,u=Math.max(1,a+l),d=a/u*100,h=l/u*100,f=a>l?{name:t.personA.display_name,pct:d,color:"text-primary"}:l>a?{name:t.personB.display_name,pct:h,color:"text-accent-foreground"}:null;return y.useEffect(()=>{const m=e,w=r,_=d,C=h,g=1100,E=performance.now(),x=P=>{const N=P-E,L=Math.min(N/g,1),I=1-Math.cos(L*Math.PI/2);n(m+(_-m)*I),i(w+(C-w)*I),L<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},[d,h]),S.jsxs("div",{className:"w-full mt-3 select-none",children:[S.jsxs("div",{className:"relative w-full h-4 bg-muted rounded-full overflow-visible shadow-inner",children:[a>0&&S.jsx("div",{className:`absolute left-0 top-0 bottom-0 rounded-l-full transition-all duration-300 ease-out ${s==="A"?"scale-y-150 shadow-md":"scale-y-100"} ${l===0?"rounded-r-full":""}`,style:{width:`${e}%`,background:"hsl(var(--primary))",transformOrigin:"bottom",zIndex:2},onMouseEnter:()=>o("A"),onMouseLeave:()=>o(null),onTouchStart:()=>o("A"),onTouchEnd:()=>o(null),children:s==="A"&&S.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs font-semibold text-primary bg-background border border-border rounded-full px-2 py-0.5 shadow-md whitespace-nowrap z-20 scale-y-75",children:[a," votes"]})}),l>0&&S.jsx("div",{className:`absolute right-0 top-0 bottom-0 rounded-r-full transition-all duration-300 ease-out ${s==="B"?"scale-y-150 shadow-md":"scale-y-100"} ${a===0?"rounded-l-full":""}`,style:{width:`${r}%`,background:"hsl(var(--secondary))",transformOrigin:"bottom",zIndex:1},onMouseEnter:()=>o("B"),onMouseLeave:()=>o(null),onTouchStart:()=>o("B"),onTouchEnd:()=>o(null),children:s==="B"&&S.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs font-semibold text-secondary bg-background border border-border rounded-full px-2 py-0.5 shadow-md whitespace-nowrap z-20 scale-y-75",children:[l," votes"]})})]}),S.jsx("div",{className:"text-xs mt-2 text-center text-muted-foreground",children:f?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:`font-semibold ${f.color}`,children:f.name})," ","surchope à"," ",S.jsxs("span",{className:"text-foreground font-medium",children:[Math.round(f.pct)," %"]})]}):S.jsx("span",{className:"text-muted-foreground italic",children:"Égalité parfaite 😳"})})]})}function j9({couple:t,myChoice:e,onlyMyVotes:n,onSelectPerson:r}){const i=(o,a)=>{const l=e===a;return S.jsxs("div",{className:"flex items-center gap-2 flex-col cursor-pointer relative",onClick:()=>r(o.display_name),children:[l&&S.jsx("div",{className:"absolute w-28 h-28 md:w-36 md:h-36 rounded-full bg-primary/25 blur-md animate-pulse-ring -z-10"}),S.jsx("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden flex items-center justify-center transition-transform duration-300 border border-border bg-muted hover:scale-105 ${l?"ring-4 ring-primary shadow-md":""}`,children:o.image_url?S.jsx("img",{src:o.image_url,alt:o.display_name,className:"object-cover w-full h-full"}):S.jsx("span",{className:"text-lg font-semibold text-muted-foreground",children:o.display_name[0]})}),S.jsx("div",{className:`font-medium text-base text-center transition-colors duration-200 ${l?"text-primary":"text-card-foreground hover:text-primary/80"}`,children:o.display_name})]},a)},s=e==="A"?`${t.personA.display_name} surchope 💘`:e==="B"?`${t.personB.display_name} surchope 💘`:"égalité parfaite 😳";return S.jsxs(S.Fragment,{children:[S.jsx("style",{children:`
          @keyframes pulse-ring {
            0% { transform: scale(0.9); opacity: 0.6; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.9); opacity: 0.6; }
          }
          .animate-pulse-ring {
            animation: pulse-ring 1.6s infinite ease-in-out;
          }
        `}),S.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4 relative",children:[i(t.personA,"A"),S.jsx("span",{className:"text-muted-foreground text-lg font-semibold select-none",children:"vs"}),i(t.personB,"B")]}),S.jsx("div",{className:"w-48 mt-3",children:n?S.jsxs("div",{className:"text-xs text-center text-muted-foreground italic",children:["Pour toi, ",S.jsx("span",{className:"text-primary font-medium",children:s})]}):S.jsx(F9,{couple:t})})]})}function U9({couple:t,user:e,canVote:n,myChoice:r,onVote:i}){const[s,o]=y.useState(null),a=h=>{!n||!i||(o(h),i(t,h),setTimeout(()=>o(null),700))},l="flex-1 px-3 py-2 rounded-full border font-medium text-sm transition-all duration-200 ease-out active:scale-95 text-center focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/50 focus:ring-offset-2",u=n?"":"opacity-60 cursor-not-allowed",d=h=>s!==h?"":h==="tie"?"animate-[pop_0.4s_ease-out] bg-secondary/10 border-secondary text-secondary":"animate-[pop_0.4s_ease-out] bg-primary/10 border-primary text-primary shadow-sm";return S.jsxs(S.Fragment,{children:[S.jsx("style",{children:`
          @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.12); }
            100% { transform: scale(1); }
          }
        `}),S.jsxs("div",{className:"mt-4 flex gap-3 justify-center w-full",children:[S.jsx("button",{disabled:!n,onClick:()=>a("A"),className:`${l} ${r==="A"?"bg-primary/10 border-primary text-primary":"bg-background border-border text-foreground hover:bg-muted"} ${d("A")} ${u}`,children:t.personA.display_name}),S.jsx("button",{disabled:!n,onClick:()=>a("tie"),className:`${l} max-w-[120px] ${r==="tie"?"bg-secondary/10 border-secondary text-secondary":"bg-background border-border text-muted-foreground hover:bg-muted"} ${d("tie")} ${u}`,children:"Égalité"}),S.jsx("button",{disabled:!n,onClick:()=>a("B"),className:`${l} ${r==="B"?"bg-primary/10 border-primary text-primary":"bg-background border-border text-foreground hover:bg-muted"} ${d("B")} ${u}`,children:t.personB.display_name})]})]})}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $T(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function af(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$T(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$T(t[i],null)}}}}function rn(...t){return y.useCallback(af(...t),t)}function Su(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=h=>{var g;const{scope:f,children:m,...w}=h,_=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,C=y.useMemo(()=>w,Object.values(w));return S.jsx(_.Provider,{value:C,children:m})};u.displayName=s+"Provider";function d(h,f){var _;const m=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,w=y.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,B9(i,...e)]}function B9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Pi=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},z9=jS[" useInsertionEffect ".trim().toString()]||Pi;function Qb({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=$9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=y.useCallback(d=>{var h;if(a){const f=W9(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,u]}function $9({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),i=y.useRef(n),s=y.useRef(e);return z9(()=>{s.current=e},[e]),y.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function W9(t){return typeof t=="function"}function oh(t){const e=H9(t),n=y.forwardRef((r,i)=>{const{children:s,...o}=r,a=y.Children.toArray(s),l=a.find(K9);if(l){const u=l.props.children,d=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return S.jsx(e,{...o,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return S.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function H9(t){const e=y.forwardRef((n,r)=>{const{children:i,...s}=n;if(y.isValidElement(i)){const o=Q9(i),a=q9(s,i.props);return i.type!==y.Fragment&&(a.ref=r?af(r,o):o),y.cloneElement(i,a)}return y.Children.count(i)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var G9=Symbol("radix.slottable");function K9(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===G9}function q9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Q9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Y9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=Y9.reduce((t,e)=>{const n=oh(`Primitive.${e}`),r=y.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Yb(t,e){t&&Ph.flushSync(()=>t.dispatchEvent(e))}function Xb(t){const e=t+"CollectionProvider",[n,r]=Su(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:C,children:g}=_,E=pr.useRef(null),x=pr.useRef(new Map).current;return S.jsx(i,{scope:C,itemMap:x,collectionRef:E,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=oh(a),u=pr.forwardRef((_,C)=>{const{scope:g,children:E}=_,x=s(a,g),P=rn(C,x.collectionRef);return S.jsx(l,{ref:P,children:E})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=oh(d),m=pr.forwardRef((_,C)=>{const{scope:g,children:E,...x}=_,P=pr.useRef(null),N=rn(C,P),L=s(d,g);return pr.useEffect(()=>(L.itemMap.set(P,{ref:P,...x}),()=>void L.itemMap.delete(P))),S.jsx(f,{[h]:"",ref:N,children:E})});m.displayName=d;function w(_){const C=s(t+"CollectionConsumer",_);return pr.useCallback(()=>{const E=C.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(C.itemMap.values()).sort((L,I)=>x.indexOf(L.ref.current)-x.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,r]}var X9=y.createContext(void 0);function Jb(t){const e=y.useContext(X9);return t||e||"ltr"}function jr(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function J9(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Z9="DismissableLayer",Mg="dismissableLayer.update",e6="dismissableLayer.pointerDownOutside",t6="dismissableLayer.focusOutside",WT,Zb=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),e1=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(Zb),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),w=rn(e,I=>h(I)),_=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(C),E=d?_.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,P=E>=g,N=i6(I=>{const T=I.target,A=[...u.branches].some(b=>b.contains(T));!P||A||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),L=s6(I=>{const T=I.target;[...u.branches].some(b=>b.contains(T))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return J9(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(WT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),HT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=WT)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),HT())},[d,u]),y.useEffect(()=>{const I=()=>m({});return document.addEventListener(Mg,I),()=>document.removeEventListener(Mg,I)},[]),S.jsx(Kt.div,{...l,ref:w,style:{pointerEvents:x?P?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,N.onPointerDownCapture)})});e1.displayName=Z9;var n6="DismissableLayerBranch",r6=y.forwardRef((t,e)=>{const n=y.useContext(Zb),r=y.useRef(null),i=rn(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),S.jsx(Kt.div,{...t,ref:i})});r6.displayName=n6;function i6(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){t1(e6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function s6(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&t1(t6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HT(){const t=new CustomEvent(Mg);document.dispatchEvent(t)}function t1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Yb(i,s):i.dispatchEvent(s)}var Vp=0;function o6(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GT()),document.body.insertAdjacentElement("beforeend",t[1]??GT()),Vp++,()=>{Vp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vp--}},[])}function GT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Op="focusScope.autoFocusOnMount",Lp="focusScope.autoFocusOnUnmount",KT={bubbles:!1,cancelable:!0},a6="FocusScope",n1=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),u=jr(i),d=jr(s),h=y.useRef(null),f=rn(e,_=>l(_)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let _=function(x){if(m.paused||!a)return;const P=x.target;a.contains(P)?h.current=P:Zr(h.current,{select:!0})},C=function(x){if(m.paused||!a)return;const P=x.relatedTarget;P!==null&&(a.contains(P)||Zr(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Zr(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const E=new MutationObserver(g);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),E.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){QT.add(m);const _=document.activeElement;if(!a.contains(_)){const g=new CustomEvent(Op,KT);a.addEventListener(Op,u),a.dispatchEvent(g),g.defaultPrevented||(l6(f6(r1(a)),{select:!0}),document.activeElement===_&&Zr(a))}return()=>{a.removeEventListener(Op,u),setTimeout(()=>{const g=new CustomEvent(Lp,KT);a.addEventListener(Lp,d),a.dispatchEvent(g),g.defaultPrevented||Zr(_??document.body,{select:!0}),a.removeEventListener(Lp,d),QT.remove(m)},0)}}},[a,u,d,m]);const w=y.useCallback(_=>{if(!n&&!r||m.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,g=document.activeElement;if(C&&g){const E=_.currentTarget,[x,P]=u6(E);x&&P?!_.shiftKey&&g===P?(_.preventDefault(),n&&Zr(x,{select:!0})):_.shiftKey&&g===x&&(_.preventDefault(),n&&Zr(P,{select:!0})):g===E&&_.preventDefault()}},[n,r,m.paused]);return S.jsx(Kt.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});n1.displayName=a6;function l6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zr(r,{select:e}),document.activeElement!==n)return}function u6(t){const e=r1(t),n=qT(e,t),r=qT(e.reverse(),t);return[n,r]}function r1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qT(t,e){for(const n of t)if(!c6(n,{upTo:e}))return n}function c6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function d6(t){return t instanceof HTMLInputElement&&"select"in t}function Zr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&d6(t)&&e&&t.select()}}var QT=h6();function h6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=YT(t,e),t.unshift(e)},remove(e){var n;t=YT(t,e),(n=t[0])==null||n.resume()}}}function YT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function f6(t){return t.filter(e=>e.tagName!=="A")}var p6=jS[" useId ".trim().toString()]||(()=>{}),m6=0;function Dg(t){const[e,n]=y.useState(p6());return Pi(()=>{n(r=>r??String(m6++))},[t]),e?`radix-${e}`:""}const g6=["top","right","bottom","left"],bi=Math.min,ln=Math.max,ah=Math.round,xc=Math.floor,sr=t=>({x:t,y:t}),y6={left:"right",right:"left",bottom:"top",top:"bottom"},v6={start:"end",end:"start"};function Vg(t,e,n){return ln(t,bi(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function ea(t){return t.split("-")[1]}function jw(t){return t==="x"?"y":"x"}function Uw(t){return t==="y"?"height":"width"}const w6=new Set(["top","bottom"]);function Xn(t){return w6.has(Br(t))?"y":"x"}function Bw(t){return jw(Xn(t))}function _6(t,e,n){n===void 0&&(n=!1);const r=ea(t),i=Bw(t),s=Uw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=lh(o)),[o,lh(o)]}function E6(t){const e=lh(t);return[Og(t),e,Og(e)]}function Og(t){return t.replace(/start|end/g,e=>v6[e])}const XT=["left","right"],JT=["right","left"],x6=["top","bottom"],T6=["bottom","top"];function S6(t,e,n){switch(t){case"top":case"bottom":return n?e?JT:XT:e?XT:JT;case"left":case"right":return e?x6:T6;default:return[]}}function C6(t,e,n,r){const i=ea(t);let s=S6(Br(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Og)))),s}function lh(t){return t.replace(/left|right|bottom|top/g,e=>y6[e])}function I6(t){return{top:0,right:0,bottom:0,left:0,...t}}function i1(t){return typeof t!="number"?I6(t):{top:t,right:t,bottom:t,left:t}}function uh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ZT(t,e,n){let{reference:r,floating:i}=t;const s=Xn(e),o=Bw(e),a=Uw(o),l=Br(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ea(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const A6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=ZT(u,r,l),f=r,m={},w=0;for(let _=0;_<a.length;_++){const{name:C,fn:g}=a[_],{x:E,y:x,data:P,reset:N}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=x??h,m={...m,[C]:{...m[C],...P}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=ZT(u,f,l)),_=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function Gl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Ur(e,t),w=i1(m),C=a[f?h==="floating"?"reference":"floating":h],g=uh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},N=uh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:x,strategy:l}):E);return{top:(g.top-N.top+w.top)/P.y,bottom:(N.bottom-g.bottom+w.bottom)/P.y,left:(g.left-N.left+w.left)/P.x,right:(N.right-g.right+w.right)/P.x}}const R6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ur(t,e)||{};if(u==null)return{};const h=i1(d),f={x:n,y:r},m=Bw(i),w=Uw(m),_=await o.getDimensions(u),C=m==="y",g=C?"top":"left",E=C?"bottom":"right",x=C?"clientHeight":"clientWidth",P=s.reference[w]+s.reference[m]-f[m]-s.floating[w],N=f[m]-s.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[x]||s.floating[w]);const T=P/2-N/2,A=I/2-_[w]/2-1,b=bi(h[g],A),M=bi(h[E],A),O=b,k=I-_[w]-M,oe=I/2-_[w]/2+T,me=Vg(O,oe,k),ae=!l.arrow&&ea(i)!=null&&oe!==me&&s.reference[w]/2-(oe<O?b:M)-_[w]/2<0,te=ae?oe<O?oe-O:oe-k:0;return{[m]:f[m]+te,data:{[m]:me,centerOffset:oe-me-te,...ae&&{alignmentOffset:te}},reset:ae}}}),P6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...C}=Ur(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Br(i),E=Xn(a),x=Br(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=f||(x||!_?[lh(a)]:E6(a)),L=w!=="none";!f&&L&&N.push(...C6(a,_,w,P));const I=[a,...N],T=await Gl(e,C),A=[];let b=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[g]),h){const oe=_6(i,o,P);A.push(T[oe[0]],T[oe[1]])}if(b=[...b,{placement:i,overflows:A}],!A.every(oe=>oe<=0)){var M,O;const oe=(((M=s.flip)==null?void 0:M.index)||0)+1,me=I[oe];if(me&&(!(h==="alignment"?E!==Xn(me):!1)||b.every(F=>Xn(F.placement)===E?F.overflows[0]>0:!0)))return{data:{index:oe,overflows:b},reset:{placement:me}};let ae=(O=b.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!ae)switch(m){case"bestFit":{var k;const te=(k=b.filter(F=>{if(L){const B=Xn(F.placement);return B===E||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:k[0];te&&(ae=te);break}case"initialPlacement":ae=a;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function eS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tS(t){return g6.some(e=>t[e]>=0)}const b6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ur(t,e);switch(r){case"referenceHidden":{const s=await Gl(e,{...i,elementContext:"reference"}),o=eS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tS(o)}}}case"escaped":{const s=await Gl(e,{...i,altBoundary:!0}),o=eS(s,n.floating);return{data:{escapedOffsets:o,escaped:tS(o)}}}default:return{}}}}},s1=new Set(["left","top"]);async function k6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Br(n),a=ea(n),l=Xn(n)==="y",u=s1.has(o)?-1:1,d=s&&l?-1:1,h=Ur(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const N6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await k6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},M6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:g,y:E}=C;return{x:g,y:E}}},...l}=Ur(t,e),u={x:n,y:r},d=await Gl(e,l),h=Xn(Br(i)),f=jw(h);let m=u[f],w=u[h];if(s){const C=f==="y"?"top":"left",g=f==="y"?"bottom":"right",E=m+d[C],x=m-d[g];m=Vg(E,m,x)}if(o){const C=h==="y"?"top":"left",g=h==="y"?"bottom":"right",E=w+d[C],x=w-d[g];w=Vg(E,w,x)}const _=a.fn({...e,[f]:m,[h]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[f]:s,[h]:o}}}}}},D6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ur(t,e),d={x:n,y:r},h=Xn(i),f=jw(h);let m=d[f],w=d[h];const _=Ur(a,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const x=f==="y"?"height":"width",P=s.reference[f]-s.floating[x]+C.mainAxis,N=s.reference[f]+s.reference[x]-C.mainAxis;m<P?m=P:m>N&&(m=N)}if(u){var g,E;const x=f==="y"?"width":"height",P=s1.has(Br(i)),N=s.reference[h]-s.floating[x]+(P&&((g=o.offset)==null?void 0:g[h])||0)+(P?0:C.crossAxis),L=s.reference[h]+s.reference[x]+(P?0:((E=o.offset)==null?void 0:E[h])||0)-(P?C.crossAxis:0);w<N?w=N:w>L&&(w=L)}return{[f]:m,[h]:w}}}},V6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ur(t,e),d=await Gl(e,u),h=Br(i),f=ea(i),m=Xn(i)==="y",{width:w,height:_}=s.floating;let C,g;h==="top"||h==="bottom"?(C=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,C=f==="end"?"top":"bottom");const E=_-d.top-d.bottom,x=w-d.left-d.right,P=bi(_-d[C],E),N=bi(w-d[g],x),L=!e.middlewareData.shift;let I=P,T=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=E),L&&!f){const b=ln(d.left,0),M=ln(d.right,0),O=ln(d.top,0),k=ln(d.bottom,0);m?T=w-2*(b!==0||M!==0?b+M:ln(d.left,d.right)):I=_-2*(O!==0||k!==0?O+k:ln(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:I});const A=await o.getDimensions(a.floating);return w!==A.width||_!==A.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function ta(t){return o1(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ur(t){var e;return(e=(o1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function o1(t){return lf()?t instanceof Node||t instanceof pn(t).Node:!1}function zn(t){return lf()?t instanceof Element||t instanceof pn(t).Element:!1}function lr(t){return lf()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function nS(t){return!lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}const O6=new Set(["inline","contents"]);function Cu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!O6.has(i)}const L6=new Set(["table","td","th"]);function F6(t){return L6.has(ta(t))}const j6=[":popover-open",":modal"];function uf(t){return j6.some(e=>{try{return t.matches(e)}catch{return!1}})}const U6=["transform","translate","scale","rotate","perspective"],B6=["transform","translate","scale","rotate","perspective","filter"],z6=["paint","layout","strict","content"];function zw(t){const e=$w(),n=zn(t)?$n(t):t;return U6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||B6.some(r=>(n.willChange||"").includes(r))||z6.some(r=>(n.contain||"").includes(r))}function $6(t){let e=ki(t);for(;lr(e)&&!Vo(e);){if(zw(e))return e;if(uf(e))return null;e=ki(e)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const W6=new Set(["html","body","#document"]);function Vo(t){return W6.has(ta(t))}function $n(t){return pn(t).getComputedStyle(t)}function cf(t){return zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ki(t){if(ta(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nS(t)&&t.host||ur(t);return nS(e)?e.host:e}function a1(t){const e=ki(t);return Vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:lr(e)&&Cu(e)?e:a1(e)}function Kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=a1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=pn(i);if(s){const a=Lg(o);return e.concat(o,o.visualViewport||[],Cu(i)?i:[],a&&n?Kl(a):[])}return e.concat(i,Kl(i,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function l1(t){const e=$n(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=lr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ah(n)!==s||ah(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ww(t){return zn(t)?t:t.contextElement}function go(t){const e=Ww(t);if(!lr(e))return sr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=l1(e);let o=(s?ah(n.width):n.width)/r,a=(s?ah(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const H6=sr(0);function u1(t){const e=pn(t);return!$w()||!e.visualViewport?H6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function ws(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ww(t);let o=sr(1);e&&(r?zn(r)&&(o=go(r)):o=go(t));const a=G6(s,n,r)?u1(s):sr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=pn(s),m=r&&zn(r)?pn(r):r;let w=f,_=Lg(w);for(;_&&r&&m!==w;){const C=go(_),g=_.getBoundingClientRect(),E=$n(_),x=g.left+(_.clientLeft+parseFloat(E.paddingLeft))*C.x,P=g.top+(_.clientTop+parseFloat(E.paddingTop))*C.y;l*=C.x,u*=C.y,d*=C.x,h*=C.y,l+=x,u+=P,w=pn(_),_=Lg(w)}}return uh({width:d,height:h,x:l,y:u})}function df(t,e){const n=cf(t).scrollLeft;return e?e.left+n:ws(ur(t)).left+n}function c1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-df(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function K6(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ur(r),a=e?uf(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=sr(1);const d=sr(0),h=lr(r);if((h||!h&&!s)&&((ta(r)!=="body"||Cu(o))&&(l=cf(r)),lr(r))){const m=ws(r);u=go(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?c1(o,l):sr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function q6(t){return Array.from(t.getClientRects())}function Q6(t){const e=ur(t),n=cf(t),r=t.ownerDocument.body,i=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+df(t);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(o+=ln(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const rS=25;function Y6(t,e){const n=pn(t),r=ur(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=$w();(!d||d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=df(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=rS&&(s-=w)}else u<=rS&&(s+=u);return{width:s,height:o,x:a,y:l}}const X6=new Set(["absolute","fixed"]);function J6(t,e){const n=ws(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=lr(t)?go(t):sr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function iS(t,e,n){let r;if(e==="viewport")r=Y6(t,n);else if(e==="document")r=Q6(ur(t));else if(zn(e))r=J6(e,n);else{const i=u1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return uh(r)}function d1(t,e){const n=ki(t);return n===e||!zn(n)||Vo(n)?!1:$n(n).position==="fixed"||d1(n,e)}function Z6(t,e){const n=e.get(t);if(n)return n;let r=Kl(t,[],!1).filter(a=>zn(a)&&ta(a)!=="body"),i=null;const s=$n(t).position==="fixed";let o=s?ki(t):t;for(;zn(o)&&!Vo(o);){const a=$n(o),l=zw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&X6.has(i.position)||Cu(o)&&!l&&d1(t,o))?r=r.filter(d=>d!==o):i=a,o=ki(o)}return e.set(t,r),r}function eW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?uf(e)?[]:Z6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=iS(e,d,i);return u.top=ln(h.top,u.top),u.right=bi(h.right,u.right),u.bottom=bi(h.bottom,u.bottom),u.left=ln(h.left,u.left),u},iS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tW(t){const{width:e,height:n}=l1(t);return{width:e,height:n}}function nW(t,e,n){const r=lr(e),i=ur(e),s=n==="fixed",o=ws(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=sr(0);function u(){l.x=df(i)}if(r||!r&&!s)if((ta(e)!=="body"||Cu(i))&&(a=cf(e)),r){const m=ws(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?c1(i,a):sr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Fp(t){return $n(t).position==="static"}function sS(t,e){if(!lr(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ur(t)===n&&(n=n.ownerDocument.body),n}function h1(t,e){const n=pn(t);if(uf(t))return n;if(!lr(t)){let i=ki(t);for(;i&&!Vo(i);){if(zn(i)&&!Fp(i))return i;i=ki(i)}return n}let r=sS(t,e);for(;r&&F6(r)&&Fp(r);)r=sS(r,e);return r&&Vo(r)&&Fp(r)&&!zw(r)?n:r||$6(t)||n}const rW=async function(t){const e=this.getOffsetParent||h1,n=this.getDimensions,r=await n(t.floating);return{reference:nW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iW(t){return $n(t).direction==="rtl"}const sW={convertOffsetParentRelativeRectToViewportRelativeRect:K6,getDocumentElement:ur,getClippingRect:eW,getOffsetParent:h1,getElementRects:rW,getClientRects:q6,getDimensions:tW,getScale:go,isElement:zn,isRTL:iW};function f1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oW(t,e){let n=null,r;const i=ur(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const w=xc(h),_=xc(i.clientWidth-(d+f)),C=xc(i.clientHeight-(h+m)),g=xc(d),x={rootMargin:-w+"px "+-_+"px "+-C+"px "+-g+"px",threshold:ln(0,bi(1,l))||1};let P=!0;function N(L){const I=L[0].intersectionRatio;if(I!==l){if(!P)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!f1(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(N,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,x)}n.observe(t)}return o(!0),s}function aW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ww(t),d=i||s?[...u?Kl(u):[],...Kl(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=u&&a?oW(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[E]=g;E&&E.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let w,_=l?ws(t):null;l&&C();function C(){const g=ws(t);_&&!f1(_,g)&&n(),_=g,w=requestAnimationFrame(C)}return n(),()=>{var g;d.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const lW=N6,uW=M6,cW=P6,dW=V6,hW=b6,oS=R6,fW=D6,pW=(t,e,n)=>{const r=new Map,i={platform:sW,...n},s={...i.platform,_c:r};return A6(t,e,{...i,platform:s})};var mW=typeof document<"u",gW=function(){},id=mW?y.useLayoutEffect:gW;function ch(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ch(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ch(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function p1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aS(t,e){const n=p1(t);return Math.round(e*n)/n}function jp(t){const e=y.useRef(t);return id(()=>{e.current=t}),e}function yW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(r);ch(f,r)||m(r);const[w,_]=y.useState(null),[C,g]=y.useState(null),E=y.useCallback(F=>{F!==L.current&&(L.current=F,_(F))},[]),x=y.useCallback(F=>{F!==I.current&&(I.current=F,g(F))},[]),P=s||w,N=o||C,L=y.useRef(null),I=y.useRef(null),T=y.useRef(d),A=l!=null,b=jp(l),M=jp(i),O=jp(u),k=y.useCallback(()=>{if(!L.current||!I.current)return;const F={placement:e,strategy:n,middleware:f};M.current&&(F.platform=M.current),pW(L.current,I.current,F).then(B=>{const V={...B,isPositioned:O.current!==!1};oe.current&&!ch(T.current,V)&&(T.current=V,Ph.flushSync(()=>{h(V)}))})},[f,e,n,M,O]);id(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const oe=y.useRef(!1);id(()=>(oe.current=!0,()=>{oe.current=!1}),[]),id(()=>{if(P&&(L.current=P),N&&(I.current=N),P&&N){if(b.current)return b.current(P,N,k);k()}},[P,N,k,b,A]);const me=y.useMemo(()=>({reference:L,floating:I,setReference:E,setFloating:x}),[E,x]),ae=y.useMemo(()=>({reference:P,floating:N}),[P,N]),te=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!ae.floating)return F;const B=aS(ae.floating,d.x),V=aS(ae.floating,d.y);return a?{...F,transform:"translate("+B+"px, "+V+"px)",...p1(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:V}},[n,a,ae.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:me,elements:ae,floatingStyles:te}),[d,k,me,ae,te])}const vW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?oS({element:r.current,padding:i}).fn(n):{}:r?oS({element:r,padding:i}).fn(n):{}}}},wW=(t,e)=>({...lW(t),options:[t,e]}),_W=(t,e)=>({...uW(t),options:[t,e]}),EW=(t,e)=>({...fW(t),options:[t,e]}),xW=(t,e)=>({...cW(t),options:[t,e]}),TW=(t,e)=>({...dW(t),options:[t,e]}),SW=(t,e)=>({...hW(t),options:[t,e]}),CW=(t,e)=>({...vW(t),options:[t,e]});var IW="Arrow",m1=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return S.jsx(Kt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});m1.displayName=IW;var AW=m1;function RW(t){const[e,n]=y.useState(void 0);return Pi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Hw="Popper",[g1,y1]=Su(Hw),[PW,v1]=g1(Hw),w1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return S.jsx(PW,{scope:e,anchor:r,onAnchorChange:i,children:n})};w1.displayName=Hw;var _1="PopperAnchor",E1=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=v1(_1,n),o=y.useRef(null),a=rn(e,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:S.jsx(Kt.div,{...i,ref:a})});E1.displayName=_1;var Gw="PopperContent",[bW,kW]=g1(Gw),x1=y.forwardRef((t,e)=>{var K,ce,de,ye,ve,xe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,..._}=t,C=v1(Gw,n),[g,E]=y.useState(null),x=rn(e,be=>E(be)),[P,N]=y.useState(null),L=RW(P),I=(L==null?void 0:L.width)??0,T=(L==null?void 0:L.height)??0,A=r+(s!=="center"?"-"+s:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],O=M.length>0,k={padding:b,boundary:M.filter(MW),altBoundary:O},{refs:oe,floatingStyles:me,placement:ae,isPositioned:te,middlewareData:F}=yW({strategy:"fixed",placement:A,whileElementsMounted:(...be)=>aW(...be,{animationFrame:m==="always"}),elements:{reference:C.anchor},middleware:[wW({mainAxis:i+T,alignmentAxis:o}),l&&_W({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?EW():void 0,...k}),l&&xW({...k}),TW({...k,apply:({elements:be,rects:pe,availableWidth:Je,availableHeight:Ct})=>{const{width:Ft,height:sn}=pe.reference,jt=be.floating.style;jt.setProperty("--radix-popper-available-width",`${Je}px`),jt.setProperty("--radix-popper-available-height",`${Ct}px`),jt.setProperty("--radix-popper-anchor-width",`${Ft}px`),jt.setProperty("--radix-popper-anchor-height",`${sn}px`)}}),P&&CW({element:P,padding:a}),DW({arrowWidth:I,arrowHeight:T}),f&&SW({strategy:"referenceHidden",...k})]}),[B,V]=C1(ae),D=jr(w);Pi(()=>{te&&(D==null||D())},[te,D]);const W=(K=F.arrow)==null?void 0:K.x,G=(ce=F.arrow)==null?void 0:ce.y,Y=((de=F.arrow)==null?void 0:de.centerOffset)!==0,[ne,re]=y.useState();return Pi(()=>{g&&re(window.getComputedStyle(g).zIndex)},[g]),S.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:te?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ye=F.transformOrigin)==null?void 0:ye.x,(ve=F.transformOrigin)==null?void 0:ve.y].join(" "),...((xe=F.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(bW,{scope:n,placedSide:B,onArrowChange:N,arrowX:W,arrowY:G,shouldHideArrow:Y,children:S.jsx(Kt.div,{"data-side":B,"data-align":V,..._,ref:x,style:{..._.style,animation:te?void 0:"none"}})})})});x1.displayName=Gw;var T1="PopperArrow",NW={top:"bottom",right:"left",bottom:"top",left:"right"},S1=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=kW(T1,r),o=NW[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(AW,{...i,ref:n,style:{...i.style,display:"block"}})})});S1.displayName=T1;function MW(t){return t!==null}var DW=t=>({name:"transformOrigin",options:t,fn(e){var C,g,E;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=C1(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let w="",_="";return u==="bottom"?(w=o?h:`${f}px`,_=`${-l}px`):u==="top"?(w=o?h:`${f}px`,_=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,_=o?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:w,y:_}}}});function C1(t){const[e,n="center"]=t.split("-");return[e,n]}var VW=w1,OW=E1,LW=x1,FW=S1,jW="Portal",I1=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);Pi(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ZD.createPortal(S.jsx(Kt.div,{...r,ref:e}),o):null});I1.displayName=jW;function UW(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Iu=t=>{const{present:e,children:n}=t,r=BW(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=rn(r.ref,zW(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Iu.displayName="Presence";function BW(t){const[e,n]=y.useState(),r=y.useRef(null),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=UW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Tc(r.current);s.current=a==="mounted"?u:"none"},[a]),Pi(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,m=Tc(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Pi(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const _=Tc(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&_&&(l("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},f=m=>{m.target===e&&(s.current=Tc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Tc(t){return(t==null?void 0:t.animationName)||"none"}function zW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Up="rovingFocusGroup.onEntryFocus",$W={bubbles:!1,cancelable:!0},Au="RovingFocusGroup",[Fg,A1,WW]=Xb(Au),[HW,R1]=Su(Au,[WW]),[GW,KW]=HW(Au),P1=y.forwardRef((t,e)=>S.jsx(Fg.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Fg.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(qW,{...t,ref:e})})}));P1.displayName=Au;var qW=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),m=rn(e,f),w=Jb(s),[_,C]=Qb({prop:o,defaultProp:a??null,onChange:l,caller:Au}),[g,E]=y.useState(!1),x=jr(u),P=A1(n),N=y.useRef(!1),[L,I]=y.useState(0);return y.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Up,x),()=>T.removeEventListener(Up,x)},[x]),S.jsx(GW,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:_,onItemFocus:y.useCallback(T=>C(T),[C]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>I(T=>T-1),[]),children:S.jsx(Kt.div,{tabIndex:g||L===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{N.current=!0}),onFocus:Se(t.onFocus,T=>{const A=!N.current;if(T.target===T.currentTarget&&A&&!g){const b=new CustomEvent(Up,$W);if(T.currentTarget.dispatchEvent(b),!b.defaultPrevented){const M=P().filter(ae=>ae.focusable),O=M.find(ae=>ae.active),k=M.find(ae=>ae.id===_),me=[O,k,...M].filter(Boolean).map(ae=>ae.ref.current);N1(me,d)}}N.current=!1}),onBlur:Se(t.onBlur,()=>E(!1))})})}),b1="RovingFocusGroupItem",k1=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Dg(),u=s||l,d=KW(b1,n),h=d.currentTabStopId===u,f=A1(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:_}=d;return y.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),S.jsx(Fg.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:S.jsx(Kt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Se(t.onMouseDown,C=>{r?d.onItemFocus(u):C.preventDefault()}),onFocus:Se(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Se(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const g=XW(C,d.orientation,d.dir);if(g!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let x=f().filter(P=>P.focusable).map(P=>P.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const P=x.indexOf(C.currentTarget);x=d.loop?JW(x,P+1):x.slice(P+1)}setTimeout(()=>N1(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:_!=null}):o})})});k1.displayName=b1;var QW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function XW(t,e,n){const r=YW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QW[r]}function N1(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function JW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZW=P1,eH=k1,tH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ms=new WeakMap,Sc=new WeakMap,Cc={},Bp=0,M1=function(t){return t&&(t.host||M1(t.parentNode))},nH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=M1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rH=function(t,e,n,r){var i=nH(e,Array.isArray(t)?t:[t]);Cc[n]||(Cc[n]=new WeakMap);var s=Cc[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",_=(Ms.get(f)||0)+1,C=(s.get(f)||0)+1;Ms.set(f,_),s.set(f,C),o.push(f),_===1&&w&&Sc.set(f,!0),C===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),a.clear(),Bp++,function(){o.forEach(function(h){var f=Ms.get(h)-1,m=s.get(h)-1;Ms.set(h,f),s.set(h,m),f||(Sc.has(h)||h.removeAttribute(r),Sc.delete(h)),m||h.removeAttribute(n)}),Bp--,Bp||(Ms=new WeakMap,Ms=new WeakMap,Sc=new WeakMap,Cc={})}},iH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=tH(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),rH(r,i,n,"aria-hidden")):function(){return null}},sd="right-scroll-bar-position",od="width-before-scroll-bar",sH="with-scroll-bars-hidden",oH="--removed-body-scroll-bar-size";function zp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aH(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var lH=typeof window<"u"?y.useLayoutEffect:y.useEffect,lS=new WeakMap;function uH(t,e){var n=aH(null,function(r){return t.forEach(function(i){return zp(i,r)})});return lH(function(){var r=lS.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||zp(a,null)}),s.forEach(function(a){i.has(a)||zp(a,o)})}lS.set(n,t)},[t]),n}function cH(t){return t}function dH(t,e){e===void 0&&(e=cH);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function hH(t){t===void 0&&(t={});var e=dH(null);return e.options=Me({async:!0,ssr:!1},t),e}var D1=function(t){var e=t.sideCar,n=ou(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Me({},n))};D1.isSideCarExport=!0;function fH(t,e){return t.useMedium(e),D1}var V1=hH(),$p=function(){},hf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:$p,onWheelCapture:$p,onTouchMoveCapture:$p}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,w=t.noIsolation,_=t.inert,C=t.allowPinchZoom,g=t.as,E=g===void 0?"div":g,x=t.gapMode,P=ou(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,L=uH([n,e]),I=Me(Me({},P),i);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:V1,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:_,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:x}),o?y.cloneElement(y.Children.only(a),Me(Me({},I),{ref:L})):y.createElement(E,Me({},I,{className:l,ref:L}),a))});hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hf.classNames={fullWidth:od,zeroRight:sd};var pH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pH();return e&&t.setAttribute("nonce",e),t}function gH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mH())&&(gH(e,n),yH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wH=function(){var t=vH();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},O1=function(){var t=wH(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_H={left:0,top:0,right:0,gap:0},Wp=function(t){return parseInt(t||"",10)||0},EH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wp(n),Wp(r),Wp(i)]},xH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _H;var e=EH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},TH=O1(),yo="data-scroll-locked",SH=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(yo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(od,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(od," .").concat(od,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yo,`] {
    `).concat(oH,": ").concat(a,`px;
  }
`)},uS=function(){var t=parseInt(document.body.getAttribute(yo)||"0",10);return isFinite(t)?t:0},CH=function(){y.useEffect(function(){return document.body.setAttribute(yo,(uS()+1).toString()),function(){var t=uS()-1;t<=0?document.body.removeAttribute(yo):document.body.setAttribute(yo,t.toString())}},[])},IH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;CH();var s=y.useMemo(function(){return xH(i)},[i]);return y.createElement(TH,{styles:SH(s,!e,i,n?"":"!important")})},jg=!1;if(typeof window<"u")try{var Ic=Object.defineProperty({},"passive",{get:function(){return jg=!0,!0}});window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{jg=!1}var Ds=jg?{passive:!1}:!1,AH=function(t){return t.tagName==="TEXTAREA"},L1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!AH(t)&&n[e]==="visible")},RH=function(t){return L1(t,"overflowY")},PH=function(t){return L1(t,"overflowX")},cS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=F1(t,r);if(i){var s=j1(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},F1=function(t,e){return t==="v"?RH(e):PH(e)},j1=function(t,e){return t==="v"?bH(e):kH(e)},NH=function(t,e){return t==="h"&&e==="rtl"?-1:1},MH=function(t,e,n,r,i){var s=NH(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=j1(t,a),w=m[0],_=m[1],C=m[2],g=_-C-s*w;(w||g)&&F1(t,a)&&(h+=g,f+=w);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Ac=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dS=function(t){return[t.deltaX,t.deltaY]},hS=function(t){return t&&"current"in t?t.current:t},DH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OH=0,Vs=[];function LH(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(OH++)[0],s=y.useState(O1)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=lL([t.lockRef.current],(t.shards||[]).map(hS),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var g=Ac(_),E=n.current,x="deltaX"in _?_.deltaX:E[0]-g[0],P="deltaY"in _?_.deltaY:E[1]-g[1],N,L=_.target,I=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in _&&I==="h"&&L.type==="range")return!1;var T=cS(I,L);if(!T)return!0;if(T?N=I:(N=I==="v"?"h":"v",T=cS(I,L)),!T)return!1;if(!r.current&&"changedTouches"in _&&(x||P)&&(r.current=N),!N)return!0;var A=r.current||N;return MH(A,C,_,A==="h"?x:P)},[]),l=y.useCallback(function(_){var C=_;if(!(!Vs.length||Vs[Vs.length-1]!==s)){var g="deltaY"in C?dS(C):Ac(C),E=e.current.filter(function(N){return N.name===C.type&&(N.target===C.target||C.target===N.shadowParent)&&DH(N.delta,g)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var x=(o.current.shards||[]).map(hS).filter(Boolean).filter(function(N){return N.contains(C.target)}),P=x.length>0?a(C,x[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),u=y.useCallback(function(_,C,g,E){var x={name:_,delta:C,target:g,should:E,shadowParent:FH(g)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(P){return P!==x})},1)},[]),d=y.useCallback(function(_){n.current=Ac(_),r.current=void 0},[]),h=y.useCallback(function(_){u(_.type,dS(_),_.target,a(_,t.lockRef.current))},[]),f=y.useCallback(function(_){u(_.type,Ac(_),_.target,a(_,t.lockRef.current))},[]);y.useEffect(function(){return Vs.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ds),document.addEventListener("touchmove",l,Ds),document.addEventListener("touchstart",d,Ds),function(){Vs=Vs.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,Ds),document.removeEventListener("touchmove",l,Ds),document.removeEventListener("touchstart",d,Ds)}},[]);var m=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(s,{styles:VH(i)}):null,m?y.createElement(IH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function FH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jH=fH(V1,LH);var U1=y.forwardRef(function(t,e){return y.createElement(hf,Me({},t,{ref:e,sideCar:jH}))});U1.classNames=hf.classNames;var Ug=["Enter"," "],UH=["ArrowDown","PageUp","Home"],B1=["ArrowUp","PageDown","End"],BH=[...UH,...B1],zH={ltr:[...Ug,"ArrowRight"],rtl:[...Ug,"ArrowLeft"]},$H={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ru="Menu",[ql,WH,HH]=Xb(Ru),[Ss,z1]=Su(Ru,[HH,y1,R1]),ff=y1(),$1=R1(),[GH,Cs]=Ss(Ru),[KH,Pu]=Ss(Ru),W1=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=ff(e),[l,u]=y.useState(null),d=y.useRef(!1),h=jr(s),f=Jb(i);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),S.jsx(VW,{...a,children:S.jsx(GH,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:S.jsx(KH,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};W1.displayName=Ru;var qH="MenuAnchor",Kw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ff(n);return S.jsx(OW,{...i,...r,ref:e})});Kw.displayName=qH;var qw="MenuPortal",[QH,H1]=Ss(qw,{forceMount:void 0}),G1=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Cs(qw,e);return S.jsx(QH,{scope:e,forceMount:n,children:S.jsx(Iu,{present:n||s.open,children:S.jsx(I1,{asChild:!0,container:i,children:r})})})};G1.displayName=qw;var In="MenuContent",[YH,Qw]=Ss(In),K1=y.forwardRef((t,e)=>{const n=H1(In,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Cs(In,t.__scopeMenu),o=Pu(In,t.__scopeMenu);return S.jsx(ql.Provider,{scope:t.__scopeMenu,children:S.jsx(Iu,{present:r||s.open,children:S.jsx(ql.Slot,{scope:t.__scopeMenu,children:o.modal?S.jsx(XH,{...i,ref:e}):S.jsx(JH,{...i,ref:e})})})})}),XH=y.forwardRef((t,e)=>{const n=Cs(In,t.__scopeMenu),r=y.useRef(null),i=rn(e,r);return y.useEffect(()=>{const s=r.current;if(s)return iH(s)},[]),S.jsx(Yw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),JH=y.forwardRef((t,e)=>{const n=Cs(In,t.__scopeMenu);return S.jsx(Yw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ZH=oh("MenuContent.ScrollLock"),Yw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,..._}=t,C=Cs(In,n),g=Pu(In,n),E=ff(n),x=$1(n),P=WH(n),[N,L]=y.useState(null),I=y.useRef(null),T=rn(e,I,C.onContentChange),A=y.useRef(0),b=y.useRef(""),M=y.useRef(0),O=y.useRef(null),k=y.useRef("right"),oe=y.useRef(0),me=w?U1:y.Fragment,ae=w?{as:ZH,allowPinchZoom:!0}:void 0,te=B=>{var K,ce;const V=b.current+B,D=P().filter(de=>!de.disabled),W=document.activeElement,G=(K=D.find(de=>de.ref.current===W))==null?void 0:K.textValue,Y=D.map(de=>de.textValue),ne=d8(Y,V,G),re=(ce=D.find(de=>de.textValue===ne))==null?void 0:ce.ref.current;(function de(ye){b.current=ye,window.clearTimeout(A.current),ye!==""&&(A.current=window.setTimeout(()=>de(""),1e3))})(V),re&&setTimeout(()=>re.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),o6();const F=y.useCallback(B=>{var D,W;return k.current===((D=O.current)==null?void 0:D.side)&&f8(B,(W=O.current)==null?void 0:W.area)},[]);return S.jsx(YH,{scope:n,searchRef:b,onItemEnter:y.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:y.useCallback(B=>{var V;F(B)||((V=I.current)==null||V.focus(),L(null))},[F]),onTriggerLeave:y.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:M,onPointerGraceIntentChange:y.useCallback(B=>{O.current=B},[]),children:S.jsx(me,{...ae,children:S.jsx(n1,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,B=>{var V;B.preventDefault(),(V=I.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:S.jsx(e1,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:S.jsx(ZW,{asChild:!0,...x,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:L,onEntryFocus:Se(l,B=>{g.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:S.jsx(LW,{role:"menu","aria-orientation":"vertical","data-state":uk(C.open),"data-radix-menu-content":"",dir:g.dir,...E,..._,ref:T,style:{outline:"none",..._.style},onKeyDown:Se(_.onKeyDown,B=>{const D=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,G=B.key.length===1;D&&(B.key==="Tab"&&B.preventDefault(),!W&&G&&te(B.key));const Y=I.current;if(B.target!==Y||!BH.includes(B.key))return;B.preventDefault();const re=P().filter(K=>!K.disabled).map(K=>K.ref.current);B1.includes(B.key)&&re.reverse(),u8(re)}),onBlur:Se(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(A.current),b.current="")}),onPointerMove:Se(t.onPointerMove,Ql(B=>{const V=B.target,D=oe.current!==B.clientX;if(B.currentTarget.contains(V)&&D){const W=B.clientX>oe.current?"right":"left";k.current=W,oe.current=B.clientX}}))})})})})})})});K1.displayName=In;var e8="MenuGroup",Xw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(Kt.div,{role:"group",...r,ref:e})});Xw.displayName=e8;var t8="MenuLabel",q1=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(Kt.div,{...r,ref:e})});q1.displayName=t8;var dh="MenuItem",fS="menu.itemSelect",pf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=y.useRef(null),o=Pu(dh,t.__scopeMenu),a=Qw(dh,t.__scopeMenu),l=rn(e,s),u=y.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(fS,{bubbles:!0,cancelable:!0});h.addEventListener(fS,m=>r==null?void 0:r(m),{once:!0}),Yb(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return S.jsx(Q1,{...i,ref:l,disabled:n,onClick:Se(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Se(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Se(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Ug.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});pf.displayName=dh;var Q1=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Qw(dh,n),a=$1(n),l=y.useRef(null),u=rn(e,l),[d,h]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[s.children]),S.jsx(ql.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:S.jsx(eH,{asChild:!0,...a,focusable:!r,children:S.jsx(Kt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Se(t.onPointerMove,Ql(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,Ql(w=>o.onItemLeave(w))),onFocus:Se(t.onFocus,()=>h(!0)),onBlur:Se(t.onBlur,()=>h(!1))})})})}),n8="MenuCheckboxItem",Y1=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return S.jsx(tk,{scope:t.__scopeMenu,checked:n,children:S.jsx(pf,{role:"menuitemcheckbox","aria-checked":hh(n)?"mixed":n,...i,ref:e,"data-state":Zw(n),onSelect:Se(i.onSelect,()=>r==null?void 0:r(hh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Y1.displayName=n8;var X1="MenuRadioGroup",[r8,i8]=Ss(X1,{value:void 0,onValueChange:()=>{}}),J1=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=jr(r);return S.jsx(r8,{scope:t.__scopeMenu,value:n,onValueChange:s,children:S.jsx(Xw,{...i,ref:e})})});J1.displayName=X1;var Z1="MenuRadioItem",ek=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=i8(Z1,t.__scopeMenu),s=n===i.value;return S.jsx(tk,{scope:t.__scopeMenu,checked:s,children:S.jsx(pf,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Zw(s),onSelect:Se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});ek.displayName=Z1;var Jw="MenuItemIndicator",[tk,s8]=Ss(Jw,{checked:!1}),nk=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=s8(Jw,n);return S.jsx(Iu,{present:r||hh(s.checked)||s.checked===!0,children:S.jsx(Kt.span,{...i,ref:e,"data-state":Zw(s.checked)})})});nk.displayName=Jw;var o8="MenuSeparator",rk=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return S.jsx(Kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rk.displayName=o8;var a8="MenuArrow",ik=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=ff(n);return S.jsx(FW,{...i,...r,ref:e})});ik.displayName=a8;var l8="MenuSub",[LK,sk]=Ss(l8),$a="MenuSubTrigger",ok=y.forwardRef((t,e)=>{const n=Cs($a,t.__scopeMenu),r=Pu($a,t.__scopeMenu),i=sk($a,t.__scopeMenu),s=Qw($a,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),S.jsx(Kw,{asChild:!0,...u,children:S.jsx(Q1,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uk(n.open),...t,ref:af(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,Ql(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Se(t.onPointerLeave,Ql(h=>{var m,w;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const _=(w=n.content)==null?void 0:w.dataset.side,C=_==="right",g=C?-5:5,E=f[C?"left":"right"],x=f[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:E,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:E,y:f.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,h=>{var m;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||zH[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});ok.displayName=$a;var ak="MenuSubContent",lk=y.forwardRef((t,e)=>{const n=H1(In,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Cs(In,t.__scopeMenu),o=Pu(In,t.__scopeMenu),a=sk(ak,t.__scopeMenu),l=y.useRef(null),u=rn(e,l);return S.jsx(ql.Provider,{scope:t.__scopeMenu,children:S.jsx(Iu,{present:r||s.open,children:S.jsx(ql.Slot,{scope:t.__scopeMenu,children:S.jsx(Yw,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Se(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Se(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=$H[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});lk.displayName=ak;function uk(t){return t?"open":"closed"}function hh(t){return t==="indeterminate"}function Zw(t){return hh(t)?"indeterminate":t?"checked":"unchecked"}function u8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function c8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function d8(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=c8(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function h8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function f8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return h8(n,e)}function Ql(t){return e=>e.pointerType==="mouse"?t(e):void 0}var p8=W1,m8=Kw,g8=G1,y8=K1,v8=Xw,w8=q1,_8=pf,E8=Y1,x8=J1,T8=ek,S8=nk,C8=rk,I8=ik,A8=ok,R8=lk,mf="DropdownMenu",[P8]=Su(mf,[z1]),qt=z1(),[b8,ck]=P8(mf),dk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=qt(e),u=y.useRef(null),[d,h]=Qb({prop:i,defaultProp:s??!1,onChange:o,caller:mf});return S.jsx(b8,{scope:e,triggerId:Dg(),triggerRef:u,contentId:Dg(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:a,children:S.jsx(p8,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};dk.displayName=mf;var hk="DropdownMenuTrigger",fk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=ck(hk,n),o=qt(n);return S.jsx(m8,{asChild:!0,...o,children:S.jsx(Kt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:af(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fk.displayName=hk;var k8="DropdownMenuPortal",pk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qt(e);return S.jsx(g8,{...r,...n})};pk.displayName=k8;var mk="DropdownMenuContent",gk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ck(mk,n),s=qt(n),o=y.useRef(!1);return S.jsx(y8,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gk.displayName=mk;var N8="DropdownMenuGroup",M8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(v8,{...i,...r,ref:e})});M8.displayName=N8;var D8="DropdownMenuLabel",yk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(w8,{...i,...r,ref:e})});yk.displayName=D8;var V8="DropdownMenuItem",vk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(_8,{...i,...r,ref:e})});vk.displayName=V8;var O8="DropdownMenuCheckboxItem",wk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(E8,{...i,...r,ref:e})});wk.displayName=O8;var L8="DropdownMenuRadioGroup",F8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(x8,{...i,...r,ref:e})});F8.displayName=L8;var j8="DropdownMenuRadioItem",_k=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(T8,{...i,...r,ref:e})});_k.displayName=j8;var U8="DropdownMenuItemIndicator",Ek=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(S8,{...i,...r,ref:e})});Ek.displayName=U8;var B8="DropdownMenuSeparator",xk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(C8,{...i,...r,ref:e})});xk.displayName=B8;var z8="DropdownMenuArrow",$8=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(I8,{...i,...r,ref:e})});$8.displayName=z8;var W8="DropdownMenuSubTrigger",Tk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(A8,{...i,...r,ref:e})});Tk.displayName=W8;var H8="DropdownMenuSubContent",Sk=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=qt(n);return S.jsx(R8,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sk.displayName=H8;var G8=dk,K8=fk,q8=pk,Ck=gk,Ik=yk,Ak=vk,Rk=wk,Pk=_k,bk=Ek,kk=xk,Nk=Tk,Mk=Sk;function Dk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Dk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Q8(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Dk(t))&&(r&&(r+=" "),r+=e);return r}const e_="-",Y8=t=>{const e=J8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(e_);return a[0]===""&&a.length!==1&&a.shift(),Vk(a,e)||X8(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Vk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Vk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(e_);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},pS=/^\[(.+)\]$/,X8=t=>{if(pS.test(t)){const e=pS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},J8=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Bg(n[i],r,i,e);return r},Bg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:mS(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Z8(i)){Bg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Bg(o,mS(e,s),n,r)})})},mS=(t,e)=>{let n=t;return e.split(e_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Z8=t=>t.isThemeGetter,eG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},zg="!",$g=":",tG=$g.length,nG=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;for(let w=0;w<i.length;w++){let _=i[w];if(o===0&&a===0){if(_===$g){s.push(i.slice(l,w)),l=w+tG;continue}if(_==="/"){u=w;continue}}_==="["?o++:_==="]"?o--:_==="("?a++:_===")"&&a--}const d=s.length===0?i:i.substring(l),h=rG(d),f=h!==d,m=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+$g,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},rG=t=>t.endsWith(zg)?t.substring(0,t.length-1):t.startsWith(zg)?t.substring(1):t,iG=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},sG=t=>({cache:eG(t.cacheSize),parseClassName:nG(t),sortModifiers:iG(t),...Y8(t)}),oG=/\s+/,aG=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(oG);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let C=!!_,g=r(C?w.substring(0,_):w);if(!g){if(!C){l=d+(l.length>0?" "+l:l);continue}if(g=r(w),!g){l=d+(l.length>0?" "+l:l);continue}C=!1}const E=s(f).join(":"),x=m?E+zg:E,P=x+g;if(o.includes(P))continue;o.push(P);const N=i(g,C);for(let L=0;L<N.length;++L){const I=N[L];o.push(x+I)}l=d+(l.length>0?" "+l:l)}return l};function lG(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ok(e))&&(r&&(r+=" "),r+=n);return r}const Ok=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ok(t[r]))&&(n&&(n+=" "),n+=e);return n};function uG(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=sG(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=aG(l,n);return i(l,d),d}return function(){return s(lG.apply(null,arguments))}}const st=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Lk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Fk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cG=/^\d+\/\d+$/,dG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=t=>cG.test(t),ge=t=>!!t&&!Number.isNaN(Number(t)),Xr=t=>!!t&&Number.isInteger(Number(t)),Hp=t=>t.endsWith("%")&&ge(t.slice(0,-1)),hr=t=>dG.test(t),gG=()=>!0,yG=t=>hG.test(t)&&!fG.test(t),jk=()=>!1,vG=t=>pG.test(t),wG=t=>mG.test(t),_G=t=>!J(t)&&!Z(t),EG=t=>na(t,zk,jk),J=t=>Lk.test(t),$i=t=>na(t,$k,yG),Gp=t=>na(t,IG,ge),gS=t=>na(t,Uk,jk),xG=t=>na(t,Bk,wG),Rc=t=>na(t,Wk,vG),Z=t=>Fk.test(t),Na=t=>ra(t,$k),TG=t=>ra(t,AG),yS=t=>ra(t,Uk),SG=t=>ra(t,zk),CG=t=>ra(t,Bk),Pc=t=>ra(t,Wk,!0),na=(t,e,n)=>{const r=Lk.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ra=(t,e,n=!1)=>{const r=Fk.exec(t);return r?r[1]?e(r[1]):n:!1},Uk=t=>t==="position"||t==="percentage",Bk=t=>t==="image"||t==="url",zk=t=>t==="length"||t==="size"||t==="bg-size",$k=t=>t==="length",IG=t=>t==="number",AG=t=>t==="family-name",Wk=t=>t==="shadow",RG=()=>{const t=st("color"),e=st("font"),n=st("text"),r=st("font-weight"),i=st("tracking"),s=st("leading"),o=st("breakpoint"),a=st("container"),l=st("spacing"),u=st("radius"),d=st("shadow"),h=st("inset-shadow"),f=st("text-shadow"),m=st("drop-shadow"),w=st("blur"),_=st("perspective"),C=st("aspect"),g=st("ease"),E=st("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...P(),Z,J],L=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],T=()=>[Z,J,l],A=()=>[Os,"full","auto",...T()],b=()=>[Xr,"none","subgrid",Z,J],M=()=>["auto",{span:["full",Xr,Z,J]},Xr,Z,J],O=()=>[Xr,"auto",Z,J],k=()=>["auto","min","max","fr",Z,J],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...T()],te=()=>[Os,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],F=()=>[t,Z,J],B=()=>[...P(),yS,gS,{position:[Z,J]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",SG,EG,{size:[Z,J]}],W=()=>[Hp,Na,$i],G=()=>["","none","full",u,Z,J],Y=()=>["",ge,Na,$i],ne=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ge,Hp,yS,gS],ce=()=>["","none",w,Z,J],de=()=>["none",ge,Z,J],ye=()=>["none",ge,Z,J],ve=()=>[ge,Z,J],xe=()=>[Os,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hr],breakpoint:[hr],color:[gG],container:[hr],"drop-shadow":[hr],ease:["in","out","in-out"],font:[_G],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hr],shadow:[hr],spacing:["px",ge],text:[hr],"text-shadow":[hr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Os,J,Z,C]}],container:["container"],columns:[{columns:[ge,J,Z,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Xr,"auto",Z,J]}],basis:[{basis:[Os,"full","auto",a,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,Os,"auto","initial","none",J]}],grow:[{grow:["",ge,Z,J]}],shrink:[{shrink:["",ge,Z,J]}],order:[{order:[Xr,"first","last","none",Z,J]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[a,"screen",...te()]}],"min-w":[{"min-w":[a,"screen","none",...te()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Na,$i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,Gp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hp,J]}],"font-family":[{font:[TG,J,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Z,J]}],"line-clamp":[{"line-clamp":[ge,"none",Z,Gp]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",Z,J]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",Z,$i]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[ge,"auto",Z,J]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xr,Z,J],radial:["",Z,J],conic:[Xr,Z,J]},CG,xG]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,Z,J]}],"outline-w":[{outline:["",ge,Na,$i]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,Pc,Rc]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",h,Pc,Rc]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[ge,$i]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",f,Pc,Rc]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[ge,Z,J]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Z,J]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,J]}],filter:[{filter:["","none",Z,J]}],blur:[{blur:ce()}],brightness:[{brightness:[ge,Z,J]}],contrast:[{contrast:[ge,Z,J]}],"drop-shadow":[{"drop-shadow":["","none",m,Pc,Rc]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",ge,Z,J]}],"hue-rotate":[{"hue-rotate":[ge,Z,J]}],invert:[{invert:["",ge,Z,J]}],saturate:[{saturate:[ge,Z,J]}],sepia:[{sepia:["",ge,Z,J]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,J]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[ge,Z,J]}],"backdrop-contrast":[{"backdrop-contrast":[ge,Z,J]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,Z,J]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,Z,J]}],"backdrop-invert":[{"backdrop-invert":["",ge,Z,J]}],"backdrop-opacity":[{"backdrop-opacity":[ge,Z,J]}],"backdrop-saturate":[{"backdrop-saturate":[ge,Z,J]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,Z,J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,J]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",Z,J]}],ease:[{ease:["linear","initial",g,Z,J]}],delay:[{delay:[ge,Z,J]}],animate:[{animate:["none",E,Z,J]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Z,J]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Z,J,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,J]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,J]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[ge,Na,$i,Gp]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PG=uG(RG);function Pn(...t){return PG(Q8(t))}const bG=G8,kG=K8,NG=y.forwardRef(({className:t,inset:e,children:n,...r},i)=>S.jsxs(Nk,{ref:i,className:Pn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,S.jsx(RB,{className:"ml-auto"})]}));NG.displayName=Nk.displayName;const MG=y.forwardRef(({className:t,...e},n)=>S.jsx(Mk,{ref:n,className:Pn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));MG.displayName=Mk.displayName;const Hk=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(q8,{children:S.jsx(Ck,{ref:r,sideOffset:e,className:Pn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Hk.displayName=Ck.displayName;const Gk=y.forwardRef(({className:t,inset:e,...n},r)=>S.jsx(Ak,{ref:r,className:Pn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Gk.displayName=Ak.displayName;const DG=y.forwardRef(({className:t,children:e,checked:n,...r},i)=>S.jsxs(Rk,{ref:i,className:Pn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(bk,{children:S.jsx(IB,{className:"h-4 w-4"})})}),e]}));DG.displayName=Rk.displayName;const VG=y.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(Pk,{ref:r,className:Pn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(bk,{children:S.jsx(bB,{className:"h-2 w-2 fill-current"})})}),e]}));VG.displayName=Pk.displayName;const OG=y.forwardRef(({className:t,inset:e,...n},r)=>S.jsx(Ik,{ref:r,className:Pn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));OG.displayName=Ik.displayName;const LG=y.forwardRef(({className:t,...e},n)=>S.jsx(kk,{ref:n,className:Pn("-mx-1 my-1 h-px bg-muted",t),...e}));LG.displayName=kk.displayName;function FG({user:t,couple:e}){const n=()=>{if(!window.confirm(`Souhaites-tu signaler le couple "${e.personA.display_name} et ${e.personB.display_name}" ?`))return;const i=t.displayName??"Utilisateur anonyme",s=`Signalement d'un couple : ${e.personA.display_name} & ${e.personB.display_name}`,o=`
Bonjour,

Un utilisateur a signalé un couple sur Surchope :

👤 Utilisateur : ${i}
🔗 Lien : https://surchope.fr/couple/${e.id}
💬 Raison : (à compléter)

Merci.
    `.trim(),a=`mailto:contact@surchope.fr?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(o)}`;window.location.href=a};return S.jsxs(bG,{children:[S.jsx(kG,{asChild:!0,children:S.jsx("button",{className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2",title:"Plus d’options",children:S.jsx(DB,{size:18})})}),S.jsx(Hk,{align:"end",sideOffset:6,className:"bg-card text-card-foreground border border-border rounded-lg shadow-md p-1",children:S.jsxs(Gk,{onClick:n,className:"flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer text-muted-foreground hover:text-foreground hover:bg-muted transition",children:[S.jsx(OB,{size:14,className:"text-amber-500"}),S.jsx("span",{children:"Signaler ce couple"})]})})]})}function gf({couple:t,user:e,myChoice:n,onVote:r,compact:i=!1,onlyMyVotes:s=!1,onDelete:o}){const[a,l]=y.useState(null);return S.jsxs("div",{className:"relative p-4 rounded-2xl bg-card text-card-foreground border border-border shadow-sm hover:shadow-md transition-all duration-200",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsx(L9,{couple:t,user:e,onDelete:o,compact:i}),e&&!i&&S.jsx(FG,{user:e,couple:t})]}),S.jsx("div",{className:"flex flex-col items-center gap-4",children:S.jsx(j9,{couple:t,myChoice:n,onlyMyVotes:s,onSelectPerson:l})}),!i&&S.jsx("div",{className:"mt-3",children:S.jsx(U9,{couple:t,user:e,canVote:!!e&&!!r,myChoice:n,onVote:r})}),!e&&!i&&S.jsx("div",{className:"mt-4 text-center",children:S.jsx("div",{className:"inline-block bg-primary/10 text-primary text-sm font-medium px-3 py-2 rounded-full shadow-sm",children:"Connecte-toi pour voter"})}),a&&S.jsx(O9,{name:a,onClose:()=>l(null)})]})}function Oo({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i,...s}){const o="inline-flex items-center justify-center font-medium rounded-full transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2",a={primary:"bg-primary text-primary-foreground hover:opacity-90 focus:ring-[hsl(var(--primary))]",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus:ring-[hsl(var(--secondary))]",outline:"border border-border text-foreground hover:bg-muted focus:ring-[hsl(var(--ring))]",ghost:"text-foreground/70 hover:bg-muted focus:ring-[hsl(var(--ring))]"},l={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};return S.jsx("button",{className:Pn(o,a[e],l[n],r&&"w-full",i),...s,children:t})}function jG({onClose:t}){return S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 max-w-sm mx-4 text-center shadow-lg animate-fadeIn",children:[S.jsx("h2",{className:"text-xl font-semibold text-primary mb-3",children:"Bienvenue sur Surchope 💘"}),S.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed mb-5",children:["Ici, on ",S.jsx("span",{className:"font-semibold text-primary",children:"surchope"})," : c’est quand on est en couple avec quelqu’un de plus attractif que soi — celui ou celle qui a un peu trop bien réussi son coup 😏",S.jsx("br",{}),"Tout ça avec humour et bienveillance 💬"]}),S.jsx(Oo,{onClick:t,variant:"primary",size:"sm",className:"rounded-full px-5",children:"J’ai compris"})]})})}function Wg(){return S.jsx("footer",{className:"text-center text-xs text-muted-foreground mt-10 pt-4 border-t border-border italic",children:"“Surchoper” : c’est quand on est en couple avec quelqu’un d’un peu trop canon pour soi 😏"})}function Kk({value:t,onChange:e,placeholder:n="Rechercher...",className:r}){return S.jsxs("div",{className:Pn("relative w-full sm:w-80 flex items-center",r),children:[S.jsx(KB,{size:18,className:"absolute left-3 text-muted-foreground/80 pointer-events-none"}),S.jsx("input",{type:"text",value:t,onChange:i=>e(i.target.value),placeholder:n,className:"w-full border border-border rounded-full pl-10 pr-4 py-2 text-sm bg-background text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] placeholder:text-muted-foreground/60"})]})}function UG({user:t,couples:e,myVotes:n,onVote:r,loading:i,deleteCouple:s}){const[o,a]=y.useState(""),[l,u]=y.useState(!1),d=Wo();if(y.useEffect(()=>{localStorage.getItem("surchope_intro_seen")||(u(!0),localStorage.setItem("surchope_intro_seen","true"))},[]),i)return S.jsx(of,{});const h=e.filter(f=>o.trim()===""?!0:`${f.personA.display_name} ${f.personB.display_name}`.toLowerCase().includes(o.toLowerCase())).sort((f,m)=>{const w=!!n[f.id],_=!!n[m.id];return w===_?0:w?1:-1});return S.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6 relative text-foreground",children:[l&&S.jsx(jG,{onClose:()=>u(!1)}),S.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:S.jsx(Kk,{value:o,onChange:a,placeholder:"Rechercher un couple ou un prénom..."})}),h.length===0?S.jsx("p",{className:"text-center text-muted-foreground mt-6",children:"Aucun couple trouvé 😢"}):S.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-2 gap-4 pb-24",children:h.map(f=>S.jsx(gf,{couple:f,user:t,myChoice:n[f.id],onVote:r,onlyMyVotes:!1,onDelete:s},f.id))}),S.jsx(Wg,{}),S.jsx(Oo,{onClick:()=>d("/jouer"),variant:"primary",size:"lg",className:"!fixed bottom-6 right-6 rounded-full shadow-lg p-4 w-14 h-14 flex items-center justify-center",title:"Jouer",children:S.jsx(HB,{size:28,className:"ml-0.5"})})]})}function vS({children:t,className:e}){return S.jsx("div",{className:Pn("bg-card text-card-foreground border border-border rounded-2xl shadow-sm hover:shadow-md transition p-4",e),children:t})}function BG({icon:t,label:e,onClick:n,color:r="default",className:i}){const s={default:"bg-muted hover:bg-muted/80 text-foreground/80 focus:ring-[hsl(var(--ring))]",primary:"bg-primary text-primary-foreground hover:opacity-90 focus:ring-[hsl(var(--primary))]",secondary:"bg-secondary text-secondary-foreground hover:opacity-90 focus:ring-[hsl(var(--secondary))]"};return S.jsx("button",{onClick:n,title:e,className:Pn("flex items-center justify-center rounded-full p-2 transition focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95",s[r],i),children:S.jsx(t,{size:18})})}function Yl({to:t="/",label:e="Retour à la liste",className:n}){return S.jsx("div",{className:`flex justify-center ${n??""}`,children:S.jsx(Rl,{to:t,children:S.jsxs(Oo,{variant:"outline",size:"sm",className:"group flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:bg-muted transition",children:[S.jsx(xB,{size:16,className:"text-primary transition-transform group-hover:-translate-x-1"}),S.jsx("span",{children:e})]})})})}function zG({user:t,couples:e,votesAll:n}){Wo();const[r,i]=y.useState(!0),[s,o]=y.useState([]);y.useEffect(()=>{(async()=>{if(!t){o([]),i(!1);return}const l=wu(Ir(ht,"votes"),Xv("uid","==",t.uid),oP("updatedAt","desc")),u=await jl(l),d=[];u.forEach(h=>{var C,g;const f=h.data(),m=e.find(E=>E.id===f.couple_id);if(!m)return;let w;f.people_voted_id==="tie"?w="tie":w=f.people_voted_id===m.personA.id?"A":"B";const _=(g=(C=f.updatedAt)==null?void 0:C.toDate)==null?void 0:g.call(C);d.push({id:h.id,couple:m,choice:w,updatedAt:_})}),o(d),i(!1)})()},[t,e]);const a=async l=>{if(confirm("Supprimer ce vote ?"))try{await Ba(Yn(ht,"votes",l)),o(u=>u.filter(d=>d.id!==l))}catch(u){console.error("Erreur suppression vote:",u),alert("Erreur lors de la suppression du vote.")}};return t?S.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-4 text-foreground",children:[S.jsx("h2",{className:"text-lg font-semibold mb-4 text-primary",children:"Mon historique"}),r&&S.jsx(of,{}),!r&&s.length===0&&S.jsx("div",{className:"text-muted-foreground text-sm",children:"Tu n’as encore voté pour aucun couple 😢"}),S.jsx(rh,{children:!r&&s.map(l=>S.jsx(Qn.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:S.jsxs(vS,{className:"relative p-3 flex flex-col gap-2",children:[S.jsx("div",{className:"",children:S.jsx(BG,{icon:mP,label:"Supprimer ce vote",color:"default",onClick:()=>a(l.id)})}),S.jsx(gf,{couple:l.couple,user:t,myChoice:l.choice,onlyMyVotes:!0,compact:!0})]})},l.id))})]}):S.jsx("main",{className:"max-w-5xl mx-auto px-4 py-10",children:S.jsxs(vS,{className:"p-6 text-center bg-card text-card-foreground",children:[S.jsx("h2",{className:"text-lg font-semibold mb-2 text-primary",children:"Mes votes"}),S.jsx("p",{className:"text-muted-foreground",children:"Connecte-toi pour voir ton historique de votes."}),S.jsx(Yl,{to:"/",label:"Retour à la liste",className:"mt-8"})]})})}var wS=!1,qi,Hg,Gg,ad,ld,qk,ud,Kg,qg,Qg,Qk,Yg,Xg,Yk,Xk;function Yt(){if(!wS){wS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Yg=/\b(iPhone|iP[ao]d)/.exec(t),Xg=/\b(iP[ao]d)/.exec(t),Qg=/Android/i.exec(t),Yk=/FBAN\/\w+;/i.exec(t),Xk=/Mobile/i.exec(t),Qk=!!/Win64/.exec(t),e){qi=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,qi&&document&&document.documentMode&&(qi=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);qk=r?parseFloat(r[1])+4:qi,Hg=e[2]?parseFloat(e[2]):NaN,Gg=e[3]?parseFloat(e[3]):NaN,ad=e[4]?parseFloat(e[4]):NaN,ad?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),ld=e&&e[1]?parseFloat(e[1]):NaN):ld=NaN}else qi=Hg=Gg=ld=ad=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);ud=i?parseFloat(i[1].replace("_",".")):!0}else ud=!1;Kg=!!n[2],qg=!!n[3]}else ud=Kg=qg=!1}}var Jg={ie:function(){return Yt()||qi},ieCompatibilityMode:function(){return Yt()||qk>qi},ie64:function(){return Jg.ie()&&Qk},firefox:function(){return Yt()||Hg},opera:function(){return Yt()||Gg},webkit:function(){return Yt()||ad},safari:function(){return Jg.webkit()},chrome:function(){return Yt()||ld},windows:function(){return Yt()||Kg},osx:function(){return Yt()||ud},linux:function(){return Yt()||qg},iphone:function(){return Yt()||Yg},mobile:function(){return Yt()||Yg||Xg||Qg||Xk},nativeApp:function(){return Yt()||Yk},android:function(){return Yt()||Qg},ipad:function(){return Yt()||Xg}},$G=Jg,WG=!!(typeof window<"u"&&window.document&&window.document.createElement),HG={canUseDOM:WG},GG=HG,Jk=GG,Zk;Jk.canUseDOM&&(Zk=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function KG(t,e){if(!Jk.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&Zk&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var qG=KG,QG=$G,YG=qG,_S=10,ES=40,xS=800;function eN(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*_S,i=n*_S,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=ES,i*=ES):(r*=xS,i*=xS)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}eN.getEventType=function(){return QG.firefox()?"DOMMouseScroll":YG("wheel")?"wheel":"mousewheel"};var XG=eN,JG=XG;const ZG=Zg(JG);function eK(t,e,n,r,i,s){s===void 0&&(s=0);var o=Lo(t,e,s),a=o.width,l=o.height,u=Math.min(a,n),d=Math.min(l,r);return u>d*i?{width:d*i,height:d}:{width:u,height:u/i}}function tK(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Ma(t,e,n,r,i){i===void 0&&(i=0);var s=Lo(e.width,e.height,i),o=s.width,a=s.height;return{x:TS(t.x,o,n.width,r),y:TS(t.y,a,n.height,r)}}function TS(t,e,n,r){var i=e*r/2-n/2;return yf(t,-i,i)}function SS(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function CS(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function nK(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?rK:iK,l=Lo(e.width,e.height,s),u=Lo(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(u.width,d.width*u.width/100)),f=Math.round(a(u.height,d.height*u.height/100)),m=u.width>=u.height*r,w=m?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},_=Me(Me({},w),{x:Math.round(a(u.width-w.width,d.x*u.width/100)),y:Math.round(a(u.height-w.height,d.y*u.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:_}}function rK(t,e){return Math.min(t,Math.max(0,e))}function iK(t,e){return e}function sK(t,e,n,r,i,s){var o=Lo(e.width,e.height,n),a=yf(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function oK(t,e,n){var r=tK(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function aK(t,e,n,r,i,s){n===void 0&&(n=0);var o=Lo(e.naturalWidth,e.naturalHeight,n),a=yf(oK(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,u={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:u,zoom:a}}function IS(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function lK(t){return t*Math.PI/180}function Lo(t,e,n){var r=lK(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function yf(t,e,n){return Math.min(Math.max(t,e),n)}function bc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var uK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,cK=1,dK=3,hK=1,fK=function(t){aL(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=y.createRef(),n.imageRef=y.createRef(),n.videoRef=y.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.previousCropSize=r,n.emitCropData(),n.setInitialCrop(r),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=sK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=aK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,u=n.imageRef.current||n.videoRef.current;if(u&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,m=u.offsetWidth<h||u.offsetHeight<f,w=h/f,_=void 0;if(m)switch(n.state.mediaObjectFit){default:case"contain":_=d>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":_={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":_={width:n.containerRect.height*w,height:n.containerRect.height};break}else _={width:u.offsetWidth,height:u.offsetHeight};n.mediaSize=Me(Me({},_),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var C=n.props.cropSize?n.props.cropSize:eK(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==C.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==C.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(C),n.setState({cropSize:C},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(C),C}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=Me({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},u=n.props.restrictPosition?Ma(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(u)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=ZG(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var u=yf(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*u-d.x,y:h.y*u-d.y},m=n.props.restrictPosition?Ma(f,n.mediaSize,n.state.cropSize,u,n.props.rotation):f;n.props.onCropChange(m)}n.props.onZoomChange(u)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Ma(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return nK(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.crop;if(n.isInitialized&&n.previousCropSize){var i=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(i){var s=n.state.cropSize.width/n.previousCropSize.width,o=n.state.cropSize.height/n.previousCropSize.height;r={x:n.props.crop.x*s,y:n.props.crop.y*o}}}var a=n.props.restrictPosition?Ma(r,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):r;n.previousCropSize=n.state.cropSize,n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,u=o.keyboardStep,d=o.zoom,h=o.rotation,f=u;if(n.state.cropSize){r.shiftKey&&(f*=.2);var m=Me({},a);switch(r.key){case"ArrowUp":m.y-=f,r.preventDefault();break;case"ArrowDown":m.y+=f,r.preventDefault();break;case"ArrowLeft":m.x-=f,r.preventDefault();break;case"ArrowRight":m.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(m=Ma(m,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(m)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=uK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,u,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=n.crop)===null||u===void 0?void 0:u.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/u;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=SS(r,i),this.lastPinchRotation=CS(r,i),this.onDragStart(IS(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=IS(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=SS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var u=CS(i,s),d=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=u})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,u=i.transform,d=i.crop,h=d.x,f=d.y,m=i.rotation,w=i.zoom,_=i.cropShape,C=i.showGrid,g=i.roundCropAreaPixels,E=i.style,x=E.containerStyle,P=E.cropAreaStyle,N=E.mediaStyle,L=i.classes,I=L.containerClassName,T=L.cropAreaClassName,A=L.mediaClassName,b=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return y.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(O){return n.containerRef=O},"data-testid":"container",style:x,className:bc("reactEasyCrop_Container",I)},s?y.createElement("img",Me({alt:"",className:bc("reactEasyCrop_Image",b==="contain"&&"reactEasyCrop_Contain",b==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",b==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{src:s,ref:this.imageRef,style:Me(Me({},N),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):o&&y.createElement("video",Me({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:bc("reactEasyCrop_Video",b==="contain"&&"reactEasyCrop_Contain",b==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",b==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",A)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Me(Me({},N),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(M){return y.createElement("source",Me({key:M.src},M))})),this.state.cropSize&&y.createElement("div",Me({ref:this.cropperRef,style:Me(Me({},P),{width:g?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:g?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:bc("reactEasyCrop_CropArea",_==="round"&&"reactEasyCrop_CropAreaRound",C&&"reactEasyCrop_CropAreaGrid",T)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:dK,minZoom:cK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:hK},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(y.Component);function pK({imageSrc:t,onCancel:e,onCrop:n}){const[r,i]=y.useState({x:0,y:0}),[s,o]=y.useState(1),[a,l]=y.useState(null),[u,d]=y.useState(!1),[h,f]=y.useState(null),m=y.useCallback((g,E)=>{l(E)},[]),w=async g=>{if(g.startsWith("data:")||g.startsWith("blob:"))return _(g);const E=`https://corsproxy.io/?${encodeURIComponent(g)}`,x=await fetch(E);if(!x.ok)throw new Error(`Erreur proxy: ${x.status}`);const P=await x.blob(),N=URL.createObjectURL(P);return _(N)},_=g=>new Promise((E,x)=>{const P=new Image;P.onload=()=>E(P),P.onerror=N=>x(N),P.src=g}),C=async()=>{if(!a){f("Zone de recadrage non définie");return}d(!0),f(null);try{const g=await w(t),E=document.createElement("canvas"),x=E.getContext("2d");if(!x)throw new Error("Impossible d'obtenir le contexte du canvas");const{width:P,height:N,x:L,y:I}=a;E.width=P,E.height=N,x.drawImage(g,L,I,P,N,0,0,P,N),E.toBlob(T=>{d(!1),T?n(T):f("Échec de la conversion en image.")},"image/jpeg",.9)}catch(g){console.error("Erreur lors du recadrage :",g),f(g.message||"Erreur inconnue lors du recadrage."),d(!1)}};return S.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-card text-card-foreground border border-border rounded-2xl p-6 w-80 sm:w-96 flex flex-col items-center shadow-lg animate-fadeIn",children:[S.jsx("div",{className:"relative w-64 h-64 bg-muted rounded-full overflow-hidden border border-border",children:S.jsx(fK,{image:t,crop:r,zoom:s,aspect:1,cropShape:"round",showGrid:!1,onCropChange:i,onZoomChange:o,onCropComplete:m})}),S.jsx("input",{type:"range",min:1,max:3,step:.01,value:s,onChange:g=>o(Number(g.target.value)),className:"w-full mt-5 accent-[hsl(var(--primary))] cursor-pointer"}),S.jsxs("div",{className:"flex gap-3 mt-5",children:[S.jsx(Oo,{onClick:e,variant:"outline",size:"sm",disabled:u,className:"rounded-full",children:"Annuler"}),S.jsx(Oo,{onClick:C,variant:"primary",size:"sm",disabled:u,className:`rounded-full ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Recadrage...":"Valider 💘"})]}),h&&S.jsx("p",{className:"text-destructive text-xs mt-3 text-center",children:h})]})})}function mK({label:t,imageUrl:e,file:n,onFileChange:r,onUrlChange:i}){const[s,o]=y.useState(!1),[a,l]=y.useState(null),u=w=>{const _=new FileReader;_.onload=C=>{var g;return l((g=C.target)==null?void 0:g.result)},_.readAsDataURL(w)},d=w=>{var C;const _=(C=w.target.files)==null?void 0:C[0];_&&u(_)},h=w=>{var C;w.preventDefault(),o(!1);const _=(C=w.dataTransfer.files)==null?void 0:C[0];_&&u(_)},f=w=>{const _=new File([w],"cropped.jpg",{type:"image/jpeg"});r(_),l(null)},m=async()=>{e&&l(e)};return S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{onDrop:h,onDragOver:w=>{w.preventDefault(),o(!0)},onDragLeave:()=>o(!1),className:`relative w-32 h-32 rounded-full border-2 border-dashed flex items-center justify-center cursor-pointer transition-all duration-200 ${s?"border-primary bg-primary/10":"border-border bg-muted hover:bg-muted/80"}`,children:[n||e?S.jsx("img",{src:n?URL.createObjectURL(n):e,alt:"Aperçu",className:"object-cover w-full h-full rounded-full border border-border shadow-sm"}):S.jsx(SB,{className:"text-muted-foreground w-10 h-10"}),S.jsx("label",{htmlFor:`${t}-file`,className:"absolute bottom-1 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs font-medium px-2 py-1 rounded-full cursor-pointer shadow hover:opacity-90 transition",children:n||e?"Changer":"Choisir"}),S.jsx("input",{id:`${t}-file`,type:"file",accept:"image/*",onChange:d,className:"hidden"})]}),S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("input",{type:"text",placeholder:"Ou coller une URL d’image",value:e,onChange:w=>i(w.target.value),className:"flex-1 bg-background border border-border rounded-full px-3 py-2 text-sm text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:ring-offset-2 transition"}),S.jsx(Oo,{type:"button",onClick:m,disabled:!e,variant:e?"primary":"outline",size:"sm",className:`rounded-full px-4 py-1.5 text-sm font-medium ${e?"":"opacity-60 cursor-not-allowed"}`,children:"Recadrer"})]}),a&&S.jsx(pK,{imageSrc:a,onCancel:()=>l(null),onCrop:f})]})}async function AS(t){const e="2857d634922be62f9aec8e82cb24cf90",n=new FormData;n.append("key",e),n.append("image",t);const i=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:n})).json();if(i.success)return i.data.url;throw new Error("Upload à ImgBB échoué : "+JSON.stringify(i))}function gK(t,e,n){const[r,i]=y.useState({display_name:"",image_url:"",file:null}),[s,o]=y.useState({display_name:"",image_url:"",file:null}),[a,l]=y.useState(!1),[u,d]=y.useState({}),[h,f]=y.useState(null),[m,w]=y.useState(!1);async function _(x){if(!x.trim())return!1;const P=wu(Ir(ht,"people"),Xv("display_name","==",x.trim()));return!(await jl(P)).empty}const C=async x=>{const P=x==="A"?r:s;if(!P.display_name.trim())return;const N=await _(P.display_name);d(L=>({...L,[x]:N?`Le nom "${P.display_name}" existe déjà dans un autre couple.`:""}))},g=async x=>{if(x.preventDefault(),!r.display_name||!s.display_name){f("Les deux noms sont obligatoires.");return}if(!a){f("Vous devez certifier avoir obtenu le consentement des deux personnes.");return}if(!r.file&&!r.image_url||!s.file&&!s.image_url){f("Chaque personne doit avoir au moins une image ou une URL d’image.");return}if(u.A||u.B){f("Un des noms existe déjà. Modifiez-le avant de continuer.");return}f(null),w(!0);try{let P=r.image_url,N=s.image_url;r.file&&(P=await AS(r.file)),s.file&&(N=await AS(s.file));const L=Ir(ht,"people"),I=await xx(L,{display_name:r.display_name,image_url:P??""}),T=await xx(L,{display_name:s.display_name,image_url:N??""}),A=Yn(Ir(ht,"couples"));await wp(A,{id:A.id,people_a_id:I.id,people_b_id:T.id,count_a:0,count_b:0,createdBy:t.uid,createdAt:hP(),consentCertified:!0,category:n}),await Promise.all([wp(I,{couple_id:A.id},{merge:!0}),wp(T,{couple_id:A.id},{merge:!0})]),e("/")}catch(P){console.error(P),f("Erreur lors de l’enregistrement : "+P.message)}finally{w(!1)}},E=!m&&a&&r.display_name.trim()!==""&&s.display_name.trim()!==""&&(r.file||r.image_url.trim()!=="")&&(s.file||s.image_url.trim()!=="")&&!u.A&&!u.B;return{personA:r,personB:s,setPersonA:i,setPersonB:o,consentChecked:a,setConsentChecked:l,nameErrors:u,error:h,loading:m,canSubmit:E,handleBlur:C,handleSubmit:g}}function yK({user:t}){const e=Wo(),[n,r]=y.useState("people"),{personA:i,personB:s,setPersonA:o,setPersonB:a,consentChecked:l,setConsentChecked:u,nameErrors:d,error:h,loading:f,canSubmit:m,handleBlur:w,handleSubmit:_}=gK(t,e,n);return t?S.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10",children:[S.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Ajouter un nouveau couple"}),S.jsxs("form",{onSubmit:_,className:"space-y-6",children:[S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{label:"Personne A",data:i,set:o,err:d.A,key:"A"},{label:"Personne B",data:s,set:a,err:d.B,key:"B"}].map(({label:C,data:g,set:E,err:x,key:P})=>S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium mb-2",children:C}),S.jsx("input",{type:"text",placeholder:"Nom",value:g.display_name,onChange:N=>E({...g,display_name:N.target.value}),onBlur:()=>w(P),className:`w-full border rounded p-2 mb-4 ${x?"border-red-500 bg-red-50":"border-gray-300"}`}),x&&S.jsx("div",{className:"text-xs text-red-600 mb-2",children:x}),S.jsx(mK,{label:C,imageUrl:g.image_url,file:g.file,onFileChange:N=>E({...g,file:N}),onUrlChange:N=>E({...g,image_url:N})})]},C))}),S.jsxs("div",{className:"flex items-start gap-2 border-t pt-4 mt-6",children:[S.jsx("input",{id:"consent",type:"checkbox",checked:l,onChange:C=>u(C.target.checked),className:"mt-1"}),S.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:["Je certifie avoir obtenu le ",S.jsx("strong",{children:"consentement explicite"})," des deux personnes représentées (textes et images) pour la publication sur Surchope. J’assume l’entière responsabilité en cas de contenu non autorisé."]})]}),h&&S.jsx("div",{className:"text-red-600 text-sm",children:h}),S.jsx("button",{type:"submit",disabled:!m,className:`px-4 py-2 rounded text-white ${m?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:f?"Enregistrement...":"Créer le couple"})]})]}):S.jsx("main",{className:"max-w-3xl mx-auto px-4 py-10",children:S.jsxs("div",{className:"p-6 border rounded-2xl bg-white",children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Ajouter un couple"}),S.jsx("p",{className:"text-gray-600",children:"Connecte-toi pour pouvoir ajouter un couple."}),S.jsx(Yl,{to:"/",label:"Retour à la liste",className:"mt-8"})]})})}function vK(){return S.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-10 text-sm leading-relaxed text-gray-700",children:[S.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Politique de confidentialité"}),S.jsxs("p",{className:"mb-4",children:["Le site ",S.jsx("strong",{children:"Surchope"})," est un projet communautaire et ludique, sans but commercial, permettant aux utilisateurs de voter anonymement sur des couples fictifs ou réels."]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"1. Données collectées"}),S.jsx("p",{children:"Le site collecte uniquement les données strictement nécessaires à son fonctionnement :"}),S.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[S.jsx("li",{children:"Adresse e-mail et photo de profil via Google (connexion Firebase Auth)"}),S.jsx("li",{children:"Identifiants anonymes de vote (UID, couple_id, choix A/B)"}),S.jsx("li",{children:"Éventuellement des images fournies par les utilisateurs (hébergées sur ImgBB)"})]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"2. Finalité du traitement"}),S.jsx("p",{children:"Ces données sont utilisées uniquement pour permettre l’affichage des couples, la gestion des votes, et la modération des contenus. Aucune donnée n’est vendue, partagée ou exploitée à des fins commerciales."}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"3. Base légale"}),S.jsxs("p",{children:["Le traitement repose sur le ",S.jsx("strong",{children:"consentement explicite"})," des utilisateurs, notamment lors de la création d’un couple et du téléchargement d’images."]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"4. Durée de conservation"}),S.jsx("p",{children:"Les données sont conservées tant que le compte utilisateur existe ou que le couple reste publié. Les utilisateurs peuvent demander la suppression de leurs données à tout moment."}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"5. Droit d’accès et de suppression"}),S.jsx("p",{children:"Conformément au Règlement Général sur la Protection des Données (RGPD), vous pouvez demander :"}),S.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[S.jsx("li",{children:"l’accès à vos données,"}),S.jsx("li",{children:"leur rectification ou leur suppression,"}),S.jsx("li",{children:"la suppression de vos votes ou de vos couples ajoutés."})]}),S.jsxs("p",{children:["Pour exercer ces droits, vous pouvez contacter l’administrateur du site à l’adresse :",S.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"6. Hébergement et sous-traitants"}),S.jsx("p",{children:"Les données sont hébergées par :"}),S.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Firebase (Google Cloud)"})," – authentification, base de données et stockage"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"ImgBB"})," – hébergement des images uploadées"]})]}),S.jsx("p",{children:"Ces services peuvent transférer des données hors de l’Union européenne, conformément aux clauses contractuelles types de la Commission européenne."}),S.jsx("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"7. Contact"}),S.jsxs("p",{children:["Pour toute question ou réclamation concernant vos données, contactez :",S.jsx("a",{href:"mailto:contact@surchope.fr",className:"text-blue-600 underline ml-1",children:"contact@surchope.fr"})]}),S.jsxs("p",{className:"mt-6 text-xs text-gray-500",children:["Dernière mise à jour : ",new Date().toLocaleDateString("fr-FR")]})]})}function wK(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),i=new Map;return y.useEffect(()=>{let o=null;(async()=>{const u=await jl(Ir(ht,"couples"));await a(u),o=cP(Ir(ht,"couples"),a)})();async function a(u){const d=[];for(const h of u.docs){const f=h.data(),m=await l(f.people_a_id),w=await l(f.people_b_id);!m||!w||d.push({id:h.id,personA:m,personB:w,countA:f.count_a??0,countB:f.count_b??0,countTie:f.count_tie??0,category:f.category??"friends"})}e(d),r(!1)}async function l(u){if(i.has(u))return i.get(u);const d=await dg(Yn(ht,"people",u));if(!d.exists())return null;const h={id:d.id,...d.data()};return i.set(u,h),h}return()=>o&&o()},[]),{couples:t,loading:n,setCouples:e,deleteCouple:async(o,a)=>{if(a!=="EuindCjjeTYx5ABLPCRWdflHy2c2"){alert("Tu n’as pas les droits pour supprimer ce couple.");return}try{const l=Yn(ht,"couples",o),u=await dg(l);if(!u.exists()){alert("Couple introuvable.");return}const d=u.data(),f=(await jl(wu(Ir(ht,"votes"),Xv("couple_id","==",o)))).docs.map(_=>Ba(_.ref)),m=Yn(ht,"people",d.people_a_id),w=Yn(ht,"people",d.people_b_id);await Promise.all([...f,Ba(m),Ba(w),Ba(l)]),e(_=>_.filter(C=>C.id!==o)),alert("✅ Couple supprimé avec succès.")}catch(l){console.error("Erreur pendant la suppression du couple :",l),alert("❌ Erreur lors de la suppression du couple.")}}}}function _K(t,e){const[n,r]=y.useState([]),[i,s]=y.useState({});return y.useEffect(()=>{const a=wu(Ir(ht,"votes")),l=cP(a,u=>{const d=u.docs.map(h=>{var w,_;const f=h.data(),m=(_=(w=f.updatedAt)==null?void 0:w.toDate)==null?void 0:_.call(w);return{id:h.id,...f,updatedAt:m}});r(d)});return()=>l()},[]),y.useEffect(()=>{if(!t)return s({});const a={};for(const l of n){if(l.uid!==t.uid)continue;const u=e.find(d=>d.id===l.couple_id);u&&(l.people_voted_id==="tie"?a[l.couple_id]="tie":a[l.couple_id]=l.people_voted_id===u.personA.id?"A":"B")}s(a)},[t,n,e]),{votesAll:n,myVotes:i,handleVote:async(a,l)=>{if(!t)return;const u=`${a.id}_${t.uid}`,d=Yn(ht,"votes",u),h=Yn(ht,"couples",a.id),f=l==="A"?a.personA.id:l==="B"?a.personB.id:"tie";await hB(ht,async m=>{const[w,_]=await Promise.all([m.get(d),m.get(h)]);if(!_.exists())throw new Error("Couple not found");const C=_.data();let{count_a:g=0,count_b:E=0,count_tie:x=0}=C;if(!w.exists())l==="A"?g++:l==="B"?E++:x++;else{const P=w.data(),N=P.people_voted_id===a.personA.id?"A":P.people_voted_id===a.personB.id?"B":"tie";if(N===l)return;N==="A"?g--:N==="B"?E--:x--,l==="A"?g++:l==="B"?E++:x++}m.set(h,{count_a:g,count_b:E,count_tie:x},{merge:!0}),m.set(d,{couple_id:a.id,uid:t.uid,people_voted_id:f,updatedAt:hP()},{merge:!0})}),s(m=>({...m,[a.id]:l}))}}}function EK({couples:t,user:e,onVote:n}){const{id:r}=P2(),i=t.find(l=>l.id===r),[s,o]=y.useState(void 0);if(y.useEffect(()=>{i&&o(void 0)},[i]),!i)return S.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-muted-foreground",children:[S.jsx(of,{}),S.jsx("p",{children:"Chargement du couple... 😢"})]});const a=(l,u)=>{o(u),n(l,u)};return S.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 text-foreground",children:[S.jsxs("h1",{className:"text-2xl font-semibold text-center text-primary mb-4",children:["💘 ",i.personA.display_name," & ",i.personB.display_name]}),S.jsx(gf,{couple:i,user:e,onVote:a,compact:!1,onlyMyVotes:!1,myChoice:s}),S.jsx(Yl,{to:"/",label:"Retour à la liste",className:"mt-8"})]})}var bu={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var V=new OffscreenCanvas(1,1),D=V.getContext("2d");D.fillRect(0,0,1,1);var W=V.transferToImageBitmap();try{D.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function u(V){var D=n.exports.Promise,W=D!==void 0?D:e.Promise;return typeof W=="function"?new W(V):(V(l,l),null)}var d=function(V,D){return{transform:function(W){if(V)return W;if(D.has(W))return D.get(W);var G=new OffscreenCanvas(W.width,W.height),Y=G.getContext("2d");return Y.drawImage(W,0,0),D.set(W,G),G},clear:function(){D.clear()}}}(a,new Map),h=function(){var V=Math.floor(16.666666666666668),D,W,G={},Y=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(ne){var re=Math.random();return G[re]=requestAnimationFrame(function K(ce){Y===ce||Y+V-1<ce?(Y=ce,delete G[re],ne()):G[re]=requestAnimationFrame(K)}),re},W=function(ne){G[ne]&&cancelAnimationFrame(G[ne])}):(D=function(ne){return setTimeout(ne,V)},W=function(ne){return clearTimeout(ne)}),{frame:D,cancel:W}}(),f=function(){var V,D,W={};function G(Y){function ne(re,K){Y.postMessage({options:re||{},callback:K})}Y.init=function(K){var ce=K.transferControlToOffscreen();Y.postMessage({canvas:ce},[ce])},Y.fire=function(K,ce,de){if(D)return ne(K,null),D;var ye=Math.random().toString(36).slice(2);return D=u(function(ve){function xe(be){be.data.callback===ye&&(delete W[ye],Y.removeEventListener("message",xe),D=null,d.clear(),de(),ve())}Y.addEventListener("message",xe),ne(K,ye),W[ye]=xe.bind(null,{data:{callback:ye}})}),D},Y.reset=function(){Y.postMessage({reset:!0});for(var K in W)W[K](),delete W[K]}}return function(){if(V)return V;if(!r&&s){var Y=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{V=new Worker(URL.createObjectURL(new Blob([Y])))}catch(ne){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ne),null}G(V)}return V}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(V,D){return D?D(V):V}function _(V){return V!=null}function C(V,D,W){return w(V&&_(V[D])?V[D]:m[D],W)}function g(V){return V<0?0:Math.floor(V)}function E(V,D){return Math.floor(Math.random()*(D-V))+V}function x(V){return parseInt(V,16)}function P(V){return V.map(N)}function N(V){var D=String(V).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:x(D.substring(0,2)),g:x(D.substring(2,4)),b:x(D.substring(4,6))}}function L(V){var D=C(V,"origin",Object);return D.x=C(D,"x",Number),D.y=C(D,"y",Number),D}function I(V){V.width=document.documentElement.clientWidth,V.height=document.documentElement.clientHeight}function T(V){var D=V.getBoundingClientRect();V.width=D.width,V.height=D.height}function A(V){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=V,D}function b(V,D,W,G,Y,ne,re,K,ce){V.save(),V.translate(D,W),V.rotate(ne),V.scale(G,Y),V.arc(0,0,1,re,K,ce),V.restore()}function M(V){var D=V.angle*(Math.PI/180),W=V.spread*(Math.PI/180);return{x:V.x,y:V.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:V.startVelocity*.5+Math.random()*V.startVelocity,angle2D:-D+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:V.color,shape:V.shape,tick:0,totalTicks:V.ticks,decay:V.decay,drift:V.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:V.gravity*3,ovalScalar:.6,scalar:V.scalar,flat:V.flat}}function O(V,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var W=D.tick++/D.totalTicks,G=D.x+D.random*D.tiltCos,Y=D.y+D.random*D.tiltSin,ne=D.wobbleX+D.random*D.tiltCos,re=D.wobbleY+D.random*D.tiltSin;if(V.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-W)+")",V.beginPath(),o&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))V.fill(te(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(ne-G)*.1,Math.abs(re-Y)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var K=Math.PI/10*D.wobble,ce=Math.abs(ne-G)*.1,de=Math.abs(re-Y)*.1,ye=D.shape.bitmap.width*D.scalar,ve=D.shape.bitmap.height*D.scalar,xe=new DOMMatrix([Math.cos(K)*ce,Math.sin(K)*ce,-Math.sin(K)*de,Math.cos(K)*de,D.x,D.y]);xe.multiplySelf(new DOMMatrix(D.shape.matrix));var be=V.createPattern(d.transform(D.shape.bitmap),"no-repeat");be.setTransform(xe),V.globalAlpha=1-W,V.fillStyle=be,V.fillRect(D.x-ye/2,D.y-ve/2,ye,ve),V.globalAlpha=1}else if(D.shape==="circle")V.ellipse?V.ellipse(D.x,D.y,Math.abs(ne-G)*D.ovalScalar,Math.abs(re-Y)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):b(V,D.x,D.y,Math.abs(ne-G)*D.ovalScalar,Math.abs(re-Y)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var pe=Math.PI/2*3,Je=4*D.scalar,Ct=8*D.scalar,Ft=D.x,sn=D.y,jt=5,Qt=Math.PI/jt;jt--;)Ft=D.x+Math.cos(pe)*Ct,sn=D.y+Math.sin(pe)*Ct,V.lineTo(Ft,sn),pe+=Qt,Ft=D.x+Math.cos(pe)*Je,sn=D.y+Math.sin(pe)*Je,V.lineTo(Ft,sn),pe+=Qt;else V.moveTo(Math.floor(D.x),Math.floor(D.y)),V.lineTo(Math.floor(D.wobbleX),Math.floor(Y)),V.lineTo(Math.floor(ne),Math.floor(re)),V.lineTo(Math.floor(G),Math.floor(D.wobbleY));return V.closePath(),V.fill(),D.tick<D.totalTicks}function k(V,D,W,G,Y){var ne=D.slice(),re=V.getContext("2d"),K,ce,de=u(function(ye){function ve(){K=ce=null,re.clearRect(0,0,G.width,G.height),d.clear(),Y(),ye()}function xe(){r&&!(G.width===i.width&&G.height===i.height)&&(G.width=V.width=i.width,G.height=V.height=i.height),!G.width&&!G.height&&(W(V),G.width=V.width,G.height=V.height),re.clearRect(0,0,G.width,G.height),ne=ne.filter(function(be){return O(re,be)}),ne.length?K=h.frame(xe):ve()}K=h.frame(xe),ce=ve});return{addFettis:function(ye){return ne=ne.concat(ye),de},canvas:V,promise:de,reset:function(){K&&h.cancel(K),ce&&ce()}}}function oe(V,D){var W=!V,G=!!C(D||{},"resize"),Y=!1,ne=C(D,"disableForReducedMotion",Boolean),re=s&&!!C(D||{},"useWorker"),K=re?f():null,ce=W?I:T,de=V&&K?!!V.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function xe(pe,Je,Ct){for(var Ft=C(pe,"particleCount",g),sn=C(pe,"angle",Number),jt=C(pe,"spread",Number),Qt=C(pe,"startVelocity",Number),ku=C(pe,"decay",Number),vf=C(pe,"gravity",Number),ia=C(pe,"drift",Number),Is=C(pe,"colors",P),Nu=C(pe,"ticks",Number),it=C(pe,"shapes"),mt=C(pe,"scalar"),As=!!C(pe,"flat"),sa=L(pe),oa=Ft,aa=[],Li=V.width*sa.x,Mu=V.height*sa.y;oa--;)aa.push(M({x:Li,y:Mu,angle:sn,spread:jt,startVelocity:Qt,color:Is[oa%Is.length],shape:it[E(0,it.length)],ticks:Nu,decay:ku,gravity:vf,drift:ia,scalar:mt,flat:As}));return ve?ve.addFettis(aa):(ve=k(V,aa,ce,Je,Ct),ve.promise)}function be(pe){var Je=ne||C(pe,"disableForReducedMotion",Boolean),Ct=C(pe,"zIndex",Number);if(Je&&ye)return u(function(Qt){Qt()});W&&ve?V=ve.canvas:W&&!V&&(V=A(Ct),document.body.appendChild(V)),G&&!de&&ce(V);var Ft={width:V.width,height:V.height};K&&!de&&K.init(V),de=!0,K&&(V.__confetti_initialized=!0);function sn(){if(K){var Qt={getBoundingClientRect:function(){if(!W)return V.getBoundingClientRect()}};ce(Qt),K.postMessage({resize:{width:Qt.width,height:Qt.height}});return}Ft.width=Ft.height=null}function jt(){ve=null,G&&(Y=!1,e.removeEventListener("resize",sn)),W&&V&&(document.body.contains(V)&&document.body.removeChild(V),V=null,de=!1)}return G&&!Y&&(Y=!0,e.addEventListener("resize",sn,!1)),K?K.fire(pe,Ft,jt):xe(pe,Ft,jt)}return be.reset=function(){K&&K.reset(),ve&&ve.reset()},be}var me;function ae(){return me||(me=oe(null,{useWorker:!0,resize:!0})),me}function te(V,D,W,G,Y,ne,re){var K=new Path2D(V),ce=new Path2D;ce.addPath(K,new DOMMatrix(D));var de=new Path2D;return de.addPath(ce,new DOMMatrix([Math.cos(re)*Y,Math.sin(re)*Y,-Math.sin(re)*ne,Math.cos(re)*ne,W,G])),de}function F(V){if(!o)throw new Error("path confetti are not supported in this browser");var D,W;typeof V=="string"?D=V:(D=V.path,W=V.matrix);var G=new Path2D(D),Y=document.createElement("canvas"),ne=Y.getContext("2d");if(!W){for(var re=1e3,K=re,ce=re,de=0,ye=0,ve,xe,be=0;be<re;be+=2)for(var pe=0;pe<re;pe+=2)ne.isPointInPath(G,be,pe,"nonzero")&&(K=Math.min(K,be),ce=Math.min(ce,pe),de=Math.max(de,be),ye=Math.max(ye,pe));ve=de-K,xe=ye-ce;var Je=10,Ct=Math.min(Je/ve,Je/xe);W=[Ct,0,0,Ct,-Math.round(ve/2+K)*Ct,-Math.round(xe/2+ce)*Ct]}return{type:"path",path:D,matrix:W}}function B(V){var D,W=1,G="#000000",Y='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof V=="string"?D=V:(D=V.text,W="scalar"in V?V.scalar:W,Y="fontFamily"in V?V.fontFamily:Y,G="color"in V?V.color:G);var ne=10*W,re=""+ne+"px "+Y,K=new OffscreenCanvas(ne,ne),ce=K.getContext("2d");ce.font=re;var de=ce.measureText(D),ye=Math.ceil(de.actualBoundingBoxRight+de.actualBoundingBoxLeft),ve=Math.ceil(de.actualBoundingBoxAscent+de.actualBoundingBoxDescent),xe=2,be=de.actualBoundingBoxLeft+xe,pe=de.actualBoundingBoxAscent+xe;ye+=xe+xe,ve+=xe+xe,K=new OffscreenCanvas(ye,ve),ce=K.getContext("2d"),ce.font=re,ce.fillStyle=G,ce.fillText(D,be,pe);var Je=1/W;return{type:"bitmap",bitmap:K.transferToImageBitmap(),matrix:[Je,0,0,Je,-ye*Je/2,-ve*Je/2]}}n.exports=function(){return ae().apply(this,arguments)},n.exports.reset=function(){ae().reset()},n.exports.create=oe,n.exports.shapeFromPath=F,n.exports.shapeFromText=B})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),bu,!1);const xK=bu.exports;bu.exports.create;function TK({couples:t,user:e,myVotes:n,onVote:r}){Wo();const[i]=y.useState(()=>t.filter(g=>!n[g.id])),[s,o]=y.useState(0),[a,l]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(null),m=()=>{s+1<i.length?o(g=>g+1):l(!0),f(null)},w=(g,E)=>{u||(d(!0),r(g,E),f(E==="A"?"left":E==="B"?"right":"down"),setTimeout(()=>{m(),d(!1)},400))};y.useEffect(()=>{(a||i.length===0)&&xK({particleCount:120,spread:70,origin:{y:.6},colors:["#ec4899","#f472b6","#fde68a"]})},[a,i.length]);const _=i[s];if(a||i.length===0)return S.jsxs("main",{className:"max-w-md mx-auto px-4 py-12 flex flex-col items-center justify-center text-center space-y-6",children:[S.jsx("h1",{className:"text-3xl font-extrabold text-primary drop-shadow-sm",children:"🎉 Bravo !"}),S.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Tu as voté pour tous les couples disponibles 💘 ",S.jsx("br",{}),"Reviens bientôt, de nouveaux duos t’attendent !"]}),S.jsx(Yl,{to:"/",label:"Retour à la liste"}),S.jsx(Qn.div,{className:"mt-8 text-4xl",initial:{scale:0},animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0},children:"💞"}),S.jsx(Wg,{})]});const C={left:{opacity:0,x:-200,rotate:-10},right:{opacity:0,x:200,rotate:10},down:{opacity:0,y:100,scale:.9},none:{opacity:0,x:0}};return S.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 flex flex-col items-center justify-center gap-6",children:[S.jsxs("div",{className:"flex justify-between w-full items-center",children:[S.jsx(Yl,{to:"/",label:"Retour à la liste"}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:[s+1,"/",i.length]})]}),S.jsx("h2",{className:"text-xl font-extrabold text-center text-primary mt-2 tracking-wide",children:"💞 Qui surchope ?"}),S.jsx(rh,{mode:"wait",children:S.jsx(Qn.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:C[h??"none"],transition:{duration:.4},className:"w-full",children:_&&S.jsx(gf,{couple:_,user:e,onVote:w,compact:!1,onlyMyVotes:!1})},_==null?void 0:_.id)}),S.jsx(Wg,{})]})}function SK(){const t=[{name:"primary",label:"Primary 💘"},{name:"secondary",label:"Secondary 💙"},{name:"accent",label:"Accent 💫"},{name:"muted",label:"Muted 🌫️"},{name:"card",label:"Card 🪶"}],[e,n]=y.useState("");return S.jsxs("main",{className:"max-w-4xl mx-auto p-8 space-y-10 text-foreground",children:[S.jsxs("header",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-extrabold text-primary drop-shadow-sm mb-2",children:"🎨 Styleguide Surchope"}),S.jsx("p",{className:"text-muted-foreground text-sm",children:"Aperçu de la palette, des composants et des styles de l’application 💘"})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Barre de recherche"}),S.jsx("div",{className:"flex justify-center",children:S.jsx(Kk,{value:e,onChange:n,placeholder:"🔍 Recherche d’exemple...",className:"max-w-sm"})}),S.jsx("p",{className:"text-center text-muted-foreground text-xs mt-2",children:"Tape quelque chose pour tester le comportement du champ ✨"})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Couleurs"}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:t.map(({name:r,label:i})=>S.jsxs("div",{className:`flex flex-col items-center text-center rounded-xl overflow-hidden border border-border bg-${r} text-${r}-foreground shadow-sm`,children:[S.jsx("div",{className:`w-full h-16 bg-${r}`}),S.jsx("div",{className:"p-2 text-xs font-medium text-foreground",children:i}),S.jsx("code",{className:"text-[10px] text-muted-foreground mb-2",children:`bg-${r}`})]},r))})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Boutons"}),S.jsxs("div",{className:"flex flex-wrap gap-4",children:[S.jsx("button",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-full font-medium shadow-sm hover:opacity-90 transition",children:"Surchope 💘"}),S.jsx("button",{className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-full font-medium shadow-sm hover:opacity-90 transition",children:"Partager"}),S.jsx("button",{className:"border border-border text-foreground px-4 py-2 rounded-full hover:bg-muted transition",children:"Neutre"})]})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Tags"}),S.jsxs("div",{className:"flex gap-3 flex-wrap",children:[S.jsx("span",{className:"bg-primary/10 text-primary text-xs font-semibold px-3 py-1 rounded-full",children:"Surchope 💘"}),S.jsx("span",{className:"bg-secondary/10 text-secondary text-xs font-semibold px-3 py-1 rounded-full",children:"Égalité ⚖️"}),S.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-3 py-1 rounded-full",children:"Nouveau 🌱"})]})]}),S.jsxs("section",{children:[S.jsx("h2",{className:"font-semibold mb-3 text-lg text-foreground",children:"Card"}),S.jsxs("div",{className:"bg-card border border-border rounded-2xl shadow-sm p-5 max-w-sm text-card-foreground",children:[S.jsx("h3",{className:"font-semibold mb-2 text-foreground",children:"Exemple de carte 💌"}),S.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Les cartes servent à encadrer du contenu (comme les couples ou les informations utilisateur). Elles utilisent une ombre douce et des arrondis cohérents avec le reste de l’UI."}),S.jsx("div",{className:"mt-4 flex justify-end",children:S.jsx("button",{className:"bg-primary hover:opacity-90 text-primary-foreground text-sm px-3 py-1.5 rounded-full shadow-sm transition",children:"Action 💬"})})]})]})]})}function CK(){const[t,e]=y.useState(null),{couples:n,loading:r,deleteCouple:i}=wK(),{votesAll:s,myVotes:o,handleVote:a}=_K(t,n);return y.useEffect(()=>QL(iw,e),[]),S.jsxs("div",{children:[S.jsx(tz,{user:t}),S.jsxs(H2,{children:[S.jsx(fr,{path:"/",element:S.jsx(UG,{user:t,couples:n,myVotes:o,onVote:a,loading:r,deleteCouple:i})}),S.jsx(fr,{path:"/jouer",element:S.jsx(TK,{couples:n,user:t,myVotes:o,onVote:a})}),S.jsx(fr,{path:"/mes-votes",element:S.jsx(zG,{user:t,couples:n,votesAll:s})}),S.jsx(fr,{path:"/ajouter-couple",element:S.jsx(yK,{user:t})}),S.jsx(fr,{path:"/couple/:id",element:S.jsx(EK,{couples:n,user:t,onVote:a})}),S.jsx(fr,{path:"/confidentialite",element:S.jsx(vK,{})}),S.jsx(fr,{path:"/style",element:S.jsx(SK,{})}),S.jsx(fr,{path:"*",element:S.jsx($2,{to:"/",replace:!0})})]}),S.jsxs("footer",{className:"text-center text-xs text-gray-500 py-6",children:["Fait avec amour, aucun jugement 😇 •"," ",S.jsx("a",{href:"/confidentialite",className:"underline hover:text-gray-700",children:"Politique de confidentialité"})]})]})}async function IK(t){if(!("Notification"in window))return;Notification.permission!=="granted"&&await Notification.requestPermission();const e=async()=>{const n=await t();if(!n)return;const{id:r,personA:i,personB:s}=n;JSON.parse(localStorage.getItem("myVotes")||"{}")[r]||new Notification("💘 Voici le couple du jour",{body:`${i.display_name} & ${s.display_name}`,icon:"/pwa-192x192.png",data:{url:`https://surchope.fr/couple/${r}`}})};e(),setInterval(e,24*60*60*1e3)}const AK=document.getElementById("root"),RK=zI(AK);RK.render(S.jsx(pr.StrictMode,{children:S.jsx(pV,{basename:"/",children:S.jsx(CK,{})})}));AV({immediate:!0,onOfflineReady(){console.log("L’application est prête à être utilisée hors ligne.")}});const Kp=new Map;async function RS(t){if(Kp.has(t))return Kp.get(t);const e=await dg(Yn(ht,"people",t));if(!e.exists())return null;const n={id:e.id,...e.data()};return Kp.set(t,n),n}async function PK(){try{const t=wu(Ir(ht,"couples"),oP("createdAt","desc"),aB(1)),e=await jl(t);if(e.empty)return null;const n=e.docs[0],r=n.data(),i=await RS(r.people_a_id),s=await RS(r.people_b_id);return!i||!s?null:{id:n.id,personA:i,personB:s,countA:r.count_a??0,countB:r.count_b??0,countTie:r.count_tie??0,category:r.category??"friends"}}catch(t){return console.error("Erreur lors de la récupération du dernier couple :",t),null}}IK(PK)});export default bK();
